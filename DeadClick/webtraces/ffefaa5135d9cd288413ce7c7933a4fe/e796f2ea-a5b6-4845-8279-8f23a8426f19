(function(k,f,r){var e=r||{},b=e.forceSyntax||0,q=e.dataLayerName||"dataLayer",j={Play:true,Pause:true,"Watch to End":true},t,a;for(t in e.events){if(e.events.hasOwnProperty(t)){j[t]=e.events[t]}}a=l("iframe").concat(l("embed"));if(f.YT&&f.YT.loaded){p(a)}else{f.onYouTubeIframeAPIReady=(function(){var u=f.onYouTubeIframeAPIReady;return function(){if(u){u.apply(this,arguments)}p(a)}})()}if("addEventListener" in k){k.addEventListener("load",n,true)}function l(u){return[].slice.call(k.getElementsByTagName(u))}function p(w){var u;for(u=0;u<w.length;u++){var v=h(w[u]);if(v){g(w[u])}}}function n(w){var v=w.target||w.srcElement||w.path[0],u=h(v);if(v.tagName==="IFRAME"&&u&&c(v.src)&&s(v.src)&&f.YT){g(v)}}function h(v){var u=v.src||"";if(u.indexOf("youtube.com/embed/")>-1||u.indexOf("youtube.com/v/")>-1){return true}return false}function c(u){return u.indexOf("enablejsapi")>-1}function s(u){return u.indexOf("origin")>-1}function g(v){if(!v.id){return}var u=YT.get(v.id);if(!u){return}if(typeof v.pauseFlag==="undefined"){v.pauseFlag=false;u.addEventListener("onStateChange",function(w){i(w,v)})}}function o(v,w,y){var x=v.getCurrentTime(),u;v[y]=v[y]||{};for(u in w){if(w[u]<=x&&!v[y][u]){v[y][u]=true;m(v,y,u)}}}function d(v){var z={};if(e.events["Watch to End"]){z["Watch to End"]=Math.min(v-3,Math.floor(v*0.99))}if(e.percentageTracking){var A=[];var w;if(e.percentageTracking.each){A=A.concat(e.percentageTracking.each)}if(e.percentageTracking.every){var x=parseInt(e.percentageTracking.every,10);var y=100/x;for(w=1;w<y;w++){A.push(w*x)}}for(w=0;w<A.length;w++){var C=A[w];var u=C+"%";var B=v*C/100;z[u]=Math.floor(B)}}return z}function i(C,v){var w=C.data,B=C.target,y=B.getVideoUrl(),A=y.match(/[?&]v=([^&#]*)/)[1],E=B.getPlayerState(),x=Math.floor(B.getDuration()),z=d(x),D={"1":"Play","2":"Pause"},u=D[w];v.playTracker=v.playTracker||{};if(E===1&&!v.timer){clearInterval(v.timer);v.timer=setInterval(function(){o(B,z,v.videoId)},1000)}else{clearInterval(v.timer);v.timer=false}if(w===1){v.playTracker[A]=true;v.videoId=A;v.pauseFlag=false}if(!v.playTracker[v.videoId]){return false}if(w===2){if(!v.pauseFlag){v.pauseFlag=true}else{return false}}if(j[u]){m(B,v.videoId,u)}}function m(v,z,x){var y=v.getVideoUrl(),u=f.GoogleAnalyticsObject,w=v.getVideoData()||{};if(typeof f[q]!=="undefined"&&!e.forceSyntax){f[q].push({event:"youTubeTrack",youtubeVideo:{url:y,action:x,id:z,author:w.hasOwnProperty("author")?w.author:"",title:w.hasOwnProperty("title")?w.title:"",quality:w.hasOwnProperty("video_quality")?w.video_quality:"",totalTime:v.getDuration().toFixed(2),watchedTime:v.getCurrentTime().toFixed(2),watchedPercent:Math.round((v.getCurrentTime()/v.getDuration())*100)}})}else{if(typeof f[u]==="function"&&typeof f[u].getAll==="function"&&e.forceSyntax!==2){f[u]("send","event","Videos",x,y)}else{if(typeof f._gaq!=="undefined"&&b!==1){f._gaq.push(["_trackEvent","Videos",x,y])}}}}})(document,window,{events:{Play:true,Pause:true,"Watch to End":true},percentageTracking:{every:25,each:[10,90]}});