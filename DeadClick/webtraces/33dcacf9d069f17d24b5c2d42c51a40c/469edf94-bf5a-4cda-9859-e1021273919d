!function(){if(window.ggLoader)throw new Error("toolbar already loaded");ggLoader={},ggConfig={data:{account_id:105660,generated_at:1518724890,api_url:"https://gubagoo.io/api",environment:"production",server_url:"https://gubagoo.io",comet_url:"https://node.gubagoo.io",show_in_iframe:!1,toolbar_id:1,toolbar_cdn:"https://cdn.gubagoo.io",toolbar_enabled:1,hidden:"0",default_state:"ui_v3",mobile_state:"",language:"en",toolbar_small:"",mobile_toolbar_small:"",disable_mobile:!1,always_load_jquery:!1,prevent_jquery_load:!1,toolbar_hide_copyright:!1,show_privacy:"default",terms_conditions_hover:!1,toolbar_use_dealer_vdp:!1}},ggFramework=window.ggFramework||{},function(framework,config){!function(){framework.loaded={};var loaded=framework.loaded;window.ggUrl=function(e){return-1==e.indexOf("//")&&(e=ggConfig.get("toolbar_cdn")+e),framework.ie()<11&&"http:"==window.location.protocol&&(e=e.replace("https:","http:")),e},framework.serialize=function(e,t){var o=[];for(var i in e)if(e.hasOwnProperty(i)){var r=t?t+"["+i+"]":i,n=e[i];o.push("object"==typeof n?framework.serialize(n,r):encodeURIComponent(r)+"="+encodeURIComponent(n))}return o.join("&")},framework.sendRequest=function(e,t,o,i){(t=t||{}).data_type=i||"json",t=framework.serialize(t),e=ggUrl(e)+"?"+t;var r=window.XDomainRequest?new XDomainRequest:new XMLHttpRequest;return r.open("GET",e,!0),r.timeout=18e3,r.onerror=function(e){console.log("CORS error",e)},r.onprogress=function(){},r.onload=function(){if(r.readyState||(r.readyState=4,r.status=200),4===r.readyState){if(!(r.status>=200&&r.status<400))throw"Response returned with non-OK status";switch(i){case"text":o(r.responseText);break;default:o("{"!=r.responseText[0]||"}"!=r.responseText[r.responseText.length-1]?{content:r.responseText}:JSON.parse(r.responseText))}}},r.send(),window.XDomainRequest&&framework.pendindRequests.push(r),r},framework.pendindRequests=[],framework.executeJs=function(code){eval(code)},framework.getScript=function(e,t,o,i){if(e=ggUrl(e),o)return framework.loadFromCache(e,function(o,i){i&&framework.executeJs(i),framework.executeJs(o),loaded[e]=!0,t&&t(!1)}),!1;var r=!1,n=document.createElement("script");i&&i.id&&n.setAttribute("id",i.id),n.type="text/javascript",n.onload=n.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,t&&t(n),n.onload=n.onreadystatechange=null)},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)},framework.getCss=function(e,t){if(loaded[e])return!1;if(e=ggUrl(e),t)return framework.loadFromCache(e,function(t){framework.insertRawCss(t),loaded[e]=!0}),!1;var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(o),loaded[e]=!0},framework.loadFromCache=function(e,t){var o=e.split(".").pop(),i=!!config.get("debug"),r=o+"-"+framework.hash(e),n=ggStorage.getCache(r);return n?(t(n),!0):(framework.sendRequest(e,{},function(e){var n=e;e.content&&(n=e.content),"css"==o&&(n=(n=n.split("/v2/media/fonts").join(ggConfig.get("toolbar_cdn")+"/v2/media/fonts")).split("../media/").join(ggConfig.get("toolbar_cdn")+"/v2/media/")),i||ggStorage.setCache(r,n),t(n,e.plugins)},"css"==o?"text":"json"),!1)},framework.insertRawCss=function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e},framework.require=function(e,t,o,i){if(loaded[e])return t&&t(),!1;loaded[e]=!0,framework.getScript(e,t,o,i)},framework.hash=function(e){var t,o,i=0;if(0==e.length)return i;for(t=0,o=e.length;t<o;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return i}}(),window.ggHook=function(){var e=window.location.href.indexOf("gg_hooks_debug")>-1,t=[];return{STOP_CODE:-1,register:function(e,o,i){void 0===t[e]&&(t[e]=[]),i?t[e].unshift(o):t[e].push(o)},fire:function(o,i){if(e&&window.console&&console.log("EVENT FIRED: "+o,i),void 0!==t[o])for(var r=0;r<t[o].length;++r)if(-1===t[o][r](i))return-1;return!0}}}(),ggConfig=window.ggConfig||{data:{}},ggConfig.get=function(e){return void 0!==this.data[e]&&this.data[e]},ggConfig.set=function(e,t){this.data[e]=t},ggConfig.extend=function(e){for(var t in e)this.data[t]=e[t]},ggFramework.cookie_enabled=null,ggFramework.checkCookie=function(){if(null!==ggFramework.cookie_enabled)return ggFramework.cookie_enabled;var e=!!navigator.cookieEnabled;return void 0!==navigator.cookieEnabled||cookieEnabled||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")),ggFramework.cookie_enabled=e,e},ggFramework.setCookie=function(e,t,o){(o=o||{expires:1800,path:"/",domain:window.location.hostname}).domain=o.domain.replace("www.","");var i=o.expires;if("number"==typeof i&&i){var r=new Date;r.setTime(r.getTime()+1e3*i),i=o.expires=r}i&&i.toUTCString&&(o.expires=i.toUTCString());var n=e+"="+(t=encodeURIComponent(t));for(var a in o){n+="; "+a;var s=o[a];!0!==s&&(n+="="+s)}document.cookie=n},ggFramework.getCookie=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},window.ggStorage=new function(){var e=!1,t=this;"undefined"!=typeof Storage&&(e=!0);try{localStorage.setItem("test",1)}catch(t){e=!1}finally{e&&localStorage.removeItem("test")}e&&!ggFramework.checkCookie()&&(e=!1);var o=function(e){return"gg_"+e};this.enabled=e,this.get=function(t){return!!e&&localStorage.getItem(o(t))},this.set=function(t,i){if(!e)return!1;localStorage.setItem(o(t),i)},this.remove=function(t){if(!e)return!1;localStorage.removeItem(o(t))},this.test=function(t){return!!e&&null!==localStorage.getItem(o(t))},this.setJSON=function(e,o,i){t.set(e,JSON.stringify(o)),t.setExpiry(e,i)},this.getJSON=function(e){if(!t.checkExpiry(e))return t.clear(e),!1;var o=t.get(e);if(o)try{o=JSON.parse(o)}catch(e){o=!1}return o},this.clear=function(e){t.remove(e),t.remove(e+":cache_expiry")},this.setExpiry=function(e,o){return t.set(e+":cache_expiry",!!o&&parseInt((new Date).getTime()/1e3)+o)},this.checkExpiry=function(e){var o=parseInt(t.get(e+":cache_expiry"));return!o||o>=parseInt((new Date).getTime()/1e3)},this.cache_fallback={},this.getCache=function(t){if(!e)return ggStorage.cache_fallback[t];var o=ggStorage.get(t+"_time");return!!(o&&ggConfig.get("generated_at")<=parseInt(o))&&ggStorage.get(t)},this.setCache=function(t,o){e||(ggStorage.cache_fallback[t]=o),ggStorage.set(t+"_time",ggConfig.get("generated_at")),ggStorage.set(t,o)}},ggFramework.ie=function(){if(ggFramework.ie_version)return ggFramework.ie_version;var e=/(msie) ([\w.]+)/i.exec(navigator.userAgent)||[],t=e.length>1&&parseInt(e[2]);return!t&&/Trident\/7\./.test(navigator.userAgent)&&(t=11),ggFramework.ie_version=t||99,ggFramework.ie_version},ggFramework.isMobile=function(){if("#m"==window.location.hash)return!0;for(var e=["iphone","ipod","ipad","series60","symbian","android","windows ce","blackberry","palm","avantgo","docomo","vodafone","j-phone","xv6850","htc","lg;","lge","mot","nintendo","nokia","samsung","sonyericsson","bb10"],t=navigator.userAgent.toLowerCase(),o=0;o<e.length;o++)if(null!=t.match(e[o]))return e[o];return!1},ggFramework.checkHeadless=function(){if("development"==ggConfig.get("environment"))return!1;if(window._phantom||window.callPhantom)return"phantom";if(window.__phantomas)return"phantomas";if(window.Buffer)return"nodejs";if(window.emit)return"couchjs";if(window.spawn)return"rhino";if(window.webdriver)return"selenium";if(1024==screen.width){if(0===window.outerWidth&&0===window.outerHeight)return"headless";if(!(navigator.plugins instanceof PluginArray)||0==navigator.plugins.length)return"headless plugin";if(!navigator.onLine)return"headless";if(!Function.prototype.bind)return"headless";if(Function.prototype.bind.toString().replace(/bind/g,"Error")!=Error.toString())return"headless";if(Function.prototype.toString.toString().replace(/toString/g,"Error")!=Error.toString())return"headless"}return!1};var self=window.ggLoader={isMobile:!1,disabled:!1,load:function(){var e="/toolbars/"+config.get("account_id")+"/toolbar_";self.isMobile&&(e+="m_"),e+=config.get("account_id")+"_"+config.get("toolbar_id")+".js",framework.getScript(e,!1,!config.get("debug"))},init:function(){return self.isMobile=framework.isMobile(),"ipad"==self.isMobile&&(self.isMobile=!1),!!config.get("toolbar_enabled")&&(!(!config.get("show_in_iframe")&&window!=window.top)&&(!(framework.ie()<8)&&((!self.isMobile||!config.get("disable_mobile"))&&(!framework.checkHeadless()&&("true"!=ggStorage.get("toolbar_blocked")&&(this.loadScripts(),!0))))))},loadScripts:function(){"function"==typeof jQuery&&"object"==typeof jQuery.fn||config.get("prevent_jquery_load")||framework.getScript("/v3/jquery.js",!1,!0),self.load()}};window.ggTracking=new function(){var e=this;this.version="3.0",this.is_sent=!1,this.title="",this.browser="",this.platform="",this.referer="",this.lang="",this.resolution="",this.location="",this.account_id=!1,this.visitor_uid="",this.new_session=!1,this.img=!1,this.test_mode=!1,this.ip=!1,this.check_unique=!0,this.track_mode="json",this.append_params={},this.track_response=!1,this.track_key=!1,this.cookie_enabled=!0,this.init=function(e){this.track_key=window.gubagooTrackKey||"mock",this.account_id=e,this.getParams()},this.getParams=function(){document.title&&(this.title=this.trim(document.title)),document.referrer&&(this.referer=document.referrer),0==this.referer.toString().length&&(this.referer=this.getRequestParam("referer")),window.location&&(this.location=window.location),this.resolution=screen.width+"_"+screen.height,this.lang=(navigator.language||navigator.browserLanguage).substr(0,2),this.cookie_enabled=ggFramework.checkCookie(),this.parseUserAgent(navigator.userAgent),this.check_unique&&this.checkUnique()},this.trim=function(e){return e.replace(/^\s+|\s+$/g,"").substr(0,80)},this.getByPattern=function(e,t,o){var i=o;for(var r in t){var n=t[r];if(n.indexOf("/")>=0){if(null!=new RegExp(n,"i").exec(e)){i=r;break}}else if(e.indexOf(n)>=0){i=r;break}}return i},this.parseUserAgent=function(e){t="";e=e.toLowerCase();var t,o=this.getByPattern(e,{ip:"iphone",ipad:"ipad",an5:"android 5",an4:"android 4",an:"android",bb:"blackberry",nk:"nokia",ipod:"ipod",ox:"mac os x",w2:"windows nt 5.0",w3:"windows nt 5.2",xp:"windows nt 5.1",vi:"windows nt 6.0",w7:"windows nt 6.1",w8:"windows nt 6.2",w81:"windows nt 6.3",w10:"windows nt 10.0",chrome_os:"cros",wn:"windows",ub:"ubuntu",lx:"linux",un:"/(unix|bsd)/",mo:"/(midp|mobile|j2me|symbian)/"},"un");return"bt"==(t=this.getByPattern(e,{ff:"firefox",ie11:"trident/7.0; rv:11.0",ie10:"msie 10",ie9:"msie 9",ie8:"msie 8",edge:"edge",ie:"/(msie)/",ch:"chrome",sf:"safari",op:"opera",bt:"/(bot|crawl|spider|bingbot)/",mo:"/(blackberry|nokia|midp|mobile|j2me|symbian)/"},"un"))&&"un"==o&&(o="bt"),"mo"==t&&"un"==o&&(o="mo"),this.platform=o,this.browser=t,{platform:o,browser:t}},this.refreshSession=function(){ggFramework.setCookie("__ggtrses",1,{expires:1800,path:"/",domain:window.location.hostname})},this.checkUnique=function(){var e=ggFramework.getCookie("__ggtruid");this.cookie_enabled?(!e||e.toString().length<=0||"undefined"==e)&&(e=this.guidGenerator(),ggFramework.setCookie("__ggtruid",e,{expires:63072e3,path:"/",domain:window.location.hostname})):e=!1,this.visitor_uid=e;var t=ggFramework.getCookie("__ggtrses");!t||t.toString().length<=0?this.new_session=!0:this.new_session=!1,this.refreshSession()},this.onTrackResponse=function(t){t.visitor_guid&&(e.visitor_uid=t.visitor_guid),e.track_response=t},this.sendRequest=function(){if("json"==this.track_mode){(e=this.prepareRequest(!0)).data_type="json",window.location.hash&&(e.hash=window.location.hash.split("#").join("")),ggConfig.get("toolbar_id")&&(e.toolbar_id=ggConfig.get("toolbar_id")),ggStorage&&ggStorage.enabled?e.firestamps=ggStorage.get("firestamps"):e.firestamps=ggFramework.getCookie("gg_firestamps"),window.ggStorage&&(e.tabs={po:ggStorage.get("po_tabs"),bb:ggStorage.get("bb_tab")}),ggFramework.sendRequest(this.getRequestUrl(e),{},ggTracking.onTrackResponse)}else{this.img=new Image;var e=this.prepareRequest(!0);"pixel"==this.track_mode&&(e.pixel_timeout="1"),this.img.src=this.getRequestUrl(e)}ggTracking.is_sent=!0},this.trackAction=function(e,t,o){if(!this.track_key)return!1;this.refreshSession(),this.img=new Image;var i=this.prepareRequest(!1,e,t),r=this.getRequestUrl(i);o&&(r=r+"&"+ggFramework.serialize(o)),this.img.src=r},this.prepareRequest=function(e,t,o){t=t||1;var i={ver:this.version,key:this.track_key,__ggtruid:this.visitor_uid,ref:this.referer,title:this.title,href:this.location.toString(),res:this.resolution,ta:t};if(this.append_params)for(var r in this.append_params)this.append_params.hasOwnProperty(r)&&(i[r]=this.append_params[r]);e&&(i.pl=this.platform,i.br=this.browser,i.lang=this.lang),void 0!==o&&o&&(i.tast=o),window.ggLoader&&window.ggLoader.isMobile&&(i.mobile="1"),this.new_session&&(i.__ggtrns="1",this.new_session=!1),this.cookie_enabled||(i.cookie_disabled=!0),this.test_mode&&this.ip&&(i.test="1",i.ip=this.ip),i.t=(new Date).getTime();var n=[],a=ggFramework.getCookie("_ga");a&&n.push(a);var s=window.location.href.match(/(?:k_clickid=)([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})/);return s&&n.push(s[1]),n.length&&(i.title=n.join("|")),i},this.getRequestUrl=function(e){return ggConfig.get("server_url")+"/track/"+this.account_id+"/?"+ggFramework.serialize(e)},this.guidGenerator=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t=(new Date).getTime()+".";return t+=e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.getVisitorGuid=function(){return this.visitor_uid},this.getRequestParam=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}},ggTracking.init(ggConfig.get("account_id")),self.init()||(ggTracking.track_mode="pixel"),ggConfig.get("track_append_params")&&(ggTracking.append_params=ggConfig.get("track_append_params")),window.ggVars&&ggVars.disable_tracking||ggTracking.sendRequest()}(ggFramework,ggConfig)}();