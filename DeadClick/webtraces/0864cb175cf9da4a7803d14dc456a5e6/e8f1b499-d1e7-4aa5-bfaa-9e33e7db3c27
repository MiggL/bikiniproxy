!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/static/",t(t.s="aNNm")}({"9YQg":function(e,t,n){"use strict";function o(e){function t(t,n,o,i){if(e.isExperienceEditor())return{};var i=n.controller("dfrPopupVideo");n.on("click",function(){e.nextTick(function(){i.showPopup()})})}return t.$inject=["scope","element","attrs","ctrl"],{restrict:"AE",replace:!1,link:t}}o.$inject=["$dfrUtil"],e.exports=o},"FZ+f":function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=o(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([r]).join("\n")}return[n].join("\n")}function o(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o=n(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},Xsx0:function(e,t,n){var o=n("thR6");"string"==typeof o&&(o=[[e.i,o,""]]);var i={};i.transform=void 0;n("fjbf")(o,i);o.locals&&(e.exports=o.locals)},aNNm:function(e,t,n){"use strict";var o=n("z1xf"),i=n("yjCy"),r=n("pd95"),a=n("chhA"),l=n("9YQg"),d=n("lO9h");angular.module("dfr.html-transforms.video",[]).service("$dfrYouTubeApiSerivce",o).directive("dfrBgVideo",i).directive("dfrPopupVideo",r).factory("$dfrPopupVideoFactory",a).directive("popupActivator",l).directive("dfrEmbedVideo",d)},chhA:function(e,t,n){"use strict";function o(){function e(e){return"'"!=e[0]&&"'"!=e[e.length-1]&&(e="'"+e+"'"),e}function t(e){angular.isDefined(a[e])&&delete a[e]}function n(){return a}function o(e,t){a[e]=t}function i(e){return a[e]||null}function r(e,t){angular.isDefined(a[e])&&(a[e]=t)}var a=a||{};return{getAll:n,get:i,register:o,update:r,remove:t,attrCheck:e}}e.exports=o},fjbf:function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=v[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(c(o.parts[r],t))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(c(o.parts[r],t));v[o.id]={id:o.id,refs:1,parts:a}}}}function i(e,t){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],a=t.base?r[0]+t.base:r[0],l=r[1],d=r[2],u=r[3],c={css:l,media:d,sourceMap:u};o[a]?o[a].parts.push(c):n.push(o[a]={id:a,parts:[c]})}return n}function r(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=b[b.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function l(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),r(e,t),t}function d(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),r(e,t),t}function u(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,o,i,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var u=m++;n=h||(h=l(t)),o=p.bind(null,n,u,!1),i=p.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=d(t),o=f.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),o=s.bind(null,n),i=function(){a(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}function p(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function s(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t,n){var o=n.css,i=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||r)&&(o=w(o)),i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([o],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}var v={},y=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),h=null,m=0,b=[],w=n("quY5");e.exports=function(e,t){t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=y()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=i(e,t);return o(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var l=n[a],d=v[l.id];d.refs--,r.push(d)}if(e){o(i(e,t),t)}for(var a=0;a<r.length;a++){var d=r[a];if(0===d.refs){for(var u=0;u<d.parts.length;u++)d.parts[u]();delete v[d.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},lO9h:function(e,t,n){"use strict";function o(e,t,n,o,i){var r=1,a={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"queued"},l="youtube.player.";return e.YTConfig={host:"https://www.youtube.com"},{restrict:"EA",scope:{video:"=?",playerCallback:"&?",playerVars:"=?",playerHeight:"=?",playerWidth:"=?"},link:function(e,d,u){function c(t,n){n!==e.id&&e.player&&e.player.pauseVideo()}function p(){var t=Array.prototype.slice.call(arguments);n.nextTick(function(){e.$emit.apply(e,t)})}function s(t){var o=a[t.data];void 0!==o&&p(l+o,t),n.nextTick(function(){e.player.currentState=o})}function f(t){w&&n.nextTick(function(){w({player:m,scope:e})}),p(l+"ready",t)}function v(e){p(l+"error",e)}function y(){var t=angular.copy(e.playerVars);return t.start=t.start||e.urlStartTime,m=new YT.Player(h,{height:e.playerHeight,width:e.playerWidth,videoId:e.video,playerVars:t,events:{onReady:f,onStateChange:s,onError:v}}),m.id=h,m}function g(){(e.video||e.playerVars.list)&&(e.player&&"function"==typeof e.player.destroy&&e.player.destroy(),e.player=y())}e.utils=t,e.id="embed-video-player-"+n.nextUid();var h=u.playerId||d[0].id||"unique-youtube-embed-id-"+r++,m=void 0,b="",w=e.playerCallback;d[0].id=h,i.$on("players:stop",function(e,t){return c(e,t)}),e.$on("youtube.player.playing",function(t,n){try{b=n.target.j.videoData.title}catch(e){}var r=b,a=(n.target.getCurrentTime()/n.target.getDuration()*100).toFixed(2);i.$emit("players:stop",e.id),n.target.isPaused?o.track({category:"Video",action:"Video play",label:"Video "+a+"% Completed - "+r}):o.track({category:"Video",action:"Video play",label:r}),n.target.isPaused=!1}),e.$on("youtube.player.paused",function(e,t){try{b=t.target.j.videoData.title}catch(e){}t.target.isPaused=!0;var n=(t.target.getCurrentTime()/t.target.getDuration()*100).toFixed(2),i=b;o.track({category:"Video",action:"Video pause",label:"Video "+n+"% Completed - "+i})}),e.$on("youtube.player.ended",function(t,n){try{b=n.target.j.videoData.title}catch(e){}e.isPaused=!0;var i=((n.target.getCurrentTime()/n.target.getDuration()*100).toFixed(2),b);o.track({category:"Video",action:"Video complete",label:i})}),e.playerHeight=e.playerHeight||390,e.playerWidth=e.playerWidth||640,e.playerVars=angular.extend({},{autoplay:0,controls:1,loop:0,iv_load_policy:3,wmode:"opaque",cc_load_policy:0,modestbranding:1,playsinline:0,rel:0,html5:1,showinfo:0,enablejsapi:1,origin:document.domain,playlist:e.video},e.playerVars),e.playerVars.loop||delete e.playerVars.playlist;var x=e.$watch(function(){return e.utils.ready&&(void 0!==e.video||void 0!==e.playerVars.list)},function(t){t&&(x(),void 0!==e.video?e.$watch("video",function(t){e.video=e.utils.getIdFromURL(t),e.urlStartTime=e.utils.getTimeFromURL(t),g()}):e.$watch("playerVars.list",function(){e.urlStartTime=null,g()}))});e.$watchCollection(["playerHeight","playerWidth"],function(){e.player&&e.player.setSize(e.playerWidth,e.playerHeight)}),e.$on("$destroy",function(){e.player&&e.player.destroy()})}}}o.$inject=["$window","$dfrYouTubeApiSerivce","$dfrUtil","$dfrGa","$rootScope"],e.exports=o},pd95:function(e,t,n){"use strict";function o(e,t,n,o,i,r,a,l,d,u){function c(n,i,a){function c(e,t){e&&t&&!1!==t.closeWhenFinished&&(m.player=e,t.$on("youtube.player.ended",function(e,t){s()}))}function p(e){e&&27==e.keyCode&&s()}function s(){t(function(){angular.forEach(d.getAll(),function(e,t){d.update(t,!1)})}),o.enableScrolling()}function f(e){return d.get(e||a.popupId)}function v(t){if(!f(t))return void o.enableScrolling();var n=angular.element(i[0].querySelector(".dfr-popup-video"));n.length&&e.waitTransitionEnd(n,{timeout:300}).then(function(){f(t)&&o.disableScrolling()})}function y(e){var t="";try{t=m.player.j.videoData.title}catch(e){}var n=(m.player.getCurrentTime()/m.player.getDuration()*100).toFixed(2),i=t;n<100?u.track({category:"Video",action:"Video partial complete",label:"Video "+n+"% Completed - "+i}):u.track({category:"Video",action:"Video complete",label:i}),d.update(e||a.popupId,!1),v(e),o.enableScrolling()}function g(e){d.update(e||a.popupId,!0),v(e)}function h(e){d.update(e||a.popupId,!f(e||a.popupId)),v(e)}var m=this;angular.isUndefined(a.video)||""==a.video||(i.addClass("dfr-video-popup-bound"),m.showPopup=g,m.isToggled=f,m.togglePopup=h,m.hidePopup=y,m.toggleScrolling=v,m.fireDefault=c,m.playerVars={autoplay:!0,loop:!1},n.$watch(function(e){var t=l(a.popupWhen)(e);if(!l(a.disabled)(e))return!!t&&(l(a.popupWhen+" = false")(e),t)},function(e){e&&g(a.popupId)}),r.on("keyup",p))}function p(e,t){return{pre:function(e,t,n){if(!angular.isUndefined(n.video)&&""!=n.video){var i="popup-"+o.nextUid();n.$set("popupId",i),d.register(i,!1),n.video=d.attrCheck(n.video);var r=angular.isUndefined(n.playerVars)?"$videoPopup.playerVars":n.playerVars;d.register("activated-"+i,"\n                    <div ng-if=\"$videoPopup.isToggled('"+i+'\')" class="dfr-popup-video" activated-content ng-animate-ref="dfr-popup-video'+i+'">\n                        <div \n                            ng-click="$videoPopup.hidePopup(\''+i+'\'); "\n                            aria-label="Close Video"\n                            title="Close Video"\n                            button \n                            theme="fab-mini" \n                            class="dfr-video-popup-close">\n                            <dfr-svg icon="cross" size="20"></dfr-svg>\n                        </div>\n                        <dfr-embed-video \n                            video="'+n.video+'"\n                            player-vars="'+r+'"\n                            player-width="'+(n.playerWidth||" '100%' ")+'" \n                            player-height="'+(n.playerHeight||" '100%' ")+'" \n                            player-callback="$videoPopup.fireDefault(player, scope); '+(angular.isDefined(n.playerCallback)?""+n.playerCallback:"")+'">\n                        </dfr-embed-video>\n                    </div>\n                '),d.register("zoom-"+i,"\n                    <div \n                        ng-class=\"{'toggled' : $videoPopup.isToggled('"+i+"') }\" \n                        "+(angular.isDefined(n.popupNoClick)?"":"ng-click=\"$videoPopup.togglePopup('"+i+"'); \"")+"\n                        ng-if=\"!$videoPopup.isToggled('"+i+'\')" \n                        class="dfr-popup-video" \n                        fake-zoomer \n                        ng-animate-ref="dfr-popup-video'+i+'">\n                    </div>\n                ')}},post:s}}function s(e,t,n){angular.isUndefined(n.video)||""==n.video||angular.forEach(d.getAll(),function(o,i){var r=-1!==i.indexOf("activated")?"activated":-1!==i.indexOf("zoom")?"zoom":null;if(null!==r&&-1!==i.indexOf(n.popupId)){var l=angular.element(o);e.closeWhenFinished=!angular.isDefined(n.closeWhenFinished)&&("false"==n.closeWhenFinished||"0"==n.closeWhenFinished),a(l)(e),"zoom"==r?t.prepend(l):angular.element(document.body).append(l),d.remove(i)}})}c.$inject=["$scope","$element","$attrs"];return o.isExperienceEditor()?{}:{restrict:"A",replace:!1,controllerAs:"$videoPopup",controller:c,compile:p}}o.$inject=["$dfrAnimations","$timeout","$interpolate","$dfrUtil","$window","$document","$compile","$parse","$dfrPopupVideoFactory","$dfrGa"],e.exports=o;n("Xsx0")},quY5:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var r;return r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}},thR6:function(e,t,n){t=e.exports=n("FZ+f")(void 0),t.push([e.i,"[dfr-popup-video] {\n  position: relative;\n}\n\n.dfr-popup-video {\n  display: block;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  opacity: 0;\n  background-color: #000000;\n}\n\n.dfr-popup-video.toggled {\n  z-index: 1040;\n}\n\n.dfr-popup-video.ng-leave:not(.ng-anchor-out):not(.ng-anchor-in) {\n  visibility: hidden;\n  transition: all 0.5s cubic-bezier(0.35, 0, 0.25, 1);\n}\n\n.dfr-popup-video.ng-anchor-out {\n  opacity: 0;\n  transition: 0s linear all;\n}\n\n.dfr-popup-video.ng-leave-active {\n  display: none;\n}\n\n.dfr-popup-video.ng-anchor-in {\n  z-index: 1040;\n  transition: all 0.5s cubic-bezier(0.35, 0, 0.25, 1);\n  opacity: 1;\n}\n\n.dfr-popup-video[fake-zoomer]:focus + .play-btn-border {\n  -webkit-transform: scale(1.1, 1.1);\n          transform: scale(1.1, 1.1);\n  -webkit-transform: scale3d(1.1, 1.1, 1);\n          transform: scale3d(1.1, 1.1, 1);\n}\n\n.dfr-popup-video[activated-content]:not(.ng-anchor-out-remove) {\n  position: fixed;\n}\n\n.dfr-popup-video[activated-content] {\n  opacity: 1;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  max-width: 100%;\n  z-index: 1040;\n}\n\n.dfr-popup-video[activated-content] > * {\n  transition: opacity 0.5s cubic-bezier(0.35, 0, 0.25, 1);\n  opacity: 1;\n}\n\n.dfr-popup-video[activated-content].ng-animate > * {\n  opacity: 0;\n}\n\n.dfr-popup-video[activated-content].ng-anchor-in {\n  opacity: 0;\n}\n\n.dfr-popup-video .dfr-video-popup-close {\n  position: absolute;\n  top: 1.5rem;\n  right: 1.5rem;\n  z-index: 1041;\n  background-color: rgba(0, 0, 0, 0.7);\n  transition: color 0.5s cubic-bezier(0.35, 0, 0.25, 1), background-color 0.5s cubic-bezier(0.35, 0, 0.25, 1);\n  color: #595959;\n}\n\n.dfr-popup-video .dfr-video-popup-close:hover, .dfr-popup-video .dfr-video-popup-close:focus {\n  background-color: black;\n  color: #f1f1f1;\n}\n",""])},yjCy:function(e,t,n){"use strict";function o(e,t,n,o,i){return{restrict:"EA",replace:!0,scope:{video:"=?",playlist:"=?",ratio:"=?",loop:"=?",mute:"=?",videoDisabled:"=",start:"=?",autoplay:"=?",end:"=?",contentZIndex:"=?",allowClickEvents:"=?",playerCallback:"&?"},transclude:!0,template:"<div><div></div><div ng-transclude></div></div>",link:function(t,r){function a(e,t){function n(n,o){return n[o]=parseInt(t.call(b,e+"-"+o),10),n}return["top","right","bottom","left"].reduce(n,{})}function l(e,t){function o(){var e=Array.prototype.slice.call(arguments),n=void 0,o=0,i=function(e,t){return n[t]?e+n[t]:e};for(var r in t)t.hasOwnProperty(r)&&(n=t[r],o+=e.reduce(i,0));return o}return{width:e.width+o("left","right"),height:n.isIE()?e.height:e.height+o("top","bottom")}}function d(){var e=r.children().eq(1),n=!!e.children().length,o=Array.prototype.slice.call(r.parent().children());if(r.parent().css({position:"relative",overflow:"hidden",width:"100%",height:"100%"}),!n){r.css({position:"absolute",left:"0",top:"0"});var i=o.indexOf(r[0]);i>-1&&o.splice(i,1),e=angular.element(o)}e.css({position:"relative",zIndex:t.contentZIndex||99})}function u(){b=e.getComputedStyle(r.parent()[0]);var t=["width","height"],o=["border","margin"];return n.isIE()&&o.push("padding"),t=t.reduce(function(e,t){return e[t]=parseInt(b.getPropertyValue(t),10),e},{}),o=o.reduce(function(e,t){return e[t]=a(t,b.getPropertyValue),e},{}),l(t,o)}function c(){var e=parseInt(T.width/t.ratio,10),n=parseInt(T.height*t.ratio,10),o=T.height<e;return{width:o?T.width:n,height:o?e:T.height}}function p(){d(),T=u(),V=c()}function s(){var e={zIndex:1,position:"absolute",width:V.width+"px",height:V.height+"px",left:parseInt((T.width-V.width)/2,10)+"px",top:parseInt((T.height-V.height)/2,10)+"px"};t.allowClickEvents||(e.pointerEvents="none"),w.css(e)}function f(e){$.seekTo((e||t).start||0)}function v(e){var n=void 0,o=void 0;e=e||t,n=e.end?e.end-(e.start||0):t.start?$.getDuration()-e.start:$.getDuration(),o=1e3*n,C=setTimeout(function(){t.playlist?$.nextVideo():f(e)},o)}function y(){v(t.playlist[$.getPlaylistIndex()])}function g(){k&&n.nextTick(function(){1==t.autoplay&&/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&setTimeout(function(){$.playVideo()},1500),k({player:$,scope:t})}),t.playlist&&($.loadPlaylist(I),t.loop&&$.setLoop(!0)),t.mute&&!$.isMuted()?$.mute():$.isMuted()&&$.unMute(),f(),t.$on("$destroy",function(){C&&clearTimeout(C),angular.element(e).off("resize",U),$.destroy()})}function h(e){try{P=e.target.j.videoData.title}catch(e){}if(0===e.data&&f($.target),e.data===YT.PlayerState.PLAYING){w.css("display","block");var n=(e.target.getCurrentTime()/e.target.getDuration()*100).toFixed(2),o=P;""!==o&&(e.target.isPaused||e.target.isPlaying?e.target.isPaused&&(i.track({category:"Video",action:"Video play",label:"Video "+n+"% Completed - "+o}),e.target.isPaused=!1):i.track({category:"Video",action:"Video play",label:o}),e.target.isPlaying=!0),!t.playlist&&t.loop&&v(),t.playlist&&t.loop&&y()}if(e.data===YT.PlayerState.PAUSED){e.target.isPaused=!0;var r=(e.target.getCurrentTime()/e.target.getDuration()*100).toFixed(2),a=P;i.track({category:"Video",action:"Video pause",label:"Video "+r+"% Completed - "+a})}if(e.data===YT.PlayerState.ENDED){var l=((e.target.getCurrentTime()/e.target.getDuration()*100).toFixed(2),P);i.track({category:"Video",action:"Video complete",label:l})}if(e.data===YT.PlayerState.UNSTARTED&&t.playlist){var d=t.playlist[$.getPlaylistIndex()],u=void 0===d.mute?t.mute:d.mute;w.css("display","none"),f(d),u||u&&t.mute?$.isMuted()||$.mute():u&&t.mute||$.isMuted()&&$.unMute()}}function m(){if(p(),t.video){o.readyFn();var e={loop:1,autoplay:1,controls:0,iv_load_policy:3,cc_load_policy:0,modestbranding:1,playsinline:1,rel:0,showinfo:0,enablejsapi:1,origin:document.domain,playlist:t.video,wmode:"opaque"};angular.isObject(t.playerVars)&&(e=angular.extend({},e,t.playerVars)),$=new YT.Player(x,{width:V.width,height:V.height,videoId:o.getIdFromURL(t.video),playerVars:e,events:{onReady:g,onStateChange:h}}),w=r.children().eq(0),w.css("display","none"),s()}}var b=void 0,w=r.children().eq(0),x=void 0,$=void 0,T=void 0,V=void 0,k=t.playerCallback,I=void 0,C=void 0,P="";if(t.$watch("videoDisabled",function(e,t){e!==t&&!0===e&&(angular.element(w).css({display:"none"}),$&&$.pauseVideo()),!1===e&&e!==t&&(angular.element(w).css({display:"block"}),$&&$.playVideo())}),r.wrap('<div class="dfr-bg-video-wrapper"></div>'),x="player"+Array.prototype.slice.call(document.querySelectorAll("div[video-id]")).indexOf(r[0]),w.attr("id",x),t.autoplay=t.autoplay||1,t.ratio=t.ratio||16/9,t.loop=void 0===t.loop||t.loop,t.mute=void 0===t.mute||t.mute,t.utils=o,t.video&&t.playlist)throw new Error("Both video and playlist cannot be defined, please choose one or the other.");t.playlist&&(I=t.playlist.map(function(e){return o.getIdFromURL(e.video)}));var U=n.debounce(function(){p(),s()},300);if(n.isTabletOrMobile())p();else{var A=t.$watch(function(){return t.utils.ready},function(e){e&&(A(),m())});angular.element(e).on("resize",U)}t.$watch("video",function(e,t){$&&e&&o.getIdFromURL(t)&&e!==o.getIdFromURL(t)&&(clearTimeout(C),w.css("display","none"),$.loadVideoById(o.getIdFromURL(e)))}),t.$watchCollection("playlist",function(e,n){e&&n&&e!==n&&(clearTimeout(C),I=e.map(function(e){return o.getIdFromURL(e.video)}),$.loadPlaylist(I),t.loop&&$.setLoop(!0))})}}}o.$inject=["$window","$q","$dfrUtil","$dfrYouTubeApiSerivce","$dfrGa"],e.exports=o},z1xf:function(e,t,n){"use strict";function o(e,t,n){function o(e,t){return e.indexOf(t)>-1}function i(e){var t=e.replace(u,"$1");if(o(t,";")){var n=t.split(";");if(t=n[0],o(n[1],"%")){t=("http://youtube.com"+decodeURIComponent(n[1])).replace(u,"$1")}}else o(t,"#")&&(t=t.split("#")[0]);return t}function r(e){e=e||"";var t=e.match(c);if(!t)return 0;var n=t[0],i=t[1],r=t[2];return void 0!==r?(r=parseInt(r,10),i=parseInt(i,10)):o(n,"m")?(i=parseInt(i,10),r=0):(r=parseInt(i,10),i=0),r+60*i}function a(){l.ready||t.nextTick(function(){l.ready=!0})}var l={getIdFromURL:i,getTimeFromURL:r,readyFn:a,ready:!1},d=document.querySelector('script[src="//www.youtube.com/iframe_api"]'),u=/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube(?:-nocookie)?\.com\S*[^\w\s-])([\w-]{11})(?=[^\w-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,c=/t=(\d+)[ms]?(\d+)?s?/,p=void 0;if("undefined"!=typeof YT&&YT.loaded?a():"undefined"!=typeof YT&&YT.ready(a),e.youTubeIframeAPIReady||(p=n.defer(),e.youTubeIframeAPIReady=p.promise,e.onYouTubeIframeAPIReady=function(){p.resolve()}),d)p&&p.resolve();else{var s=document.createElement("script");s.src="//www.youtube.com/iframe_api";var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(s,f)}return e.youTubeIframeAPIReady.then(a),l}o.$inject=["$window","$dfrUtil","$q"],e.exports=o}});