!function(e,t,n){function i(e,t){return typeof e===t}function o(e){var t=A.className,n=_._config.classPrefix||"";if(E&&(t=t.baseVal),_._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}_._config.enableClasses&&(t+=" "+n+e.join(" "+n),E?A.className.baseVal=t:A.className=t)}function r(e,t){if("object"==typeof e)for(var n in e)T(e,n)&&r(n,e[n]);else{e=e.toLowerCase();var i=e.split("."),a=_[i[0]];if(2==i.length&&(a=a[i[1]]),void 0!==a)return _;t="function"==typeof t?t():t,1==i.length?_[i[0]]=t:(!_[i[0]]||_[i[0]]instanceof Boolean||(_[i[0]]=new Boolean(_[i[0]])),_[i[0]][i[1]]=t),o([(t&&0!=t?"":"no-")+i.join("-")]),_._trigger(e,t)}return _}function a(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):E?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function s(){var e=t.body;return e||(e=a(E?"svg":"body"),e.fake=!0),e}function l(e,n,i,o){var r,l,d,c,u="modernizr",p=a("div"),h=s();if(parseInt(i,10))for(;i--;)d=a("div"),d.id=o?o[i]:u+(i+1),p.appendChild(d);return r=a("style"),r.type="text/css",r.id="s"+u,(h.fake?h:p).appendChild(r),h.appendChild(p),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),p.id=u,h.fake&&(h.style.background="",h.style.overflow="hidden",c=A.style.overflow,A.style.overflow="hidden",A.appendChild(h)),l=n(p,e),h.fake?(h.parentNode.removeChild(h),A.style.overflow=c,A.offsetHeight):p.parentNode.removeChild(p),!!l}function d(e,t){return!!~(""+e).indexOf(t)}function c(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function u(e,t){return function(){return e.apply(t,arguments)}}function p(e,t,n){var o;for(var r in e)if(e[r]in t)return!1===n?e[r]:(o=t[e[r]],i(o,"function")?u(o,n||t):o);return!1}function h(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function m(t,i){var o=t.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(h(t[o]),i))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];o--;)r.push("("+h(t[o])+":"+i+")");return r=r.join(" or "),l("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function f(e,t,o,r){function s(){u&&(delete R.style,delete R.modElem)}if(r=!i(r,"undefined")&&r,!i(o,"undefined")){var l=m(e,o);if(!i(l,"undefined"))return l}for(var u,p,h,f,g,y=["modernizr","tspan","samp"];!R.style&&y.length;)u=!0,R.modElem=a(y.shift()),R.style=R.modElem.style;for(h=e.length,p=0;p<h;p++)if(f=e[p],g=R.style[f],d(f,"-")&&(f=c(f)),R.style[f]!==n){if(r||i(o,"undefined"))return s(),"pfx"!=t||f;try{R.style[f]=o}catch(e){}if(R.style[f]!=g)return s(),"pfx"!=t||f}return s(),!1}function g(e,t,n,o,r){var a=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+B.join(a+" ")+a).split(" ");return i(t,"string")||i(t,"undefined")?f(s,t,o,r):(s=(e+" "+N.join(a+" ")+a).split(" "),p(s,t,n))}function y(e,t,i){return g(e,n,n,t,i)}var v=[],w=[],b={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){w.push({name:e,fn:t,options:n})},addAsyncTest:function(e){w.push({name:null,fn:e})}},_=function(){};_.prototype=b,_=new _,_.addTest("geolocation","geolocation"in navigator);var C=!1;try{C="WebSocket"in e&&2===e.WebSocket.CLOSING}catch(e){}_.addTest("websockets",C),_.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}),_.addTest("webworkers","Worker"in e);var x=b._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];b._prefixes=x;var A=t.documentElement,E="svg"===A.nodeName.toLowerCase();E||function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function o(e,t){var n=v.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),v.elements=n+" "+e,d(t)}function r(e){var t=y[e[f]];return t||(t={},g++,e[f]=g,y[g]=t),t}function a(e,n,i){if(n||(n=t),u)return n.createElement(e);i||(i=r(n));var o;return o=i.cache[e]?i.cache[e].cloneNode():m.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!o.canHaveChildren||h.test(e)||o.tagUrn?o:i.frag.appendChild(o)}function s(e,n){if(e||(e=t),u)return e.createDocumentFragment();n=n||r(e);for(var o=n.frag.cloneNode(),a=0,s=i(),l=s.length;a<l;a++)o.createElement(s[a]);return o}function l(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return v.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function d(e){e||(e=t);var i=r(e);return!v.shivCSS||c||i.hasCSS||(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||l(e,i),e}var c,u,p=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",g=0,y={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){c=!0,u=!0}}();var v={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==p.shivCSS,supportsUnknownElements:u,shivMethods:!1!==p.shivMethods,type:"default",shivDocument:d,createElement:a,createDocumentFragment:s,addElements:o};e.html5=v,d(t),"object"==typeof module&&module.exports&&(module.exports=v)}(void 0!==e?e:this,t);var S="Moz O ms Webkit",N=b._config.usePrefixes?S.toLowerCase().split(" "):[];b._domPrefixes=N;var T;!function(){var e={}.hasOwnProperty;T=i(e,"undefined")||i(e.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}}(),b._l={},b.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),_.hasOwnProperty(e)&&setTimeout(function(){_._trigger(e,_[e])},0)},b._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)},0),delete this._l[e]}},_._q.push(function(){b.addTest=r}),_.addAsyncTest(function(){var n,i=function(e){e.fake&&e.parentNode&&e.parentNode.removeChild(e)},o=function(e,t){var n=!!e;if(n&&(n=new Boolean(n),n.blocked="blocked"===e),r("flash",function(){return n}),t&&u.contains(t)){for(;t.parentNode!==u;)t=t.parentNode;u.removeChild(t)}};try{n="ActiveXObject"in e&&"Pan"in new e.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}if(!("plugins"in navigator&&"Shockwave Flash"in navigator.plugins||n)||E)o(!1);else{var l,d,c=a("embed"),u=s();if(c.type="application/x-shockwave-flash",function(e){A.contains(e)||A.appendChild(e)}(u),u.appendChild(c),!("Pan"in c||n))return o("blocked",c),void i(u);l=function(){if(!A.contains(u))return u=t.body||u,c=a("embed"),c.type="application/x-shockwave-flash",u.appendChild(c),setTimeout(l,1e3);A.contains(c)?(d=c.style.cssText,""!==d?o("blocked",c):o(!0,c)):o("blocked"),i(u)},setTimeout(l,10)}});var k=b.testStyles=l;_.addTest("touchevents",function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var i=["@media (",x.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");k(i,function(e){n=9===e.offsetTop})}return n}),function(){var e=navigator.userAgent,t=e.match(/applewebkit\/([0-9]+)/gi)&&parseFloat(RegExp.$1),n=e.match(/w(eb)?osbrowser/gi),i=e.match(/windows phone/gi)&&e.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9,o=t<533&&e.match(/android/gi);return n||o||i}()?_.addTest("fontface",!1):k('@font-face {font-family:"font";src:url("https://")}',function(e,n){var i=t.getElementById("smodernizr"),o=i.sheet||i.styleSheet,r=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"",a=/src/i.test(r)&&0===r.indexOf(n.split(" ")[0]);_.addTest("fontface",a)});var I="CSS"in e&&"supports"in e.CSS,F="supportsCSS"in e;_.addTest("supports",I||F);var B=b._config.usePrefixes?S.split(" "):[];b._cssomPrefixes=B;var M={elem:a("modernizr")};_._q.push(function(){delete M.elem});var R={style:M.elem.style};_._q.unshift(function(){delete R.style});var D=b.testProp=function(e,t,i){return f([e],n,t,i)};_.addTest("textshadow",D("textShadow","1px 1px")),b.testAllProps=g,b.testAllProps=y,function(){_.addTest("csscolumns",function(){var e=!1,t=y("columnCount");try{(e=!!t)&&(e=new Boolean(e))}catch(e){}return e});for(var e,t,n=["Width","Span","Fill","Gap","Rule","RuleColor","RuleStyle","RuleWidth","BreakBefore","BreakAfter","BreakInside"],i=0;i<n.length;i++)e=n[i].toLowerCase(),t=y("column"+n[i]),"breakbefore"!==e&&"breakafter"!==e&&"breakinside"!=e||(t=t||y(n[i])),_.addTest("csscolumns."+e,t)}(),_.addTest("flexbox",y("flexBasis","1px",!0)),_.addTest("csstransforms3d",function(){var e=!!y("perspective","1px",!0),t=_._config.usePrefixes;if(e&&(!t||"webkitPerspective"in A.style)){var n;_.supports?n="@supports (perspective: 1px)":(n="@media (transform-3d)",t&&(n+=",(-webkit-transform-3d)")),n+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",k("#modernizr{width:0;height:0}"+n,function(t){e=7===t.offsetWidth&&18===t.offsetHeight})}return e}),function(){var e,t,n,o,r,a,s;for(var l in w)if(w.hasOwnProperty(l)){if(e=[],t=w[l],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=i(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)a=e[r],s=a.split("."),1===s.length?_[s[0]]=o:(!_[s[0]]||_[s[0]]instanceof Boolean||(_[s[0]]=new Boolean(_[s[0]])),_[s[0]][s[1]]=o),v.push((o?"":"no-")+s.join("-"))}}(),o(v),delete b.addTest,delete b.addAsyncTest;for(var z=0;z<_._q.length;z++)_._q[z]();e.Modernizr=_}(window,document),Modernizr.addTest("ios",function(){"use strict";return!!navigator.userAgent.match(/(iPod|iPhone|iPad)/i)}),Modernizr.addTest("android",function(){"use strict";return!!navigator.userAgent.match(/android/i)}),Modernizr.addTest("iospre10",function(){"use strict";return-1!==navigator.userAgent.search(/(iPod|iPhone|iPad).*OS [3-9]/i)}),Modernizr.addTest("iemobile",function(){"use strict";return!!navigator.userAgent.match(/iemobile/i)}),Modernizr.addTest("ieunsupported",function(){"use strict";return navigator.userAgent.search(/MSIE ([2-9]|10)\./i)>=0}),Modernizr.addTest("ie11unsupported",function(){"use strict";return navigator.userAgent.search(/Trident\/7\.0;(.*)rv:11\./i)>=0}),Modernizr.addTest("ie",function(){"use strict";return navigator.userAgent.search(/\s+(MSIE|rv:11|Edge\/\d+\.)/)>=0}),Modernizr.addTest("edge",function(){"use strict";return navigator.userAgent.search(/\s+(Edge\/\d+\.)/)>=0}),function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var t,n=document.createElement("source"),i=function(e){var t,i,o=e.parentNode;"PICTURE"===o.nodeName.toUpperCase()?(t=n.cloneNode(),o.insertBefore(t,o.firstElementChild),setTimeout(function(){o.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=i}))},o=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},r=function(){clearTimeout(t),t=setTimeout(o,99)},a=e.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){r(),a&&a.addListener&&a.addListener(r)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),r}())}(window),function(e,t,n){"use strict";function i(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function o(){B=!1,D=e.devicePixelRatio,M={},R={},g.DPR=D||1,z.width=Math.max(e.innerWidth||0,x.clientWidth),z.height=Math.max(e.innerHeight||0,x.clientHeight),z.vw=z.width/100,z.vh=z.height/100,f=[z.height,z.width,D].join("-"),z.em=g.getEmValue(),z.rem=z.em}function r(e,t,n,i){var o,r,a,s;return"saveData"===E.algorithm?e>2.7?s=n+1:(r=t-n,o=Math.pow(e-.6,1.5),a=r*o,i&&(a+=.1*o),s=e+a):s=n>1?Math.sqrt(e*t):e,s>n}function a(e){var t,n=g.getSet(e),i=!1;"pending"!==n&&(i=f,n&&(t=g.setRes(n),g.applySetCandidate(t,e))),e[g.ns].evaled=i}function s(e,t){return e.res-t.res}function l(e,t,n){var i;return!n&&t&&(n=e[g.ns].sets,n=n&&n[n.length-1]),i=d(t,n),i&&(t=g.makeUrl(t),e[g.ns].curSrc=t,e[g.ns].curCan=i,i.res||J(i,i.set.sizes)),i}function d(e,t){var n,i,o;if(e&&t)for(o=g.parseSet(t),e=g.makeUrl(e),n=0;n<o.length;n++)if(e===g.makeUrl(o[n].url)){i=o[n];break}return i}function c(e,t){var n,i,o,r,a=e.getElementsByTagName("source");for(n=0,i=a.length;n<i;n++)o=a[n],o[g.ns]=!0,(r=o.getAttribute("srcset"))&&t.push({srcset:r,media:o.getAttribute("media"),type:o.getAttribute("type"),sizes:o.getAttribute("sizes")})}function u(e,t){function n(t){var n,i=t.exec(e.substring(u));if(i)return n=i[0],u+=n.length,n}function o(){var e,n,i,o,s,l,d,c,u,h=!1,m={};for(o=0;o<a.length;o++)s=a[o],l=s[s.length-1],d=s.substring(0,s.length-1),c=parseInt(d,10),u=parseFloat(d),H.test(d)&&"w"===l?((e||n)&&(h=!0),0===c?h=!0:e=c):V.test(d)&&"x"===l?((e||n||i)&&(h=!0),u<0?h=!0:n=u):H.test(d)&&"h"===l?((i||n)&&(h=!0),0===c?h=!0:i=c):h=!0;h||(m.url=r,e&&(m.w=e),n&&(m.d=n),i&&(m.h=i),i||n||e||(m.d=1),1===m.d&&(t.has1x=!0),m.set=t,p.push(m))}for(var r,a,s,l,d,c=e.length,u=0,p=[];;){if(n(L),u>=c)return p;r=n(P),a=[],","===r.slice(-1)?(r=r.replace(j,""),o()):function(){for(n(O),s="",l="in descriptor";;){if(d=e.charAt(u),"in descriptor"===l)if(i(d))s&&(a.push(s),s="",l="after descriptor");else{if(","===d)return u+=1,s&&a.push(s),void o();if("("===d)s+=d,l="in parens";else{if(""===d)return s&&a.push(s),void o();s+=d}}else if("in parens"===l)if(")"===d)s+=d,l="in descriptor";else{if(""===d)return a.push(s),void o();s+=d}else if("after descriptor"===l)if(i(d));else{if(""===d)return void o();l="in descriptor",u-=1}u+=1}}()}}function p(e){var t,n,o,r,a,s,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,d=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(n=function(e){function t(){r&&(a.push(r),r="")}function n(){a[0]&&(s.push(a),a=[])}for(var o,r="",a=[],s=[],l=0,d=0,c=!1;;){if(""===(o=e.charAt(d)))return t(),n(),s;if(c){if("*"===o&&"/"===e[d+1]){c=!1,d+=2,t();continue}d+=1}else{if(i(o)){if(e.charAt(d-1)&&i(e.charAt(d-1))||!r){d+=1;continue}if(0===l){t(),d+=1;continue}o=" "}else if("("===o)l+=1;else if(")"===o)l-=1;else{if(","===o){t(),n(),d+=1;continue}if("/"===o&&"*"===e.charAt(d+1)){c=!0,d+=2;continue}}r+=o,d+=1}}}(e),o=n.length,t=0;t<o;t++)if(r=n[t],a=r[r.length-1],function(e){return!!(l.test(e)&&parseFloat(e)>=0)||(!!d.test(e)||("0"===e||"-0"===e||"+0"===e))}(a)){if(s=a,r.pop(),0===r.length)return s;if(r=r.join(" "),g.matchesMedia(r))return s}return"100vw"}t.createElement("picture");var h,m,f,g={},y=!1,v=function(){},w=t.createElement("img"),b=w.getAttribute,_=w.setAttribute,C=w.removeAttribute,x=t.documentElement,A={},E={algorithm:""},S=navigator.userAgent,N=/rident/.test(S)||/ecko/.test(S)&&S.match(/rv\:(\d+)/)&&RegExp.$1>35,T="currentSrc",k=/\s+\+?\d+(e\d+)?w/,I=e.picturefillCFG,F="font-size:100%!important;",B=!0,M={},R={},D=e.devicePixelRatio,z={px:1,in:96},U=t.createElement("a"),q=!1,O=/^[ \t\n\r\u000c]+/,L=/^[, \t\n\r\u000c]+/,P=/^[^ \t\n\r\u000c]+/,j=/[,]+$/,H=/^\d+$/,V=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,W=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},K=function(e){var t={};return function(n){return n in t||(t[n]=e(n)),t[n]}},$=function(){var e=function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n},t=K(function(t){return"return "+e((t||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(e,n){var i;if(!(e in M))if(M[e]=!1,n&&(i=e.match(/^([\d\.]+)(em|vw|px)$/)))M[e]=i[1]*z[i[2]];else try{M[e]=new Function("e",t(e))(z)}catch(e){}return M[e]}}(),J=function(e,t){return e.w?(e.cWidth=g.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},G=function(e){if(y){var n,i,o,r=e||{};if(r.elements&&1===r.elements.nodeType&&("IMG"===r.elements.nodeName.toUpperCase()?r.elements=[r.elements]:(r.context=r.elements,r.elements=null)),n=r.elements||g.qsa(r.context||t,r.reevaluate||r.reselect?g.sel:g.selShort),o=n.length){for(g.setupRun(r),q=!0,i=0;i<o;i++)g.fillImg(n[i],r);g.teardownRun(r)}}};e.console&&console.warn,T in w||(T="src"),A["image/jpeg"]=!0,A["image/gif"]=!0,A["image/png"]=!0,A["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),g.ns=("pf"+(new Date).getTime()).substr(0,9),g.supSrcset="srcset"in w,g.supSizes="sizes"in w,g.supPicture=!!e.HTMLPictureElement,g.supSrcset&&g.supPicture&&!g.supSizes&&function(e){w.srcset="data:,a",e.src="data:,a",g.supSrcset=w.complete===e.complete,g.supPicture=g.supSrcset&&g.supPicture}(t.createElement("img")),g.supSrcset&&!g.supSizes?function(){var e="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",n=t.createElement("img"),i=function(){2===n.width&&(g.supSizes=!0),m=g.supSrcset&&!g.supSizes,y=!0,setTimeout(G)};n.onload=i,n.onerror=i,n.setAttribute("sizes","9px"),n.srcset=e+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",n.src=e}():y=!0,g.selShort="picture>img,img[srcset]",g.sel=g.selShort,g.cfg=E,g.DPR=D||1,g.u=z,g.types=A,g.setSize=v,g.makeUrl=K(function(e){return U.href=e,U.href}),g.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},g.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?g.matchesMedia=function(e){return!e||matchMedia(e).matches}:g.matchesMedia=g.mMQ,g.matchesMedia.apply(this,arguments)},g.mMQ=function(e){return!e||$(e)},g.calcLength=function(e){var t=$(e,!0)||!1;return t<0&&(t=!1),t},g.supportsType=function(e){return!e||A[e]},g.parseSize=K(function(e){var t=(e||"").match(/(\([^)]+\))?\s*(.+)/);return{media:t&&t[1],length:t&&t[2]}}),g.parseSet=function(e){return e.cands||(e.cands=u(e.srcset,e)),e.cands},g.getEmValue=function(){var e;if(!h&&(e=t.body)){var n=t.createElement("div"),i=x.style.cssText,o=e.style.cssText;n.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",x.style.cssText=F,e.style.cssText=F,e.appendChild(n),h=n.offsetWidth,e.removeChild(n),h=parseFloat(h,10),x.style.cssText=i,e.style.cssText=o}return h||16},g.calcListLength=function(e){if(!(e in R)||E.uT){var t=g.calcLength(p(e));R[e]=t||z.width}return R[e]},g.setRes=function(e){var t;if(e){t=g.parseSet(e);for(var n=0,i=t.length;n<i;n++)J(t[n],e.sizes)}return t},g.setRes.res=J,g.applySetCandidate=function(e,t){if(e.length){var n,i,o,a,d,c,u,p,h,m=t[g.ns],f=g.DPR;if(c=m.curSrc||t[T],u=m.curCan||l(t,c,e[0].set),u&&u.set===e[0].set&&((h=N&&!t.complete&&u.res-.1>f)||(u.cached=!0,u.res>=f&&(d=u))),!d)for(e.sort(s),a=e.length,d=e[a-1],i=0;i<a;i++)if(n=e[i],n.res>=f){o=i-1,d=e[o]&&(h||c!==g.makeUrl(n.url))&&r(e[o].res,n.res,f,e[o].cached)?e[o]:n;break}d&&(p=g.makeUrl(d.url),m.curSrc=p,m.curCan=d,p!==c&&g.setSrc(t,d),g.setSize(t))}},g.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},g.getSet=function(e){var t,n,i,o=!1,r=e[g.ns].sets;for(t=0;t<r.length&&!o;t++)if(n=r[t],n.srcset&&g.matchesMedia(n.media)&&(i=g.supportsType(n.type))){"pending"===i&&(n=i),o=n;break}return o},g.parseSets=function(e,t,n){var i,o,r,a,s=t&&"PICTURE"===t.nodeName.toUpperCase(),l=e[g.ns];(void 0===l.src||n.src)&&(l.src=b.call(e,"src"),l.src?_.call(e,"data-pfsrc",l.src):C.call(e,"data-pfsrc")),(void 0===l.srcset||n.srcset||!g.supSrcset||e.srcset)&&(i=b.call(e,"srcset"),l.srcset=i,a=!0),l.sets=[],s&&(l.pic=!0,c(t,l.sets)),l.srcset?(o={srcset:l.srcset,sizes:b.call(e,"sizes")},l.sets.push(o),(r=(m||l.src)&&k.test(l.srcset||""))||!l.src||d(l.src,o)||o.has1x||(o.srcset+=", "+l.src,o.cands.push({url:l.src,d:1,set:o}))):l.src&&l.sets.push({srcset:l.src,sizes:null}),l.curCan=null,l.curSrc=void 0,l.supported=!(s||o&&!g.supSrcset||r&&!g.supSizes),a&&g.supSrcset&&!l.supported&&(i?(_.call(e,"data-pfsrcset",i),e.srcset=""):C.call(e,"data-pfsrcset")),l.supported&&!l.srcset&&(!l.src&&e.src||e.src!==g.makeUrl(l.src))&&(null===l.src?e.removeAttribute("src"):e.src=l.src),l.parsed=!0},g.fillImg=function(e,t){var n,i=t.reselect||t.reevaluate;e[g.ns]||(e[g.ns]={}),n=e[g.ns],(i||n.evaled!==f)&&(n.parsed&&!t.reevaluate||g.parseSets(e,e.parentNode,t),n.supported?n.evaled=f:a(e))},g.setupRun=function(){q&&!B&&D===e.devicePixelRatio||o()},g.supPicture?(G=v,g.fillImg=v):function(){var n,i=e.attachEvent?/d$|^c/:/d$|^c|^i/,o=function(){var e=t.readyState||"";r=setTimeout(o,"loading"===e?200:999),t.body&&(g.fillImgs(),(n=n||i.test(e))&&clearTimeout(r))},r=setTimeout(o,t.body?9:99),a=x.clientHeight,s=function(){B=Math.max(e.innerWidth||0,x.clientWidth)!==z.width||x.clientHeight!==a,a=x.clientHeight,B&&g.fillImgs()};W(e,"resize",function(e,t){var n,i,o=function(){var r=new Date-i;r<t?n=setTimeout(o,t-r):(n=null,e())};return function(){i=new Date,n||(n=setTimeout(o,t))}}(s,99)),W(t,"readystatechange",o)}(),g.picturefill=G,g.fillImgs=G,g.teardownRun=v,G._=g,e.picturefillCFG={pf:g,push:function(e){var t=e.shift();"function"==typeof g[t]?g[t].apply(g,e):(E[t]=e[0],q&&g.fillImgs({reselect:!0}))}};for(;I&&I.length;)e.picturefillCFG.push(I.shift());e.picturefill=G,"object"==typeof module&&"object"==typeof module.exports?module.exports=G:"function"==typeof define&&define.amd&&define("picturefill",function(){return G}),g.supPicture||(A["image/webp"]=function(t,n){var i=new e.Image;return i.onerror=function(){A[t]=!1,G()},i.onload=function(){A[t]=1===i.width,G()},i.src=n,"pending"}("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),Date.now||(Date.now=function(){"use strict";return(new Date).getTime()}),function(e){"use strict";var t,n=function(){},i=[];e.console=e.console||{},t=e.console,t.log||(t.log=n),t.debug||(t.debug=t.log),t.error||(t.error=t.log),t.info||(t.info=t.log),t.warn||(t.warn=t.log),t.trace||(t.trace=n),t.group||(t.group=function(e){"string"!=typeof e&&(e=Number(i.length+1).toString()),i.push(e),t.log("---- START GROUP: "+e)},t.groupCollapsed=t.group,t.groupEnd=function(){t.log("---- END GROUP: "+(i.length>0?i.pop():"???"))})}(window),function(e){"use strict";var t,n,i,o,r,a,s,l,d,c=[],u=[],p=null,h=function(){},m=function(){},f=[],g=!1,y=!1;if(void 0===e.performance&&(e.performance={}),e._perfRefForUserTimingPolyfill=e.performance,e.performance.userTimingJsNow=!1,e.performance.userTimingJsNowPrefixed=!1,e.performance.userTimingJsUserTiming=!1,e.performance.userTimingJsUserTimingPrefixed=!1,e.performance.userTimingJsPerformanceTimeline=!1,e.performance.userTimingJsPerformanceTimelinePrefixed=!1,"function"!=typeof e.performance.now){for(e.performance.userTimingJsNow=!0,u=["webkitNow","msNow","mozNow"],s=0;s<u.length;s++)if("function"==typeof e.performance[u[s]]){e.performance.now=e.performance[u[s]],e.performance.userTimingJsNowPrefixed=!0;break}t=+new Date,e.performance.timing&&e.performance.timing.navigationStart?t=e.performance.timing.navigationStart:"undefined"!=typeof process&&"function"==typeof process.hrtime&&(t=process.hrtime(),e.performance.now=function(){var e=process.hrtime(t);return 1e3*e[0]+1e-6*e[1]}),"function"!=typeof e.performance.now&&(Date.now?e.performance.now=function(){return Date.now()-t}:e.performance.now=function(){return+new Date-t})}if(d=e.performance.now(),"function"!=typeof e.performance.getEntries||"function"!=typeof e.performance.mark){for("function"==typeof e.performance.getEntries&&"function"!=typeof e.performance.mark&&(y=!0),e.performance.userTimingJsPerformanceTimeline=!0,c=["webkit","moz"],u=["getEntries","getEntriesByName","getEntriesByType"],s=0;s<u.length;s++)for(l=0;l<c.length;l++)p=c[l]+u[s].substr(0,1).toUpperCase()+u[s].substr(1),"function"==typeof e.performance[p]&&(e.performance[u[s]]=e.performance[p],e.performance.userTimingJsPerformanceTimelinePrefixed=!0);h=function(e){f.push(e),"measure"===e.entryType&&(g=!0)},r=function(){g&&(f.sort(function(e,t){return e.startTime-t.startTime}),g=!1)},m=function(e,t){for(s=0;s<f.length;)f[s].entryType!==e?s++:void 0!==t&&f[s].name!==t?s++:f.splice(s,1)},("function"!=typeof e.performance.getEntries||y)&&(n=e.performance.getEntries,e.performance.getEntries=function(){var t;return r(),t=f.slice(0),y&&n&&(Array.prototype.push.apply(t,n.call(e.performance)),t.sort(function(e,t){return e.startTime-t.startTime})),t}),("function"!=typeof e.performance.getEntriesByType||y)&&(o=e.performance.getEntriesByType,e.performance.getEntriesByType=function(t){var n;if(void 0===t||"mark"!==t&&"measure"!==t)return y&&o?o.call(e.performance,t):[];for("measure"===t&&r(),n=[],s=0;s<f.length;s++)f[s].entryType===t&&n.push(f[s]);return n}),("function"!=typeof e.performance.getEntriesByName||y)&&(i=e.performance.getEntriesByName,e.performance.getEntriesByName=function(t,n){var o;if(n&&"mark"!==n&&"measure"!==n)return y&&i?i.call(e.performance,t,n):[];for(void 0!==n&&"measure"===n&&r(),o=[],s=0;s<f.length;s++)void 0!==n&&f[s].entryType!==n||f[s].name===t&&o.push(f[s]);return y&&i&&(Array.prototype.push.apply(o,i.call(e.performance,t,n)),o.sort(function(e,t){return e.startTime-t.startTime})),o})}if("function"!=typeof e.performance.mark){for(e.performance.userTimingJsUserTiming=!0,c=["webkit","moz","ms"],u=["mark","measure","clearMarks","clearMeasures"],s=0;s<u.length;s++)for(l=0;l<c.length;l++)p=c[l]+u[s].substr(0,1).toUpperCase()+u[s].substr(1),"function"==typeof e.performance[p]&&(e.performance[u[s]]=e.performance[p],e.performance.userTimingJsUserTimingPrefixed=!0);a={},e.performance.timing&&e.performance.timing.responseEnd||(a.responseEnd=[d]),"function"!=typeof e.performance.mark&&(e.performance.mark=function(t){var n=e.performance.now();if(void 0===t)throw new SyntaxError("Mark name must be specified");if(e.performance.timing&&t in e.performance.timing)throw new SyntaxError("Mark name is not allowed");a[t]||(a[t]=[]),a[t].push(n),h({entryType:"mark",name:t,startTime:n,duration:0})}),"function"!=typeof e.performance.clearMarks&&(e.performance.clearMarks=function(e){e?a[e]=[]:a={},m("mark",e)}),"function"!=typeof e.performance.measure&&(e.performance.measure=function(t,n,i){var o,r=e.performance.now(),s=0;if(void 0===t)throw new SyntaxError("Measure must be specified");if(!n)return void h({entryType:"measure",name:t,startTime:0,duration:r});if(e.performance.timing&&n in e.performance.timing){if("navigationStart"!==n&&0===e.performance.timing[n])throw new Error(n+" has a timing of 0");s=e.performance.timing[n]-e.performance.timing.navigationStart}else{if(!(n in a))throw new Error(n+" mark not found");s=a[n][a[n].length-1]}if(o=r,i)if(o=0,e.performance.timing&&i in e.performance.timing){if("navigationStart"!==i&&0===e.performance.timing[i])throw new Error(i+" has a timing of 0");o=e.performance.timing[i]-e.performance.timing.navigationStart}else{if(!(i in a))throw new Error(i+" mark not found");o=a[i][a[i].length-1]}h({entryType:"measure",name:t,startTime:s,duration:o-s})}),"function"!=typeof e.performance.clearMeasures&&(e.performance.clearMeasures=function(e){m("measure",e)})}}(window);var CNN=window.CNN||{};CNN.Utils=CNN.Utils||function(e,t,n,i){"use strict";function o(e){var t=null;return"string"==typeof e&&Date.parse(e)?t=e:"number"==typeof e&&(t=new Date(Date.now()+e*x).toGMTString()),t}function r(e){var t,n=!0;for(t=0;t<arguments.length;t++)if(!function(e){return e!==i&&null!==e}(arguments[t])){n=!1;break}return n}function a(e){var t,n=!0;for(t=0;t<arguments.length;t++)if(!function(e){return"object"==typeof e&&null!==e}(arguments[t])){n=!1;break}return n}function s(e){var t,n=!0;for(t=0;t<arguments.length;t++)if(!function(e){return"string"==typeof e&&e.length>0}(arguments[t])){n=!1;break}return n}function l(){var e,t,i={},o=0;if(n.cookie)for(e=n.cookie.split("; ");o<e.length;o++)t=e[o].split("="),i[t[0]]=decodeURIComponent(t[1])||null;return i}function d(e){return null!==c(e)}function c(e){var t=new RegExp("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"),i=n.cookie.match(t);return i?i.pop():null}function u(e,t,i,a,s,l){var d="";r(e)&&r(t)&&(i=o(i),a=r(a)?a:"/",s=r(s)?s:"",l=!!r(l)&&l,d+=e+"="+encodeURIComponent(t),r(i)&&(d+=";expires="+i),a&&(d+=";path="+a),s&&(d+=";domain="+s),l&&(d+="; secure"),n.cookie=d)}function p(e,t,n,i){u(e,t,n,"/",".cnn.com",i)}function h(e,t,i){var o="";r(e)&&(t=r(t)?t:"/",i=r(i)?i:"",o+=e+"=;expires="+A,t&&(o+=";path="+t),i&&(o+=";domain="+i),n.cookie=o)}function m(e){h(e,"/",".cnn.com")}function f(e,n,i){var o;if("string"==typeof e&&e.length>0&&"string"==typeof n)if(!1===CNN.hasLocalStorage)u(e,n,"session"===i?null:i,"/",".cnn.com",!1);else try{"session"===i?t.sessionStorage.setItem(e,n):(t.localStorage.setItem(e,n),"number"==typeof i?(o=new Date(Date.now()+i*x),t.localStorage.setItem(e+"__expires",o.getTime().toString(10))):"string"==typeof i&&"session"!==i&&(o=new Date(i),o.getTime()>Date.now()&&t.localStorage.setItem(e+"__expires",o.getTime().toString(10))))}catch(e){}}function g(e){if("string"==typeof e&&e.length>0){if(!1===CNN.hasLocalStorage)return d(e);try{if(r(t.sessionStorage.getItem(e))||r(t.localStorage.getItem(e+"__expires")))return!0}catch(e){}}return!1}function y(e){if("string"==typeof e&&e.length>0)if(!1===CNN.hasLocalStorage)h(e);else{try{t.localStorage.removeItem(e),t.localStorage.removeItem(e+"__expires")}catch(e){}try{t.sessionStorage.removeItem(e)}catch(e){}}}function v(e){var n,i=null;if("string"==typeof e&&e.length>0)try{!1===CNN.hasLocalStorage?i=c(e):null!==(n=t.localStorage.getItem(e+"__expires"))?parseInt(n,10)>Date.now()?i=t.localStorage.getItem(e):y(e):(i=t.sessionStorage.getItem(e),r(i)||(i=t.localStorage.getItem(e)))}catch(e){}return i}function w(e){var n,i,o,r,a,s,l=e;if("function"==typeof t.btoa)try{n=t.btoa(l)}catch(i){n=t.btoa(e.replace(/[^\w\s\!\@\#\$\%\^\&\*\(\)\-\=\+\.\,\\\;\:\'\"\?]/,"-"))}else{if(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),o="",r="",(a=l.length%3)>0)for(;a<3;a++)r+="=",l+="\0";for(a=0;a<l.length;a+=3)a>0&&a/3*4%76==0&&(o+="\r\n"),s=(l.charCodeAt(a)<<16)+(l.charCodeAt(a+1)<<8)+l.charCodeAt(a+2),s=[s>>>18&63,s>>>12&63,s>>>6&63,63&s],o+=i[s[0]]+i[s[1]]+i[s[2]]+i[s[3]];n=o.substring(0,o.length-r.length)+r}return n}function b(e){var n,i,o,r,a,s,l,d,c=e;if("function"==typeof t.atob)try{n=t.atob(c)}catch(e){console.log(e.message,"\nString to decode: "+c)}else{for(i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),o={},d=0;d<i.length;d++)o[i[d]]=d;for(c=c.replace(new RegExp("[^"+i.join("")+"=]","g"),""),
a="="===c.charAt(c.length-1)?"="===c.charAt(c.length-2)?"AA":"A":"",r="",c=c.substr(0,c.length-a.length)+a,s=0;s<c.length;s+=4)l=(o[c.charAt(s)]<<18)+(o[c.charAt(s+1)]<<12)+(o[c.charAt(s+2)]<<6)+o[c.charAt(s+3)],r+=String.fromCharCode(l>>>16&255,l>>>8&255,255&l);n=r.substring(0,r.length-a.length)}return n}function _(e){return e.replace("#","")}function C(){return t.Modernizr.phone}var x=36e5,A="Thu, 01 Jan 1970 00:00:00 UTC";return CNN.hasLocalStorage=function(){var e="__test_it";try{return t.localStorage.setItem(e,e),t.localStorage.removeItem(e),t.sessionStorage.setItem(e,e),t.sessionStorage.removeItem(e),!0}catch(e){return!1}}(),{exists:r,existsObject:a,existsString:s,getCookies:l,getCookie:c,cookieExists:d,setCookie:u,deleteCookie:h,setCNNCookie:p,deleteCNNCookie:m,storeLocalValue:f,hasLocalValue:g,deleteLocalValue:y,getLocalValue:v,b64Encode:w,b64Decode:b,stripHash:_,isPhone:C}}(jQuery,window,document),CNN.Features=CNN.Features||{},CNN.VideoConfig=CNN.VideoConfig||{},CNN.VideoConfig.liveStream=CNN.VideoConfig.liveStream||{},CNN.GeoCheck=function(e,t){"use strict";function n(){return r}function i(e){var t,n,i,o,a,s=!0;if(null!==r&&!0===Array.isArray(e)&&e.length>0)for(i=r.country+":"+r.region,o=i+":"+r.city.toLowerCase(),t=0;t<e.length;t++)a=e[t],"-"===a.charAt(0)?(a=a.slice(1),n=!1):n=!0,"*"===a?s=n:"#"===a.charAt(0)?r.continent===a.slice(1)&&(s=n):(2===a.length&&r.country===a||5===a.length&&i===a||a.length>6&&o===a)&&(s=n);return s}function o(){return CNN._geoCheckReadyEvent}var r=null;return CNN._geoCheckReadyEvent=!1,e.fn.extend({onGeoCheckReady:function(n){"function"==typeof n&&(!0===CNN._geoCheckReadyEvent?n(e):e(t).on("geoCheckReady",{handler:n},function(t){t=t||{},"object"==typeof t.data&&null!==t.data&&"function"==typeof t.data.handler&&t.data.handler(e)}))},triggerGeoCheckReady:function(){CNN._geoCheckReadyEvent=!0,e(t).trigger("geoCheckReady")}}),function(){var n,i;i=CNN.Utils.getCookie("geoData"),null!==i&&(n=i.split("|"),n.length>4&&(r={city:n[0],region:n[1],postCode:n[2],country:n[3],continent:n[4]})),e(t).triggerGeoCheckReady()}(),{getData:n,inTarget:i,isReady:o}}(jQuery,document),CNN=window.CNN||{},CNN.AdsConfig=CNN.AdsConfig||{},CNN.AdsConfig.aisOverride?function(e,t){"use strict";var n=e.createElement("script"),i=e.getElementsByTagName("script")[0];n.type="text/javascript",n.src=("https:"===e.location.protocol?"https:":"http:")+t.AdsConfig.aisOverride,i.parentNode.insertBefore(n,i)}(document,window.CNN):(CNN.AdsConfig.amazon=CNN.AdsConfig.amazon||{},CNN.Features=CNN.Features||{},function(){var e=function(){return!1},t={addMetric:e,getMetricById:e,getMetricsByType:e,getMetricTypes:e};window.cnnad_haveCookie=function(e){return document.cookie&&(document.cookie.indexOf("; "+e+"=")>=0||0==document.cookie.indexOf(e+"="))},window.cnnad_readCookie=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var o=t[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(n))return o.substring(n.length,o.length)}return null}},window.turner_getGuid=function(){return window.cnnad_readCookie("ug")},function(){function e(){function e(){var e=window.turner_getGuid();t=window.AdFuel.registerModule("GUID",{}),o("setting guid targeting",{guid:e}),t.addMetric({type:"modules",id:"GUID",data:{targeting:{guid:e}}}),window.AdFuel.addPageLevelTarget("guid",e)}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var n=Object.prototype,i=n.toString,o=function(){};if(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e}(window.console)&&function(e){return"[object Function]"===i.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(o=function(){var e=["[AdFuelModule - Guid]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.cnnad_haveCookie("ugs"))e();else{var r=document,a=r.createElement("script"),s=r.getElementsByTagName("script")[0],l=/^(complete|loaded)$/,d=!1;a.type="text/javascript",a.async=!0,a.src="//www.ugdturner.com/xd.sjs",a.onload=a.onreadystatechange=function(){d||"readyState"in a&&l.test(a.readyState)||(a.onload=a.onreadystatechange=null,d=!0,e())},s.parentNode.insertBefore(a,s)}}()}(),function(){var e=function(){return!1},t={addMetric:e,getMetricById:e,getMetricsByType:e,getMetricTypes:e};window.cnnad_transactionID=null,window.cnnad_getTransactionID=function(){return window.cnnad_transactionID||(window.cnnad_transactionID=Math.round((new Date).getTime()/1e3)+""+Math.floor(9007199254740992*Math.random())),window.cnnad_transactionID},window.turner_getTransactionId=window.cnnad_getTransactionID,window.turner_getTransactionId(),function(){function e(){var e=window.turner_getTransactionId();t=AdFuel.registerModule("Transaction Id",{}),t.addMetric({type:"modules",id:"Transaction Id",data:{targeting:{transId:e}}}),window.AdFuel.addPageLevelTarget("transId",e)}var n=Object.prototype,i=n.toString;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===i.call(e)}(window.console.log)&&function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);i&&i[1]}}("debug"),window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}()}(),!0===CNN.Features.enableAdsConsole&&function(){function e(){location.hash.indexOf("doh")>=0?(Q=!1,V&&u(),u()):location.hash.indexOf("afc")>=0?(Q=!0,V&&u(),u()):V&&u()}function t(e,t,n){return e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent?e.attachEvent("on"+t,n):void 0}function n(e,t,n){var i=document.createElement("div");i.style.width="48%",i.style.float="left",i.style.display="inline-block";var o=document.createElement("input");o.type="checkbox",o.name=e,o.id=e+"_"+t,o.style.float="left",o.style["margin-right"]="2px",o.style.position="relative",o.style.top="3px",o.value=t;var r=document.createElement("div");return r.style.width="calc(100% - 18px)",r.appendChild(document.createTextNode(n)),i.appendChild(o),i.appendChild(r),i}function o(e,t){var n=document.createElement(e);return n.appendChild(document.createTextNode(t)),n}function r(e){var t=document.createElement("button");return t.onclick=e.action,t.id=e.name,t.appendChild(document.createTextNode(e.value)),t.className="btn btn-sm btn-primary",t}function a(e,t){return e.data[2]<t.data[2]?-1:e.data[2]>t.data[2]?1:0}function s(e){return!!new RegExp(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/).test(e)}function l(){ie("Getting Viewport Dimensions");var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),oe("Getting Viewport Dimensions"),[e,t]}function d(){ie("Getting Browser Information");var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&null!=(e=t.match(/\b(OPR|Edge)\/(\d+)/))?e.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),oe("Getting Browser Information"),n.join(" "))}function c(){if(null!==he)return he;ie("Getting Device Information"),re=pe();var e=l();return he={availHeight:screen.availHeight,availLeft:screen.availLeft,availTop:screen.availTop,availWidth:screen.availWidth,colorDepth:screen.colorDepth,height:screen.height,orientation:{angle:screen.orientation?screen.orientation.angle:0,onchange:screen.orientation?screen.orientation.onchange:null,type:screen.orientation?screen.orientation.type:null},pixelDepth:screen.pixelDepth,width:screen.width,os:window.navigator.platform?window.navigator.platform:"Unknown",browser:d(),class:"Desktop",viewport:e.join("x")},re.amazon.device&&(he.os="Amazon",re.amazon.phone&&(he.class="Phone"),re.amazon.tablet&&(he.class="Tablet")),re.android.device&&(he.os="Android",re.android.phone&&(he.class="Phone"),re.android.tablet&&(he.class="Tablet")),re.apple.device&&(he.os="iOS",re.apple.ipod&&(he.class="iPod"),re.apple.phone&&(he.class="Phone"),re.apple.tablet&&(he.class="Tablet")),re.windows.device&&(he.os="Windows",re.windows.phone&&(he.class="Phone"),re.windows.tablet&&(he.class="Tablet")),re.other.blackberry&&(he.os="Blackberry",he.class="Phone"),re.other.blackberry10&&(he.os="Blackberry10",he.class="Phone"),re.other.chrome&&(he.os="Chrome",he.class="Phone"),re.other.firefox&&(he.os="Firefox",he.class="Phone"),re.other.opera&&(he.os="Opera",he.class="Phone"),j.addMetric({type:"modules",id:"User Sciences",data:he}),oe("Getting Device Information"),he}function u(){if(V){var e=document.getElementsByTagName("head")[0],n=document.getElementsByTagName("body")[0],i=document.getElementById("material-icons-font"),o=document.getElementById("adfuel-console-stylesheet"),r=document.querySelector("div.adfuel-console-button-container"),a=document.querySelector("div.adfuel-console-filler"),s=document.querySelector("div.adfuel-console");e.removeChild(i),e.removeChild(o),n.removeChild(r),n.removeChild(a),n.removeChild(s),V=!1}else{var e=document.getElementsByTagName("head")[0],n=document.getElementsByTagName("body")[0],l="https:"===document.location.protocol,i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=(l?"https:":"http:")+"//fonts.googleapis.com/icon?family=Material+Icons",i.id="material-icons-font";var o=document.createElement("link");o.rel="stylesheet",o.href=(l?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/consoleTool-2.1.css",o.id="adfuel-console-stylesheet";var d=document.createElement("link");d.rel="stylesheet",d.href=(l?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/dhtmlxgrid.css",d.id="adfuel-console-table-stylesheet";var r=document.createElement("div");r.className="adfuel-console-button-container adfuel-open-console-button-container";var c=document.createElement("a");c.className="adfuel-console-button";var u=document.createElement("i");u.className="adfuel-console-button-icon material-icons",u.innerHTML="view_module",u.innerText="view_module";var a=document.createElement("div");a.className="adfuel-console-filler";var s=document.createElement("div");s.className="adfuel-console",c.appendChild(u),r.appendChild(c),e.appendChild(i),e.appendChild(o),e.appendChild(d),n.appendChild(r),n.appendChild(a),n.appendChild(s),function(e){"use strict";var t=document,n=t.createElement("script"),i=t.getElementsByTagName("script")[0],o=/^(complete|loaded)$/,r=!1,a="https:"===document.location.protocol;n.type="text/javascript",n.async=!0,n.src=(a?"https:":"http:")+"//www.geoplugin.net/javascript.gp",n.onload=n.onreadystatechange=function(){r||"readyState"in n&&o.test(n.readyState)||(n.onload=n.onreadystatechange=null,r=!0,e())},i.parentNode.insertBefore(n,i)}(function(){var e,t,n,i,o,r=!1;window.geoplugin_countryCode&&(e=window.geoplugin_countryCode(),r=!0),window.geoplugin_city&&(t=window.geoplugin_city(),r=!0),window.geoplugin_region&&(n=window.geoplugin_region(),r=!0),window.geoplugin_latitude&&(i=window.geoplugin_latitude(),r=!0),window.geoplugin_longitude&&(o=window.geoplugin_longitude(),r=!0),1==r&&j.addMetric({type:"configuration",id:"actual_user_location",data:{city:t,region:n,country:e,latitude:i,longitude:o}})}),y(s),W=t(c,"click",p),V=!0}}function p(){W=null;var e=(document.getElementsByTagName("head")[0],document.getElementsByTagName("body")[0],document.querySelector("div.adfuel-console-filler")),t=document.querySelector("div.adfuel-console"),n=document.querySelector("div.adfuel-console-button-container"),i=document.querySelector("div#adfuel-close-console-button-container");n.style.display="none",i.style.display="inline-block",e.style.display="block",e.className=e.className+" resizable",t.style.display="inline-block",t.style.resize="both",t.className=t.className+" resizable",ne("Opening AdFuel Console."),g(document.getElementsByClassName("adfuel-console-tab-link-container")[0]),b(t),ne("Full Console: ",Q),w(Q?"configuration":"creative review")}function h(){window.open("http://docs.turner.com/display/DAD/AdFuel+Console+Documentation","ConsoleHelp")}function m(){if(G){var e=document.querySelectorAll(".adfuel-rendered"),t=e.length;for(i=0;i<t;i++){var n=e[i].id,o=document.getElementById(n);o.style.position="relative";var r=o.firstElementChild.firstElementChild?o.firstElementChild.firstElementChild.width:o.firstElementChild.width,a=o.firstElementChild.firstElementChild?o.firstElementChild.firstElementChild.height:o.firstElementChild.height;o.style.width=r+"px",o.style.height=a+"px";var s=n.substring(n.indexOf("_")+1),l=document.createElement("div"),d=document.createElement("p");d.innerHTML="Pos: "+s+"<br />Width: "+r+"<br />Height: "+a,l.className="pos_overlay",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.right="0",l.style.bottom="0",l.style.textAlign="left",l.style.padding="3px",l.style.fontFamily="Verdana",l.style.fontSize="12px",l.style.fontWeight="normal",l.style.lineHeight="12px",l.style.background="rgba(0,100,0,0.7)",l.style.color="#ffffff",l.style.zIndex="1000",l.appendChild(d),o.appendChild(l)}G=!1}else{var c=document.querySelectorAll(".pos_overlay"),t=c.length;for(i=0;i<t;i++)c[i].parentNode.removeChild(c[i]);G=!0}}function f(e){e=e.toString();var t=e.split(" "),n="";if(t.length>1){for(var i=0;i<t.length;i++){var o=t[i].charAt(0).toUpperCase()+t[i].slice(1);t[i]=o}n=t.join(" ")}else n=e.charAt(0).toUpperCase()+e.slice(1);return n}function g(e){function n(e){w(e.srcElement?e.srcElement.rel:e.target.rel)}if(ne("Building Console Tabs...",e),e||(e=document.getElementsByClassName("adfuel-console-tab-link-container")[0]),!e)return ne("Error: No tab link container."),!1;var i=document.getElementsByClassName("adfuel-console-tab-list")[0];if(i){i.parentNode.removeChild(i)}var o=document.createElement("ul");o.className="adfuel-console-tab-list",fe=j.getMetricTypes(),fe.sort();for(var r=0;r<fe.length;r++)if(0!=fe[r].indexOf("_")&&"watchers"!==fe[r]){var a=document.createElement("li");ne("Full Console: ",Q),a.style.display=Q?"inline-block":"none","creative review"==fe[r]&&(a.style.display="none"),a.style.marginLeft="15px",a.style.marginRight="auto",a.style.fontSize=".8em",a.style.paddingBottom="10px";var s=document.createElement("a");s.className="afcTab",0==r&&(s.className="activeAFCTab afcTab"),s.rel=fe[r],t(s,"click",n),s.appendChild(document.createTextNode(f(fe[r]))),a.appendChild(s),o.appendChild(a)}e.appendChild(o)}function y(e){var n=document.createElement("div");n.className="adfuel-console-button-container",n.id="adfuel-close-console-button-container";var i=document.createElement("a");i.className="adfuel-console-button-plain",i.id="adfuel-close-console-button";var o=document.createElement("i");o.className="adfuel-console-button-icon material-icons",o.innerHTML=o.innerText="close";var r=document.createElement("a");r.className="adfuel-console-button-plain",r.id="adfuel-resize-console-button";var a=document.createElement("i");a.className="adfuel-console-button-icon material-icons",a.innerHTML=a.innerText="help_outline";var s=document.createElement("a");s.className="adfuel-console-button-plain",s.id="adfuel-show-overlay-button";var l=document.createElement("i");l.className="adfuel-console-button-icon material-icons",l.innerHTML=l.innerText="vignette";var d=document.createElement("div");d.id="adfuel-console-banner";var c=document.createElement("div");c.className="adfuel-console-tab-link-container",s.appendChild(l),r.appendChild(a),i.appendChild(o),n.appendChild(s),n.appendChild(r),n.appendChild(i),K=t(i,"click",R),_consoleHelpButtonHandler=t(r,"click",h),$=t(s,"click",m),d.appendChild(n);var u=document.createElement("div");u.className="adfuel-console-banner-title",ne("Full Console: ",Q);var p=Q?"AdFuel Console Tool":"AdFuel Creative Review";u.appendChild(document.createTextNode(p)),d.appendChild(u),d.appendChild(c),e.appendChild(d)}function v(e,t){if(e.type){J.indexOf(e.type)<0&&(g(),J.push(e.type));var n=document.getElementById("adfuel-console-panel-"+e.type.replace(/ /g,"-"));if("counts"==e.type)x(n);else if("creative review"==e.type){var i=parseInt(he.viewport.split("x")[0]);i>800&&i<1250?T(n):i<800?N(n):S("Desktop"==he.class?n:n)}else"timeline"==e.type?_(n):M(n,!0);t&&t()}}function w(e){var t,n=document.getElementsByClassName("afcTab"),i=document.querySelector("li > a[rel='"+e+"']");for(t=0;t<n.length;t++)n[t].className=n[t].className.replace("activeAFCTab","");i&&(i.className=i.className+" activeAFCTab");var o=document.getElementById("adfuel-console-panel-"+e.replace(/ /g,"-"));if(!o){var r=e,a=document.createElement("div"),s=document.getElementsByClassName("adfuel-console")[0];a.id="adfuel-console-panel-"+r.replace(/ /g,"-"),a.style.display="none",a.className="adfuel-console-panel adfuel-console-content",a.style.width="100%",a.style.padding="0",a.style.margin="0",a.style.height="80%",a.style.minHeight="250px",a.style.overflowY="auto",s.appendChild(a),o=a}if("timeline"==e){_(o,A())}var l=document.getElementsByClassName("adfuel-console-panel");for(t=0;t<l.length;t++)l[t].style.display="none";o.style.display="block",ne("Full Console: ",Q),Q&&"configuration"==e&&C({target:{dataset:{panel:o.id,tab:"adfuel_initialization_options",content:"adfuel-console-panel-configuration-tabContent-adfuel_initialization_options"}}})}function b(e){if(e||(e=document.getElementsByClassName("adfuel-console")[0]),!e)return ne("Error: No AdFuel-Console container."),!1;for(var t=0;t<fe.length;t++)if(0!=fe[t].indexOf("_")){var n=fe[t],i=document.createElement("div");if(i.id="adfuel-console-panel-"+n.replace(/ /g,"-"),i.style.display="none",i.className="adfuel-console-panel adfuel-console-content",i.style.width="100%",i.style.padding="0",i.style.margin="0",i.style.height="80%",i.style.minHeight="250px",e.appendChild(i),ne("Full Console: ",Q),ne("Panel Name: ",n),!Q&&"creative review"!=n)continue;switch(n){case"creative review":var o=parseInt(he.viewport.split("x")[0]);o>800&&o<1250?T(i):o<800?N(i):S("Desktop"==he.class?i:i);break;case"counts":x(i);break;case"configuration":case"modules":case"page":case"registries":case"requests":case"slots":i.style.display="block",M(i,!0);break;case"timeline":var r=A();_(i,r);break;default:M(i,!0)}}}function _(e,t){if(e&&t){var n=document.createElement("div");n.id="gridbox",n.style.width="100%",n.style.height="95%",n.style.backgroundColor="#ABABAB",n.style.margin="0",n.style.padding="0",n.style.position="relative",n.style.top="-12px";try{e.removeChild(n)}catch(e){}e.style.height="90%",e.appendChild(n);try{L=new dhtmlXGridObject("gridbox"),L.setImagePath(("https:"===document.location.protocol?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/"),n.style.position="relative",n.style.top="-12px",n.style.left="2px",L.setHeader("Name, Type, Timestamp, Start, End, Time From Previous, Time From Initial, Duration,"),L.setInitWidths("350,100,200,200,200,150,150,100"),L.setColAlign("left, left, left, left, left, left, left, left"),L.setColTypes("ro,ro,ro,ro,ro,ro,ro,ro"),L.enableColumnAutoSize(!0),L.enableDragAndDrop(!1),L.init(),L.clearAll(),L.parse(t,"json")}catch(e){}}}function C(e){var t=e.target,n=t.dataset,i=n.panel,o=(n.tab,n.content),r=document.querySelectorAll("div#"+i+" .adfuel-console-panel-tab-content"),a=document.querySelectorAll("div#"+i+" ul.nav-stacked li"),s=document.querySelector("div#"+i+" ul.nav-stacked li#"+n.tab.replace(/ /g,"_")),l=0;for(l=0;l<r.length;l++)r[l].style.display="none";for(l=0;l<a.length;l++)a[l].className="";return s&&(s.className=s.className+" active"),document.getElementById(o).style.display="block",!1}function x(e){if(e){e.innerHTML="";var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.display="inline-block",t.style.padding="5px",t.style.margin="0";var n=document.createElement("ul");n.className="nav nav-pills nav-stacked flex-column",n.style.listStyleType="none",n.style.margin="0",n.style.padding="5px",n.style.height="100%",n.style.minHeight="250px",n.style.overflow="auto";var i=[];j.metrics&&j.metrics.counts&&(i=Object.getOwnPropertyNames(j.metrics.counts));for(var o=0;o<i.length;o++){var r=document.createElement("li");r.style.margin="5px",r.style.padding="5px",r.style.fontSize="14px",r.style.width="15%",r.style.display="inline-block",r.style.float="left",r.style.borderRight="solid 1px #BCBCBC",r.id=i[o].replace(/ /g,"_"),r.innerHTML=f(i[o].replace(/_/g," "));var a=document.createElement("span");a.style.float="right",a.className="badge badge-pill badge-primary",a.style.width="15%",a.innerHTML=j.metrics.counts[i[o]],r.appendChild(a),n.appendChild(r)}t.appendChild(n),e.appendChild(t)}}function A(){var e=["connection_start","document_request_start","domContentLoaded","dom_load_start","domain_lookup_start","fetch_start","navigation_start","window_load"],t=["_rendered","adfuel_initialized","building_gpt_slots","dispatch_queue"],n=["request_to_dfp"],i=["_preQueue","_postQueue","_preDispatch","_postDispatch","_preRefresh","_postRefresh"],o=j.metrics.timeline,r="",s={rows:[]};for(var l in o)if(o.hasOwnProperty(l)){if(e.indexOf(l)>=0)r="Browser";else if(t.indexOf(l)>=0||l.indexOf("_rendered")>0||l.indexOf("building_gpt_slot_")>=0)r="AdFuel";else if(n.indexOf(l)>=0)r="DFP";else{for(var d=0;d<i.length;d++)l.indexOf(i[d])>0&&(r="Module");""==r&&(r="UNKNOWN")}for(var c=0;c<o[l].length;c++){var u,p,h=o[l][c];if(h.timestamp){var m=new Date;m.setTime(h.timestamp),u=m.toISOString().split("T"),u[0],p=u[1].replace("Z",""),m=p;for(var g=l.split("_"),c=0;c<g.length;c++)g[c]=f(g[c]);var y=g.join(" "),v={id:l+"_"+c,data:[y,r,o[l][0].timestamp,m,"","","",0]};s.rows.push(v)}else if(h.start&&h.end){var w=new Date;w.setTime(h.start),u=w.toISOString().split("T"),u[0],p=u[1].replace("Z",""),w=p;var b=new Date;b.setTime(h.end),u=b.toISOString().split("T"),u[0],p=u[1].replace("Z",""),b=p;for(var _=parseInt(h.end)-parseInt(h.start)+"ms",g=l.split("_"),c=0;c<g.length;c++)g[c]=f(g[c]);var y=g.join(" "),v={id:l+"_"+c,data:[y,r,o[l][0].start,w,b,"","",_],endStamp:h.end};s.rows.push(v)}else if(h.start){var w=new Date;w.setTime(h.start),u=w.toISOString().split("T"),u[0],p=u[1].replace("Z",""),w=p;for(var g=l.split("_"),c=0;c<g.length;c++)g[c]=f(g[c]);var y=g.join(" "),v={id:l+"_"+c,data:[y,r,o[l][0].start,w,"","","",""]};s.rows.push(v)}}}if(s.rows.length>0){s.rows.sort(a);for(var C=s.rows[0].data[2],x=1;x<s.rows.length;x++){var A=s.rows[x],E=s.rows[x-1].data[2];A.data[5]=A.data[2]-E+"ms",A.data[6]=A.data[2]-C+"ms"}var S=s.rows[s.rows.length-1],N=S.endStamp?S.endStamp:S.data[2],T=N-C+"ms",v={id:"elapsed_time",data:["Total Elapsed Time","","","","","","",T]};s.rows.push(v)}return s}function E(e,n){var i=document.createElement("div");i.style.width="27%",i.style.maxWidth="400px",i.style.height="100%",i.style.display="inline-block",i.style.margin="0",i.style.float="left",i.style.borderRight="solid 1px #0052e7",e.appendChild(i);var o=document.createElement("ul");o.className="nav nav-pills nav-stacked flex-column",o.style.listStyleType="none",o.style.margin="0",o.style.padding="5px",o.style.height="100%",o.style.minHeight="250px",o.style.overflow="auto";for(var r=0;r<n.length;r++){isNaN(parseInt(n[r]))||(n[r]="request_"+n[r]);var a=document.createElement("div");a.id=e.id+"-tabContent-"+n[r].replace(/ /g,"_"),a.className="adfuel-console-panel-tab-content",a.style.width="72%",a.style.height="100%",a.style.display="inline-block",a.style.padding="0",a.style.margin="5px",a.style.float="left",0!=r&&(a.style.display="none");var s=document.createElement("li");0==r&&(s.className=s.className+" active"),s.id=n[r].replace(/ /g,"_");var l=document.createElement("a");l.rel=n[r],l.dataset.panel=e.id,l.dataset.tab=n[r],l.dataset.content=a.id,l.innerHTML=f(n[r].replace(/_/g," ")),s.appendChild(l),o.appendChild(s),B(a,n[r]),t(l,"click",C),e.appendChild(a)}i.appendChild(o)}function S(e,t){function i(e,t,i){for(var a=0;a<i.length;a++){var s=i[a];switch(s.type){case"textarea":var l=o("div",s.label+":"+(!0===s.required?" *":""));l.style.fontWeight="bolder",e.appendChild(l),e.appendChild(s.element=document.createElement("textarea")),s.element.name=s.name||"",!0===s.required&&(s.element.attributes.required="required"),s.element.width="95%",s.element.cols="60",s.element.rows="5";break;case"input":var d=o("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",!0===s.required&&s.element.setAttribute("required","required"),e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"listLabel":var u=o("div",s.label+":"+(!0===s.required?" *":""));u.style.fontWeight="bolder",e.appendChild(u);break;case"list":for(var p=document.createElement("div"),h=0;h<s.items.length;h++){var m=s.items[h],f=n(m.name,m.value,m.label),g=f.firstChild;s.items[h].element=g,p.appendChild(f)}e.appendChild(p);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"select":console.debug("Building Select Element",s);var y=o("div",s.label+": "+(!0===s.required?" *":""));y.style.fontWeight="bolder",e.appendChild(y),s.element=document.createElement("select"),s.element.name=s.name;for(var v=0;v<s.options.length;v++){console.debug("Building Select Option Element",s.options[v]);var w=o("option",s.options[v].text);w.value=s.options[v].value,s.element.appendChild(w)}e.appendChild(s.element);break;case"button":e.appendChild(r(s));break;case"fileUpload":if(Y){var d=o("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",s.element.type="file",s.element.accept="image/*",e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"))}}}t.appendChild(e)}function a(e){""!==e?(_.style.display="inline-block",_.innerHTML=e):_.style.display="none",window.setTimeout(function(){_.style.display="none"},3e3)}function s(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}if(ne("Building Desktop Creative Review Form"),t=t||1,e){var l=[{type:"input",name:"Name",value:"",label:"Your Name",required:!0},{type:"input",name:"Email",value:"",label:"Your Email",required:!0},{type:"fileUpload",name:"Screenshot",value:"",label:"Upload Screenshot",required:!1}],d=[{type:"listLabel",name:"Reason",label:"What is the issue you are reporting?",required:!1},{type:"list",name:"Issue(s)",required:!1,items:[{type:"checkbox",name:"Issue",value:"block list violation",label:"Ad violates site block list",required:!1},{type:"checkbox",name:"Issue",value:"video plays in display ad",label:"Video plays in display ad",required:!1},{type:"checkbox",name:"Issue",value:"ad disrupts content",label:"Ad disrupts content",required:!1},{type:"checkbox",name:"Issue",value:"ad incorrectly sized",label:"Ad incorrectly sized",required:!1},{type:"checkbox",name:"Issue",value:"download initiated",label:"Ad attempts to initiate download",required:!1},{type:"checkbox",name:"Issue",value:"blank ad",label:"Blank ad",required:!1},{type:"checkbox",name:"Issue",value:"low quality",label:"Low-quality ad",required:!1},{type:"checkbox",name:"Issue",value:"audio autostarts",label:"Audio starts automatically",required:!1},{type:"checkbox",name:"Issue",value:"broken ad",label:"Broken ad",required:!1}]},{type:"select",name:"Brand",label:"What is brand is affected by the issue you are reporting?",required:!0,options:[{text:"",value:"placeholder"},{text:"Adult Swim",value:"Adult Swim"},{text:"Bleacher Report",value:"Bleacher"},{text:"Cartoon Network",value:"Cartoon Network"},{text:"CNN",value:"CNN"},{text:"CNN Arabic",value:"CNN Arabic"},{text:"CNN Espanol",value:"CNN Espanol"},{text:"CNN International",value:"CNN International"},{text:"CNN Money",value:"CNN Money"},{text:"E-League",value:"ELEAGUE"},{text:"Great Big Story",value:"Great Big Story"},{text:"HLN",value:"HLN"},{text:"NBA",value:"NBA"},{text:"NBA International",value:"NBA International"},{text:"NCAA",value:"NCAA"},{text:"PGA",value:"PGA"},{text:"TBS",value:"TBS"},{text:"TCM",value:"TCM"},{text:"Team Coco",value:"Team Coco"},{text:"TNT",value:"TNT"},{text:"TruTV",value:"truTV"}]}],c=[{type:"textarea",name:"Comments",label:"Please describe the issue you are reporting",required:!0}];e.innerHTML="",e.style.padding="0";var u=document.createElement("div");u.style.width="100%",u.style.height="100%",u.style.display="inline-block",u.style.padding="5px",u.style.margin="0";var p=document.createElement("div");p.style.width="99%",p.style.borderBottom="solid 1px black";var h=document.createElement("p");h.style.padding="0",h.style.fontWeight="bolder",h.style.margin="auto",h.innerHTML="You can report an issue on this page by submitting the information below. A copy of the report will be sent to the email address specified.<br /><span style='color: red'>* Denotes required fields.</span>",p.appendChild(h),u.appendChild(p);var m=document.createElement("form");m.style.padding="0",m.style.margin="0",u.appendChild(m);var f=document.createElement("div");switch(t){case 1:f.style.width="25%",f.style.height="60%",f.style.display="inline-block",f.style.padding="5px 5px",f.style.margin="0",f.style.float="left";break;case 2:f.style.width="50%",f.style.height="100%",f.style.minHeight="160px",f.style.display="inline-block",f.style.padding="5px 5px",f.style.margin="0",f.style.float="left",f.style.fontSize="12px",f.id="cr_panel_1";break;case 3:f.style.width="100%",f.style.height="100%",f.style.minHeight="160px",f.style.display="inline-block",f.style.padding="5px 5px",f.style.margin="0",f.style.float="left",f.style.fontSize="12px",f.id="cr_panel_1"}i(f,m,l);var g=document.createElement("div");switch(t){case 1:g.style.width="39%",g.style.height="60%",g.style.display="inline-block",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left";break;case 2:g.style.width="50%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="inline-block",g.id="cr_panel_2";break;case 3:g.style.width="100%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="none",g.id="cr_panel_2"}i(g,m,d);var y=document.createElement("div");switch(t){case 1:y.style.width="32%",y.style.height="60%",y.style.display="inline-block",y.style.padding="5px 5px",y.style.margin="0",y.style.float="left";break;case 2:case 3:y.style.width="100%",y.style.height="100%",y.style.minHeight="160px",y.style.padding="5px 5px",y.style.margin="0",y.style.float="left",y.style.fontSize="12px",y.style.display="none",y.id="cr_panel_3"}i(y,m,c);var v=document.createElement("div");v.style.clear="both",u.appendChild(v);var w=document.createElement("div")
;w.style.width="99%",w.style.height="10%",w.style.padding="0",w.style.margin="0";var b=document.createElement("div");b.style.display="inline-block",b.style.float="right";var _=document.createElement("div");_.style.cssText="display: none; margin-right: 14px; margin-top: 7px; color: #FFFFFF; font-style: italic; font-weight: bold; font-size: 12px; padding: 5px; margin-bottom: 5px; border: solid 1px black; background-color: red;";var C=document.createElement("div");C.className="cr-confirm-alert",C.style.visibility="hidden";var x=document.createElement("div");x.className="cr-confirm-alert-text";var A=new Date,E=A.getDay(),S=A.getHours(),N=0==E||6==E||S<8||S>17,T=N?"2 hours outside of":"1 hour during";x.innerHTML="Your report has been successfully submitted to Ad Operations. If you do not get a response within "+T+" normal business hours (8am - 6pm Eastern), further contact information can be found in the confirmation email that has been sent to you.",C.appendChild(x),C.appendChild(document.createElement("br"));var k=document.createElement("button");k.className="btn btn-primary btn-sm",k.innerHTML="OK",k.onclick=function(e){e.preventDefault(),R(),C.style.visibility="hidden",m.reset()},C.appendChild(k),e.appendChild(C);var I=document.createElement("input");I.type="submit",I.className="btn btn-primary btn-sm cr-confirm-alert-btn",I.onclick=function(e){return e.preventDefault(),""==m.elements.Name.value||""==m.elements.Comments.value||""==m.elements.Email.value?void a("Please fill out all required fields."):s(m.elements.Email.value)?void F(m,function(){C.style.visibility="visible"}):void a("Email address is not valid.")};var B=document.createElement("button");B.type="button",B.className="btn btn-primary btn-sn cr-confirm-alert-btn",B.onclick=function(e){switch(t){case 2:if(""==m.elements.Name.value||""==m.elements.Email.value||""==m.elements.Brand.value||"placeholder"==formElements.elements.Brand.value)return void a("Please fill out all required fields.");if(!s(m.elements.Email.value))return void a("Email address is not valid.");if(""==m.elements.Brand.value||"placeholder"==m.elements.Brand.value)return void a("Please select the brand affected by this issue.");document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",b.removeChild(B),b.appendChild(M),b.appendChild(I);break;case 3:switch(me){case 1:if(""==m.elements.Name.value||""==m.elements.Email.value)return void a("Please fill out all required fields.");if(!s(m.elements.Email.value))return void a("Email address is not valid.");document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="inline-block",b.insertBefore(M,B),me++;break;case 2:if(""==m.elements.Brand.value||"placeholder"==m.elements.Brand.value)return void a("Please select the brand affected by this issue.");document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",b.removeChild(B),b.appendChild(I),me++}}},B.style.padding="5px 10px",B.style.fontSize="12px",B.style.lineHeight="1.5",B.style.borderRadius="3px",B.innerHTML="Next >>";var M=document.createElement("button");M.type="button",M.className="btn btn-primary btn-sn cr-confirm-alert-btn",M.onclick=function(e){switch(t){case 2:a(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",b.appendChild(B),b.removeChild(I);case 3:switch(me){case 2:a(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="none",b.removeChild(M);break;case 3:a(""),document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",b.appendChild(B),b.removeChild(I)}me--}},M.style.padding="5px 10px",M.style.fontSize="12px",M.style.lineHeight="1.5",M.style.borderRadius="3px",M.style.marginRight="10px",M.innerHTML="<< Back",b.appendChild(_),1==t?b.appendChild(I):b.appendChild(B),w.appendChild(b),u.appendChild(w),e.insertBefore(u,C)}}function N(e){function t(e,t,i){for(var a=0;a<i.length;a++){var s=i[a];switch(s.type){case"textarea":var l=o("div",s.label+":"+(!0===s.required?" *":""));l.style.fontWeight="bolder",e.appendChild(l),e.appendChild(s.element=document.createElement("textarea")),s.element.name=s.name||"",!0===s.required&&(s.element.attributes.required="required"),s.element.width="95%",s.element.cols="60",s.element.rows="5";break;case"input":var d=o("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",!0===s.required&&s.element.setAttribute("required","required"),e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"listLabel":var u=o("div",s.label+":"+(!0===s.required?" *":""));u.style.fontWeight="bolder",e.appendChild(u);break;case"list":for(var p=document.createElement("div"),h=0;h<s.items.length;h++){var m=s.items[h],f=n(m.name,m.value,m.label),g=f.firstChild;s.items[h].element=g,p.appendChild(f)}e.appendChild(p);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"select":var y=o("div",s.label+": "+(!0===s.required?" *":""));y.style.fontWeight="bolder",e.appendChild(y),s.element=document.createElement("select"),s.element.name=s.name;for(var v=0;v<s.options.length;v++){var w=o("option",s.options[v].text);w.value=s.options[v].value,s.element.appendChild(w)}e.appendChild(s.element);break;case"button":e.appendChild(r(s));break;case"fileUpload":if(Y){var d=o("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",s.element.type="file",s.element.accept="image/*",e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"))}}}t.appendChild(e)}function i(e){""!==e?(b.style.display="inline-block",b.innerHTML=e):b.style.display="none",window.setTimeout(function(){b.style.display="none"},3e3)}function a(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}if(ne("Building Mobile Creative Review Form"),e){var s=[{type:"input",name:"Name",value:"",label:"Your Name",required:!0},{type:"input",name:"Email",value:"",label:"Your Email",required:!0},{type:"fileUpload",name:"Screenshot",value:"",label:"Upload Screenshot",required:!1}],l=[{type:"listLabel",name:"Reason",label:"What is the issue you are reporting?",required:!1},{type:"list",name:"Issue(s)",required:!1,items:[{type:"checkbox",name:"Issue",value:"block list violation",label:"Ad violates site block list",required:!1},{type:"checkbox",name:"Issue",value:"video plays in display ad",label:"Video plays in display ad",required:!1},{type:"checkbox",name:"Issue",value:"ad disrupts content",label:"Ad disrupts content",required:!1},{type:"checkbox",name:"Issue",value:"ad incorrectly sized",label:"Ad incorrectly sized",required:!1},{type:"checkbox",name:"Issue",value:"download initiated",label:"Ad attempts to initiate download",required:!1},{type:"checkbox",name:"Issue",value:"blank ad",label:"Blank ad",required:!1},{type:"checkbox",name:"Issue",value:"low quality",label:"Low-quality ad",required:!1},{type:"checkbox",name:"Issue",value:"audio autostarts",label:"Audio starts automatically",required:!1},{type:"checkbox",name:"Issue",value:"broken ad",label:"Broken ad",required:!1}]},{type:"select",name:"Brand",label:"What is brand is affected by the issue you are reporting?",required:!0,options:[{text:"",value:"placeholder"},{text:"Adult Swim",value:"Adult Swim"},{text:"Bleacher Report",value:"Bleacher"},{text:"Cartoon Network",value:"Cartoon Network"},{text:"CNN",value:"CNN"},{text:"CNN Arabic",value:"CNN Arabic"},{text:"CNN Espanol",value:"CNN Espanol"},{text:"CNN International",value:"CNN International"},{text:"CNN Money",value:"CNN Money"},{text:"E-League",value:"ELEAGUE"},{text:"Great Big Story",value:"Great Big Story"},{text:"HLN",value:"HLN"},{text:"NBA",value:"NBA"},{text:"NBA International",value:"NBA International"},{text:"NCAA",value:"NCAA"},{text:"TBS",value:"TBS"},{text:"TCM",value:"TCM"},{text:"Team Coco",value:"Team Coco"},{text:"TNT",value:"TNT"},{text:"TruTV",value:"truTV"}]}],d=[{type:"textarea",name:"Comments",label:"Please describe the issue you are reporting",required:!0}];e.innerHTML="",e.style.padding="0";var c=document.createElement("div");c.style.width="100%",c.style.height="100%",c.style.display="inline-block",c.style.padding="5px",c.style.margin="0",c.style.border="solid 2px purple";var u=document.createElement("div");u.style.width="99%",u.style.borderBottom="solid 1px black",u.style.fontSize="12px";var p=document.createElement("p");p.style.padding="0",p.style.fontWeight="bolder",p.style.margin="auto",p.innerHTML="You can report an issue on this page by submitting the information below. A copy of the report will be sent to the email address specified.<br /><span style='color: red'>* Denotes required fields.</span>",u.appendChild(p),c.appendChild(u);var h=document.createElement("form");h.style.padding="0",h.style.margin="0",c.appendChild(h);var m=document.createElement("div");m.style.width="100%",m.style.height="100%",m.style.minHeight="160px",m.style.display="inline-block",m.style.padding="5px 5px",m.style.margin="0",m.style.float="left",m.style.fontSize="12px",m.id="cr_panel_1",t(m,h,s);var f=document.createElement("div");f.style.width="100%",f.style.height="100%",f.style.minHeight="160px",f.style.padding="5px 5px",f.style.margin="0",f.style.float="left",f.style.fontSize="12px",f.style.display="none",f.id="cr_panel_2",t(f,h,l);var g=document.createElement("div");g.style.width="100%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="none",g.id="cr_panel_3",t(g,h,d);var y=document.createElement("div");y.style.clear="both",c.appendChild(y);var v=document.createElement("div");v.style.width="99%",v.style.height="10%",v.style.padding="0",v.style.margin="0";var w=document.createElement("div");w.style.display="inline-block",w.style.float="right",w.style.height="10%";var b=document.createElement("div");b.style.cssText="display: none; margin-right: 14px; margin-top: 7px; color: #FFFFFF; font-style: italic; font-weight: bold; font-size: 12px; padding: 5px; margin-bottom: 5px; border: solid 1px black; background-color: red;";var _=document.createElement("div");_.className="cr-confirm-alert",_.style.visibility="hidden";var C=document.createElement("div");C.className="cr-confirm-alert-text";var x=new Date,A=x.getDay(),E=x.getHours(),S=0==A||6==A||E<8||E>17,N=S?"2 hours outside of":"1 hour during";C.innerHTML="Your report has been successfully submitted to Ad Operations. If you do not get a response within "+N+" normal business hours (8am - 6pm Eastern), further contact information can be found in the confirmation email that has been sent to you.",_.appendChild(C),_.appendChild(document.createElement("br"));var T=document.createElement("button");T.className="btn btn-primary btn-sm",T.innerHTML="OK",T.onclick=function(e){e.preventDefault(),R(),_.style.visibility="hidden",h.reset()},_.appendChild(T),e.appendChild(_);var k=document.createElement("input");k.type="submit",k.className="btn btn-primary btn-sm cr-confirm-alert-btn",k.onclick=function(e){if(e.preventDefault(),""==h.elements.Comments.value)return void i("Please describe the issue you are reporting.");F(h,function(){_.style.visibility="visible"})};var I=document.createElement("button");I.type="button",I.className="btn btn-primary btn-sn cr-confirm-alert-btn",I.onclick=function(e){switch(me){case 1:if(""==h.elements.Name.value||""==h.elements.Email.value)return void i("Please fill out all required fields.");if(!a(h.elements.Email.value))return void i("Email address is not valid.");document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="inline-block",w.insertBefore(B,I),me++;break;case 2:if(""==h.elements.Brand.value||"placeholder"==h.elements.Brand.value)return void i("Please select the brand affected by this issue.");document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",w.removeChild(I),w.appendChild(k),me++}},I.style.padding="5px 10px",I.style.fontSize="12px",I.style.lineHeight="1.5",I.style.borderRadius="3px",I.innerHTML="Next >>";var B=document.createElement("button");B.type="button",B.className="btn btn-primary btn-sn cr-confirm-alert-btn",B.onclick=function(e){switch(me){case 2:i(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="none",w.removeChild(B);break;case 3:i(""),document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",w.appendChild(I),w.removeChild(k)}me--},B.style.padding="5px 10px",B.style.fontSize="12px",B.style.lineHeight="1.5",B.style.borderRadius="3px",B.style.marginRight="10px",B.innerHTML="<< Back",w.appendChild(b),w.appendChild(I),v.appendChild(w),c.appendChild(v),e.insertBefore(c,_)}}function T(e){function t(e,t,i){for(var a=0;a<i.length;a++){var s=i[a];switch(s.type){case"textarea":var l=o("div",s.label+":"+(!0===s.required?" *":""));l.style.fontWeight="bolder",e.appendChild(l),e.appendChild(s.element=document.createElement("textarea")),s.element.name=s.name||"",!0===s.required&&(s.element.attributes.required="required"),s.element.width="95%",s.element.cols="60",s.element.rows="5";break;case"input":var d=o("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",!0===s.required&&s.element.setAttribute("required","required"),e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"listLabel":var u=o("div",s.label+":"+(!0===s.required?" *":""));u.style.fontWeight="bolder",e.appendChild(u);break;case"list":for(var p=document.createElement("div"),h=0;h<s.items.length;h++){var m=s.items[h],f=n(m.name,m.value,m.label),g=f.firstChild;s.items[h].element=g,p.appendChild(f)}e.appendChild(p);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"));break;case"select":var y=o("div",s.label+": "+(!0===s.required?" *":""));y.style.fontWeight="bolder",e.appendChild(y),s.element=document.createElement("select"),s.element.name=s.name;for(var v=0;v<s.options.length;v++){var w=o("option",s.options[v].text);w.value=s.options[v].value,s.element.appendChild(w)}e.appendChild(s.element);break;case"button":e.appendChild(r(s));break;case"fileUpload":if(Y){var d=o("div",s.label+": "+(!0===s.required?" *":""));d.className=d.className+" fixed",d.style.fontWeight="bolder",d.style.marginRight="5px",e.appendChild(d),s.element=document.createElement("input"),s.element.name=s.name||"",s.element.type="file",s.element.accept="image/*",e.appendChild(s.element);var c=document.createElement("div");c.style.clear="both",e.appendChild(c),e.appendChild(document.createElement("br"))}}}t.appendChild(e)}function i(e){""!==e?(b.style.display="inline-block",b.innerHTML=e):b.style.display="none",window.setTimeout(function(){b.style.display="none"},3e3)}function a(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}if(ne("Building Mobile Creative Review Form"),e){var s=[{type:"input",name:"Name",value:"",label:"Your Name",required:!0},{type:"input",name:"Email",value:"",label:"Your Email",required:!0},{type:"fileUpload",name:"Screenshot",value:"",label:"Upload Screenshot",required:!1}],l=[{type:"listLabel",name:"Reason",label:"What is the issue you are reporting?",required:!1},{type:"list",name:"Issue(s)",required:!1,items:[{type:"checkbox",name:"Issue",value:"block list violation",label:"Ad violates site block list",required:!1},{type:"checkbox",name:"Issue",value:"video plays in display ad",label:"Video plays in display ad",required:!1},{type:"checkbox",name:"Issue",value:"ad disrupts content",label:"Ad disrupts content",required:!1},{type:"checkbox",name:"Issue",value:"ad incorrectly sized",label:"Ad incorrectly sized",required:!1},{type:"checkbox",name:"Issue",value:"download initiated",label:"Ad attempts to initiate download",required:!1},{type:"checkbox",name:"Issue",value:"blank ad",label:"Blank ad",required:!1},{type:"checkbox",name:"Issue",value:"low quality",label:"Low-quality ad",required:!1},{type:"checkbox",name:"Issue",value:"audio autostarts",label:"Audio starts automatically",required:!1},{type:"checkbox",name:"Issue",value:"broken ad",label:"Broken ad",required:!1}]},{type:"select",name:"Brand",label:"What is brand is affected by the issue you are reporting?",required:!0,options:[{text:"",value:"placeholder"},{text:"Adult Swim",value:"Adult Swim"},{text:"Bleacher Report",value:"Bleacher"},{text:"Cartoon Network",value:"Cartoon Network"},{text:"CNN",value:"CNN"},{text:"CNN Arabic",value:"CNN Arabic"},{text:"CNN Espanol",value:"CNN Espanol"},{text:"CNN International",value:"CNN International"},{text:"CNN Money",value:"CNN Money"},{text:"E-League",value:"ELEAGUE"},{text:"Great Big Story",value:"Great Big Story"},{text:"HLN",value:"HLN"},{text:"NBA",value:"NBA"},{text:"NBA International",value:"NBA International"},{text:"NCAA",value:"NCAA"},{text:"TBS",value:"TBS"},{text:"TCM",value:"TCM"},{text:"Team Coco",value:"Team Coco"},{text:"TNT",value:"TNT"},{text:"TruTV",value:"truTV"}]}],d=[{type:"textarea",name:"Comments",label:"Please describe the issue you are reporting",required:!0}];e.innerHTML="",e.style.padding="0";var c=document.createElement("div");c.style.width="100%",c.style.height="100%",c.style.display="inline-block",c.style.padding="5px",c.style.margin="0",c.style.border="solid 2px purple";var u=document.createElement("div");u.style.width="99%",u.style.borderBottom="solid 1px black",u.style.fontSize="12px";var p=document.createElement("p");p.style.padding="0",p.style.fontWeight="bolder",p.style.margin="auto",p.innerHTML="You can report an issue on this page by submitting the information below. A copy of the report will be sent to the email address specified.<br /><span style='color: red'>* Denotes required fields.</span>",u.appendChild(p),c.appendChild(u);var h=document.createElement("form");h.style.padding="0",h.style.margin="0",c.appendChild(h);var m=document.createElement("div");m.style.width="50%",m.style.height="100%",m.style.minHeight="160px",m.style.display="inline-block",m.style.padding="5px 5px",m.style.margin="0",m.style.float="left",m.style.fontSize="12px",m.id="cr_panel_1",t(m,h,s);var f=document.createElement("div");f.style.width="50%",f.style.height="100%",f.style.minHeight="160px",f.style.padding="5px 5px",f.style.margin="0",f.style.float="left",f.style.fontSize="12px",f.style.display="inline-block",f.id="cr_panel_2",t(f,h,l);var g=document.createElement("div");g.style.width="100%",g.style.height="100%",g.style.minHeight="160px",g.style.padding="5px 5px",g.style.margin="0",g.style.float="left",g.style.fontSize="12px",g.style.display="none",g.id="cr_panel_3",t(g,h,d);var y=document.createElement("div");y.style.clear="both",c.appendChild(y);var v=document.createElement("div");v.style.width="99%",v.style.height="10%",v.style.padding="0",v.style.margin="0";var w=document.createElement("div");w.style.display="inline-block",w.style.float="right",w.style.height="10%";var b=document.createElement("div");b.style.cssText="display: none; margin-right: 14px; margin-top: 7px; color: #FFFFFF; font-style: italic; font-weight: bold; font-size: 12px; padding: 5px; margin-bottom: 5px; border: solid 1px black; background-color: red;";var _=document.createElement("div");_.className="cr-confirm-alert",_.style.visibility="hidden";var C=document.createElement("div");C.className="cr-confirm-alert-text";var x=new Date,A=x.getDay(),E=x.getHours(),S=0==A||6==A||E<8||E>17,N=S?"2 hours outside of":"1 hour during";C.innerHTML="Your report has been successfully submitted to Ad Operations. If you do not get a response within "+N+" normal business hours (8am - 6pm Eastern), further contact information can be found in the confirmation email that has been sent to you.",_.appendChild(C),_.appendChild(document.createElement("br"));var T=document.createElement("button");T.className="btn btn-primary btn-sm",T.innerHTML="OK",T.onclick=function(e){e.preventDefault(),R(),_.style.visibility="hidden",h.reset()},_.appendChild(T),e.appendChild(_);var k=document.createElement("input");k.type="submit",k.className="btn btn-primary btn-sm cr-confirm-alert-btn",k.onclick=function(e){if(e.preventDefault(),""==h.elements.Comments.value)return void i("Please describe the issue you are reporting.");F(h,function(){_.style.visibility="visible"})};var I=document.createElement("button");I.type="button",I.className="btn btn-primary btn-sn cr-confirm-alert-btn",I.onclick=function(e){return""==h.elements.Name.value||""==h.elements.Email.value||"placeholder"==h.elements.Brand.value||""==h.elements.Brand.value?void i("Please fill out all required fields."):a(h.elements.Email.value)?(document.getElementById("cr_panel_1").style.display="none",document.getElementById("cr_panel_2").style.display="none",document.getElementById("cr_panel_3").style.display="inline-block",ne("Appending Back and Submit Buttons.  Removing Next Button."),w.removeChild(I),w.appendChild(B),w.appendChild(k),void 0):void i("Email address is not valid.")},I.style.padding="5px 10px",I.style.fontSize="12px",I.style.lineHeight="1.5",I.style.borderRadius="3px",I.innerHTML="Next >>";var B=document.createElement("button");B.type="button",B.className="btn btn-primary btn-sn cr-confirm-alert-btn",B.onclick=function(e){i(""),document.getElementById("cr_panel_1").style.display="inline-block",document.getElementById("cr_panel_2").style.display="inline-block",document.getElementById("cr_panel_3").style.display="none",ne("Adding Next Button. Removing Submit and Back Buttons."),w.appendChild(I),w.removeChild(B),w.removeChild(k)},B.style.padding="5px 10px",B.style.fontSize="12px",B.style.lineHeight="1.5",B.style.borderRadius="3px",B.style.marginRight="10px",B.innerHTML="<< Back",w.appendChild(b),w.appendChild(I),v.appendChild(w),c.appendChild(v),e.insertBefore(c,_)}}function k(e){var t={};if(e.data&&"function"==typeof e.data.indexOf&&0==e.data.indexOf("{")&&e.data.indexOf("googMsgType")<0)try{t=JSON.parse(e.data),t.pos}catch(e){return}if(t.divId){if(Array.isArray(t.divId)&&t.divId.length>1&&(t.divId=t.divId[0]),t.filteredSources.length>0)for(var n=0;n<t.filteredSources.length;n++){var i=t.filteredSources[n];if(i.indexOf("javascript:")<0){var o=function(){var e=i,n=document.createElement("img"),o=document.getElementById(t.divId),r=document.querySelectorAll("div[id='"+t.divId+"'] div[id^='google_ads_iframe']");if(n.className="adfuel-temp-image",n.src=e,0==e.indexOf("http://")||0==e.indexOf("https://")||0==e.indexOf("//")){o.appendChild(n);for(var a=0;a<r.length;a++){r[a].style.display="none"}}},r=function(){for(var e=document.getElementById(t.divId),n=document.querySelectorAll("div[id='"+t.divId+"'] img.adfuel-temp-image"),i=document.querySelectorAll("div[id='"+t.divId+"'] div[id^='google_ads_iframe']"),o=0;o<n.length;o++){var r=n[o];try{e.removeChild(r)}catch(e){}}for(var a=0;a<i.length;a++){i[a].style.display="block"}};X.push(o),Z.push(r)}}j.addMetric({type:"creatives",id:t.divId,data:t})}}function I(e){if(e&&"FORM"===e.nodeName){var t,n,i=[],o={};for(t=e.elements.length-1;t>=0;t-=1)if(""!==e.elements[t].name)switch(e.elements[t].nodeName){case"INPUT":switch(e.elements[t].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),o[e.elements[t].name]=e.elements[t].value;break;case"file":e.elements[t].files.length>0&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),o[e.elements[t].name]=e.elements[t].files[0],o[e.elements[t].name+"FileName"]=o[e.elements[t].name].name);break;case"checkbox":e.elements[t].checked&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),o[e.elements[t].name]?o[e.elements[t].name].push(e.elements[t].value):o[e.elements[t].name]=[e.elements[t].value]);break;case"radio":e.elements[t].checked&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),o[e.elements[t].name]=e.elements[t].value)}break;case"TEXTAREA":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),o[e.elements[t].name]=e.elements[t].value;break;case"SELECT":switch(e.elements[t].type){case"select-one":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),o[e.elements[t].name]=e.elements[t].value;break;case"select-multiple":for(n=e.elements[t].options.length-1;n>=0;n-=1)e.elements[t].options[n].selected&&(i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].options[n].value)),o[e.elements[t].name]=e.elements[t].options[n].value)}break;case"BUTTON":switch(e.elements[t].type){case"reset":case"submit":case"button":i.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value)),o[e.elements[t].name]=e.elements[t].value}}return o}}function F(e,t){var n=I(e),i=function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&t(200===e.status)};var i=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),o=new Blob([JSON.stringify(window.AdFuel.requestScriptText,null,2)],{type:"application/json"}),r=new Blob([JSON.stringify(window.AdFuel.registry,null,2)],{type:"application/json"}),a={availHeight:screen.availHeight,availLeft:screen.availLeft,availTop:screen.availTop,availWidth:screen.availWidth,colorDepth:screen.colorDepth,height:screen.height,orientation:{angle:screen.orientation.angle,onchange:screen.orientation.onchange,type:screen.orientation.type},pixelDepth:screen.pixelDepth,width:screen.width},s=JSON.parse(JSON.stringify(window.AdFuel.metrics.slots));for(var l in s)s.hasOwnProperty(l)&&(delete s[l].build_end,delete s[l].build_start,delete s[l].display,delete s[l].queued,delete s[l].render_start,delete s[l].render_end);var d=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),c=new Blob([JSON.stringify(document.cookie,null,2)],{type:"application/json"}),u=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),p=new Blob([JSON.stringify(window.AdFuel.metrics.timeline,null,2)],{type:"application/json"}),h=new Blob([JSON.stringify(window.location.href,null,2)],{type:"application/json"}),m=new FormData;m.append("formData",i),m.append("request",o),m.append("registry",r),m.append("slots",d),m.append("cookies",c),m.append("browser",u),m.append("timeline",p),m.append("url",h);var f="http://{{adfuel-services-host}}/api/email";-1!=f.indexOf("adfuel-services-host")&&(f="http://localhost:3050/api/email"),e.open("POST",f,!0),e.send(m),j.addMetric({type:"modules",id:"Creative Review",data:{reported_information:n[0]}})};if(n.Screenshot){n.Screenshot.type.match("image.*")||i();var o=new FileReader;o.onload=function(e){return function(e){n.Screenshot=e.target.result,i()}}(n.Screenshot),o.readAsDataURL(n.Screenshot)}else i()}function B(e,t,n){var i=document.createElement("div");0==t.indexOf("request_")&&(t=t.replace("request_",""));var o=e.id.split("-")[3],r=j.metrics[o][t],a=document.createElement("ul");a.id="adfuel_console_"+o+"_items",a.style.listStyleType="none",a.style.padding="0",a.style.margin="0";for(var l in r)if(r.hasOwnProperty(l)){var d=r[l];isNaN(parseInt(l))||(l="request_"+(parseInt(l)+1));var c=document.createElement("li");c.id="adfuel-console-"+o+"-"+l,c.style.display="block";var u=document.createElement("div"),p=document.createElement("span");p.style.display="inline-block",p.style.width="25%",p.style.minWidth="150px",p.style.textAlign="left",p.style.margin="0",p.style.padding="0",p.style.paddingRight="10px",p.style.float="left",p.style.fontWeight="bolder",p.style.borderBottom="solid 1px #BCBCBC",p.innerHTML=f(l.replace(/_/g," ")+": "),u.appendChild(p),null==d?d="N/A":d||(d="False");var h=Object.getOwnPropertyNames(d),m=typeof d;if("string"==m||"boolean"==m||"number"==m||Array.isArray(d)&&1==d.length){var g="",y=!1;Array.isArray(d)?(y=s(d[0]),g=y?d[0]:f(d[0]),d[0]):(y=s(d),g=y?d:f(d),d);var v=document.createElement("div");if(v.style.margin="0",v.style.padding="0",v.style.display="block",v.style.width="65%",v.style.maxWidth="800px",v.style.float="left",v.style.borderBottom="solid 1px #BCBCBC",v.style.textOverflow="ellipsis",v.style.whiteSpace="nowrap",v.style.overflow="hidden",y){var w=document.createElement("a");w.href=g,w.target="_blank",w.title=g,w.appendChild(document.createTextNode(g)),v.appendChild(w)}else v.appendChild(document.createTextNode(g));u.appendChild(v);var b=document.createElement("div");b.style.clear="both",u.appendChild(b)}else if(Array.isArray(d)){var _=document.createElement("div");_.style.width="65%",_.style.margin="0",_.style.position="relative",_.style.float="left",_.style.textOverflow="ellipsis",_.style.whiteSpace="nowrap",_.style.overflowX="hidden";var C=document.createElement("ul");C.style.listStyleType="none",C.style.margin="0",C.style.padding="0";for(var x=0;x<d.length;x++){var A=document.createElement("li");A.style.marginLeft="0",A.style.paddingLeft="0",A.style.borderBottom="solid 1px #BCBCBC",A.style.margin="0",A.style.padding="0",A.style.display="block",A.style.width="100%",A.style.maxWidth="800px",A.style.float="left",A.style.borderBottom="solid 1px #BCBCBC",A.style.textOverflow="ellipsis",A.style.whiteSpace="nowrap",A.style.overflow="hidden";var y=s(d[x]),g="";if(y){g=d[x];var w=document.createElement("a");w.href=g,w.target="_blank",w.title=g,w.appendChild(document.createTextNode(g)),A.appendChild(w)}else g=f(d[x]),A.appendChild(document.createTextNode(g));C.appendChild(A)}_.appendChild(C),u.appendChild(_);var b=document.createElement("div");b.style.clear="both",u.appendChild(b)}else{var _=document.createElement("div");_.style.width="65%",_.style.maxWidth="800px",_.style.margin="0",_.style.position="relative",_.style.left="5px",_.style.borderBottom="solid 1px #BCBCBC",_.style.textOverflow="ellipsis",_.style.whiteSpace="nowrap",_.style.overflowX="hidden";var C=document.createElement("ul");C.style.listStyleType="none",C.style.margin="0",C.style.padding="0";for(var x=0;x<h.length;x++){var A=document.createElement("li");A.style.padding="0",A.style.margin="0";var y=s(h[x]),g="";g=y?h[x]:f(h[x]);var E=d[h[x]];if(void 0!==E){var S=document.createElement("label");S.style.width="25%",S.appendChild(document.createTextNode(g+": ")),A.appendChild(S);var N=typeof E;"object"==N&&(E=Array.isArray(E)?E.join(", "):JSON.stringify(E));var v=document.createElement("span");v.title=E,v.appendChild(document.createTextNode(E)),A.appendChild(v)}else A.appendChild(document.createTextNode(g));C.appendChild(A)}_.appendChild(C),u.appendChild(_)}c.appendChild(u),a.appendChild(c)}i.style.overflowY="auto",i.style.height="80%",i.style.minHeight="250px",i.appendChild(a),e.appendChild(i)}function M(e,t){function n(e){return e.indexOf("_")<0||e.indexOf("_")>0}function i(e,t){var o=document.createElement("ul")
;o.className="adfuel-console-collection-list-item-detail-list";for(var r=Object.getOwnPropertyNames(e).filter(n),a=0;a<r.length;a++){var s=document.createElement("li");s.className="adfuel-console-collection-list-item-detail-list-item";document.createElement("div").className="adfuel-console-collection-list-item-detail-list-item-container";var l=document.createElement("label");l.className="adfuel-console-collection-list-item-detail-list-item-label";var d=r[a],c=f(d.replace(/_/g," "));l.appendChild(document.createTextNode(c)),s.appendChild(l),Array.isArray(e[d])&&e[d].length>1&&(e[d]=e[d].join("<br>"),e[d]=e[d]+"<br><br>");var u=document.createElement("div");u.style.clear="both";var p=document.createElement("div");if(Array.isArray(e[d])||"object"!=typeof e[d]||null===e[d])p.className="truncate",p.innerText=e[d],p.innerHTML=e[d],p.title=e[d];else{var h=i(e[d],!0),m=document.createElement("div");m.style.clear="both",p.appendChild(m),p.appendChild(h)}t&&s.appendChild(u),s.appendChild(p),s.appendChild(u),o.appendChild(s)}return o}if(e){e.innerHTML="";var o=e.id.replace("adfuel-console-panel-",""),r=j.metrics[o];if(t)tabNames=Object.getOwnPropertyNames(r),E(e,tabNames);else{var a=document.createElement("div");a.className="adfuel-console-collection-container";var s=document.createElement("ul");s.id="adfuel_console_"+o+"_items",s.className="adfuel-console-collection-list",s.style.listStyleType="none",s.style.padding="0",s.style.margin="0";for(var l in r)if(r.hasOwnProperty(l)){var d=r[l],c=document.createElement("li");c.id="adfuel-console-"+o+"-"+l,c.className="adfuel-console-collection-list-items";var u=document.createElement("div");u.className="adfuel-console-collection-list-item-container";var p=document.createElement("label");p.className="adfuel-console-collection-list-item-label";var h=document.createElement("span");p.appendChild(h),p.appendChild(document.createTextNode(f(l.replace(/_/g," ")))),u.appendChild(p);var m=document.createElement("hr");m.className="adfuel-console-separator",u.appendChild(m);var g;if(Array.isArray(d))for(var y=0;y<d.length;y++)d=d[y],g=i(d),u.appendChild(g);else g=i(d),u.appendChild(g);c.appendChild(u),s.appendChild(c)}a.appendChild(s),e.appendChild(a)}}}function R(){K=null;var e=(document.getElementsByTagName("body")[0],document.querySelector("div.adfuel-console-button-container")),n=(document.querySelector("div#adfuel-close-console-button-container"),document.querySelector("body > div.adfuel-console-button-container > a")),i=document.querySelector("div.adfuel-console-filler"),o=document.querySelector("div.adfuel-console");document.querySelector("div#adfuel-console-banner");i.style.display="none",o.style.display="none",e&&n&&(e.style.display="inline-block",W=t(n,"click",p),window.AdFuel.openConsole=p)}function D(){window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("slotRenderEnded",function(e){try{var t={};e.slot&&(t.asset=e.slot),e.slot.getTargeting("pos")&&(t.pos=e.slot.getTargeting("pos")),e.isEmpty?t.empty=!0:t.empty=!1,e.size&&(t.renderedSize=e.size),e.creativeId&&(t.creativeId=e.creativeId),e.lineItemId&&(t.lineItemId=e.lineItemId),e.serviceName&&(t.serviceName=e.serviceName),e.slot.getSlotElementId()&&(t.divId=e.slot.getSlotElementId(),document.getElementById(t.divId));var n=_pageSlots[t.divId].getResponseInformation();if(t.campaignId=n.campaignId,t.advertiserId=n.advertiserId,j.addMetric({type:"slots",id:t.divId,data:{advertiserId:t.advertiserId,campaignId:t.campaignId,creativeId:t.creativeId,lineItemId:t.lineItemId}}),window.googletag){var i=googletag.slot_manager_instance;if(i.l)for(var o in i.l)if(i.l.hasOwnProperty(o)&&o==t.divId){var r=null;for(var a in i.l[o])i.l[o].hasOwnProperty(a)&&null!=i.l[o][a]&&"string"==typeof i.l[o][a]&&i.l[o][a].split("?")&&(r=i.l[o][a].split("?"));null!=r&&addMetric({type:"slots",id:t.divId,data:{diagnostics_url:"https://www.google.com/dfp/inventory#diagnostics/"+r[1]+"&base_url="+encodeURIComponent(r[0])}})}}}catch(e){_errLog("error reading slotRenderEnded event",{error:e})}})})}function z(e,t){for(var n=1;n<e.length;n++){var i=e[n];ge.indexOf(i.rktr_slot_id)<0&&(window.AdFuel.addSlotLevelTarget(i.rktr_slot_id,"elemId",i.rktr_slot_id),ge.push(i.rktr_slot_id))}window.AdFuel.addEvent(document,"SlotIdChange",function(e){e.detail.newId!=e.detail.originalId&&ge.indexOf(e.detail.newId)<0&&(window.AdFuel.addSlotLevelTarget(e.detail.newId,"elemId",e.detail.newId),ge.push(e.detail.newId))}),t()}function U(){j=window.AdFuel.registerModule("AdFuel Console Tool",{preQueueCallback:z,metricUpdateCallback:v}),j.addMetric({type:"creative review",id:"Form",data:{}}),window.AdFuel.addEvent(window,"message",k),q(),O(),D(),v({}),e(),window.addEventListener("hashchange",e,!1)}function q(){var e=function(){Q=!0,u()},t=function(){Q=!1,u()},n=function(){var n={prevent_default:!1,prevent_repeat:!1,is_sequence:!1,is_exclusive:!0,is_solitary:!0},i={keys:"ctrl shift z",on_keydown:e};new window.keypress.Listener(window,n).register_combo(i),n={prevent_default:!1,prevent_repeat:!1,is_sequence:!0,is_exclusive:!0,is_solitary:!0},i={keys:"^ d o h $",on_keydown:t},new window.keypress.Listener(window,n).register_combo(i)};if(window.keypress)n();else{var i=document,o=i.createElement("script"),r=i.getElementsByTagName("script")[0],a=/^(complete|loaded)$/,s=!1,l="https:"===document.location.protocol;o.type="text/javascript",o.async=!0,o.src=(l?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/keypress.js",o.onload=o.onreadystatechange=function(){s||"readyState"in o&&a.test(o.readyState)||(o.onload=o.onreadystatechange=null,s=!0,n())},r.parentNode.insertBefore(o,r)}}function O(){var e=document,t=e.createElement("script"),n=e.getElementsByTagName("script")[0],i="https:"===document.location.protocol;t.type="text/javascript",t.async=!0,t.src=(i?"https:":"http:")+"//ssl.cdn.turner.com/ads/adfuel/modules/dhtmlxgrid.js",n.parentNode.insertBefore(t,n)}var L,P=function(){return!1},j={metrics:{},addMetric:P,getMetricById:P,getMetricsByType:P,getMetricTypes:P},H="Console Tool/Creative Review",V=!1,W=null,K=null,$=null,J=[],G=!0,Q=!1,Y=window.File&&window.FileReader&&window.FileList&&window.Blob,X=[],Z=[],ee=Object.prototype,te=ee.toString,ne=P,ie=P,oe=P;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===te.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(ne=function(){var e=["[AdFuelModule - "+H+"]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},function(){var e=["[AdFuelModule - "+H+"]"];e.push.apply(e,arguments),window.console.warn.apply(window.console,e)},function(){var e=["[AdFuelModule - "+H+" ERROR]"];e.push.apply(e,arguments),window.console.error.apply(window.console,e)},ie=function(){var e=["[AdFuelModule - "+H+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.time(t)},oe=function(){var e=["[AdFuelModule - "+H+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.timeEnd(t)});var re=!1,ae=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,se=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,le=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,de=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),ce=function(e,t){return e.test(t)},ue=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),n=t.split("Twitter"),void 0!==n[1]&&(t=n[0]),this.apple={phone:ce(/iPhone/i,t),ipod:ce(/iPod/i,t),tablet:!ce(/iPhone/i,t)&&ce(/iPad/i,t),device:ce(/iPhone/i,t)||ce(/iPod/i,t)||ce(/iPad/i,t)},this.amazon={phone:ce(se,t),tablet:!ce(se,t)&&ce(le,t),device:ce(se,t)||ce(le,t)},this.android={phone:ce(se,t)||ce(ae,t),tablet:!ce(se,t)&&!ce(ae,t)&&(ce(le,t)||ce(/Android/i,t)),device:ce(se,t)||ce(le,t)||ce(ae,t)||ce(/Android/i,t)},this.windows={phone:ce(/Windows Phone/i,t),tablet:ce(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t),device:ce(/Windows Phone/i,t)||ce(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t)},this.other={blackberry:ce(/BlackBerry/i,t),blackberry10:ce(/BB10/i,t),opera:ce(/Opera Mini/i,t),firefox:ce(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t),chrome:ce(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t),device:ce(/BlackBerry/i,t)||ce(/BB10/i,t)||ce(/Opera Mini/i,t)||ce(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t)||ce(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t)},this.seven_inch=ce(de,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},pe=function(){var e=new ue;return e.Class=ue,e},he=null,me=1,fe=j.getMetricTypes()||{},ge=[];!function(){c(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(U):window.AdFuel?U():document.addEventListener?document.addEventListener("AdFuelCreated",U,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",U)}()}(),!0===CNN.Features.enableAmazonDisplayAds&&function(){function e(e){var t=!1,n=null;if(localStorage&&(t=!0),"undefined"==typeof value){t&&(n=localStorage.getItem(e)),t&&null!==n||(n=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var o=t[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null}return null}(e));try{n=JSON.parse(n)}catch(e){n=n}return n}}function t(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function n(e){return e.reduce(function(e,t){return e[t.getSlotElementId()]=t,e},{})}function i(e,t,i){f("Handling A9 Bids:",e,t),g("Handling A9 Bids"),window.googletag.cmd.push(function(){function i(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}var o=n(t);e.forEach(function(e){var t=o[e.slotID]||null;if(null!==t){var n={};window.apstag.targetingKeys("display").forEach(function(o){"true"==i("debug")&&console.log("[AdFuelModule - Amazon A9] Setting A9 Targeting: ",{key:o,value:e[o]}),n[o]=e[o],t.setTargeting(o,e[o])}),h.addMetric({type:"vendor",id:"Amazon A9",data:{targeting:n}})}}),window.googletag.pubads().addEventListener("slotRenderEnded",function(e){var t=n(window.googletag.pubads().getSlots()),i=t[e.slot.getSlotElementId()];window.apstag.targetingKeys("display").forEach(function(e){i.setTargeting(e,"")})})}),y("Handling A9 Bids"),i()}function o(e,n){function i(e){_=e,A=[],n()}g("A9 Slot Building");var o=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],r=["_ns_","_nfs_"],a=["super-ad-zone","super_ad_zone"],s=t();f("Browser Dimensions: ",s);for(var l=1;l<e.length;l++){var d=e[l].originalElementId||e[l].rktr_slot_id,c=d.split("_");c.splice(0,1),d=c.join("_"),f("Checking slot and sizes for validity: ",d);for(var u=[],p=!0,h=!1,m=0;m<e[l].responsive.length;m++){var v=e[l].responsive[m];h||f("Checking For Responsive Viewport: ",v[0].join("x")),!h&&v[0][0]<s[0]&&v[0][1]<s[1]&&(f("Match found."),h=!0,u=v[1],"suppress"!=v[1][0]&&"suppress"!=u||(f("Slot is responsive and being suppressed.  Filtering slot."),p=!1))}if(u.length>0&&p&&(f("Slot is responsive and not being suppressed.  Using responsive sizes: ",u),e[l].sizes=u),p){for(var w=0;w<e[l].sizes.length;w++){var b=e[l].sizes[w].join("x");o.indexOf(b)<0&&(f("Filtering out Invalid Size: ",b),e[l].sizes.splice(w,1),w-=1)}0==e[l].sizes.length&&(f("No Valid Sizes: ",e[l].sizes),p=!1);for(var C in r)e[l].rktr_slot_id.indexOf(r[C])>=0&&(f("Filtering out invalid slot type: ",r[C],e[l]),p=!1);for(var x in a)e[l].rktr_ad_id.indexOf(a[x])>=0&&(f("Filtering out invalid ad unit segment: ",a[x],e[l]),p=!1);if(p){f("Valid Slot: ",e[l]);var E={slotID:e[l].rktr_slot_id,sizes:e[l].sizes};A.push(E)}}}y("A9 Slot Building"),A.length>0?window.apstag.fetchBids({slots:A},i):f("No valid slots.")}function r(e,t){window.googletag.cmd.push(function(){var e=window.googletag.pubads().getSlots();_&&i(_,e,t),_||(f("No Bids."),t())})}function a(e,t){_=null,g("Refreshing A9 Bids"),window.apstag.fetchBids({slots:A},function(e){_=e,y("Refreshing A9 Bids");var n=window.googletag.pubads().getSlots();i(_,n,t)})}function s(){m||(f("Registering "+p+" module with AdFuel"),window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1e3,dispatchCallbackTimeoutInMilliseconds:1e3,refreshCallbackTimeoutInMilliseconds:2e3}),h=window.AdFuel.registerModule(p,{preQueueCallback:o,preDispatchCallback:r,preRefreshCallback:a})||h)}function l(){var e="3159";f("Defaulting to Domestic PubId."),f("Country Code: ",v),f("Hostname: ",C),f("Pathname: ",x),f("Selected Edition: ",w),C.search(/^(edition|arabic)\./)>=0?(f("Full international site. Using International PubId."),e="3288"):C.search(/^money/)>=0&&"/"===x&&"edition"===w?(f("International CNN Money Homepage. Using International PubId."),e="3288"):""==v||null==v?C.search(/^(cnnespanol|cnne\-test)\./)>=0&&(f("No country code. Using International PubId."),e="3288"):"US"!==v&&"CA"!==v&&C.search(/^(money|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(f("International country code. Using International PubId."),e="3288"),function(e,t,n,i,o,r,a){function s(n,i){t[e]._Q.push([n,i])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},_Q:[]},r=n.createElement(i),r.async=!0,r.src="//c.amazon-adsystem.com/aax2/apstag.js",a=n.getElementsByTagName(i)[0],a.parentNode.insertBefore(r,a))}("apstag",window,document,"script"),f("Final Pub ID: ",e),window.apstag.init({pubID:e,adServer:"googletag",bidTimeout:2e3})}var d=Object.prototype,c=d.toString,u=function(){},p="Amazon A9",h={metrics:{},addMetric:u,getMetricById:u,getMetricsByType:u,getMetricTypes:u},m=!1,f=u,g=u,y=u;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===c.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(f=function(){var e=["[AdFuelModule - "+p+" v1.3.4]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},g=function(){var e=["[AdFuelModule - "+p+" v1.3.4 TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.time(t)},y=function(){var e=["[AdFuelModule - "+p+" v1.3.4 TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.timeEnd(t)});var v=(e("CG")?e("CG").substr(0,2):"")||e("countryCode"),w=e("SelectedEdition")?e("SelectedEdition"):"www",b=document.createElement("a");b.href=document.location.href;var _,C=b.hostname,x=b.pathname,A=[];f("Initializing "+p+" Module..."),function(){l(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(s):window.AdFuel?s():document.addEventListener?document.addEventListener("AdFuelCreated",s,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",s)}()}(),window.AmazonDirectMatchBuy=function(){function e(e,t){return null!=e&&f.call(e,t)}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){return function(){e&&(e.apply(this,arguments),e=null)}}function i(e){var t=!1,n=null;if(localStorage&&(t=!0),"undefined"==typeof value){t&&(n=localStorage.getItem(e)),t&&null!==n||(n=function(t){if(document.cookie){for(var n=document.cookie.split(";"),i=e+"=",o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(i))return r.substring(i.length,r.length)}return""}return""}(e));try{n=JSON.parse(n)}catch(e){n=n}return n}}function o(){return!!window.amznads}function r(){var e={};return o()&&(e=window.amznads.getTargeting(),t(e)||(e={})),e}function a(e){var t=e.getId();if(A.has(t)){var n=A.getKeys(t);if(n.length){v("clearing previous ad key-values: "+n.join(", "));for(var i=0,o=n.length;i<o;++i)e.setAdKeyValue(n[i],null);A.clearKeys(t)}}}function s(e,t,n){v("setting ad key-value: "+t+' = "'+n+'"'),A.addKey(e.getId(),t),e.setAdKeyValue(t,n)}function l(t){var n=r();a(t);for(var i in n)if(e(n,i)){var o=n[i];if(o instanceof Array)for(var l=0,d=o.length;l<d;++l)s(t,o[l],"1");else s(t,i,o)}}function d(e){e.getPlayerType()===CVP.FLASH&&(v("setAdKeyValuePairs",e),l(e))}function c(e){if(!o())return!e||e();var t=n(function(){window.amznads.getTargeting();return!e||e()});try{window.amznads.getAdsCallback(_,t,C)}catch(e){v("Exception thrown while requesting Amazon ads:",e),t()}}function u(e){v("initializing",e),e&&(_=e.amznkey||_,C=e.timeout||C),x=!0}function p(e){return function(){if(!x)return void v("ERROR: init() must be called first!");e.apply(this,arguments)}}var h=Array.prototype,m=Object.prototype,f=m.hasOwnProperty,g=h.slice,y=m.toString,v=function(){};t(window.console)&&function(e){return"[object Function]"===y.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(v=function(){var e=["[AdFuelModule - Amazon Video]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var w=(i("CG")?i("CG").substr(0,2):"")||i("countryCode");v("Country Code: ",w);var b=window.location.hostname.toLowerCase(),_="3159";""==w||null==w?b.search(/^(edition|arabic|cnnespanol|cnne\-test)\./)>=0&&(_="3288"):"US"!==w&&"CA"!==w&&b.search(/^(money|edition|arabic|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(_="3288");var C=1e3,x=!1,A=function(){function e(e){return e in o}function t(t,n){e(t)||(o[t]=[]),o[t].push(n)}function n(t){return e(t)?g.call(o[t]):[]}function i(t){return!!e(t)&&(o[t].length=0,!0)}var o={};return{has:e,clearKeys:i,getKeys:n,addKey:t}}();return{requestAdRefresh:p(c),getTargetingData:p(r),setAdKeyValuePairs:p(d),isAmazonApiAvailable:o,init:u}}(),!0===CNN.Features.enableAmazonDisplayAds&&function(e){var t=document,n=t.createElement("script"),i=t.getElementsByTagName("script")[0],o=/^(complete|loaded)$/,r=!1;n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https:":"http:")+(CNN.AdsConfig.amazonOverride||"//c.amazon-adsystem.com/aax2/amzn_ads.js"),n.onload=n.onreadystatechange=function(){r||"readyState"in n&&o.test(n.readyState)||(n.onload=n.onreadystatechange=null,r=!0,e())},window.AmazonDirectMatchBuy?e():i.parentNode.insertBefore(n,i)}(function(){CNN.AdsConfig.amazon.amznkey?window.AmazonDirectMatchBuy.init(CNN.AdsConfig.amazon):window.AmazonDirectMatchBuy.init()}),!0===CNN.Features.enableCriteoAds&&function(){function e(){if(!d){y("Including Criteo Library..."),d=!0;var e=document,t=e.createElement("script"),n=e.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.src="//static.criteo.net/js/ld/publishertag.js",n.parentNode.insertBefore(t,n)}}function t(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function n(e,n){function i(){y("Setting LineItem Ranges..."),window.Criteo.SetLineItemRanges("0..5:0.01;5..30:0.05;30..100:1.00"),y("Previously Requested: ",E),y("Requesting Bids...",o),a.addMetric({type:"vendor",id:"Criteo",data:x}),E.placements=E.placements.concat(o.placements),window.Criteo.RequestBids(o,n,1100)}for(var o={placements:[]},r=0;r<e.length;r++){var s=e[r];if("page"!==s.rktr_slot_id){for(var l=[],d=t(),c=!1,u=!0,p=0;p<s.responsive.length;p++){var h=s.responsive[p];!c&&h[0][0]<d[0]&&h[0][1]<d[1]&&(c=!0,l=h[1],"suppress"!=h[1][0]&&"suppress"!=l||(u=!1))}u&&l.length>0?(y("Setting Sizes To Responsive Sizes: ",l),s.sizes=l):u||(s.sizes=[]);var m=s.sizes,f=s.rktr_slot_id,v=s.rktr_ad_id;x[f]=[],A[f]=0;for(var N in S)if(S.hasOwnProperty(N)&&0===v.indexOf(N)){for(var T=0;T<m.length;T++){var k=m[T],I=k[0]||null,F=k[1]||null,B=null!==I?I*F:0,M=null!==I?I+"x"+F:k.join("x"),R=S[N][M]||null;if(["300x250","320x50"].indexOf(M)>=0&&g.any&&(y("Using Mobile zoneId for size: ",M),R=S.MOBILE[N][M]||null),null!==R){A[f]=B>A[f]?B:A[f];var D={slotid:f,zoneid:R,width:I,height:F,area:B};-1===x[f].indexOf(D)?(y("Pushing data...",D),x[f].push(D)):y("Skipping... Already exists...",D)}}break}}}var z=0;for(var f in x)for(var U=x[f],q=0;q<U.length;q++){var O=U[q];if(z>=w)break;if(C!=_||O.area==A[O.slotid]){for(var L={slotid:f,zoneid:O.zoneid},P=!1,j=0;j<o.placements.length;j++)o.placements[j].slotid===L.slotid&&o.placements[j].zoneid===L.zoneid&&(P=!0);for(var H=0;H<E.placements.length;H++)E.placements[H].slotid===L.slotid&&E.placements[H].zoneid===L.zoneid&&(P=!0);if(P||(y("Placement does not yet exist.  Adding to collection.",L),o.placements.push(L)),z++,C==b)break}}o.placements.length>0?window.Criteo.events.push(i):n()}function i(e,t){y("Setting DFP KeyValue Targeting...");try{window.Criteo.SetDFPKeyValueTargeting()}catch(e){v(e)}t()}function o(e,t){function n(){y("Setting LineItem Ranges..."),window.Criteo.SetLineItemRanges("0..3:0.01;3..8:0.05;8..20:0.50;20..30:1.00"),y("Requesting Bids...",E),a.addMetric({type:"vendor",id:"Criteo",data:x}),window.Criteo.RequestBids(E,o,1200)}var o=i.bind(null,e,t);window.Criteo.events.push(n)}function r(){y("Registering Module..."),a=window.AdFuel.registerModule("criteo",{postQueueCallback:n,preDispatchCallback:i,preRefreshCallback:o})||{addMetric:function(){}}}window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[];var a,s=Object.prototype,l=s.toString,d=!1,c=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,u=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,p=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,h=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(e,t){return e.test(t)},f=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if(void 0!==n[1]&&(t=n[0]),n=t.split("Twitter"),void 0!==n[1]&&(t=n[0]),this.apple={phone:m(/iPhone/i,t),ipod:m(/iPod/i,t),tablet:!m(/iPhone/i,t)&&m(/iPad/i,t),device:m(/iPhone/i,t)||m(/iPod/i,t)||m(/iPad/i,t)},this.amazon={phone:m(u,t),tablet:!m(u,t)&&m(p,t),device:m(u,t)||m(p,t)},this.android={phone:m(u,t)||m(c,t),tablet:!m(u,t)&&!m(c,t)&&(m(p,t)||m(/Android/i,t)),device:m(u,t)||m(p,t)||m(c,t)||m(/Android/i,t)},this.windows={phone:m(/Windows Phone/i,t),tablet:m(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t),device:m(/Windows Phone/i,t)||m(/(?=.*\bWindows\b)(?=.*\bARM\b)/i,t)},this.other={blackberry:m(/BlackBerry/i,t),blackberry10:m(/BB10/i,t),opera:m(/Opera Mini/i,t),firefox:m(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t),chrome:m(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t),device:m(/BlackBerry/i,t)||m(/BB10/i,t)||m(/Opera Mini/i,t)||m(/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,t)||m(/(CriOS|Chrome)(?=.*\bMobile\b)/i,t)},this.seven_inch=m(h,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},g=function(){var e=new f;return e.Class=f,e}(),y=function(){},v=function(){},w=8,b="F",_="L",C=_;(C=C.toUpperCase())!=b&&C!=_&&"A"!=C&&(C=_);var x={},A={},E={placements:[]},S={CNN:{"160x600":1047134,"300x250":1047135,"300x600":1047136,"728x90":1047137,"970x90":1047140,"970x250":1047139,"320x50":1047138},NBA:{"320x50":1083217,"728x90":1083216,"970x90":1083218,"300x250":1083215},NCAA:{"160x600":1083227,"320x50":1083230,"300x250":1083228,"728x90":1083229,"970x90":1083231},PGA:{"728x90":1083239,"300x250":1083237,"970x90":1083242,"300x600":1083238,"970x250":1083241,"320x50":1083240},ELEAGUE:{"320x50":1083245,"300x250":1083243,"728x90":1083244},CNNMoney:{"728x90":1083234,"970x90":1083236,"970x250":1083235,"300x250":1083232,"300x600":1083233},AS:{"320x50":1083225,"728x90":1083224,"300x250":1083223,"970x90":1083226},"TBS/shows/conan":{"300x250":1083219,"728x90":1083220,"970x90":1083222,"970x250":1083221},MOBILE:{CNN:{"300x250":1090825,"320x50":1090883},NBA:{"300x250":1090830,"320x50":1090884},NCAA:{"300x250":1090831,"320x50":1090885},PGA:{"300x250":1090832,"320x50":1090886},ELEAGUE:{"300x250":1090833,"320x50":1090887},CNNMoney:{"300x250":1090834,"320x50":1090834},AS:{"300x250":1090835,"320x50":1090888},"TBS/shows/conan":{"300x250":1090836}}};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===l.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(y=function(){var e=["[AdFuelModule - Criteo v1.2.8]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},v=function(){var e=["[AdFuelModule - Criteo v1.2.8]"];e.push.apply(e,arguments),window.console.error.apply(window.console,e)}),function(){y("Initializing Module..."),e(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(r):window.AdFuel?r():document.addEventListener?document.addEventListener("AdFuelCreated",r,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",r)}()}(),!0===CNN.Features.enableRubiconFastlane&&function(){function e(){return void 0!==window.innerWidth?(viewportWidth=window.innerWidth,viewportHeight=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(viewportWidth=document.documentElement.clientWidth,viewportHeight=document.documentElement.clientHeight):(viewportWidth=document.getElementsByTagName("body")[0].clientWidth,viewportHeight=document.getElementsByTagName("body")[0].clientHeight),[viewportWidth,viewportHeight]}function t(e){var t=!1,n=null;if(localStorage&&(t=!0),"undefined"==typeof value){t&&(n=localStorage.getItem(e)),t&&null!==n||(n=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var o=t[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null}return null}(e));try{n=JSON.parse(n)}catch(e){n=n}return n}}function n(){f("Adding Fastlane library to head of page.");var e=11078;f("Defaulting to Domesting Account ID."),f("Country Code: ",v),_.search(/^(edition|arabic)\./)>=0?(f("Full international site.  Using International Account ID."),e=11016):_.search(/^money\.cnn/)>=0&&"/"===C&&"edition"===w?(f("International CNN Money Homepage. Using International Account Id."),e=11016):""==v||null==v?_.search(/^(edition|arabic|cnnespanol|cnne\-test)\./)>=0&&(f("No country code.  Using International Account ID."),e=11016):"US"!==v&&"CA"!==v&&_.search(/^(money|cnnespanol|cnne\-test|www\.cnn)\./)>=0&&(f("International country code.  Using International Account ID."),e=11016),f("Final Account ID: "+e);var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https:":"http:")+"//ads.rubiconproject.com/header/"+e+".js",document.getElementsByTagName("script")[0].parentNode.appendChild(t)}function i(e){clearTimeout(e),m.length=0}function o(t,n){if(y)f("Not building slots. Fastlane disabled."),n();else{f("Building slots for Fastlane",JSON.stringify(t)),g="";var o=setTimeout(function(){f("PreQueue Timeout Occurred."),window.AdFuel.addPageLevelTarget("fln_pqto","1")},1e3);window.rubicontag.cmd.push(function(){for(var r=[],a=1;a<t.length;a++){f("Checking Slot: ",t[a].rktr_slot_id);var s,l=t[a];(""==g||l.rktr_slot_id.indexOf("bnr_atf_01")>0)&&(f("Setting KW Ad Unit: ",l.rktr_ad_id),g=l.rktr_ad_id);var d={_atf_:"atf",_btf_:"btf",_mod_:"atf"},c=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],u=["_ns_","_nfs_"],p=["super-ad-zone","super_ad_zone"],h=["CNN/health","CNN/health/healthgrades","CNN/health/leaf","CNN/health/list","CNN/health/photos","CNN/health/specials","CNN/health/video","CNN/student-news"];for(var m in d)if(d.hasOwnProperty(m)&&l.rktr_slot_id&&l.rktr_slot_id.indexOf(m)>=0){var y=!0,v=!1;for(var w in u)l.rktr_slot_id.indexOf(u[w])>=0&&(f("Filtering out invalid slot type: ",u[w],l),y=!1);for(var b in p)l.rktr_ad_id.indexOf(p[b])>=0&&(f("Filtering out invalid ad unit segment: ",p[b],l),y=!1);for(var _ in h)l.rktr_ad_id==h[_]&&(f("Filtering out invalid ad unit: ",h[_],l),y=!1);for(var C=[],x=0;x<l.responsive.length;x++){var A=e(),E=l.responsive[x];!v&&E[0][0]<A[0]&&E[0][1]<A[1]&&(v=!0,C=E[1],"suppress"!=E[1][0]&&"suppress"!=C||(y=!1))}if(y&&C.length>0&&(f("Setting Sizes To Responsive Sizes: ",C),l.sizes=C),y)for(var S=0;S<l.sizes.length;S++){var N=l.sizes[S];"suppress"!==N&&(N=N.join("x")),c.indexOf(N)<0&&(f("Filtering out invalid size: ",N,l),l.sizes.splice(S,1))}if(0==l.sizes.length&&(y=!1,f("Filtering out slot with no valid sizes.",l.rktr_slot_id,l.rktr_ad_id)),y){f("Slot is a valid item for Rubicon Fastlane.");var T=d[m],k=!!document.getElementById(l.rktr_slot_id)&&document.getElementById(l.rktr_slot_id).className.indexOf("adfuel-rendered")>=0;if(f("Checking for cached Fastlane response for: ",l.rktr_slot_id),void 0!==window.rubiconSlotDictionary[l.rktr_slot_id]||k)void 0===window.rubiconSlotDictionary[l.rktr_slot_id]&&k?f("Element has already been rendered with an ad.  Skipping Fastlane auction for: ",l.rktr_slot_id):f("Using cached Fastlane response for: ",l.rktr_slot_id);else{f("Cached response not found. Defining Slot: ","/8664377/"+l.rktr_ad_id,l.sizes,l.rktr_slot_id),s=window.rubicontag.defineSlot("/8664377/"+l.rktr_ad_id,l.sizes,l.rktr_slot_id),f("Setting Position: ",T),s.setPosition(T);for(var I=l.targeting,F=0;F<I.length;F++){var B=I[F];"pos"==B[0]&&(Array.isArray(B[1])?(f("Setting POS Keyword For "+l.rktr_slot_id,B[1][0]),s.setFPI("pos",B[1][0])):(f("Setting POS Keyword For "+l.rktr_slot_id,B[1]),s.setFPI("pos",B[1])))}f("Setting Keyword For "+l.rktr_slot_id,l.rktr_ad_id),s.addKW(l.rktr_ad_id),r.push(s),window.rubiconSlotDictionary[l.rktr_slot_id]=s}}}}for(var M=g.split("/"),R=["site","section","subsection"],D=0;D<M.length&&D<3;D++)f("Setting FPI",R[D],M[D]),window.rubicontag.setFPI(R[D],M[D]);window.CNN&&window.CNN.getCapTopics&&window.rubicontag.setFPI("cap_topics",Object.getOwnPropertyNames(window.CNN.getCapTopics())),window.rubicontag.setFPI("ssl","https:"===document.location.protocol?1:0),window.rubicontag.run(function(){i(o),n()},{slots:r})})}}function r(e){f("setting fastlane targeting"),window.googletag.cmd.push(function(){var t=window.AdFuel.pageSlots;f({slots:e,gptSlots:t});for(var n={},i=0;i<e.length;i++){var o=e[i];if(f("Slot ID: ",o.rktr_slot_id),t[o.rktr_slot_id]){var r=t[o.rktr_slot_id];f("calling window.rubicontag.setTargetingForGPTSlot..."),window.rubicontag.setTargetingForGPTSlot(r),window.refreshableRubiconSlots[o.rktr_slot_id]=window.rubiconSlotDictionary[o.rktr_slot_id],delete window.rubiconSlotDictionary[o.rktr_slot_id];for(var a=r.getTargetingKeys(),s={},l=!1,d=0;d<a.length;d++)a[d].indexOf("rpfl_")>=0&&(l||(f("removing fln_to=1 and setting fln_to=0 for "+r.getSlotElementId()),window.AdFuel.removeSlotLevelTarget(r.getSlotElementId(),"fln_to"),window.AdFuel.addSlotLevelTarget(r.getSlotElementId(),"fln_to","0"),l=!0),
f("Set Fastlane Targeting...",{slot:r.getSlotElementId(),target:{key:a[d],value:r.getTargeting(a[d])}}),s[a[d]]=r.getTargeting(a[d]));n[o.rktr_slot_id]=s}}h.addMetric({type:"modules",id:"Fastlane",data:{targeting:n}})})}function a(e){f("Fastlane Creative Rendered: ",e),h.addMetric({type:"modules",id:"Fastlane",data:e})}function s(e,t){window.rubicontag.cmd.push(function(){if(window.rubicontag.addEventListener("HL_CREATIVE_RENDERED",a),!y){var n=setTimeout(function(){t()},1e3);f("preDispatch"),r(e),clearTimeout(n)}}),t()}function l(e,t){if(y)t();else{f("preRefresh");var n=[],i=[],o=window.AdFuel.pageSlots;e||(e=Object.getOwnPropertyNames(o));for(var a=0;a<e.length;a++){var s=e[a];if(f("Slot ID: ",s),o[s]){var l=o[s],d=l.getTargetingKeys();for(var c in d)if(d.hasOwnProperty(c)){var u=d[c];u.indexOf("rpfl")>=0&&window.AdFuel.removeSlotLevelTarget(s,u)}h.addMetric({type:"modules",id:"Fastlane",data:{targeting:{}}}),window.rubiconSlotDictionary[s]&&n.push(window.rubiconSlotDictionary[s]),i.push({rktr_slot_id:s})}}f("refreshing slots",{slotsToRefresh:n}),window.rubicontag.run(function(){r(i),t()},{slots:n})}}function d(){y?f("Fastlane disabled. Not registering module."):(window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1200,dispatchCallbackTimeoutInMilliseconds:1200,refreshCallbackTimeoutInMilliseconds:1200}),h=window.AdFuel.registerModule("Fastlane",{preQueueCallback:o,preDispatchCallback:s,preRefreshCallback:l})||{metrics:{},addMetric:p,getMetricById:p,getMetricsByType:p,getMetricTypes:p})}window.rubicontag=window.rubicontag||{},window.rubicontag.cmd=window.rubicontag.cmd||[];var c=Object.prototype,u=c.toString,p=function(){return!1},h={metrics:{},addMetric:p,getMetricById:p,getMetricsByType:p,getMetricTypes:p},m=[],f=function(){},g="",y=!1,v=(t("CG")?t("CG").substr(0,2):"")||t("countryCode"),w=t("SelectedEdition")?t("SelectedEdition"):"www",b=document.createElement("a");b.href=document.location.href;var _=b.hostname,C=b.pathname;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===u.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(f=function(){var e=["[AdFuelModule - Rubicon Fastlane v2.7.4]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.rubiconSlotDictionary={},window.refreshableRubiconSlots={},function(){n(),window.AdFuel?d():document.addEventListener?document.addEventListener("AdFuelCreated",d,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",d)}()}(),!0===CNN.Features.enableInViewRefresh&&function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)}function t(){h||(window.googletag.cmd.push(function(){window.googletag.pubads().addEventListener("impressionViewable",function(e){var t=e,n=t.slot.getSlotElementId();p[n].listenersSet?C("Refreshable In View Slot listeners have already been set for: ",n,{object:p[n]}):(C("Refreshable In View Slot listeners have not been set: ",n,{object:p[n]}),l(t))}),window.googletag.pubads().addEventListener("slotVisibilityChanged",function(e){o(e)})}),e(document,"visibilitychange",n),h=!0,C("Listeners Started!"))}function n(e){C("Visibility Change Event: ",e),C("Relaying to _focusChanged..."),m=!e.target.hidden,i(e),C("Pixeling the page to trigger visibilityListeners..."),document.scrollBy(0,10),document.scrollBy(0,-10)}function i(e){var t=e.target.hidden?e.target.hidden:!m;if(C("Target: ",e.target),C("Focused: ",!t),t=!1)C("Page is hidden.  Destroying all intervals..."),s();else{C("Page is not hidden. Checking Intervals...");for(var n in p)if(p.hasOwnProperty(n)){C({index:n,slot:p[n]});var i=r(n);i&&(C("Interval exists? Destroying Interval..."),s(n))}C("Pixeling the page to trigger visibilityListeners..."),window.scrollBy(0,10),window.scrollBy(0,-10)}}function o(e){var t=e.inViewPercentage||0,n=e.slot.getSlotElementId();if(C("Visibility Changed: ",{event:e,focused:m,percent:t,element:n}),t>=g&&m){C("Element ["+n+"] Meets In-View Percentage Requirements");var i=r(n);i||a(n)}else{C("Element ["+n+"] Does NOT Meet In-View Percentage Requirements");var i=r(n);i&&s(n)}}function r(e){return null!=p[e].timer&&p[e].timer}function a(e){if(C("Creating Interval for: ",e),p.hasOwnProperty(e)){var t=p[e];_.getMetricById("viewability",e);t.inViewRefreshCount>0&&(t.timer=window.setInterval(function(){t.el=t.el||document.getElementById(e);var n=t.el.id;C("Slot ["+n+"] is in view, is being refreshed, and has "+t.inViewRefreshCount+" refreshes remaining."),t.inViewRefreshCounter=p[n].inViewRefreshCounter||0,t.inViewRefreshCount--,t.inViewRefreshCounter++,window.AdFuel.removeSlotLevelTarget(n,"rfv"),window.AdFuel.addSlotLevelTarget(n,"rfv",p[n].inViewRefreshCounter),_.addMetric({type:"viewability",id:n,data:{refresh_count:t.inViewRefreshCounter,last_refresh:Date.now()}}),t.inViewRefreshCount>=0&&window.AdFuel.refresh([n]),C("Slot ["+t.el.id+"] is in view, was just refreshed, and still has "+t.inViewRefreshCount+" refreshes remaining.")},f))}}function s(e){if(e){C("Destroying interval for: ",e);var t=p[e];window.clearInterval(t.timer),t.timer=null,t.inView=!1}else{C("Destroying All Intervals");for(var n in p)if(p.hasOwnProperty(n)){C("Destroying interval for: ",n);var t=p[n];window.clearInterval(t.timer),t.timer=null,t.inView=!1}}}function l(e){C("Checking Element: ",{event:e});var t=e.slot.getSlotElementId(),n=document.getElementById(t);C("Creating In View Refresh Object: ",{divId:t,el:n});var i=!!e.slot&&(!!e.slot.l&&e.slot.l._empty_);if(C("Is Slot Empty: ",i),i)C("Slot is empty.");else if(C("Slot Rendered: "+t),C("Registered Slots: ",y),y.indexOf(t)>=0){C("Slot is registered with InView Refresh"),p[t].inView=!1,p[t].el=n,p[t].refreshCount=0,p[t].listenersSet=!0;parseInt(p[t].inViewRefreshCount)}else C("Slot is NOT registered with InView Refresh")}function d(e,n){for(var i=!1,o=1;o<e.length;o++){var r=e[o];r.hasInViewRefresh=e[0].hasInViewRefresh?e[0].hasInViewRefresh:r.hasInViewRefresh||"false","true"==r.hasInViewRefresh&&(r.inViewRefreshCounter=0,i=!0,y.push(r.rktr_slot_id),_.addMetric({type:"viewability",id:r.rktr_slot_id,data:{is_in_view:!1,was_in_view:!1,moused_over:"0",refresh_count:"0",max_refresh:JSON.parse(JSON.stringify(r.inViewRefreshCount))}}))}return _.addMetric({type:"modules",id:"In View Refresh",data:{registeredSlots:y}}),i&&t(),n&&n(),null}function c(e,t){for(var n=0;n<e.length;n++){var i=e[n];"true"==i.hasInViewRefresh?(C("Slot is configured for in view refresh.  Creating _refreshableInViewSlots["+i.rktr_slot_id+"]..."),p[i.rktr_slot_id]=i):C("Slot is not configured for in view refresh. ["+i.rktr_slot_id+"]")}if(p.length>0){_.addMetric({type:"viewability",id:"General",data:{viewability:"active",render_listener:"Active",window_listener:"Active",mutation_observer:"Inactive",registeredSlots:Object.getOwnPropertyNames(p).length,criteria:100*r+"% in view for "+o/1e3+" seconds"}});var o=35e3,r=.5}_.addMetric({type:"modules",id:"In View Refresh",data:{registeredSlots:Object.getOwnPropertyNames(p)}}),t()}function u(){_=window.AdFuel.registerModule("In View Refresh",{preQueueCallback:d,preDispatchCallback:c})}var p={},h=!1,m=!0,f=35e3,g=50,y=[],v=Object.prototype,w=v.toString,b=function(){return!1},_={metrics:{},addMetric:b,getMetricById:b,getMetricsByType:b,getMetricTypes:b},C=function(){};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===w.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(C=function(){var e=["[AdFuelModule - In View Refresh]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},function(){var e=["[AdFuelModule - In View Refresh ERROR]"];e.push.apply(e,arguments),window.console.error.apply(window.console,e)}),function(){C("FOCUSED: ",m),window.AdFuel?u():e(window,"AdFuelCreated",u),setInterval(function(){window.AdFuel.updateCorrelator&&window.AdFuel.updateCorrelator()},3e4)}()}(),!0===CNN.Features.enableIndexExchange&&function(){function e(e){var t=!1,n=null;if(localStorage&&(t=!0),"undefined"==typeof value){t&&(n=localStorage.getItem(e)),t&&null!==n||(n=function(e){if(document.cookie){for(var t=document.cookie.split(";"),n=e+"=",i=0;i<t.length;i++){for(var o=t[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return""}return""}(e));try{n=JSON.parse(n)}catch(e){n=n}return n}}function t(e){if(!r){console.log("[AdFuel Module - "+i+" "+o+"] Including "+i+" Library...",e),r=!0;var t=document,n=t.createElement("script"),a=t.getElementsByTagName("script")[0];n.type="text/javascript",n.async=!0,n.src=e,a.parentNode.insertBefore(n,a)}}function n(){console.log("[AdFuel Module - "+i+" "+o+"] Registering Module..."),window.AdFuel.registerModule(i,{})}var i="Index Exchange Wrapper",o="v1.0",r=!1,a=(e("CG")?e("CG").substr(0,2):"")||e("countryCode"),s={"edition.cnn.com":"129055748395673","us.cnn.com":"96070407099023","money.cnn.com":"144448918822171","cnnespanol.cnn.com":"263196174718504","arabic.cnn.com":"164240128263733","www.cnn.com":"96070407099023"};!function(){var e="//js-sec.indexww.com/ht/p/186370-";e=e+s[window.location.hostname]+".js";var r=["edition.cnn.com","us.cnn.com","money.cnn.com","cnnespanol.cnn.com","arabic.cnn.com","www.cnn.com"].indexOf(window.location.hostname)>=0,l=["edition.cnn.com","arabic.cnn.com"],d="US"!==a&&"CA"!==a&&r||l.indexOf(window.location.hostname)>=0;console.log("[AdFuel Module - "+i+" "+o+"] Initializing Module..."),d&&r?t(e):console.log("[AdFuel Module - "+i+" "+o+"] Country ["+(a||"undefined")+"] and/or Hostname ["+window.location.hostname+"] is invalid."),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(n):window.AdFuel?n():document.addEventListener?document.addEventListener("AdFuelCreated",n,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",n)}()}(),!0===CNN.Features.enableIntegralAdScience&&function(){function e(e){d("IAS Data Handler..."),d({adSlots:e}),window.__iasPET.setTargetingForGPT()}function t(t,n){d("Building slots for IAS..."),window.__iasPET.pubId="925660",d("Asset: ",t,"Slots: ",t.length-1);for(var i=[],o=1;o<t.length;o++)d("Checking Slot: ",t[o]),t[o].rktr_ad_id.search(/^cnni\/(video|homepage|(.+\/(landing|main|video)))/)<0?(d("Pushing Slot: ",{adSlotId:t[o].rktr_slot_id,size:t[o].sizes,adUnitPath:"/8663477/"+t[o].rktr_ad_id}),i.push({adSlotId:t[o].rktr_slot_id,size:t[o].sizes,adUnitPath:"/8663477/"+t[o].rktr_ad_id})):d("Invalid Slot: ",t[o].rktr_ad_id);d("Built Ad Slots: ",i),window.__iasPET.queue.push({adSlots:i,dataHandler:e}),setTimeout(function(){n()},900)}function n(e,t){setTimeout(function(){d("Adding IAS Targeting to slots...");try{window.__iasPET.setTargetingForGPT()}catch(e){c("Could not set IAS targeting: ",e)}t()},900)}function i(){u&&(d("Registering "+l+" module with AdFuel"),window.AdFuel.setOptions({queueCallbackTimeoutInMilliseconds:1e3,dispatchCallbackTimeoutInMilliseconds:1e3}),metricApi=window.AdFuel.registerModule(l,{preQueueCallback:t,preDispatchCallback:n})||metricApi)}function o(){if(-1!==document.location.hostname.search(/^edition.*\.cnn\.com$/)||"localhost"===document.location.hostname){d("Adding IAS script to head...");var e=document.createElement("script");e.async=!0,e.src="//cdn.adsafeprotected.com/iasPET.1.js";var t=document.getElementsByTagName("head")[0];t.insertBefore(e,t.firstChild),u=!0}}var r=Object.prototype,a=r.toString,s=function(){},l="Integral Ad Science",d=s,c=s;(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===a.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(d=function(){var e=["[AdFuelModule - "+l+"]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)},c=function(){var e=["[AdFuelModule - "+l+"]"];e.push.apply(e,arguments),window.console.warn.apply(window.console,e)},function(){var e=["[AdFuelModule - "+l+" ERROR]"];e.push.apply(e,arguments),window.console.error.apply(window.console,e)},function(){var e=["[AdFuelModule - "+l+" TIMER] "];e.push.apply(e,arguments);var t=e.join("");window.console.time(t)});var e,u=!1;window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],d("Initializing "+l+" Module..."),function(){o(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(i):window.AdFuel?i():document.addEventListener?document.addEventListener("AdFuelCreated",i,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",i)}()}(),!0===CNN.Features.enableKrux&&function(){var e=function(){return!1},t={addMetric:e,getMetricById:e,getMetricsByType:e,getMetricTypes:e};window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),function(){function e(e){var t="kx"+e,n=function(){try{return window.localStorage}catch(e){return null}}();if(n)return n[t]||"";if(navigator.cookieEnabled){var i=document.cookie.match(t+"=([^;]*)");return i&&unescape(i[1])||""}return""}window.Krux.user=e("user"),window.Krux.segments=e("segs")?e("segs").split(","):[]}(),window.krux_getDESegments=function(){var e="&kxid=";return window.Krux.user&&(e+=window.Krux.user),e+="&kxseg="+window.kvs.join(",")},window.krux_getFWSegments=function(){return"kxseg="+window.kvs.join(",kxseg=")},window.krux_getUser=function(){return window.Krux.user},window.krux_getFWKeyValues=function(e,t){for(var n=e||"_fwu:386123:",i=t||35,o={},r=0;r<window.Krux.segments.length;r++)r<i&&(o[n+window.Krux.segments[r]]=1);return o},window.Krux.setControlTag=function(e){function n(){function e(){var e=window.Krux.user,n=window.Krux.segments.filter(function(e,t){return t<35});r("setting krux targeting",{kuid:e,ksg:n}),t=window.AdFuel.registerModule("Krux",{}),window.AdFuel.addPageLevelTarget("kuid",e),window.AdFuel.addPageLevelTarget("ksg",n),t.addMetric({type:"modules",id:"Krux",data:{targeting:{kuid:e,ksg:n}}})}window.AdFuel?e():document.addEventListener?document.addEventListener("AdFuelCreated",e,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",e)}var i=Object.prototype,o=i.toString,r=function(){};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===o.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(r=function(){var e=["[AdFuelModule - Krux]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)});var a=document,s=a.createElement("script"),l=a.getElementsByTagName("script")[0],d=/^(complete|loaded)$/,c=!1;s.type="text/javascript",s.async=!0;var u,p=(u=a.location.href.match(/\bkxsrc=([^&]+)/))&&decodeURIComponent(u[1]);s.src=/^https?:\/\/([^\/]+\.)?krxd\.net(:\d{1,5})?\//i.test(p)?p:"disable"===p?"":("https:"===a.location.protocol?"https:":"http:")+"//cdn.krxd.net/controltag?confid="+e,s.onload=s.onreadystatechange=function(){c||"readyState"in s&&d.test(s.readyState)||(s.onload=s.onreadystatechange=null,c=!0,n())},l.parentNode.insertBefore(s,l)};var n=window.location.hostname.toLowerCase().match(/^edition\.cnn\.com/)?"ITb_9Zup":"ITb_4eqO";window.Krux.setControlTag(n)}(),!0===CNN.Features.enablePiiAdFilter&&function(){function e(){new RegExp(o);if(document.location.search){var e,t=document.location.search.search(o)+1;try{e=decodeURIComponent(document.location.search).search(o)+1}catch(n){e=t}return t||e}return!1}function t(){new RegExp(o);if(document.location.hash){var e,t=document.location.hash.search(o)+1;try{e=decodeURIComponent(document.location.hash).search(o)+1}catch(n){e=t}return t||e}return!1}function n(){new RegExp(o);if(document.referrer){var e,t=document.referrer.search(o)+1;try{e=decodeURIComponent(document.location.referrer).search(o)+1}catch(n){e=t}return t||e}return!1}function i(){if(e()||t()||n()){console.log("[AdFuelModule - PII Filter] Filtering DFP Request due to PII in query string.");for(var i=Object.getOwnPropertyNames(window.AdFuel),o=0;o<i.length;o++)window.AdFuel[i[o]]=function(){};window.googletag=null}}var o=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})/i;!function(){window.AdFuel?i():document.addEventListener?document.addEventListener("AdFuelCreated",i,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",i)}()}(),!0===CNN.Features.enableProximic&&function(){function e(e){h="",window.proximicData=[],window.AdFuel.removePageLevelTarget("pconid");var n=e||document.location.href;window.location.hostname.toLowerCase().match(/^train\.next\.cnn\.com/)&&n.replace("train.next.","www"),p="//segment-data-us-east.zqtk.net/turner-47fcf6?url="+encodeURIComponent(n),document.getElementById("proximic-script"),g=!1,t(),l=0,o()}function t(){if(!g){var e=document.createElement("script");e.id="proximic-script",e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https:":"http:")+p;document.getElementsByTagName("script")[0].parentNode.appendChild(e),y("Added Proximic script to head of page.",p),g=!0}}function n(e,t){""!==e&&void 0!==e&&(y("Setting data for DFP",e),window.AdFuel.addPageLevelTarget("pconid",e),window.AdFuel.removePageLevelTarget("prx_to","1"),window.AdFuel.addPageLevelTarget("prx_to","0"),s.addMetric({type:"modules",id:"Proximic",data:{targeting:{pconid:e}}}),t&&t())}function i(e,n){var i,r,a=!0;try{for(document.location.hostname.indexOf("money")>=0&&(!window.CNNMONEY||!window.CNNMONEY.adTargets||!window.CNNMONEY.adTargets.c_type||["article","video","gallery"].indexOf(window.CNNMONEY.adTargets.c_type)<0)&&(a=!1),r=1;r<e.length;r++){if(i=e[r].rktr_ad_id.toLowerCase(),i.search(/^cnn\/(homepage|(.+\/landing))/)<0&&i.search(/^cnni\/(homepage|(.+\/(landing|main)))/)<0&&a){y("Adding Proximic based on ad unit specifications: ",i),t(),o(n);break}y("Filtering Proximic based on ad unit specifications: ",i)}}catch(e){y("Error parsing Proximic data: ",e.message||"Unknown")}}function o(e){y("Waiting for data..."),setTimeout(function(){l++,y("SegmentData: ",h),""!==h&&void 0!==h?(y("Proximic Data found!"),n(h,e)):l*d<c?o(e):(y("Proximic Timeout Occurred!"),window.AdFuel.addPageLevelTarget("prx_to","1"),e&&e())},d)}function r(){s=window.AdFuel.registerModule("Proximic",{postQueueCallback:i}),window.AdFuel.addPageLevelTarget("prx_to","1")}var a=function(){return!1},s={addMetric:a,getMetricById:a,getMetricsByType:a,getMetricTypes:a},l=0,d=50,c=2e3,u=document.location.href;window.location.hostname.toLowerCase().match(/^train\.next\.cnn\.com/)&&u.replace(/^http[s]?:\/\/(train|stage|sweet)(\.next)?\.cnn\.com/,"$1www");var p="//segment-data-us-east.zqtk.net/turner-47fcf6?url="+encodeURIComponent(u),h="",m=Object.prototype,f=m.toString,g=!1;window.proximicData=[];var y=function(){};(function(e){var t=typeof e;return"function"===t||"object"===t&&!!e})(window.console)&&function(e){return"[object Function]"===f.call(e)}(window.console.log)&&"true"==function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t);if(document.location.search){var i=n.exec(document.location.search);return i?i[1]:""}return""}("debug")&&(y=function(){var e=["[AdFuelModule - Proximic/comScore]"];e.push.apply(e,arguments),window.console.log.apply(window.console,e)}),window.gotSegmentData=function(e){e.data&&(y("Segment Data: ",e.data),h=e.data,window.proximicData=e.data)},window.recallProximic=e,function(){window.AdFuel?r():document.addEventListener?document.addEventListener("AdFuelCreated",r,!0):document.attachEvent&&document.attachEvent("onAdFuelCreated",r)}()}()),function(){if(!window.Aspen){var VERSION="1.8.0",debug=-1!==[window.location.search,window.location.hash].join().search(/\bdmtdebug\b/),Class=function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,n=function(){};return n.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var o=this.prototype;e=!0;var r=new this;e=!1;for(var a in n)r[a]="function"==typeof n[a]&&"function"==typeof o[a]&&t.test(n[a])?function(e,t){return function(){var n=this._super;this._super=o[e];var i=t.apply(this,arguments);return this._super=n,i}}(a,n[a]):n[a];return i.prototype=r,i.constructor=i,i.extend=arguments.callee,i},n}();!function(e,t,n){function i(){var e=p;return e.loader={load:o,i:0},e}function o(e,t,n){var i="c"==t?S:E;return v=0,t=t||"j",k(e)?r(i,e,t,this.i++,h,n):(y.splice(this.i++,0,e),1==y.length&&a()),this}function r(e,n,i,o,r,s){function l(){!h&&c(u.readyState)&&(g.r=h=1,!v&&d(),u.onload=u.onreadystatechange=null,m(function(){_.removeChild(u)},0))}var u=t.createElement(e),h=0,g={t:i,s:n,e:s};u.src=u.data=n,!b&&(u.style.display="none"),u.width=u.height="0","object"!=e&&(u.type=i),u.onload=u.onreadystatechange=l,"img"==e?u.onerror=l:"script"==e&&(u.onerror=function(){g.e=g.r=1,a()}),y.splice(o,0,g),_.insertBefore(u,b?null:f),m(function(){h||(_.removeChild(u),g.r=g.e=h=1,d())},p.errorTimeout)}function a(){var e=y.shift();v=1,e?e.t?m(function(){"c"==e.t?s(e):l(e)},0):(e(),d()):v=0}function s(e){var n,i=t.createElement("link");if(i.href=e.s,i.rel="stylesheet",i.type="text/css",e.e||!x&&!w)i.onload=function(){n||(n=1,m(function(){d()},0))},e.e&&i.onload();else{var o=function(e){m(function(){if(!n)try{e.sheet.cssRules.length?(n=1,d()):o(e)}catch(t){1e3==t.code||"security"==t.message||"denied"==t.message?(n=1,m(function(){d()},0)):o(e)}},0)};o(i)}m(function(){n||(n=1,d())},p.errorTimeout),!e.e&&f.parentNode.insertBefore(i,f)}function l(e){var n,i=t.createElement("script");i.src=e.s,i.onreadystatechange=i.onload=function(){!n&&c(i.readyState)&&(n=1,d(),i.onload=i.onreadystatechange=null)},m(function(){n||(n=1,d())},p.errorTimeout),e.e?i.onload():f.parentNode.insertBefore(i,f)}function d(){for(var e=1,t=-1;y.length-++t&&(!y[t].s||(e=y[t].r)););e&&a()}function c(e){return!e||"loaded"==e||"complete"==e}var u,p,h=t.documentElement,m=e.setTimeout,f=t.getElementsByTagName("script")[0],g={}.toString,y=[],v=0,w="MozAppearance"in h.style,b=w&&!!t.createRange().compareNode,_=b?h:f.parentNode,C=e.opera&&"[object Opera]"==g.call(e.opera),x="webkitAppearance"in h.style,A=x&&"async"in t.createElement("script"),E=w?"object":C||A?"img":"script",S=x?"img":E,N=Array.isArray||function(e){return"[object Array]"==g.call(e)},T=function(e){return Object(e)===e},k=function(e){return"string"==typeof e},I=function(e){return"[object Function]"==g.call(e)},F=[],B={};p=function(e){function t(e,t){function n(e){if(k(e))o(e,l,t,0,r);else if(T(e))for(i in e)e.hasOwnProperty(i)&&o(e[i],l,t,i,r)}var i,r=!!e.test,a=r?e.yep:e.nope,s=e.load||e.both,l=e.callback;n(a),n(s),e.complete&&t.load(e.complete)}function o(e,t,o,a,s){var l=r(e),d=l.autoCallback;if(!l.bypass){if(t&&(t=I(t)?t:t[e]||t[a]||t[e.split("/").pop().split("?")[0]]),l.instead)return l.instead(e,t,o,a,s);o.load(l.url,l.forceCSS||!l.forceJS&&/css$/.test(l.url)?"c":n,l.noexec),(I(t)||I(d))&&o.load(function(){i(),t&&t(l.origUrl,s,a),d&&d(l.origUrl,s,a)})}}function r(e){var t,n,i=e.split("!"),o=F.length,r=i.pop(),a=i.length,s={url:r,origUrl:r,prefixes:i};for(n=0;n<a;n++)(t=B[i[n]])&&(s=t(s));for(n=0;n<o;n++)s=F[n](s);return s}var a,s,l=this.yepnope.loader;if(k(e))o(e,0,l,0);else if(N(e))for(a=0;a<e.length;a++)s=e[a],k(s)?o(s,0,l,0):N(s)?p(s):T(s)&&t(s,l);else T(e)&&t(e,l)},p.addPrefix=function(e,t){B[e]=t},p.addFilter=function(e){F.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=i()}(this,this.document);var Ajax={requestMap:{},jsonpRegistry:{},_counter:0,request:function(e){e=Utils.extend({timeout:5e3,maxRetries:0},e||{}),e.tries=0,this._sendRequest(e)},_sendRequest:function(e){var t=this,n=this._createCallback(e),i=this._createScript(n);if(!i)return Utils.log("JSONP - unable to create script for request ",e.url),!1;i.src=e.url,e.timeout&&setTimeout(function(){t._onError(n,e)},e.timeout)},_onSuccess:function(id,obj,data){this.requestMap[id]&&(this._destroyRequest(id,obj),Utils.isString(data)&&(data=eval("("+data+")")),obj.success&&obj.success(data))},_onError:function(e,t){if(this.requestMap[e]){if(this._destroyRequest(e,t),t.tries++,t.maxRetries&&t.tries<t.maxRetries)return Utils.log("Request failed - resending"),void this._sendRequest(t);t.error&&t.error(t.url)}},_destroyRequest:function(e,t){if(t.jsonpCallback){if(!this._removeNameFromRegistry(t.jsonpCallback))try{delete window[t.jsonpCallback]}catch(e){window[t.jsonpCallback]=void 0}}delete this.requestMap[e];var n=document.getElementById(this._getScriptName(e));n&&(n.parentNode.removeChild(n),n=null)},_createScript:function(e){var t=document.getElementsByTagName("head")[0];if(!t)return!1;var n=document.createElement("script");return n.type="text/javascript",e&&(n.id=this._getScriptName(e)),t.appendChild(n),n},_getScriptName:function(e){return"aspen_jsonp_"+e},_createCallback:function(e){var t=this;if(Utils.empty(e.jsonpCallback))return null;this._counter++;var n="request_"+this._counter;this.requestMap[n]=function(i){t._onSuccess(n,e,i)};this._addNameToRegistry(e.jsonpCallback);return window[e.jsonpCallback]=function(e){t.requestMap[n](e)},n},_addNameToRegistry:function(e){var t=this.jsonpRegistry;return t[e]?t[e]+=1:t[e]=1,t[e]},_removeNameFromRegistry:function(e){var t=this.jsonpRegistry;return t[e]&&(t[e]-=1,0===t[e]&&delete t[e]),t[e]}},BatchService=Class.extend({init:function(e){this._enabled=!1,this._queue=[],this._config=e,this._timer,this._firstPostTimer},start:function(e){if(this._config=e,this._enabled=!0,_analyticsConfig.batchMode==BATCH_MODE_TIMER){Utils.log("[aspen]","start timer");var t=this;this._timer=setTimeout(function(){t._postTimerEvent()},1e3*Number(_analyticsConfig.batchModeAmount));var n=Math.ceil(Math.random()*Number(_analyticsConfig.batchModeAmount));n==Number(_analyticsConfig.batchModeAmount)&&--n<=0&&(n=.5),Utils.log("[aspen]","random time: "+n),this._firstPostTimer=setTimeout(function(){t._firstPostTimerEvent()},1e3*n)}},add:function(e){if(this._addToQueue(e),!this._enabled)return void Utils.log("[aspen]","Batch service not enabled. Queuing message.");_analyticsConfig.enabled&&!this._config.batchThrottled?(_analyticsConfig.batchMode==BATCH_MODE_TOTAL?this._queue.length==_analyticsConfig.batchModeAmount&&this.post():_analyticsConfig.batchMode==BATCH_MODE_NONE?this.post():_analyticsConfig.batchMode!=BATCH_MODE_TIMER&&this.post(),this._queue.length>0&&("error"==e.eventType&&void 0!==_analyticsConfig.highPriorityErrors?this.flushByError(e.eventData):"error"!=e.eventType&&void 0!==_analyticsConfig.highPriorityEvents&&this.flushByEvent(e.eventType))):(_analyticsConfig.enabled&&Utils.log("[aspen]","Aspen is diabled via analyticsConfig. Message not added."),this._config.batchThrottled&&Utils.log("[aspen]","Batching is throttled. Message not added."))},_addToQueue:function(e){Utils.log("[aspen]","Adding message to batch queue."),this._queue.push(e)},post:function(){if(this._config.postThrottled)Utils.log("[aspen]","Batch posting is throttled. Batch not posted.");else{var e={sessionId:this._config.sessionId,events:this._queue};if(Utils.log("[aspen]","send batch string"),"gzip"==_analyticsConfig.batchContentEncoding){var t="?aspenJson="+JSON.stringify(e);e=encodeURIComponent(t).replace(/%20/g,"+")}TransportManager.createRequest(_analyticsConfig.batchApi,e,this._postSuccess,this._postFailure,this),this._queue=[]}},_postTimerEvent:function(){Utils.log("[aspen]","postTimer - queue.length: "+this._queue.length),this._queue.length>0?(Utils.log("[aspen]","posting "+this._queue.length+" messages"),this.post()):Utils.log("[aspen]","no messages to post");var e=this;this._timer=setTimeout(function(){e._postTimerEvent()},1e3*Number(_analyticsConfig.batchModeAmount))},_firstPostTimerEvent:function(){Utils.log("[aspen]","firstPostTimer - queue.length: "+this._queue.length),this._queue.length>0?(Utils.log("[aspen]","posting "+this._queue.length+" messages"),this.post()):Utils.log("[aspen]","no messages to post")},_postSuccess:function(e){Utils.log("[aspen]","post success: "+e)},_postFailure:function(e){Utils.log("[aspen]","post failed: "+e)},flushByError:function(e){if(void 0!==e.errorCode){var t=e.errorCode,n=t.substring(0,2),i=t.substring(2,4),o=t.substring(4,6),r=t.substring(6),a=[];a=_analyticsConfig.highPriorityErrors.split(",");for(var s="",l="",d="",c="",u=[],p=[],h=[],m=[],f=0,g=a.length;f<g;++f)switch(f){case 0:s=String(a[f]),u=s.split("+");break;case 1:l=String(a[f]),p=l.split("+");break;case 2:d=String(a[f]),h=d.split("+");break;case 3:c=String(a[f]),m=c.split("+")}for(f=0,g=u.length;f<g;++f){var y=String(u[f]);if(n==y||"*"==y)for(var v=0,w=p.length;v<w;++v){var b=String(p[v]);if(i==b||"*"==b)for(var _=0,C=h.length;_<C;++_){var x=String(h[_]);if(o==x||"*"==x)for(var A=0,E=m.length;A<E;++A){var S=String(m[A]);r!=S&&"*"!=S||(Utils.log("[aspen","[flushByError] found match, flushing batch"),this.post())}}}}}},flushByEvent:function(e){for(var t=_analyticsConfig.highPriorityEvents.split(","),n=0,i=t.length;n<i;++n){String(t[n])==e&&(Utils.log("[aspen]","[flushBatchByEvent] found match, flushing batch"),this.post())}},setSessionId:function(e){this._config.sessionId=e},setBatchThrottled:function(e){this._config.batchThrottled=e},setPostThrottled:function(e){this._config.postThrottled=e},disableTimer:function(){_analyticsConfig.batchMode==BATCH_MODE_TIMER&&clearTimeout(this._timer)}}),LoadState={WAITING:"loadStateWaiting",LOADING:"loadStateLoading",READY:"loadStateReady",FAILED:"loadStateFailed"},Aspen=window.Aspen={init:function(e,t){var n=this;if(Utils.undef(this.initialized))if(this.initialized=!0,this.ready=!1,this.batchService,this._isThrottled=!0,this.sessionId=-1,this._messageExcludes=[],this.timeDifference=0,this._shortId="",this._retryTimer,this._retries=0,this._retryTime=0,this._savedSession={},this._timestampStr="",this.sessionToken="",this._appName="",this._transportFormats=[],this._transportFormat="",this._transportFormatIndex=0,this._messageQueue=[],this.config={},this._loadState=LoadState.WAITING,this._configUrl="",this._configLoaded=!1,this._appInitCallback=t,_params=this._options=e,this._appName=_params.appName=_params&&_params.appName,_params.appVersion=_params&&_params.appVersion,_params.site=_params&&_params.site,_params.context=_params&&_params.context,_params.configBaseUrl=_params&&_params.configBaseUrl,_params.platform=_params&&_params.platform,_params.platformVersion=_params&&_params.platformVersion,Utils.empty(_params.appName))Utils.log("[aspen]","Unable to start Aspen, no appName provided");else if(Utils.empty(_params.site))Utils.log("[aspen]","Unable to start Aspen, no site provided");else{var i={};i.batchThrottled=!0,i.postThrottled=!0,this.batchService=new BatchService(i),this._loadState=LoadState.LOADING;var o=new DependencyManager;o.add(new Dependency(Utils.bind(n._loadConfigFile,n))),o.add(new Dependency(Utils.bind(n._loadRequiredJS,n))),o.onComplete(Utils.bind(n._onDependenciesLoaded,n)),o.onFailure(Utils.bind(n._onDependenciesLoadFailure,n)),o.load()}},_loadConfigFile:function(e,t){var n=_params.configBaseUrl;Utils.isNull(n)&&(n=ANALYTICS_BASE_URL+_params.appName+"/"+_params.site+"/"),Utils.log("[aspen]","Using config base path: "+n),this._configUrl=n+ANALYTICS_FILE+"?_="+Utils.timeBucket(15),Ajax.request({
jsonpCallback:"aspen_onAnalyticsConfigReceived",url:this._configUrl,success:Utils.bind(this._loadConfigSuccess,this,e),error:Utils.bind(this._loadConfigFailure,this,t)})},_loadConfigSuccess:function(e,t){Utils.log("[aspen]","Config loaded successfully"),_analyticsConfig=Utils.extend(Utils.extend({},t.default||{}),t[_params.context]||{}),this.config=_analyticsConfig,Utils.undef(_analyticsConfig.batchMode)&&(_analyticsConfig.batchMode="total"),Utils.undef(_analyticsConfig.batchModeAmount)&&(_analyticsConfig.batchModeAmount="10"),Utils.undef(_analyticsConfig.helloRetryCount)&&(_analyticsConfig.helloRetryCount="5"),Utils.undef(_analyticsConfig.helloRetryTime)&&(_analyticsConfig.helloRetryTime="10000"),Utils.undef(_analyticsConfig.batchContentEncoding)&&(_analyticsConfig.batchContentEncoding="json"),Utils.undef(_analyticsConfig.aspenUserIdEnabled)&&(_analyticsConfig.aspenUserIdEnabled=!0),Utils.undef(_analyticsConfig.aspenUserIdHash)&&(_analyticsConfig.aspenUserIdHash="392aspenUID392"),Utils.undef(_analyticsConfig.transportFormats)?this._transportFormats.push(TransportFormat.JSONP):this._transportFormats=_analyticsConfig.transportFormats.split(","),this._transportFormat=this._transportFormats[this._transportFormatIndex],Utils.undef(_analyticsConfig.messageExcludes)?this._messageExcludes=[]:this._messageExcludes=_analyticsConfig.messageExcludes.split(",");var n={};n.transportFormats=this._transportFormats,n.servicesUrl=_analyticsConfig.servicesUrl,TransportManager.init(n),Utils.log("[aspen]","batchMode: ",_analyticsConfig.batchMode),Utils.log("[aspen]","batchModeAmount: ",_analyticsConfig.batchModeAmount),Utils.log("[aspen]","helloRetryCount: ",_analyticsConfig.helloRetryCount),Utils.log("[aspen]","helloRetryTime: ",_analyticsConfig.helloRetryTime),Utils.log("[aspen]","transportFormat: ",this._transportFormat),e&&e()},_loadConfigFailure:function(e,t){Utils.log("[aspen]","Config failed to load",t),e&&e()},_loadRequiredJS:function(e,t){var n=this;null!=window.JSON?this._loadRequiredJSSuccess(e):yepnope({load:"https://z.cdn.turner.com/xslo/cvp/easyxdm/js/json2.ugly.js",complete:function(){if(!window.JSON)return void n._loadRequiredJSFailure(t);n._loadRequiredJSSuccess(e)}})},_loadRequiredJSSuccess:function(e){Utils.log("[aspen]","External JS dependencies loaded successfully"),e&&e()},_loadRequiredJSFailure:function(e){Utils.log("[aspen]","External JS dependencies failed to load"),e&&e()},_onDependenciesLoaded:function(){this._loadState=LoadState.READY,Utils.log("[aspen]","_onDependenciesLoaded - all required dependencies successfully loaded."),Utils.undef(_analyticsConfig.enabled)||"true"!==_analyticsConfig.enabled?(Utils.log("[aspen]","analytics disabled via config"),this._initFailure()):(Utils.log("[aspen]","analytics enabled via config"),Utils.undef(_analyticsConfig.servicesUrl)||this._hello())},_onDependenciesLoadFailure:function(){this._loadState=LoadState.FAILED,Utils.log("[aspen]","_onDependenciesLoadFailure - one or more required dependencies failed to load.")},_hello:function(){Utils.log("[aspen]","hello");var e=Utils.getQueryVar("sessionToken");Utils.log("[aspen]","check querySessionToken: ",e),Utils.empty(e)||(this.sessionToken=e,this.send("authSessionReload",{}));var t={propertyName:_params.site,applicationName:_params.appName,applicationVersion:_params.appVersion,deviceType:"Javascript",deviceModel:"Javascript",deviceVersion:"Javascript",library:"Javascript",libraryVersion:"1.8.0",platformName:Utils.empty(_params.platform)?"Javascript":_params.platform,platformVersion:Utils.empty(_params.platformVersion)?"1.8.0":_params.platformVersion,aspenConfigUrl:this._configUrl,protocol:"1.0",pageUrl:document.URL};t=Utils.extend(t,this._options),_analyticsConfig.aspenUserIdEnabled&&(t.aspenUUIDToken=_analyticsConfig.aspenUserIdHash),Utils.empty(this.sessionToken)||(t.sessionToken=this.sessionToken),TransportManager.bootstrapTM(),TransportManager.createRequest(_analyticsConfig.helloApi,t,this._helloSuccess,this._helloFailure,this),this._retryTimer=setTimeout(Utils.bind(this._helloRetry,this),Number(_analyticsConfig.helloRetryTime)),this._isRetrying=!0},_helloSuccess:function(e){Utils.log("[aspen]","_helloSuccess"),clearTimeout(this._retryTimer),this._isThrottled=void 0!==e.throttled&&"no"!==e.throttled||this._isThrottled,this.sessionId=void 0!==e.sessionId?e.sessionId:this.sessionId,this._shortId=void 0!==e.shortId?e.shortId:this._shortId,this._timestampStr=void 0!==e.timestamp?e.timestamp:this.timeDifference,this.timeDifference=Number(this._timestampStr)-Utils.now(),"no"===e.throttled&&(this._isThrottled=!1),Utils.log("[aspen]","_helloSuccess"),Utils.log("[aspen]","config.throttled: "+e.throttled),Utils.log("[aspen]","throttled: "+this._isThrottled),Utils.log("[aspen]","sessionId: "+this.sessionId);var t={};t.batchThrottled=!1,t.postThrottled=!0,t.sessionId="",this.batchService.start(t),this.batchService.setSessionId(this.sessionId),this.batchService.setPostThrottled(this._isThrottled),this._initSuccess()},_helloFailure:function(e){Utils.log("[aspen]","_helloFailure url: "+e),TransportManager.fallback()&&this._hello()},_helloRetry:function(){Utils.log("[aspen]","helloRetry"),this._retries==_analyticsConfig.helloRetryCount?(Utils.log("[aspen]","retries exhasted"),clearTimeout(this._retryTimer),this._retries=0,1==TransportManager.fallback()?this._hello():(Utils.log("[aspen]","retries exhasted, fallbacks exhausted, aspen is disabled"),this._isThrottled=!0,this.batchService.setBatchThrottled(!0),this.batchService.setPostThrottled(!0),this.batchService.disableTimer())):(this._retries++,this._retryTime=this._retries*Number(_analyticsConfig.helloRetryTime),this._savedSession.retries=String(this._retries),this._savedSession.retryTime=String(this._retryTime),this._hello())},isMessageExcluded:function(e){return!!(_analyticsConfig&&_analyticsConfig.messageExcludes&&_analyticsConfig.messageExcludes.indexOf(e)>=0)},send:function(e,t,n){if(void 0===this._messageExcludes||-1===this._messageExcludes.indexOf(e)){if(void 0===t&&(t={}),!this.ready)return Utils.log("[aspen]","send - Aspen's not ready, queuing message"),void(void 0!==this._messageQueue&&this._messageQueue.push({message:t,type:e,appName:n}));if(this._isThrottled)Utils.log("[aspen]","Add message to batch is throttled! Message not added.");else{if(this.isMessageExcluded(e))return void Utils.log("[aspen]","message excluded by config, not added to batch",e);t.timestamp=Utils.now()+this.timeDifference,t.applicationName=void 0!==n?n:this._appName,delete t.session_id,delete t.sessionId,delete t.hbase_timestamp,delete t.type,Utils.log("[aspen]","appName: "+t.applicationName);var i={};i.eventType=e,i.eventData=t,Utils.log("[aspen]","add to batch json message: "+JSON.stringify(i)),this.batchService.add(i)}}},setSessionToken:function(e){this.sessionToken=e},_initSuccess:function(){this.ready=!0;for(var e=0,t=this._messageQueue.length;e<t;e++)this.send(this._messageQueue[e].type,this._messageQueue[e].message);this.send("aspenConfigDetails",_analyticsConfig);var n={};n.screenWidth=screen.width,n.screenHeight=screen.height,n.browserName=navigator.appName,n.userAgent=navigator.userAgent,n.platform=navigator.platform,this.send("systemInfo",n),this._initSuccess=function(){},this._appInitCallback&&this._appInitCallback()},_initFailure:function(){},getVersion:function(){return"1.8.0"},getSessionId:function(e){return this.sessionId},getShortId:function(e){return this._shortId},isThrottled:function(e){return this._isThrottled},getThrottled:function(e){return this._isThrottled?"yes":"no"}},DependencyManager=function(){this._dependencies=[],this._loadedCount=0,this._successHandlers=[],this._failureHandlers=[],this.add=function(e){this._dependencies.push({dependency:e,success:!1});var t=this._dependencies.length-1;e.onComplete(Utils.bind(this._onDependencyLoaded,this,t,!0)),e.onFailure(Utils.bind(this._onDependencyLoaded,this,t,!1))},this.load=function(){for(var e=0,t=this._dependencies.length;e<t;e++)this._dependencies[e].dependency.load()},this.onComplete=function(e){this._successHandlers.push(e)},this.onFailure=function(e){this._failureHandlers.push(e)},this._onDependencyLoaded=function(e,t){++this._loadedCount,this._dependencies[e].success=t,this._loadedCount===this._dependencies.length&&this._onAllDependenciesLoaded()},this._onAllDependenciesLoaded=function(){this._loadedCount=0;for(var e=!0,t=0,n=this._dependencies.length;t<n;t++)if(!this._dependencies[t].success){e=!1;break}var i=e?this._successHandlers:this._failureHandlers;for(t=0,n=i.length;t<n;t++)i[t]()}},Dependency=function(e){this._func=e,this._successHandlers=[],this._failureHandlers=[],this.load=function(){this._func(Utils.bind(this._onSuccess,this),Utils.bind(this._onFailure,this))},this.onComplete=function(e){this._successHandlers.push(e)},this.onFailure=function(e){this._failureHandlers.push(e)},this._onSuccess=function(){for(var e=0,t=this._successHandlers.length;e<t;e++)this._successHandlers[e]()},this._onFailure=function(){for(var e=0,t=this._failureHandlers.length;e<t;e++)this._failureHandlers[e]()}},AspenComm=function(){var e,t,n,i,o,r,a="https://aspen.turner.com",s=!1,l=[];return t=function(i){Utils.log("[aspen]","[easyXDM]","init",i),a=i,e=new window.CVPAux.easyXDM.Rpc({swf:"https://z.cdn.turner.com/xslo/cvp/easyxdm/swf/easyxdm.swf",remote:a+"/static/xdm_iframe.html"},{remote:{request:{}}}),Utils.log("[aspen]","[easyXDM]","init AspenComm"),s=!0,t=function(){try{throw"already init'ed - ignored"}catch(e){}},n()},i=function(e,t,n){s?r(e,t,n):o(e,t,n)},o=function(){l.push(arguments)},n=function(){for(var e=0,t=l.length;e<t;++e)r.apply(null,l[e])},r=function(t,n,i){Utils.log("[aspen]","[easyXDM]","make request",t);var o,r,a;o=Utils.extend(Utils.extend({method:"POST"},t||{})),r=function(e){var t=e.data;if("string"==typeof t&&t.charAt(0).match(/[{[]/))try{t=JSON.parse(t)}catch(e){Utils.log(e)}Utils.log("[aspen]","[easyXDM]","request success",e),n(t,e.status,e.headers)},a=function(e){var t=e.data;if("string"==typeof t&&t.charAt(0).match(/[{[]/))try{t=JSON.parse(t)}catch(e){Utils.log(e)}i(t,e.status,e.message)},e.request(o,r,a)},{init:t,request:i}}(),bootstrap=function(e){Utils.log("[aspen]","[easyXDM]","bootstrap",e),window.CVPAux=window.CVPAux||{},yepnope({test:null!=window.CVPAux.easyXDM,nope:"https://z.cdn.turner.com/xslo/cvp/easyxdm/js/easyXDM.ugly.js",complete:function(){if(window.easyXDM)window.CVPAux.easyXDM=easyXDM.noConflict("CVPAux"),yepnope({test:null!=window.JSON,nope:"https://z.cdn.turner.com/xslo/cvp/easyxdm/js/json2.ugly.js",complete:function(){if(!window.JSON)try{throw"failed to install JSON polyfill"}catch(e){}e()}});else try{throw"failed to install easyXDM"}catch(e){}}})},ANALYTICS_BASE_URL="https://z.cdn.turner.com/xslo/aspen/config/",ANALYTICS_FILE="aspenanalytics.json",BATCH_MODE_TOTAL="total",BATCH_MODE_TIMER="timer",BATCH_MODE_NONE="none",_params={},_analyticsConfig={},TransportFormat={JSON:"json",JSONP:"jsonp"},TransportManager={init:function(e){this._config=e,this._transportFormat=this._config.transportFormats[0],this._bootstrapped=!1},bootstrapTM:function(){if(Utils.log("[aspen]","TransportManager","bootstrap","_bootstrapped:",this._bootstrapped),this._transportFormat===TransportFormat.JSON&&!this._bootstrapped){var e=this._config.servicesUrl;bootstrap(function(){AspenComm.init(e)}),this._bootstrapped=!0,Utils.log("[aspen]","TransportManager","bootstrap","transportFormat",this._transportFormat)}},createRequest:function(e,t,n,i,o){if(Utils.log("[aspen]","TransportManager","createRequest"),this._transportFormat===TransportFormat.JSON)AspenComm.request({url:e+"."+this._transportFormat,data:{aspenJson:JSON.stringify(t)}},Utils.bind(n,o),Utils.bind(i,o));else if(this._transportFormat===TransportFormat.JSONP){var r=this._config.servicesUrl+e+"."+this._transportFormat;r+="?aspen_callback=parseAspenInitialization&aspenJson="+encodeURIComponent(JSON.stringify(t)).replace(/%20/g,"+"),Ajax.request({jsonpCallback:"parseAspenInitialization",url:r,error:Utils.bind(i,o),success:Utils.bind(n,o)})}},fallback:function(){return Utils.log("[aspen]","current transport format failed",this._transportFormat),this._config.transportFormats.shift(),this._config.transportFormats.length>0&&(this._transportFormat=this._config.transportFormats[0],Utils.log("trying next transport format",this._transportFormat),!0)}},Utils={undef:function(e){return void 0===e},isNull:function(e){return Utils.undef(e)||null===e},empty:function(e){return Utils.undef(e)||Utils.isNull(e)||""===e},isFunc:function(e){return"function"==typeof e},isObject:function(e){return"object"==typeof e},isString:function(e){return"string"==typeof e},extend:function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},log:function(){window.console&&window.console.log&&debug&&window.console.log(Utils.slice(arguments).join(" | ")),!Utils.undef(window.logJSAuth)&&Utils.isFunc(window.logJSAuth)&&debug&&window.logJSpAuth(Utils.slice(arguments).join(" | "))},now:"function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},slice:function(e,t){return Array.prototype.slice.call(e,t||0)},bind:function(e,t){var n=Utils.slice(arguments,2);return function(){var i=n.concat(Utils.slice(arguments));return e.apply(t,i)}},setCookie:function(e,t,n){var i=new Date;i.setDate(i.getDate()+n);var o=escape(t)+(null==n?"":"; expires="+i.toUTCString());document.cookie=e+"="+o},getCookie:function(e){var t,n,i,o=document.cookie.split(";");for(t=0;t<o.length;t++)if(n=o[t].substr(0,o[t].indexOf("=")),i=o[t].substr(o[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))==e)return unescape(i)},getQueryVar:function(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var o=n[i].split("=");if(o[0]==e)return o[1]}},randomString:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));for(var n="",i=0;i<e;i++)n+=t[Math.floor(Math.random()*t.length)];return n},timeBucket:function(e){var t=new Date,n=60*(24*t.getDate()+t.getHours())+t.getMinutes();return Math.round(n/e)}}}}.call(window),CNN.AdsConfig=CNN.AdsConfig||{},CNN.AdsConfig.amazon=CNN.AdsConfig.amazon||{},CNN.AmazonVideoAds=CNN.AmazonVideoAds||{},CNN.Features=CNN.Features||{},CNN.AmazonVideoAds.Manager=function(){"use strict";this.initialize=function(){var e={amznkey:CNN.AdsConfig.amazon.amznkey||"3159",timeout:"number"==typeof CNN.AdsConfig.amazon.timeout?CNN.AdsConfig.amazon.timeout:2e3};!0===CNN.Features.enableAmazonVideoAds&&"object"==typeof AmazonDirectMatchBuy&&AmazonDirectMatchBuy.init(e)},this.cvpAdSetup=function(e,t){CNN.Features.enableAmazonVideoAds&&"object"==typeof AmazonDirectMatchBuy&&(AmazonDirectMatchBuy.setAdKeyValuePairs(window.cnnVideoManager.getPlayerByContainer(e).videoInstance.cvp),AmazonDirectMatchBuy.requestAdRefresh())},this.addAmazonCallback=function(e){void 0!==e&&(e.onAdSetup=this.cvpAdSetup)},this.initialize()},CNN.AmazonVideoAds.Manager.getInstance=function(){"use strict";return void 0===window.amazonAdManager&&(window.amazonAdManager=new CNN.AmazonVideoAds.Manager),window.amazonAdManager},function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return void 0===e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function i(e,t){return n(t,e)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,o){if(!(i=n.call(null,o,e,t)))return!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,o){if(i=n.call(null,o,e,t))return!1}),!!i):i},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,o;return function(){var r,a,s=this,l=arguments;return r=function(){i=null,n||(o=e.apply(s,l))},a=n&&!i,clearTimeout(i),i=setTimeout(r,t),a&&(o=e.apply(s,l)),o}},throttle:function(e,t){var n,i,o,r,a,s;return a=0,s=function(){a=new Date,o=null,r=e.apply(n,i)},function(){var l=new Date,d=t-(l-a);return n=this,i=arguments,d<=0?(clearTimeout(o),o=null,a=l,r=e.apply(n,i)):o||(o=setTimeout(s,d)),r}},noop:function(){}}}(),n="0.10.5",i=function(){"use strict";function e(e){return e=t.toStr(e),e?e.split(/\s+/):[]}function n(e){return e=t.toStr(e),e?e.split(/\W+/):[]}function i(e){return function(){var n=[].slice.call(arguments,0);return function(i){var o=[];return t.each(n,function(n){o=o.concat(e(t.toStr(i[n])))}),o}}}return{nonword:n,whitespace:e,obj:{nonword:i(n),whitespace:i(e)}}}(),o=function(){"use strict";function n(n){this.maxSize=t.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function i(){this.head=this.tail=null}function o(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key]),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new o(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new i}}),t.mixin(i.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(),r=function(){"use strict";function e(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix))}function n(){return(new Date).getTime()}function i(e){return JSON.stringify(t.isUndefined(e)?null:e)}function o(e){return JSON.parse(e)}var r,a;try{r=window.localStorage,r.setItem("~~~","!"),r.removeItem("~~~")}catch(e){r=null}return a=r&&window.JSON?{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(e){return this.isExpired(e)&&this.remove(e),o(r.getItem(this._prefix(e)))},set:function(e,o,a){return t.isNumber(a)?r.setItem(this._ttlKey(e),i(n()+a)):r.removeItem(this._ttlKey(e)),r.setItem(this._prefix(e),i(o))},remove:function(e){return r.removeItem(this._ttlKey(e)),r.removeItem(this._prefix(e)),this},clear:function(){var e,t,n=[],i=r.length;for(e=0;e<i;e++)(t=r.key(e)).match(this.keyMatcher)&&n.push(t.replace(this.keyMatcher,""));for(e=n.length;e--;)this.remove(n[e]);return this},isExpired:function(e){var i=o(r.getItem(this._ttlKey(e)));return!!(t.isNumber(i)&&n()>i)}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(e.prototype,a),e}(),a=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastUrl=null,this._send=t.transport?i(t.transport):e.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get,this._cache=!1===t.cache?new o(0):l}function i(n){return function(i,o){function r(e){t.defer(function(){s.resolve(e)})}function a(e){t.defer(function(){s.reject(e)})}var s=e.Deferred();return n(i,o,r,a),s}}var r=0,a={},s=6,l=new o(10);return n.setMaxPendingRequests=function(e){s=e},n.resetCache=function(){l.reset()},t.mixin(n.prototype,{_get:function(e,t,n){function i(t){n&&n(null,t),c._cache.set(e,t)}function o(){n&&n(!0)}function l(){r--,delete a[e],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var d,c=this;this.cancelled||e!==this.lastUrl||((d=a[e])?d.done(i).fail(o):r<s?(r++,a[e]=this._send(e,t).done(i).fail(o).always(l)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,n,i){var o;return t.isFunction(n)&&(i=n,n={}),this.cancelled=!1,this.lastUrl=e,(o=this._cache.get(e))?t.defer(function(){i&&i(null,o)}):this._get(e,n,i),!!o},cancel:function(){this.cancelled=!0}}),n}(),s=function(){"use strict";function n(t){t=t||{},t.datumTokenizer&&t.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function i(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function o(){return{ids:[],children:{}}}function r(e){for(var t={},n=[],i=0,o=e.length;i<o;i++)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}function a(e,t){function n(e,t){return e-t}var i=0,o=0,r=[];e=e.sort(n),t=t.sort(n);for(var a=e.length,s=t.length;i<a&&o<s;)e[i]<t[o]?i++:e[i]>t[o]?o++:(r.push(e[i]),i++,o++);return r}return t.mixin(n.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var n=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var r,a;r=n.datums.push(e)-1,a=i(n.datumTokenizer(e)),t.each(a,function(e){var t,i,a;for(t=n.trie,i=e.split("");a=i.shift();)t=t.children[a]||(t.children[a]=o()),t.ids.push(r)})})},get:function(e){var n,o,s=this;return n=i(this.queryTokenizer(e)),t.each(n,function(e){var t,n,i,r;if(o&&0===o.length)return!1;for(t=s.trie,n=e.split("");t&&(i=n.shift());)t=t.children[i];if(!t||0!==n.length)return o=[],!1;r=t.ids.slice(0),o=o?a(o,r):r}),o?t.map(r(o),function(e){return s.datums[e]}):[]},reset:function(){this.datums=[],this.trie=o()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function i(e){return e.local||null}function o(i){var o,r;return r={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(o=i.prefetch||null)&&(o=t.isString(o)?{url:o}:o,o=t.mixin(r,o),o.thumbprint=n+o.thumbprint,o.ajax.type=o.ajax.type||"GET",o.ajax.dataType=o.ajax.dataType||"json",!o.url&&e.error("prefetch requires url to be set")),o}function r(n){var i,o;return o={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(i=n.remote||null)&&(i=t.isString(i)?{url:i}:i,i=t.mixin(o,i),i.rateLimiter=/^throttle$/i.test(i.rateLimitBy)?function(e){return function(n){return t.throttle(n,e)}}(i.rateLimitWait):function(e){return function(n){return t.debounce(n,e)}}(i.rateLimitWait),i.ajax.type=i.ajax.type||"GET",i.ajax.dataType=i.ajax.dataType||"json",delete i.rateLimitBy,delete i.rateLimitWait,!i.url&&e.error("remote requires url to be set")),i}return{local:i,prefetch:o,remote:r}}();!function(n){"use strict";function o(t){t&&(t.local||t.prefetch||t.remote)||e.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=d(t.sorter),this.dupDetector=t.dupDetector||c,this.local=l.local(t),this.prefetch=l.prefetch(t),this.remote=l.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new s({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new r(this.cacheKey):null}function d(e){function n(t){return t.sort(e)}function i(e){return e}return t.isFunction(e)?n:i}function c(){return!1}var u,p;u=n.Bloodhound,p={data:"data",protocol:"protocol",thumbprint:"thumbprint"},n.Bloodhound=o,o.noConflict=function(){return n.Bloodhound=u,o},o.tokenizers=i,t.mixin(o.prototype,{_loadPrefetch:function(t){function n(e){r.clear(),r.add(t.filter?t.filter(e):e),r._saveToStorage(r.index.serialize(),t.thumbprint,t.ttl)}var i,o,r=this;return(i=this._readFromStorage(t.thumbprint))?(this.index.bootstrap(i),o=e.Deferred().resolve()):o=e.ajax(t.url,t.ajax).done(n),o},_getFromRemote:function(e,t){function n(e,n){t(e?[]:r.remote.filter?r.remote.filter(n):n)}var i,o,r=this;if(this.transport)return e=e||"",o=encodeURIComponent(e),i=this.remote.replace?this.remote.replace(this.remote.url,e):this.remote.url.replace(this.remote.wildcard,o),this.transport.get(i,this.remote.ajax,n)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(e,t,n){this.storage&&(this.storage.set(p.data,e,n),this.storage.set(p.protocol,location.protocol,n),this.storage.set(p.thumbprint,t,n))},_readFromStorage:function(e){var t,n={};return this.storage&&(n.data=this.storage.get(p.data),n.protocol=this.storage.get(p.protocol),n.thumbprint=this.storage.get(p.thumbprint)),t=n.thumbprint!==e||n.protocol!==location.protocol,n.data&&!t?n.data:null},_initialize:function(){function n(){o.add(t.isFunction(r)?r():r)}var i,o=this,r=this.local;return i=this.prefetch?this._loadPrefetch(this.prefetch):e.Deferred().resolve(),r&&i.done(n),this.transport=this.remote?new a(this.remote):null,this.initPromise=i.promise()},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){this.index.add(e)},get:function(e,n){function i(e){var i=r.slice(0);t.each(e,function(e){var n;return n=t.some(i,function(t){return o.dupDetector(e,t)}),!n&&i.push(e),i.length<o.limit}),n&&n(o.sorter(i))}var o=this,r=[],a=!1;r=this.index.get(e),r=this.sorter(r).slice(0,this.limit),r.length<this.limit?a=this._getFromRemote(e,i):this._cancelLastRemoteRequest(),a||(r.length>0||!this.transport)&&n&&n(r)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&a.resetCache()},ttAdapter:function(){return t.bind(this.get,this)}})}(this);var d=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),c=function(){"use strict";var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&t.mixin(e.input,{marginTop:"-1px"}),e}(),u=function(){"use strict";function n(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}return t.mixin(n.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+e,t)}}),n}(),p=function(){"use strict";function e(e,t,n,i){var o;if(!n)return this;for(t=t.split(s),n=i?a(n,i):n,this._callbacks=this._callbacks||{};o=t.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][e].push(n);return this}function t(t,n,i){return e.call(this,"async",t,n,i)}function n(t,n,i){return e.call(this,"sync",t,n,i)}function i(e){var t;if(!this._callbacks)return this;for(e=e.split(s);t=e.shift();)delete this._callbacks[t];return this}function o(e){var t,n,i,o,a;if(!this._callbacks)return this;for(e=e.split(s),i=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)o=r(n.sync,this,[t].concat(i)),a=r(n.async,this,[t].concat(i)),o()&&l(a);return this}function r(e,t,n){function i(){for(var i,o=0,r=e.length;!i&&o<r;o+=1)i=!1===e[o].apply(t,n);return!i}return i}function a(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var s=/\s+/,l=function(){return window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}();return{onSync:n,onAsync:t,off:i,trigger:o}}(),h=function(e){"use strict";function n(e,n,i){for(var o,r=[],a=0,s=e.length;a<s;a++)r.push(t.escapeRegExChars(e[a]));return o=i?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",n?new RegExp(o):new RegExp(o,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(o){function r(t){var n,i,r;return(n=s.exec(t.data))&&(r=e.createElement(o.tagName),o.className&&(r.className=o.className),i=t.splitText(n.index),i.splitText(n[0].length),r.appendChild(i.cloneNode(!0)),t.parentNode.replaceChild(r,i)),!!n}function a(e,t){for(var n,i=0;i<e.childNodes.length;i++)n=e.childNodes[i],3===n.nodeType?i+=t(n)?1:0:a(n,t)}var s;o=t.mixin({},i,o),o.node&&o.pattern&&(o.pattern=t.isArray(o.pattern)?o.pattern:[o.pattern],s=n(o.pattern,o.caseSensitive,o.wordsOnly),a(o.node,r))}}(window.document),m=function(){"use strict";function n(n){var o,r,s,l,d=this;n=n||{},n.input||e.error("input is missing"),o=t.bind(this._onBlur,this),r=t.bind(this._onFocus,this),s=t.bind(this._onKeydown,this),l=t.bind(this._onInput,this),this.$hint=e(n.hint),this.$input=e(n.input).on("blur.tt",o).on("focus.tt",r).on("keydown.tt",s),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop),t.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){a[e.which||e.keyCode]||t.defer(t.bind(d._onInput,d,e))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function r(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(n.prototype,p,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(e){var t=a[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(e,t){var n,i,o;switch(e){case"tab":i=this.getHint(),o=this.getInputValue(),n=i&&i!==o&&!r(t);break;case"up":case"down":n=!r(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!r(t);break;default:n=!0}return n},_checkInputValue:function(){var e,t,n;e=this.getInputValue(),t=o(e,this.query),n=!!t&&this.query.length!==e.length,this.query=e,t?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),t?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n,i;e=this.getInputValue(),t=this.getHint(),n=e!==t&&0===t.indexOf(e),!(i=""!==e&&n&&!this.hasOverflow())&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,n,i;return e=this.$input.val().length,n=this.$input[0].selectionStart,
t.isNumber(n)?n===e:!document.selection||(i=document.selection.createRange(),i.moveStart("character",-e),e===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),f=function(){"use strict";function n(n){n=n||{},n.templates=n.templates||{},n.source||e.error("missing source"),n.name&&!r(n.name)&&e.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||t.getUniqueId(),this.source=n.source,this.displayFn=i(n.display||n.displayKey),this.templates=o(n.templates,this.displayFn),this.$el=e(d.dataset.replace("%CLASS%",this.name))}function i(e){function n(t){return t[e]}return e=e||"value",t.isFunction(e)?e:n}function o(e,n){function i(e){return"<p>"+n(e)+"</p>"}return{empty:e.empty&&t.templatify(e.empty),header:e.header&&t.templatify(e.header),footer:e.footer&&t.templatify(e.footer),suggestion:e.suggestion||i}}function r(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var a="ttDataset",s="ttValue",l="ttDatum";return n.extractDatasetName=function(t){return e(t).data(a)},n.extractValue=function(t){return e(t).data(s)},n.extractDatum=function(t){return e(t).data(l)},t.mixin(n.prototype,p,{_render:function(n,i){function o(){return p.templates.header({query:n,isEmpty:!u})}function r(){return p.templates.footer({query:n,isEmpty:!u})}if(this.$el){var u,p=this;this.$el.empty(),u=i&&i.length,!u&&this.templates.empty?this.$el.html(function(){return p.templates.empty({query:n,isEmpty:!0})}()).prepend(p.templates.header?o():null).append(p.templates.footer?r():null):u&&this.$el.html(function(){function o(t){var n;return n=e(d.suggestion).append(p.templates.suggestion(t)).data(a,p.name).data(s,p.displayFn(t)).data(l,t),n.children().each(function(){e(this).css(c.suggestionChild)}),n}var r,u;return r=e(d.suggestions).css(c.suggestions),u=t.map(i,o),r.append.apply(r,u),p.highlight&&h({className:"tt-highlight",node:r[0],pattern:n}),r}()).prepend(p.templates.header?o():null).append(p.templates.footer?r():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(e){function t(t){n.canceled||e!==n.query||n._render(e,t)}var n=this;this.query=e,this.canceled=!1,this.source(e,t)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),n}(),g=function(){"use strict";function n(n){var o,r,a,s=this;n=n||{},n.menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=t.map(n.datasets,i),o=t.bind(this._onSuggestionClick,this),r=t.bind(this._onSuggestionMouseEnter,this),a=t.bind(this._onSuggestionMouseLeave,this),this.$menu=e(n.menu).on("click.tt",".tt-suggestion",o).on("mouseenter.tt",".tt-suggestion",r).on("mouseleave.tt",".tt-suggestion",a),t.each(this.datasets,function(e){s.$menu.append(e.getRoot()),e.onSync("rendered",s._onRendered,s)})}function i(e){return new f(e)}return t.mixin(n.prototype,p,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",e(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(e(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function e(e){return e.isEmpty()}this.isEmpty=t.every(this.datasets,e),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(e,t){e.first().addClass("tt-cursor"),!t&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(e){var t,n,i,o;if(this.isOpen){if(n=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),i=t.index(n)+e,-1===(i=(i+1)%(t.length+1)-1))return void this.trigger("cursorRemoved");i<-1&&(i=t.length-1),this._setCursor(o=t.eq(i)),this._ensureVisible(o)}},_ensureVisible:function(e){var t,n,i,o;t=e.position().top,n=t+e.outerHeight(!0),i=this.$menu.scrollTop(),o=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),t<0?this.$menu.scrollTop(i+t):o<n&&this.$menu.scrollTop(i+(n-o))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){this.$menu.css("ltr"===e?c.ltr:c.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(e){var t=null;return e.length&&(t={raw:f.extractDatum(e),value:f.extractValue(e),datasetName:f.extractDatasetName(e)}),t},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){function n(t){t.update(e)}t.each(this.datasets,n)},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function e(e){e.destroy()}this.$menu.off(".tt"),this.$menu=null,t.each(this.datasets,e)}}),n}(),y=function(){"use strict";function n(n){var o,r,a;n=n||{},n.input||e.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.$node=i(n.input,n.withHint),o=this.$node.find(".tt-dropdown-menu"),r=this.$node.find(".tt-input"),a=this.$node.find(".tt-hint"),r.on("blur.tt",function(e){var n,i,a;n=document.activeElement,i=o.is(n),a=o.has(n).length>0,t.isMsie()&&(i||a)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){r.focus()}))}),o.on("mousedown.tt",function(e){e.preventDefault()}),this.eventBus=n.eventBus||new u({el:r}),this.dropdown=new g({menu:o,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new m({input:r,hint:a}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(t,n){var i,r,s,l;i=e(t),r=e(d.wrapper).css(c.wrapper),s=e(d.dropdown).css(c.dropdown),l=i.clone().css(c.hint).css(o(i)),l.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.data(a,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?c.input:c.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(e){}return i.wrap(r).parent().prepend(n?l:null).append(s)}function o(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function r(e){var n=e.find(".tt-input");t.each(n.data(a),function(e,i){t.isUndefined(e)?n.removeAttr(i):n.attr(i,e)}),n.detach().removeData(a).removeClass("tt-input").insertAfter(e),e.remove()}var a="ttAttrs";return t.mixin(n.prototype,{_onSuggestionClicked:function(e,t){var n;(n=this.dropdown.getDatumForSuggestion(t))&&this._select(n)},_onCursorMoved:function(){var e=this.dropdown.getDatumForCursor();this.input.setInputValue(e.value,!0),this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(e,t){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),t.preventDefault()):this.autoselect&&i&&(this._select(i),t.preventDefault())},_onTabKeyed:function(e,t){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),t.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(e,t){this.input.clearHintIfInvalid(),t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var e;this.dir!==(e=this.input.getLanguageDirection())&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function(){var e,n,i,o,r,a;e=this.dropdown.getDatumForTopSuggestion(),e&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),i=m.normalizeQuery(n),o=t.escapeRegExChars(i),r=new RegExp("^(?:"+o+")(.+$)","i"),a=r.exec(e.value),a?this.input.setHint(n+a[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(e){var t,n,i,o;t=this.input.getHint(),n=this.input.getQuery(),i=e||this.input.isCursorAtEnd(),t&&n!==t&&i&&(o=this.dropdown.getDatumForTopSuggestion(),o&&this.input.setInputValue(o.value),this.eventBus.trigger("autocompleted",o.raw,o.datasetName))},_select:function(e){this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",e.raw,e.datasetName),this.dropdown.close(),t.defer(t.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(e){e=t.toStr(e),this.isActivated?this.input.setInputValue(e):(this.input.setQuery(e),this.input.setInputValue(e,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),r(this.$node),this.$node=null}}),n}();!function(){"use strict";var n,i,o;n=e.fn.typeahead,i="ttTypeahead",o={initialize:function(n,o){function r(){var r,a=e(this);t.each(o,function(e){e.highlight=!!n.highlight}),r=new y({input:a,eventBus:new u({el:a}),withHint:!!t.isUndefined(n.hint)||!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:o}),a.data(i,r)}return o=t.isArray(o)?o:[].slice.call(arguments,1),n=n||{},this.each(r)},open:function(){function t(){var t,n=e(this);(t=n.data(i))&&t.open()}return this.each(t)},close:function(){function t(){var t,n=e(this);(t=n.data(i))&&t.close()}return this.each(t)},val:function(t){function n(){var n,o=e(this);(n=o.data(i))&&n.setVal(t)}return arguments.length?this.each(n):function(e){var t,n;return(t=e.data(i))&&(n=t.getVal()),n}(this.first())},destroy:function(){function t(){var t,n=e(this);(t=n.data(i))&&(t.destroy(),n.removeData(i))}return this.each(t)}},e.fn.typeahead=function(t){var n;return o[t]&&"initialize"!==t?(n=this.filter(function(){return!!e(this).data(i)}),o[t].apply(n,[].slice.call(arguments,1))):o.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this}}()}(window.jQuery);