(function(e,m){function l(a){e.fn.cycle.debug&&j(a)}function j(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "))}function n(a,b,d){var g=e(a).data("cycle.opts"),f=!!a.cyclePause;f&&g.paused?g.paused(a,g,b,d):!f&&g.resumed&&g.resumed(a,g,b,d)}function A(a,b,d){function g(a,b,d){if(!a&&!0===b){a=e(d).data("cycle.opts");if(!a)return j("options not found, can not resume"),!1;if(d.cycleTimeout)clearTimeout(d.cycleTimeout),d.cycleTimeout=0;o(a.elements,a,1,
!a.backwards)}}if(a.cycleStop==m)a.cycleStop=0;if(b===m||null===b)b={};if(b.constructor==String)switch(b){case "destroy":case "stop":d=e(a).data("cycle.opts");if(!d)return!1;a.cycleStop++;a.cycleTimeout&&clearTimeout(a.cycleTimeout);a.cycleTimeout=0;d.elements&&e(d.elements).stop();e(a).removeData("cycle.opts");"destroy"==b&&B(a,d);return!1;case "toggle":return a.cyclePause=1===a.cyclePause?0:1,g(a.cyclePause,d,a),n(a),!1;case "pause":return a.cyclePause=1,n(a),!1;case "resume":return a.cyclePause=
0,g(!1,d,a),n(a),!1;case "prev":case "next":d=e(a).data("cycle.opts");if(!d)return j('options not found, "prev/next" ignored'),!1;e.fn.cycle[b](d);return!1;default:b={fx:b}}else if(b.constructor==Number){var f=b,b=e(a).data("cycle.opts");if(!b)return j("options not found, can not advance slide"),!1;if(0>f||f>=b.elements.length)return j("invalid slide index: "+f),!1;b.nextSlide=f;if(a.cycleTimeout)clearTimeout(a.cycleTimeout),a.cycleTimeout=0;if("string"==typeof d)b.oneTimeFx=d;o(b.elements,b,1,f>=
b.currSlide);return!1}return b}function x(a,b){if(!e.support.opacity&&b.cleartype&&a.style.filter)try{a.style.removeAttribute("filter")}catch(d){}}function B(a,b){b.next&&e(b.next).unbind(b.prevNextEvent);b.prev&&e(b.prev).unbind(b.prevNextEvent);if(b.pager||b.pagerAnchorBuilder)e.each(b.pagerAnchors||[],function(){this.unbind().remove()});b.pagerAnchors=null;e(a).unbind("mouseenter.cycle mouseleave.cycle");b.destroy&&b.destroy(b)}function C(a,b,d,g,f){var h,c=e.extend({},e.fn.cycle.defaults,g||{},
e.metadata?a.metadata():e.meta?a.data():{}),i=e.isFunction(a.data)?a.data(c.metaAttr):null;i&&(c=e.extend(c,i));if(c.autostop)c.countdown=c.autostopCount||d.length;var w=a[0];a.data("cycle.opts",c);c.$cont=a;c.stopCount=w.cycleStop;c.elements=d;c.before=c.before?[c.before]:[];c.after=c.after?[c.after]:[];!e.support.opacity&&c.cleartype&&c.after.push(function(){x(this,c)});c.continuous&&c.after.push(function(){o(d,c,0,!c.backwards)});D(c);!e.support.opacity&&c.cleartype&&!c.cleartypeNoBg&&y(b);"static"==
a.css("position")&&a.css("position","relative");c.width&&a.width(c.width);c.height&&"auto"!=c.height&&a.height(c.height);c.startingSlide!=m?(c.startingSlide=parseInt(c.startingSlide,10),c.startingSlide>=d.length||0>c.startSlide?c.startingSlide=0:h=!0):c.startingSlide=c.backwards?d.length-1:0;if(c.random){c.randomMap=[];for(i=0;i<d.length;i++)c.randomMap.push(i);c.randomMap.sort(function(){return Math.random()-0.5});if(h)for(h=0;h<d.length;h++){if(c.startingSlide==c.randomMap[h])c.randomIndex=h}else c.randomIndex=
1,c.startingSlide=c.randomMap[1]}else if(c.startingSlide>=d.length)c.startingSlide=0;c.currSlide=c.startingSlide||0;var k=c.startingSlide;b.css({position:"absolute",top:0,left:0}).hide().each(function(a){a=c.backwards?k?a<=k?d.length+(a-k):k-a:d.length-a:k?a>=k?d.length-(a-k):k-a:d.length-a;e(this).css("z-index",a)});e(d[k]).css("opacity",1).show();x(d[k],c);c.fit&&(c.aspect?b.each(function(){var a=e(this),b=!0===c.aspect?a.width()/a.height():c.aspect;c.width&&a.width()!=c.width&&(a.width(c.width),
a.height(c.width/b));c.height&&a.height()<c.height&&(a.height(c.height),a.width(c.height*b))}):(c.width&&b.width(c.width),c.height&&"auto"!=c.height&&b.height(c.height)));c.center&&(!c.fit||c.aspect)&&b.each(function(){var a=e(this);a.css({"margin-left":c.width?(c.width-a.width())/2+"px":0,"margin-top":c.height?(c.height-a.height())/2+"px":0})});c.center&&!c.fit&&!c.slideResize&&b.each(function(){var a=e(this);a.css({"margin-left":c.width?(c.width-a.width())/2+"px":0,"margin-top":c.height?(c.height-
a.height())/2+"px":0})});if(c.containerResize&&!a.innerHeight()){for(var q=i=h=0;q<d.length;q++){var r=e(d[q]),l=r[0],t=r.outerWidth(),u=r.outerHeight();t||(t=l.offsetWidth||l.width||r.attr("width"));u||(u=l.offsetHeight||l.height||r.attr("height"));h=t>h?t:h;i=u>i?u:i}0<h&&0<i&&a.css({width:h+"px",height:i+"px"})}var s=!1;c.pause&&a.bind("mouseenter.cycle",function(){s=!0;this.cyclePause++;n(w,!0)}).bind("mouseleave.cycle",function(){s&&this.cyclePause--;n(w,!0)});if(!1===E(c))return!1;var z=!1;
g.requeueAttempts=g.requeueAttempts||0;b.each(function(){var a=e(this);this.cycleH=c.fit&&c.height?c.height:a.height()||this.offsetHeight||this.height||a.attr("height")||0;this.cycleW=c.fit&&c.width?c.width:a.width()||this.offsetWidth||this.width||a.attr("width")||0;if(a.is("img")){var a=e.browser.mozilla&&34==this.cycleW&&19==this.cycleH&&!this.complete,b=e.browser.opera&&(42==this.cycleW&&19==this.cycleH||37==this.cycleW&&17==this.cycleH)&&!this.complete,d=0==this.cycleH&&0==this.cycleW&&!this.complete;
if(e.browser.msie&&28==this.cycleW&&30==this.cycleH&&!this.complete||a||b||d){if(f.s&&c.requeueOnImageNotLoaded&&100>++g.requeueAttempts)return j(g.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH),setTimeout(function(){e(f.s,f.c).cycle(g)},c.requeueTimeout),z=!0,!1;j("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}return!0});if(z)return!1;c.cssBefore=c.cssBefore||{};c.cssAfter=c.cssAfter||{};c.cssFirst=c.cssFirst||{};c.animIn=
c.animIn||{};c.animOut=c.animOut||{};b.not(":eq("+k+")").css(c.cssBefore);e(b[k]).css(c.cssFirst);if(c.timeout){c.timeout=parseInt(c.timeout,10);if(c.speed.constructor==String)c.speed=e.fx.speeds[c.speed]||parseInt(c.speed,10);c.sync||(c.speed/=2);for(h="none"==c.fx?0:"shuffle"==c.fx?500:250;c.timeout-c.speed<h;)c.timeout+=c.speed}if(c.easing)c.easeIn=c.easeOut=c.easing;if(!c.speedIn)c.speedIn=c.speed;if(!c.speedOut)c.speedOut=c.speed;c.slideCount=d.length;c.currSlide=c.lastSlide=k;if(c.random){if(++c.randomIndex==
d.length)c.randomIndex=0;c.nextSlide=c.randomMap[c.randomIndex]}else c.nextSlide=c.backwards?0==c.startingSlide?d.length-1:c.startingSlide-1:c.startingSlide>=d.length-1?0:c.startingSlide+1;if(!c.multiFx)if(h=e.fn.cycle.transitions[c.fx],e.isFunction(h))h(a,b,c);else if("custom"!=c.fx&&!c.multiFx)return j("unknown transition: "+c.fx,"; slideshow terminating"),!1;a=b[k];c.skipInitializationCallbacks||(c.before.length&&c.before[0].apply(a,[a,a,c,!0]),c.after.length&&c.after[0].apply(a,[a,a,c,!0]));c.next&&
e(c.next).bind(c.prevNextEvent,function(){return v(c,1)});c.prev&&e(c.prev).bind(c.prevNextEvent,function(){return v(c,0)});(c.pager||c.pagerAnchorBuilder)&&F(d,c);G(c,d);return c}function D(a){a.original={before:[],after:[]};a.original.cssBefore=e.extend({},a.cssBefore);a.original.cssAfter=e.extend({},a.cssAfter);a.original.animIn=e.extend({},a.animIn);a.original.animOut=e.extend({},a.animOut);e.each(a.before,function(){a.original.before.push(this)});e.each(a.after,function(){a.original.after.push(this)})}
function E(a){var b,d,g=e.fn.cycle.transitions;if(0<a.fx.indexOf(",")){a.multiFx=!0;a.fxs=a.fx.replace(/\s*/g,"").split(",");for(b=0;b<a.fxs.length;b++){var f=a.fxs[b];d=g[f];if(!d||!g.hasOwnProperty(f)||!e.isFunction(d))j("discarding unknown transition: ",f),a.fxs.splice(b,1),b--}if(!a.fxs.length)return j("No valid transitions named; slideshow terminating."),!1}else if("all"==a.fx)for(p in a.multiFx=!0,a.fxs=[],g)d=g[p],g.hasOwnProperty(p)&&e.isFunction(d)&&a.fxs.push(p);if(a.multiFx&&a.randomizeEffects){d=
Math.floor(20*Math.random())+30;for(b=0;b<d;b++)g=Math.floor(Math.random()*a.fxs.length),a.fxs.push(a.fxs.splice(g,1)[0]);l("randomized fx sequence: ",a.fxs)}return!0}function G(a,b){a.addSlide=function(d,g){var f=e(d),h=f[0];a.autostopCount||a.countdown++;b[g?"unshift":"push"](h);if(a.els)a.els[g?"unshift":"push"](h);a.slideCount=b.length;a.random&&(a.randomMap.push(a.slideCount-1),a.randomMap.sort(function(){return Math.random()-0.5}));f.css("position","absolute");f[g?"prependTo":"appendTo"](a.$cont);
g&&(a.currSlide++,a.nextSlide++);!e.support.opacity&&a.cleartype&&!a.cleartypeNoBg&&y(f);a.fit&&a.width&&f.width(a.width);a.fit&&a.height&&"auto"!=a.height&&f.height(a.height);h.cycleH=a.fit&&a.height?a.height:f.height();h.cycleW=a.fit&&a.width?a.width:f.width();f.css(a.cssBefore);(a.pager||a.pagerAnchorBuilder)&&e.fn.cycle.createPagerAnchor(b.length-1,h,e(a.pager),b,a);if(e.isFunction(a.onAddSlide))a.onAddSlide(f);else f.hide()}}function o(a,b,d,g){function f(){var c=0;b.timeout&&!b.continuous?(c=
s(a[b.currSlide],a[b.nextSlide],b,g),"shuffle"==b.fx&&(c-=b.speedOut)):b.continuous&&h.cyclePause&&(c=10);if(0<c)h.cycleTimeout=setTimeout(function(){o(a,b,0,!b.backwards)},c)}var h=b.$cont[0],c=a[b.currSlide],i=a[b.nextSlide];if(d&&b.busy&&b.manualTrump)l("manualTrump in go(), stopping active transition"),e(a).stop(!0,!0),b.busy=0,clearTimeout(h.cycleTimeout);if(b.busy)l("transition active, ignoring new tx request");else if(!(h.cycleStop!=b.stopCount||0===h.cycleTimeout&&!d))if(!d&&!h.cyclePause&&
!b.bounce&&(b.autostop&&0>=--b.countdown||b.nowrap&&!b.random&&b.nextSlide<b.currSlide))b.end&&b.end(b);else{var j=!1;if((d||!h.cyclePause)&&b.nextSlide!=b.currSlide){var j=!0,k=b.fx;c.cycleH=c.cycleH||e(c).height();c.cycleW=c.cycleW||e(c).width();i.cycleH=i.cycleH||e(i).height();i.cycleW=i.cycleW||e(i).width();if(b.multiFx){if(g&&(b.lastFx==m||++b.lastFx>=b.fxs.length))b.lastFx=0;else if(!g&&(b.lastFx==m||0>--b.lastFx))b.lastFx=b.fxs.length-1;k=b.fxs[b.lastFx]}if(b.oneTimeFx)k=b.oneTimeFx,b.oneTimeFx=
null;e.fn.cycle.resetState(b,k);b.before.length&&e.each(b.before,function(a,d){h.cycleStop==b.stopCount&&d.apply(i,[c,i,b,g])});var q=function(){b.busy=0;e.each(b.after,function(a,d){h.cycleStop==b.stopCount&&d.apply(i,[c,i,b,g])});h.cycleStop||f()};l("tx firing("+k+"); currSlide: "+b.currSlide+"; nextSlide: "+b.nextSlide);b.busy=1;if(b.fxFn)b.fxFn(c,i,b,q,g,d&&b.fastOnEvent);else if(e.isFunction(e.fn.cycle[b.fx]))e.fn.cycle[b.fx](c,i,b,q,g,d&&b.fastOnEvent);else e.fn.cycle.custom(c,i,b,q,g,d&&b.fastOnEvent)}else f();
if(j||b.nextSlide==b.currSlide)if(b.lastSlide=b.currSlide,b.random){b.currSlide=b.nextSlide;if(++b.randomIndex==a.length)b.randomIndex=0,b.randomMap.sort(function(){return Math.random()-0.5});b.nextSlide=b.randomMap[b.randomIndex];if(b.nextSlide==b.currSlide)b.nextSlide=b.currSlide==b.slideCount-1?0:b.currSlide+1}else b.backwards?(d=0>b.nextSlide-1)&&b.bounce?(b.backwards=!b.backwards,b.nextSlide=1,b.currSlide=0):(b.nextSlide=d?a.length-1:b.nextSlide-1,b.currSlide=d?0:b.nextSlide+1):(d=b.nextSlide+
1==a.length)&&b.bounce?(b.backwards=!b.backwards,b.nextSlide=a.length-2,b.currSlide=a.length-1):(b.nextSlide=d?0:b.nextSlide+1,b.currSlide=d?a.length-1:b.nextSlide-1);j&&b.pager&&b.updateActivePagerLink(b.pager,b.currSlide,b.activePagerClass)}}function s(a,b,d,e){if(d.timeoutFn){for(a=d.timeoutFn.call(a,a,b,d,e);"none"!=d.fx&&250>a-d.speed;)a+=d.speed;l("calculated timeout: "+a+"; speed: "+d.speed);if(!1!==a)return a}return d.timeout}function v(a,b){var d=b?1:-1,g=a.elements,f=a.$cont[0],h=f.cycleTimeout;
if(h)clearTimeout(h),f.cycleTimeout=0;if(a.random&&0>d){a.randomIndex--;if(-2==--a.randomIndex)a.randomIndex=g.length-2;else if(-1==a.randomIndex)a.randomIndex=g.length-1;a.nextSlide=a.randomMap[a.randomIndex]}else if(a.random)a.nextSlide=a.randomMap[a.randomIndex];else if(a.nextSlide=a.currSlide+d,0>a.nextSlide){if(a.nowrap)return!1;a.nextSlide=g.length-1}else if(a.nextSlide>=g.length){if(a.nowrap)return!1;a.nextSlide=0}f=a.onPrevNextEvent||a.prevNextClick;e.isFunction(f)&&f(0<d,a.nextSlide,g[a.nextSlide]);
o(g,a,1,b);return!1}function F(a,b){var d=e(b.pager);e.each(a,function(g,f){e.fn.cycle.createPagerAnchor(g,f,d,a,b)});b.updateActivePagerLink(b.pager,b.startingSlide,b.activePagerClass)}function y(a){function b(a){a=parseInt(a,10).toString(16);return 2>a.length?"0"+a:a}function d(a){for(;a&&"html"!=a.nodeName.toLowerCase();a=a.parentNode){var d=e.css(a,"background-color");if(d&&0<=d.indexOf("rgb"))return a=d.match(/\d+/g),"#"+b(a[0])+b(a[1])+b(a[2]);if(d&&"transparent"!=d)return d}return"#ffffff"}
l("applying clearType background-color hack");a.each(function(){e(this).css("background-color",d(this))})}if(e.support==m)e.support={opacity:!e.browser.msie};e.expr[":"].paused=function(a){return a.cyclePause};e.fn.cycle=function(a,b){var d={s:this.selector,c:this.context};if(0===this.length&&"stop"!=a){if(!e.isReady&&d.s)return j("DOM not ready, queuing slideshow"),e(function(){e(d.s,d.c).cycle(a,b)}),this;j("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)"));return this}return this.each(function(){var g=
A(this,a,b);if(!1!==g){g.updateActivePagerLink=g.updateActivePagerLink||e.fn.cycle.updateActivePagerLink;this.cycleTimeout&&clearTimeout(this.cycleTimeout);this.cycleTimeout=this.cyclePause=0;var f=e(this),h=g.slideExpr?e(g.slideExpr,this):f.children(),c=h.get(),i=C(f,h,c,g,d);if(!1!==i)if(2>c.length&&1!=e(c).find(e.fn.cycle.defaults.video).length)j("terminating; too few slides: "+c.length);else if(f=i.continuous?10:s(c[i.currSlide],c[i.nextSlide],i,!i.backwards))f+=i.delay||0,10>f&&(f=10),l("first timeout: "+
f),this.cycleTimeout=setTimeout(function(){o(c,i,0,!g.backwards)},f)}})};e.fn.cycle.resetState=function(a,b){b=b||a.fx;a.before=[];a.after=[];a.cssBefore=e.extend({},a.original.cssBefore);a.cssAfter=e.extend({},a.original.cssAfter);a.animIn=e.extend({},a.original.animIn);a.animOut=e.extend({},a.original.animOut);a.fxFn=null;e.each(a.original.before,function(){a.before.push(this)});e.each(a.original.after,function(){a.after.push(this)});var d=e.fn.cycle.transitions[b];e.isFunction(d)&&d(a.$cont,e(a.elements),
a)};e.fn.cycle.updateActivePagerLink=function(a,b,d){e(a).each(function(){e(this).children().removeClass(d).eq(b).addClass(d)})};e.fn.cycle.next=function(a){v(a,1)};e.fn.cycle.prev=function(a){v(a,0)};e.fn.cycle.createPagerAnchor=function(a,b,d,g,f){e.isFunction(f.pagerAnchorBuilder)?(b=f.pagerAnchorBuilder(a,b),l("pagerAnchorBuilder("+a+", el) returned: "+b)):b='<a href="#">'+(a+1)+"</a>";if(b){var h=e(b);if(0===h.parents("body").length){var c=[];1<d.length?(d.each(function(){var a=h.clone(!0);e(this).append(a);
c.push(a[0])}),h=e(c)):h.appendTo(d)}f.pagerAnchors=f.pagerAnchors||[];f.pagerAnchors.push(h);d=function(b){b.preventDefault();f.nextSlide=a;var b=f.$cont[0],c=b.cycleTimeout;if(c)clearTimeout(c),b.cycleTimeout=0;b=f.onPagerEvent||f.pagerClick;e.isFunction(b)&&b(f.nextSlide,g[f.nextSlide]);o(g,f,1,f.currSlide<a)};/mouseenter|mouseover/i.test(f.pagerEvent)?h.hover(d,function(){}):h.bind(f.pagerEvent,d);!/^click/.test(f.pagerEvent)&&!f.allowPagerClickBubble&&h.bind("click.cycle",function(){return!1});
var i=f.$cont[0],j=!1;f.pauseOnPagerHover&&h.hover(function(){j=!0;i.cyclePause++;n(i,!0,!0)},function(){j&&i.cyclePause--;n(i,!0,!0)})}};e.fn.cycle.hopsFromLast=function(a,b){var d=a.lastSlide,e=a.currSlide;return b?e>d?e-d:a.slideCount-d:e<d?d-e:d+a.slideCount-e};e.fn.cycle.commonReset=function(a,b,d,g,f,h){e(d.elements).not(a).hide();if("undefined"==typeof d.cssBefore.opacity)d.cssBefore.opacity=1;d.cssBefore.display="block";if(d.slideResize&&!1!==g&&0<b.cycleW)d.cssBefore.width=b.cycleW;if(d.slideResize&&
!1!==f&&0<b.cycleH)d.cssBefore.height=b.cycleH;d.cssAfter=d.cssAfter||{};d.cssAfter.display="none";e(a).css("zIndex",d.slideCount+(!0===h?1:0));e(b).css("zIndex",d.slideCount+(!0===h?0:1))};e.fn.cycle.custom=function(a,b,d,g,f,h){var c=e(a),i=e(b),j=d.speedIn,a=d.speedOut,k=d.easeIn,b=d.easeOut;i.css(d.cssBefore);h&&(j="number"==typeof h?a=h:a=1,k=b=null);var l=function(){i.animate(d.animIn,j,k,function(){g()})};c.animate(d.animOut,a,b,function(){c.css(d.cssAfter);d.sync||l()});d.sync&&l()};e.fn.cycle.transitions=
{fade:function(a,b,d){b.not(":eq("+d.currSlide+")").css("opacity",0);d.before.push(function(a,b,d){e.fn.cycle.commonReset(a,b,d);d.cssBefore.opacity=0});d.animIn={opacity:1};d.animOut={opacity:0};d.cssBefore={top:0,left:0}}};e.fn.cycle.ver=function(){return"2.9999.3"};e.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:!1,animIn:null,animOut:null,aspect:!1,autostop:0,autostopCount:0,backwards:!1,before:null,center:null,cleartype:!e.support.opacity,cleartypeNoBg:!1,
containerResize:1,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:!0,metaAttr:"cycle",next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:!0,requeueTimeout:250,rev:0,shuffle:null,skipInitializationCallbacks:!1,
slideExpr:null,slideResize:1,speed:1E3,speedIn:null,speedOut:null,startingSlide:m,sync:1,timeout:4E3,timeoutFn:null,updateActivePagerLink:null,width:null,video:".slideShowVideo"}})(jQuery);
