var setupYMAL;this.mv={debug:!0,env:function(){switch(window.location.host){case"www.mintvelvet.co.uk":return"PRODUCTION";case"mintvelvet.fresca.co.uk":return"PRODUCTION";case"stage-mintvelvet.fresca.co.uk":return"STAGING";default:return"DEVELOPMENT"}},host:function(){switch(mv.env()){case"PRODUCTION":return"https://mv-fcp6.mintvelvet.co.uk";case"STAGING":return"https://mvhq-public-fcp6-uat.dragondrop.ninja";case"DEVELOPMENT":return"https://localhost:3000";default:return"https://localhost:3000"}},namespace:"mvhq",get_fcp_currency:function(){var e;return e=$.cookie("currency_iso"),void 0===e?"GBP":e},get_fcp_product_id_from_url:function(){var e,t;return e=window.location.pathname,t=e.split("/"),"product"===t[1]&&t[3]},set_visitor_info_cookie:function(){var e;return e={ua:window.navigator.userAgent,sx:window.screen.width,so:window.orientation},$.cookie("mv_visitor",e,{domain:".mintvelvet.co.uk"})},log:function(e){window.console&&mv.debug&&console.log(e)}},mv.modal={log:function(e){return mv.log("mvhq/modal: "+e)},id:"mv_modal",base_css_class:"mv-modal",close_icon_class:"mv-modal__close-icon",init:function(e){var t,o;return o={content:"Loading...",extender_class:null},mv.modal.settings=Object.assign(o,e),mv.modal.log("init"),mv.modal.create(),t=$("body").find("#"+mv.modal.id),t.html("<i class='"+mv.modal.close_icon_class+"'></i>"),t.append(mv.modal.settings.content),mv.modal.setup_close_icon(),mv.modal.open()},create:function(){var e;return mv.modal.log("create"),$("#"+mv.modal.id).remove(),e=""+mv.modal.base_css_class,mv.modal.settings.extender_class&&(e=e+" "+mv.modal.base_css_class+"--"+mv.modal.settings.extender_class),$("body").append("<div id='"+mv.modal.id+"' class='"+e+"'></div>")},open:function(){return mv.modal.log("open"),mv.modal.position(),console.log($("body")),$("body").addClass("modal-open")},position:function(){var e,t,o,n,s,i,r,c;return mv.modal.log("position"),e=$("body").find("#"+mv.modal.id),t=$(window),t.height(),c=t.width(),i=e.width(),r=t.scrollTop(),o=i/-2,s=r+50,n=0,c<500&&(o=0,e.css("left","5%")),e.css("top",s+"px").css("margin-top",n+"px").css("margin-left",o+"px")},setup_close_icon:function(){return mv.modal.log("setup_close_icon"),$("body").on("click","."+mv.modal.close_icon_class,function(e){return mv.modal.close(e)})},close:function(e){return mv.modal.log("close"),e.preventDefault(),$("body").removeClass("modal-open")}},mv.stf={},mv.stf={log:function(e){return mv.log("mvhq/stf: "+e)},init:function(){return mv.stf.log("init()"),mv.stf.log("host: "+mv.host()),$.getJSON(mv.host()+"/api/send-to-friend/enabled",function(e){if(mv.stf.log("data: "+e),e===!0)return mv.stf.setup()})},setup:function(){var e;return mv.stf.log("setup()"),e=mv.get_fcp_product_id_from_url(),mv.stf.log("fcp_product_id: "+e),e?(mv.stf.insert_button(),$("body").on("click","#"+mv.stf.modal.product_page_button_id,function(t){return t.preventDefault(),mv.stf.modal.load(e)}),$("body").on("submit","#new_email_to_friend",function(t){var o,n,s,i,r,c;return t.preventDefault(),o=$("#new_email_to_friend"),c={},c.name=o.find("#your_name").val(),c.email=o.find("#your_email").val(),i={},i.name=o.find("#friends_name").val(),i.email=o.find("#friends_email").val(),e=o.find('[name="fcp_product_id"]').val(),r=o.find('[name="size"]').val(),n=mv.get_fcp_currency(),s={sender:c,recipient:i,fcp_id:e,selected_sku_id:r,currency:n},$.post(mv.host()+"/api/send-to-friend/create",s,function(){return mv.stf.log("success"),o.html('<h2 class="mv-stf_product-name">Thank You</h2><p>An email has been sent to your friend with the details of this product.</p>')}),o.html('<h2 class="mv-stf_product-name">Thank You</h2><p>An email has been sent to your friend with the details of this product.</p>')})):mv.stf.log("couldn't find fcp product id, not showing button")},insert_button:function(){return mv.stf.log("insert_button()"),$("#product").find(".swiper-wrapper").before("<a id='"+mv.stf.modal.product_page_button_id+"' href='#'> <img src='/pws/client/images/responsive/send-to-friend/love.png' alt='email a friend' style='margin: 15px auto 0px' class='img-responsive'/> </a>")},modal:{message_class:"outfit-modal-message",product_page_button_id:"send_to_friend_button",load:function(e){var t;return t=mv.get_fcp_currency(),$.get(mv.host()+"/public/products/send-to-friend/"+e+"?/currency="+t,function(e){mv.modal.init({content:e,extender_class:"stf"})})}}},$(function(){return mv.stf.init()}),setupYMAL=function(e,t){var o;o=$("#ymal_products"),o.hide(),$.get(mv.host()+"/public/products/ymal/"+e+"?currency="+t,function(e){"IGNORE"!==e&&o.html(e),o.show()})},mv.namespace="mvhq.product.ymal",$(document).ready(function(){var e,t,o;if(t=$.cookie("currency_iso"),e=void 0===t?"GBP":t,(o=mv.get_fcp_product_id_from_url())===!1)return console.error("Cannot get product ID from URL");setupYMAL(o,e)}),mv.web_exclusives={log:function(e){return mv.log("mv/web_exclusives: "+e)},init:function(){var e;return e=mv.get_fcp_product_id_from_url(),mv.web_exclusives.log("init"),mv.web_exclusives.log(mv.host()+"/api/web-exclusives/"+e),$.get(mv.host()+"/api/web-exclusives/"+e,function(e){if(e.is_web_exclusive)return $("#promotion_message").before('<img src="https://www.mintvelvet.co.uk/pws/client/images/responsive/webexlusives/webexbutton.jpg" alt="Web Exclusive" style="margin-top: 19px" />')})}},$(function(){return mv.web_exclusives.init()}),mv.set_visitor_info_cookie();
//# sourceMappingURL=maps/product.min.js.map
