!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("time_dfp",[],e):"object"==typeof exports?exports.time_dfp=e():t.time_dfp=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="//tia.timeinc.net/timeinc/",e(e.s=95)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasSlot=e.getDebugMode=e.isSponsored=e.SponsorType=e.includesDuplicate=e.addSize=e.unitHasSize=e.hasSize=e.sanitize=e.getUrlTargeting=e.extend=e.sizeStringToArray=e.sizeToArray=e.getCookie=e.isSecure=e.isTestMode=e.isDebugMode=e.getSubDomain=e.getRootDomain=e.logTypes=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(3),r=function(t){return t&&t.__esModule?t:{default:t}}(o),a=(e.logTypes={info:"info",error:"error",indexExchange:"indexExchange",oneBot:"oneBot",refresh:"refresh"},e.getRootDomain=function(){var t=r.default.getWindow().location.hostname,e=t.split(".");return void 0===e[1]||1===e.length?t:e[e.length-2]+"."+e[e.length-1]},e.getSubDomain=function(){return document.domain},e.isDebugMode=function(){var t=r.default.getWindow(),e=t.location,n=t.time_dfp;return-1!==e.search.indexOf("debugads")||void 0!==n&&void 0!==n.config&&n.config.debug},e.isTestMode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return-1!==r.default.getWindow().location.search.indexOf("testads")||void 0!==t.testads},e.isSecure=function(){return"https:"===r.default.getWindow().document.location.protocol},e.getCookie=function(t){if(!t)return null;var e=r.default.getWindow().document.cookie;return decodeURIComponent(e.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},function(t){return Array.isArray(t)?t[0]+"x"+t[1]:t}),s=e.sizeToArray=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Array.isArray(t)?"number"==typeof t[0]?e?a(t):[t]:e?t.map(a):t:[]},c=(e.sizeStringToArray=function(t){return Array.isArray(t)?t:t.split("x").map(Number)},e.extend=function(){for(var t=arguments.length,e=Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.apply(void 0,[o].concat(e))},e.getUrlTargeting=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.default.getWindow().location.toString(),e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);return{Host:e[4]||"",Path:(e[5]||"").replace(/(.)\/$/,"$1"),Query:(e[7]||"").replace(/\=/gi,":").split("&")}},e.sanitize=function(t,e){var n=t;return"string"==typeof t&&(e.convertHyphens&&(n=n.replace(/-/gi,"_")),e.stripNonAlphaNumeric&&(n=n.replace(/[^\w\/]/gi,""))),n},e.hasSize=function(t,e){var n=s(t);return Array.isArray(n)?n.some(function(t){return-1!==t.indexOf(e)}):-1!==n.indexOf(e)}),l=(e.unitHasSize=function(t,e){return!(void 0===t.sizes||!t.sizes.some(function(t){return c(t[1],e)}))||c(t.size,e)},e.addSize=function(t,e){if(!c(t.size,e)){var n=s(t.size,!1);n.push(e),t.size=n}void 0!==t.sizes&&t.sizes.forEach(function(t){if(!c(t[1],e)){var n=s(t[1],!1);n.push(e),t[1]=n}})},function(t){return t}),u=(e.includesDuplicate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n={};return t.some(function(t){var i=e(t);if(void 0===i)return!1;var o=n[i];return n[i]=!0,o})},e.SponsorType={SPONSOR:"SPONSOR",NONE:"NONE"});e.isSponsored=function(t,e){return e[t]===u.SPONSOR},e.getDebugMode=function(){var t=r.default.getWindow(),e=t.location,n=t.time_dfp,i=e&&e.href?e.href.substring(e.href.indexOf("debugads=")+9,e.href.length):"";return i?i.split("&")[0]:!(void 0===n||void 0===n.config||!n.config.debugads)&&n.config.debugads},e.hasSlot=function(t,e){return t.some(function(t){return t.id===e})}},function(t,e,n){var i=n(31)("wks"),o=n(32),r=n(2).Symbol,a="function"==typeof r;(t.exports=function(t){return i[t]||(i[t]=a&&r[t]||(a?r:o)("Symbol."+t))}).store=i},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return window},o=function(){return document};e.default={getWindow:i,getDocument:o},t.exports=e.default},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getStringBool=e.debounce=e.throttle=e.hasClass=e.removeClass=e.addClass=e.clone=e.noop=e.getPixelsInViewPort=e.getElementInViewPort=e.appendScriptToHead=e.prependScriptToHead=e.doesQueryStringContainPII=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(0),a=n(3),s=function(t){return t&&t.__esModule?t:{default:t}}(a),c=/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i,l=(e.doesQueryStringContainPII=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.getWindow().location.toString();return c.test(t)||(0,r.getUrlTargeting)(t).Query.some(function(t){return"email"===t.split(":")[0]})},e.prependScriptToHead=function(t){var e=o(document.createElement("script"),t),n=document.getElementsByTagName("script")[0];return n.parentNode.insertBefore(e,n)},e.appendScriptToHead=function(t){var e=o(document.createElement("script"),t);return document.head.appendChild(e)},e.getElementInViewPort=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=i||t.getBoundingClientRect(),r=s.default.getWindow().innerHeight||document.documentElement.clientHeight;return n?o.top>=-e&&o.top<=r+e||o.bottom>=-e&&o.bottom<=r+e:o.top>=-e&&o.bottom<=r+e},e.getPixelsInViewPort=function(t){var e=t.getBoundingClientRect(),n=s.default.getWindow().innerHeight||document.documentElement.clientHeight;return e.bottom>n||e.top>=0?{from:"top",px:n-e.top}:{from:"bottom",px:e.bottom}},e.noop=function(){},e.clone=function(t){return JSON.parse(JSON.stringify(t))},e.addClass=function(t,e){t.classList?t.classList.add(e):t.className=t.className+" "+e},e.removeClass=function(t,e){if(t.classList)t.classList.remove(e);else{var n=e.split(" ").join("|");t.className=t.className.replace(new RegExp("(^|\\b)"+n+"(\\b|$)","gi")," ")}},e.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},{START:0,END:1,THROTTLING:2});e.throttle=function(t,e){var n=l.START,o=void 0,r=function r(){n=l.END,t.apply(void 0,i(o)),o=void 0,setTimeout(function(){if(n===l.THROTTLING)return r();n=l.START},e)};return function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];if(o=e,n===l.START)return r();n=l.THROTTLING}},e.debounce=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n};return function i(){clearTimeout(i.timeout);for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];i.args=n.apply(void 0,[i.args].concat(r)),i.timeout=setTimeout(function(){t.apply(null,i.args),i.args=void 0},e)}},e.getStringBool=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=["0","false","null","undefined"],i=["1","true"];return-1===n.indexOf(String(t).toLowerCase())&&(-1!==i.indexOf(String(t).toLowerCase())||(e?t:Boolean(t)))}},function(t,e,n){var i=n(13),o=n(29);t.exports=n(9)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.updateTas=e.formatTippData=e.formatSlotData=e.formatData=e.recordNow=e.gptEvents=e.EventName=e.Namespace=void 0;var r,a,s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=n(11),l=n(0),u=e.Namespace={TGX:"tgx",GPT:"gpt",ADS:"ads"},d=e.EventName={LOAD:"load",INIT:"init",SLEEP:"sleep",WAKE:"wake",CALLED:"called",SLOT_DISPLAY:"display",SLOT_AFTER_DISPLAY:"afterDisplay",SLOT_RENDER_ENDED:"slotRenderEnded",SLOT_ONLOAD:"slotOnload",IMPRESSION_VIEWABLE:"impressionViewable",SLOT_VISIBILITY_CHANGED:"slotVisibilityChanged"},f=(e.gptEvents=[d.SLOT_RENDER_ENDED,d.SLOT_ONLOAD,d.IMPRESSION_VIEWABLE],e.recordNow=function(){return Math.round(100*window.performance.now())/100}),p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.dfp,i=e.arg,r=o(e,["dfp","arg"]),a={date:f(),type:t,details:r};return i!==n&&(a.details.arg=i),a};e.formatData=p;var g=(r={},i(r,d.SLOT_RENDER_ENDED,"slot-Rendered"),i(r,d.SLOT_ONLOAD,"slot-Loaded"),i(r,d.IMPRESSION_VIEWABLE,"slot-View"),r),h=(e.formatSlotData=function(t,e,n){return{size:n.tracking.size,slotId:n.id,slotName:e.slot.getAdUnitPath(),event:g[t],service:e.serviceName,advertiserId:e.advertiserId,campaignId:e.campaignId,creativeId:e.creativeId,labelIds:e.labelIds,lineItemId:e.lineItemId,defineTime:n.tracking.define||0,defineActualTime:n.tracking.defineActual||0,displayTime:n.tracking.display||0,renderTime:n.tracking[d.SLOT_RENDER_ENDED]||0,loadTime:n.tracking[d.SLOT_ONLOAD]||0,viewTime:n.tracking[d.IMPRESSION_VIEWABLE]||0}},e.formatTippData=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=o.domContentLoadedEventEnd,a=o.navigationStart;return JSON.stringify({data:s({navigationStart:a,domContentLoadedEventEnd:r-a,ctype:t.config.setTargeting.ctype,zone:t.adUnitPath(e.adUnit)||t.config.zone,sra:t.config.enableSingleRequest,sitename:t.config.sitename,uri:window.location.href,device:(0,c.getPlatform)()},Object.keys(n).filter(function(t){return t!==u.ADS}).reduce(function(t,e){return Object.keys(n[e]).reduce(function(t,o){return n[e][o].reduce(function(t,e){var n=e.type,o=e.details,r=e.date;return s(t,i({},""+n+(o.msg||""),r))},t)},t)},{}),e.tracking)})}),v=Math.random()<.001,y=0,m=e.updateTas=function(t,e,n,i){if(t===u.ADS&&v&&!y&&e===d.SLOT_ONLOAD&&1===window.time_dfp.state.slots.findIndex(function(t){return t.id===n.details.slotId})){y++;var o=s(new XMLHttpRequest,{onload:function(){window.time_dfp.log(l.logTypes.info,"Event data sent: "+this.responseText)},onerror:function(t){window.time_dfp.log(l.logTypes.error,t)}});o.open("PUT","https://g5czxtlau7.execute-api.us-west-2.amazonaws.com/v1/streams/tgx-perf/record",!0),o.setRequestHeader("Content-type","application/json; charset=utf-8"),o.send(h(window.time_dfp,window.time_dfp.state.slots[1],i,window.performance.timing))}};e.default={events:(a={},i(a,u.TGX,{}),i(a,u.GPT,{}),i(a,u.ADS,{}),a),trackEvent:function(t,e,n,i){var o=t+"."+e+(void 0===n?"":"."+n),r=p(o,i);return this.events[t]=this.events[t]||{},this.events[t][e]=this.events[t][e]||[],void 0===n?this.events[t][e].push(r):this.events[t][e][n]=r,m(t,e,r,this.events),r}}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=!n(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onInit=e.getPlatform=void 0,e.default=function(t){t.onInit.push(s)};var i=n(0),o=n(3),r=function(t){return t&&t.__esModule?t:{default:t}}(o),a=e.getPlatform=function(){var t=r.default.getWindow().navigator.userAgent,e=(0,i.getCookie)("TI_PREFS");return t.match(/iPad/i)||"tablet"===e?"tablet":t.match(/Mobi/)||"phone"===e||"iphone"===e?"mobile":"desktop"},s=e.onInit=function(t){var e=r.default.getWindow(),n=r.default.getDocument();if(t.config.setTargeting=t.config.setTargeting||{},t.config.setTargeting.plat=a(),(t.config.useBehaviorTracking||t.config.useRevSciTracking)&&(t.config.setTargeting.rsseg=[]),t.config.useQuantcastTracking&&(t.config.setTargeting.qc=[""]),t.config.useTacodaTracking){e.tcd_segs_cookie=(0,i.getCookie)("AxData");var o=null!==e.tcd_segs_cookie?e.tcd_segs_cookie.split("#"):[];o.length>0&&o[1].indexOf("|")>0?t.config.setTargeting.tcseg=o[1].split("|"):t.config.setTargeting.tcseg=o[1]}var s=n.referrer.split("/")[2];t.config.setTargeting.domain=n.URL.split("/")[2],""!==n.referrer&&(t.config.setTargeting.rhost=s),void 0!==s&&s===t.config.setTargeting.domain||(t.config.setTargeting.pu=0)}},function(t,e,n){var i=n(19);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(6),o=n(53),r=n(54),a=Object.defineProperty;e.f=n(9)?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(14),o=n(2).document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,n){var i=n(61),o=n(18);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(31)("keys"),o=n(32);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var i=n(13).f,o=n(15),r=n(1)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Type={ON_SCROLL:"native-onscroll",VIDEO:"video",UPDATE:"update"}},function(t,e,n){"use strict";var i=n(26),o=n(27),r=n(55),a=n(5),s=n(15),c=n(10),l=n(56),u=n(23),d=n(64),f=n(1)("iterator"),p=!([].keys&&"next"in[].keys()),g=function(){return this};t.exports=function(t,e,n,h,v,y,m){l(n,e,h);var w,x,b,E=function(t){if(!p&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",T="values"==v,_=!1,O=t.prototype,A=O[f]||O["@@iterator"]||v&&O[v],k=A||E(v),I=v?T?E("entries"):k:void 0,C="Array"==e?O.entries||A:A;if(C&&(b=d(C.call(new t)))!==Object.prototype&&(u(b,S,!0),i||s(b,f)||a(b,f,g)),T&&A&&"values"!==A.name&&(_=!0,k=function(){return A.call(this)}),i&&!m||!p&&!_&&O[f]||a(O,f,k),c[e]=k,c[S]=g,v)if(w={values:T?k:E("values"),keys:y?k:E("keys"),entries:I},m)for(x in w)x in O||r(O,x,w[x]);else o(o.P+o.F*(p||_),e,w);return w}},function(t,e){t.exports=!0},function(t,e,n){var i=n(2),o=n(8),r=n(12),a=n(5),s=function(t,e,n){var c,l,u,d=t&s.F,f=t&s.G,p=t&s.S,g=t&s.P,h=t&s.B,v=t&s.W,y=f?o:o[e]||(o[e]={}),m=y.prototype,w=f?i:p?i[e]:(i[e]||{}).prototype;f&&(n=e);for(c in n)(l=!d&&w&&void 0!==w[c])&&c in y||(u=l?w[c]:n[c],y[c]=f&&"function"!=typeof w[c]?n[c]:h&&l?r(u,i):v&&w[c]==u?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(u):g&&"function"==typeof u?r(Function.call,u):u,g&&((y.virtual||(y.virtual={}))[c]=u,t&s.R&&m&&!m[c]&&a(m,c,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(17),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(2),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=n(2).document&&document.documentElement},function(t,e,n){var i=n(16),o=n(1)("toStringTag"),r="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:r?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var i,o,r,a=n(12),s=n(77),c=n(34),l=n(20),u=n(2),d=u.process,f=u.setImmediate,p=u.clearImmediate,g=u.MessageChannel,h=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},m=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++h]=function(){s("function"==typeof t?t:Function(t),e)},i(h),h},p=function(t){delete v[t]},"process"==n(16)(d)?i=function(t){d.nextTick(a(y,t,1))}:g?(o=new g,r=o.port2,o.port1.onmessage=m,i=a(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",m,!1)):i="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fireEvents=void 0,e.default=function(){var t={fireEvents:o,onInit:[],onAfterInit:[],onRefresh:[],onSlotRefresh:[],defineSlot:[],afterdefineSlot:[],displaySlot:[],slotOnload:[],blockLoad:!1};return window.addEventListener("dfp.beforeInit",function(e){o(t.onInit,[e.detail.dfp])}),window.addEventListener("dfp.afterInit",function(e){o(t.onAfterInit,[e.detail.dfp])}),window.addEventListener("dfp.defineSlot",function(e){o(t.defineSlot,[e.detail.dfp,e.detail.arg])}),window.addEventListener("dfp.slotAfterDefine",function(e){o(t.afterdefineSlot,[e.detail.dfp,e.detail.arg])}),window.addEventListener("dfp.slotBeforeDisplay",function(e){o(t.displaySlot,[e.detail.dfp,e.detail.arg])}),window.addEventListener("dfp.refresh",function(e){o(t.onRefresh,[e.detail.dfp])}),window.addEventListener("dfp.slotRefresh",function(e){o(t.onSlotRefresh,[e.detail.dfp,e.detail.arg])}),window.addEventListener("dfp.slotOnload",function(e){o(t.slotOnload,[e.detail.dfp,e.detail.arg])}),t};var i=n(0),o=e.fireEvents=function(t,e){t.forEach(function(t){try{t.apply(window,e)}catch(e){window.time_dfp.log(i.logTypes.error,"error: tracking.fireEvents - "+t.toString()+"\n"+e)}})}},function(t,e,n){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],o=0;o<n;){var r=e[o];if(t.call(i,r,o,e))return r;o++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],o=0;o<n;){var r=e[o];if(t.call(i,r,o,e))return o;o++}return-1}}),Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},n=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},i=Math.pow(2,53)-1,o=function(t){var e=n(t);return Math.min(Math.max(e,0),i)};return function(t){var n=this,i=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!e(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var s,c=o(i.length),l=e(n)?Object(new n(c)):new Array(c),u=0;u<c;)s=i[u],l[u]=a?void 0===r?a(s,u):a.call(r,s,u):s,u+=1;return l.length=c,l}}()),Array.prototype.some||(Array.prototype.some=function(t){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,i=arguments.length>=2?arguments[1]:void 0,o=0;o<n;o++)if(o in e&&t.call(i,e[o],o,e))return!0;return!1}),Array.prototype.every||(Array.prototype.every=function(t,e){var n,i;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),r=o.length>>>0;if("function"!=typeof t)throw new TypeError;for(arguments.length>1&&(n=e),i=0;i<r;){var a;if(i in o&&(a=o[i],!t.call(n,a,i,o)))return!1;i++}return!0}),Date.now||(Date.now=function(){return(new Date).getTime()}),function(){if("performance"in window==0&&(window.performance={}),"now"in window.performance==0){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}}(),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}if("function"==typeof window.CustomEvent)return!1;t.prototype=window.Event.prototype,window.CustomEvent=t}()},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(37),a=i(r),s=n(40),c=i(s),l=n(11),u=i(l),d=n(41),f=i(d),p=n(42),g=i(p),h=n(43),v=i(h),y=n(44),m=i(y),w=n(45),x=i(w),b=n(46),E=i(b),S=n(47),T=i(S),_=n(82),O=i(_),A=n(7),k=i(A),I=n(85),C=i(I),P=n(86),j=i(P),R=n(87),N=i(R);e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.default)();return window.TIA=window.TIA||{},window.TIA.Seymour={},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.addEventListener("message",O.default,!1),k.default.trackEvent(A.Namespace.TGX,A.EventName.LOAD),document.head.appendChild(o(document.createElement("link"),{href:"//www.googletagservices.com/tag/js/gpt.js",rel:"preload",as:"script"})),window.dfp_tracking=t,(0,c.default)(t),(0,u.default)(t),(0,f.default)(t),(0,g.default)(t),(0,N.default)(t),(0,v.default)(t),(0,m.default)(),(0,x.default)(),(0,E.default)(),(0,C.default)(),(0,j.default)(),(0,T.default)(t)},t.exports=e.default},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.applyAmazon=e.getBiddableSlots=e.onInit=e.addAmazon=void 0;var o=function(){function t(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=function(t){var e=(0,s.debounce)(f,5,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=o(t,2),n=(e[0],e[1]),r=void 0===n?[]:n,a=arguments[1],s=arguments[2];return[a,[].concat(i(r),[s])]});t.onInit.push(l),t.onRefresh.push(function(t){return f(t,t.getAdSlot().map(function(t){return t.adUnit}))}),t.defineSlot.push(e)};var r=n(7),a=function(t){return t&&t.__esModule?t:{default:t}}(r),s=n(4),c=e.addAmazon=function(){!function(t,e,n,i,o,r,a){function s(n,i){e[t]._Q.push([n,i])}e[t]||(e[t]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},r=n.createElement(i),r.async=!0,r.src="//c.amazon-adsystem.com/aax2/apstag.js",a=n.getElementsByTagName(i)[0],a.parentNode.insertBefore(r,a))}("apstag",window,document,"script")},l=e.onInit=function(t){if(!1!==t.config.amazon){var e=t.sleep("amazon");a.default.trackEvent("amazon",r.EventName.LOAD,0),c(),window.apstag.init({pubID:"3042",adServer:"googletag",videoAdServer:"DFP",bidTimeout:t.config.sleepTime},function(){a.default.trackEvent("amazon",r.EventName.LOAD,1),t.wakeup("amazon",e)})}},u=["970x90","728x90","970x250","300x250","300x600","320x50","100x1"],d=e.getBiddableSlots=function(t){return t.filter(function(t){return t.size&&(Array.isArray(t.size[0])?t.size.some(function(t){return-1!==u.indexOf(t.join("x"))}):-1!==u.indexOf(t.size.join("x")))}).map(function(t){return{slotID:t.id,slotName:t.id,sizes:Array.isArray(t.size[0])?t.size.filter(function(t){return Array.isArray(t)&&-1!==u.indexOf(t.join("x"))}):[t.size]}})},f=e.applyAmazon=function(t,e){if(!1!==t.config.amazon){var n=d(e);if(n.length>0){var i=t.sleep("amazon");window.apstag.fetchBids({slots:n},function(){var e;window.googletag.cmd.push((e=window.apstag).setDisplayBids.bind(e)),t.wakeup("amazon",i)})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createInit=e.addSlotTargeting=void 0,e.default=function(t){t.onInit.push(s({status:!1}))};var i=n(3),o=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){var t=o.default.getWindow().Ti;return t&&t.udo_metadata},a=e.addSlotTargeting=function(t,e){var n=r();n&&Object.keys(t).forEach(function(i){n[i]&&(e.config.setTargeting[i]=n[t[i]])})},s=e.createInit=function(t){return function(e){if(void 0!==r()){var n={aid:"content_id",ch:"site_section1",pid:"content_package_id",sch:"site_section2",ptype:"pi_page_type",ctype:"template_type"};t.status=!0,e.config.setTargeting=e.config.setTargeting||{},e.config.setTargeting=e.config.setTargeting||{},a(n,e)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.createOnInit=e.applyIndexExchange=e.getSlotID=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){var e={session_complete:!1,sleep_count:0},n=function(t,n){!1!==t.config.ix&&p(t,n,e)},i=function(t){if(!1!==t.config.ix){var n=t.getAdSlot().map(function(t){return t.dfpSlot});p(t,n,e)}};t.onInit.push(g(e)),t.onRefresh.push(i),t.displaySlot.push(n)};var r=n(4),a=n(3),s=i(a),c=n(7),l=i(c),u=n(0),d={rsm:"ls-realsimple.js",ckl:"ls-cookinglight.js",peo:"ls-people.js",col:"htw-time.js",enw:"ls-ew.js",fw:"ls-foodandwine.js",fort:"ls-fortune.js",golf:"ls-golf.js",hlt:"ls-health.js",ins:"ls-instyle.js",mre:"ls-myrecipes.js",pesp:"ls-peopleenespanol.js",si:"ls-si.js",sol:"ls-southernliving.js",sun:"ls-sunset.js",thedrive:"ls-thedrive.js",theoutfit:"ls-theoutfit.js",thesnug:"ls-thesnug.js",tim:"ls-time.js",tl:"ls-travelandleisure.js",mhi:"ls-myhomeideas.js",ess:"ls-essence.js",dep:"ls-departures.js",xoj:"ls-xojane.js",tfk:"ls-timeforkids.js",fansided:"ls-fansided.js",fscom:"ls-foxsports.js",extracrispy:"ls-extracrispy.js"},f=e.getSlotID=function(t,e){return"function"==typeof e.getSlotId?t.getAdIdBySlot(e):Array.isArray(e)?e.reduce(function(t,e){return"function"==typeof e.getSlotId?""+t+e.getSlotId().o+" ":t},""):""},p=e.applyIndexExchange=function(t,e,n){if(!1!==t.config.ix){var i=s.default.getWindow();if("object"===o(i.headertag)){var r=Date.now(),a=f(t,e);t.log(u.logTypes.indexExchange,"Index Exchange called for: "+a);var c=void 0;n.session_complete||n.sleep_count<2?(c=t.sleep("Index Exchange"),n.sleep_count++,n.session_complete||t.log(u.logTypes.indexExchange,"Index Exchange sleep "+n.sleep_count+"/2")):t.log(u.logTypes.indexExchange,"Slot: "+a+" - Index Exchange Not Sleeping as we have not retrieved successful demand yet and executed "+n.sleep_count+"/2 sleeps"),n.session_complete=!1,i.headertag.retrieve_demand(function(){t.log(u.logTypes.indexExchange,"Index Exchange Retrieve Demand in "+(Date.now()-r)+" milliseconds"),t.log(u.logTypes.indexExchange,"Index Exchange Setting Targeting. - "+a),i.headertag.set_slot_targeting(e),n.session_complete=!0,n.sleep_count=0,void 0!==c&&t.wakeup("Index Exchange",c)},{})}}},g=e.createOnInit=function(t){return function(e){if(!1!==e.config.indexexchange&&!1!==e.config.ix){var n=Date.now(),i=s.default.getWindow(),o=e.sleep("Index Exchange");if(!i.headertag_init_once){t.sleep_count++,i.headertag_init_once=!0;try{l.default.trackEvent("ix",c.EventName.LOAD,0);var a=d[e.config.sitename];a?(0,r.appendScriptToHead)({async:!0,src:("https:"===i.document.location.protocol?"https://js-sec":"http://js")+".indexww.com/ht/"+a,onload:function(){l.default.trackEvent("ix",c.EventName.LOAD,1),e.log(u.logTypes.indexExchange,"Index Exchange loaded in "+(Date.now()-n)+" milliseconds");var r=void 0;i.headertag.envoke_on_or_after_session_end(function(){e.log(u.logTypes.indexExchange,"Index Exchange Retrieve Demand in "+(Date.now()-r)+" milliseconds"),t.session_complete=!0,e.wakeup(u.logTypes.indexExchange,"Index Exchange",o)}),r=Date.now(),i.headertag.retrieve_demand()}}):e.log(u.logTypes.indexExchange,"Index Exchange loading error.")}catch(t){e.log(u.logTypes.indexExchange,"Index Exchange loading error. "+t)}}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onInit=e.triggerOneBotRequest=e.createOnLoad=e.reduceTaxons=e.reduceConcepts=e.getCleanUrl=e.getSentiment=void 0,e.default=function(t){t.onInit.push(p)};var i=n(0),o=n(3),r=function(t){return t&&t.__esModule?t:{default:t}}(o),a=e.getSentiment=function(t){return t>=.75?"Very Positive":t>=.5?"Positive":t>=0?"Neutral":t>=-.5?"Negative":"Very Negative"},s=e.getCleanUrl=function(t){if((0,i.isTestMode)(t.config))return"http://www.ew.com/article/2015/07/23/hunger-games-mockingjay-part-2-trailer";var e=r.default.getDocument().URL;-1!==e.indexOf("test-tiads.timeinc.net")?e=e.replace("test-tiads.timeinc.net/dev/test/alchemy-contextual/ads/test/",""):-1!==e.indexOf("tiads.timeinc.net")&&(e=e.replace("tiads.timeinc.net/ads/test/",""));var n=e.indexOf("?");return n>0?e.substring(0,n):encodeURIComponent(e)},c=/\s|:|\?/g,l=e.reduceConcepts=function(t,e){if((!t.charLength||t.charLength<200)&&e.relevance>=.5){var n=e.name.replace(c,"");t.push(n),t.charLength=n.length+(t.charLength||0)}return t},u=e.reduceTaxons=function(t,e){return e.score>=.5&&e.path.split("/").forEach(function(e){var n=e.replace(c,"");""!==e&&-1===t.indexOf(n)&&t.push(n)}),t},d=e.createOnLoad=function(t,e,n,o,r){return function(){var e=r||(""!==this.responseText?JSON.parse(this.responseText):{message:"empty"});t.log(i.logTypes.oneBot,"OneBot Message Results: "+JSON.stringify(e)),e.socialTags&&e.socialTags.length>0&&(t.config.setTargeting.Social_Tags=e.socialTags),e.taxons&&e.taxons.length>0&&(t.config.setTargeting.Taxons=e.taxons.reduce(u,[])),e.concepts&&e.concepts.length>0&&(t.config.setTargeting.Concepts=e.concepts.reduce(l,[])),e.sentiment&&e.sentiment.length>0&&(t.state.sentiment=t.config.setTargeting.Sentiment=a(e.sentiment[0])),o.wokenup||(t.wakeup("One Bot",n),o.wokenup=!0)}},f=e.triggerOneBotRequest=function(t,e){var n=r.default.getWindow(),o=Date.now(),a=e.sleep("One Bot");if(n.TIA&&n.TIA.targetData)return d(e,o,a,{wokenup:!1},n.TIA.targetData)();var s=new n.XMLHttpRequest;if("withCredentials"in s){var c="https://ape-asset-tag.timeinc.com/v0/article?url="+t;e.log(i.logTypes.oneBot,"Checking trending+Alchemy via OneBot for - "+t),s.open("GET",c,!0),s.onload=d(e,o,a,{wokenup:!1}),s.onerror=function(){return e.log(i.logTypes.oneBot,"OneBot Trending+Alchemy Request Error")},s.send()}else e.log(i.logTypes.oneBot,"OneBot Treding+Alchemy XMLHttpRequest Initialization Error")},p=e.onInit=function(t){var e=(0,i.getRootDomain)(),n=t.config.onebot;if(void 0===n||n&&("allow"!==n.allow_deny_mode||-1===n.enabled_root_domains.indexOf(e)))try{var o=s(t);f(o,t)}catch(e){t.log(i.logTypes.oneBot,"Onebot catch error\n",e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logMsg=e.createDebugInfo=e.addDebugStyle=void 0,e.default=function(){var t=performance.timing?(performance.timing.fetchStart-performance.timing.navigationStart)/1e3:window.performance.now();window.addEventListener("dfp.beforeInit",function(){if((0,i.isDebugMode)()){var e={navStart_jsExecute:t,navStart_beforeInit:window.performance.now(),responseStart_beforeInit:window.performance.now()};a(i.logTypes.info,"Execution metrics "+JSON.stringify(e),t),o()}}),window.addEventListener("dfp.slotAfterDisplay",function(t){(0,i.isDebugMode)()&&r(t.detail.arg)}),window.addEventListener("dfp.logMsg",function(e){if((0,i.isDebugMode)()){var n=e.detail.dfp.config;a(e.detail.arg,void 0!==n?n.logtimeline:void 0,t)}})};var i=n(0),o=e.addDebugStyle=function(){var t=".ads-debug-info { position: absolute; overflowY: auto; overflowX: auto; width: 300; height: 200; zIndex: 99999; background-color: yellow; text-align: left}",e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)},r=e.createDebugInfo=function(t){var e=t.adUnit.id,n=e+"-debuginfo",i=document.getElementById(n);if(null===i){var o=document.getElementById(e),r='<textarea id="'+n+'" style="height: 20px; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 12px; line-height: normal; font-family: courier; border: 1px solid black; z-index: auto; background-color: rgb(255, 255, 189);">'+t.debugcode.join("\n")+"</textarea>";o.insertAdjacentHTML("beforebegin",r),i=document.getElementById(n)}return i},a=e.logMsg=function(t,e,n){var i=(window.performance.now()-n)/1e3;console.log("dfp.logMsg "+i+": "+t),void 0!==e&&void 0!==console.timeStamp&&console.timeStamp("dfp.logMsg "+i+": "+t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSlotBeforeDefineFn=e.beforeInit=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=function(){var t=s.default.getWindow();t.addEventListener("dfp.beforeInit",l),t.addEventListener("dfp.slotBeforeDefine",u({tile:0}))};var r=n(0),a=n(3),s=function(t){return t&&t.__esModule?t:{default:t}}(a),c=["cid","debugads","utm_medium","utm_campaign"],l=e.beforeInit=function(t){var e=s.default.getWindow(),n=t.detail.dfp,i=document.referrer.split("/")[2];void 0!==i&&(n.config.setTargeting.rhost=i);var a=e.location.pathname.split("/");a=a[a.length-1]?a.slice(1,a.length):a.slice(1,a.length-1),n.config.setTargeting.path=a,n.config.setTargeting.domain=e.location.hostname;var l=(0,r.getCookie)("globalTI_SID");l&&(n.config.setTargeting.ti_id=l),(0,r.getUrlTargeting)().Query.forEach(function(t){var e=t.split(":"),i=o(e,2),r=i[0],a=i[1];-1!==c.indexOf(r)&&(n.config.setTargeting[r]=a)})},u=e.createSlotBeforeDefineFn=function(t){return function(e){var n=e.detail.arg,o=e.detail.dfp;t.tile++,(0,r.unitHasSize)(n,"300x250")&&(0,r.addSize)(n,"fluid");try{n.targeting=i(n.targeting||{},{tile:t.tile,id:n.id}),void 0!==n.targeting.sz?-1!==n.targeting.sz.indexOf(",")&&(n.targeting.sz=n.targeting.sz.split(",")):n.targeting.sz=n.oop?"1x1":(0,r.sizeToArray)(n.size),(0,r.hasSlot)(o.state.destroyedSlots,n.id)&&(n.targeting.rez=1)}catch(t){}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=null,e=void 0,n=0;window.addEventListener("dfp.beforeInit",function(n){var r=n.detail.dfp;r.getOopSlotId=function(){return t},r.resetOOPSlot=function(n,a){void 0!==n&&n!==t?(t=n,e=r,o(e,a,t)):i(r,r.config.refreshoop,t)}}),window.addEventListener("dfp.defineSlot",function(n){var i=n.detail.arg,r=n.detail.dfp;r.config.oop&&null===t&&(t="oop_"+Date.now(),e=r,o(r,i.id,t))}),window.addEventListener("dfp.refresh",function(){e&&e.config.oop&&e.config.refreshoop&&n+1e4<Date.now()&&(n=Date.now(),e.refresh(t))})};var i=e.refreshOop=function(t,e,n){e&&null!==n&&t.refresh(n)},o=e.defineOopSlot=function(t,e,n){var i=document.createElement("div");if(i.setAttribute("id",n),i.setAttribute("style","display:none;width:0px;height:0px"),void 0!==e){var o=document.getElementById(e);null!==o&&o.parentNode.insertBefore(i,o)}else document.body.appendChild(i);t.defineSlot({id:n,oop:!0})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.truncateZone=e.getGptCmd=void 0;var a=function(){function t(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=function(){var t=function(){var t=this;this.dfpUtil=l,this.log(this.dfpUtil.logTypes.info,"Starting up..."),this.config={setTargeting:{},setLocation:"",setUrlTargeting:!1,enableSingleRequest:!1,SRAInitialBatch:!0,collapseEmptyDivs:!1,refreshExisting:!0,disablePublisherConsole:!1,disableInitialLoad:!1,globalVar:"time_dfp",sleepTime:650,oop:!0,gptAsync:!0,refreshoop:!1,dfpId:"8484",env:"prod"},this.state={count:0,rendered:0,slots:[],destroyedSlots:[],sleep:0,queue:[],purge_count:0,purging:!1,wewant:'n"eNow',sleepTimeout:null,sleepInterval:null,sleepStart:null,sleepRound:0,enabledService:!1,ver:"2018-01-12T16:17:21.246Z",sentiment:null};var e=window[this.config.globalVar];window[this.config.globalVar]=this,Array.isArray(e)&&e.forEach(function(e){return t.push(e)})},e=t.prototype;return e.getGptCmd=m,e.truncateZone=x,e.init=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=s({},e,{setTargeting:s({},e.setTargeting,e.setGlobalTargeting)});if(this.log(this.dfpUtil.logTypes.info,"init()"),g.default.trackEvent(p.Namespace.TGX,p.EventName.INIT),(0,u.doesQueryStringContainPII)()||this.loadGPT(),s(this.config,n),this.setConfig(),this.fireEvent("beforeInit",this),this.updateAdsTargeting(this.config),m().push(function(){t.log(t.dfpUtil.logTypes.info,"1st DFP Call"),g.default.trackEvent(p.Namespace.GPT,p.EventName.CALLED)}),this.config.disableInitialLoad&&this.push(function(){m().push(function(){t.log(t.dfpUtil.logTypes.info,"disableInitialLoad() is set.. need to .refresh() to display ads now."),window.googletag.pubads().disableInitialLoad()})}),this.config.enableSingleRequest&&this.push(function(){m().push(function(){t.log(t.dfpUtil.logTypes.info,"enableSingleRequest is set.. in SRA mode"),window.googletag.pubads().enableSingleRequest(),t.log(t.dfpUtil.logTypes.info,"enableSingleRequest is set all slots defined before 1st .display() will be call and rendered all at once")})}),void 0!==this.config.collapseEmptyDivs){var i=this.config.collapseEmptyDivs||void 0;this.push(function(){m().push(function(){t.log(t.dfpUtil.logTypes.info,"collapseEmptyDivs is set to: "+t.config.collapseEmptyDivs),window.googletag.pubads().collapseEmptyDivs(i)})})}return m().push(function(){var e=window.googletag.pubads();(0,v.default)(t,e),p.gptEvents.forEach(function(n){e.addEventListener(n,function(e){var i=t.getAdUnitBySlot(e.slot);i.tracking[n]=(0,p.recordNow)(),e.size&&(i.tracking.size=e.size.join("x")),g.default.trackEvent(p.Namespace.ADS,n,void 0,(0,p.formatSlotData)(n,e,i)),t.fireEvent(n,e,{slotId:i.id})})})}),this.push(function(){m().push(function(){t.log(t.dfpUtil.logTypes.info,"googletag.pubads().setTargeting().."),Object.keys(t.config.setTargeting).forEach(function(e){var n=t.config.setTargeting[e];"number"==typeof n&&(n=String(n)),window.googletag.pubads().setTargeting(e,n)})})}),this.push(function(){t.fireEvent("afterInit",t)}),this},e.setConfig=function(){var t=this,e={amazon:!0,ix:!0,debugads:!0,onebot:!0,logtimeline:!0,resizenative:!0,companionslot:!0,optlazy:!0,viewGracePx:!0,pxDivisor:!0,adzone:{key:"zone",debugOnly:!0}};l.getUrlTargeting().Query.forEach(function(n){var i=n.split(":"),o=a(i,2),r=o[0],c=o[1];e[r]&&(c=(0,u.getStringBool)(c,!0),!0===e[r]?t.config[r]=c:e[r].debugOnly&&!l.isDebugMode()||(t.config[e[r].key]=c)),"latency"===r&&"0"===c&&s(t.config,{amazon:!1,ix:!1,onebot:!1})}),this.config=b(this.config)},e.push=function(t){var e=this;if(void 0!==t)this.state.sleep<=0&&!this.state.purging?t.call(this):this.state.sleep<=0&&this.state.purging?(this.log(this.dfpUtil.logTypes.info,"push().. purging queue.. queuing function"),this.state.queue.push(t)):(this.log(this.dfpUtil.logTypes.info,"push().. in sleep mode.. queuing function"),this.state.queue.push(t));else if(!this.state.purging){this.log(this.dfpUtil.logTypes.info,"Running Queued calls... purge: "+this.state.purge_count);var n=this.state.queue;this.state.queue=[],this.state.purging=!0;try{n.forEach(function(t){return t.call(e)})}catch(t){this.log(this.dfpUtil.logTypes.error,"Error trying to wake up running one of the queued function. Purge:"+this.state.purge_count+"\n"+t)}this.log(this.dfpUtil.logTypes.info,"Ending Queue purge: "+this.state.purge_count),this.state.purge_count++,this.state.purging=!1,this.state.queue.length>0&&this.state.sleep<=0&&(this.log(this.dfpUtil.logTypes.info,"Calling calls queued during purge."),this.push())}},e.sleep=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.sleepTime,i=this.state.sleepRound,o=t?" - MSG: "+t:"";return g.default.trackEvent(p.Namespace.TGX,p.EventName.SLEEP,void 0,{msg:o}),this.state.sleep>0?(this.state.sleep++,this.log(this.dfpUtil.logTypes.info,"sleep().. cannot sleep.. already sleeping"+o+" - SleepRound:"+i+" - sleeps:"+this.state.sleep),this.state.sleepRound):(this.state.sleep++,this.log(this.dfpUtil.logTypes.info,"sleep() for "+n+" milliseconds"+o+" - SleepRound:"+i),this.state.sleepTimeout=setTimeout(function(){e.log(e.dfpUtil.logTypes.info,"sleep() Timeout Over"),e.wakeup("time_dfp - Sleep Timeout",i,!0)},n),this.state.sleepStart=Date.now(),this.state.sleepInterval=setInterval(function(){var t=Date.now();e.log(e.dfpUtil.logTypes.info,"sleepInterval at: "+(t-e.state.sleepStart)),t-e.state.sleepStart>n&&(e.log(e.dfpUtil.logTypes.info,"sleep() Interval Over"),e.wakeup("time_dfp - Sleep Timeout",i,!0))},n/5),this.state.sleepRound)},e.wakeup=function(t,e,n){var i=t?" - MSG: "+t:"";if(g.default.trackEvent(p.Namespace.TGX,p.EventName.WAKE,void 0,{msg:i,force:n}),void 0!==e&&e!==this.state.sleepRound)return void this.log(this.dfpUtil.logTypes.info,"wakeup() "+i+" -- Not in sleep round");this.state.sleep--,this.log(this.dfpUtil.logTypes.info,"wakeup() "+i+" -- Sleeps left: "+this.state.sleep+" -- "+(n?" - Forced":"")),(this.state.sleep<=0||n)&&(this.state.sleep=0,window.clearTimeout(this.state.sleepTimeout),window.clearInterval(this.state.sleepInterval),this.state.sleepRound++,this.push())},e.loadGPT=function(){if(!window.googletag.pubads){var t=!1!==this.config.gptAsync;this.log(this.dfpUtil.logTypes.info,"loading GPT in "+(t?"async":"sync")),g.default.trackEvent(p.Namespace.GPT,p.EventName.LOAD,0),(0,u.prependScriptToHead)({async:t,src:"//www.googletagservices.com/tag/js/gpt.js",onload:function(){return g.default.trackEvent(p.Namespace.GPT,p.EventName.LOAD,1)}})}},e.updateAdsTargeting=function(t){var e=this;l.isTestMode(t)&&(this.log(this.dfpUtil.logTypes.info,"updateAdsTargeting() In Test Mode"),void 0!==this.config.testads&&(this.config.setTargeting.test=isNaN(this.config.testads)?1:this.config.testads),l.getUrlTargeting().Query.forEach(function(t){if(-1!==t.indexOf("testads")){var n=t.split(":")[1];e.config.setTargeting.test=isNaN(n)?1:n}}))},e.adUnitPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.zone||this.config.zone;return e=e&&"/"!==e?x(("/"===e[0]?"":"/")+l.sanitize(e,{stripNonAlphaNumeric:!0})):"","/"+this.config.dfpId+"/"+(t.sitename||this.config.sitename)+e},e.getAdSlot=function(t,e){if(void 0===t)return this.state.slots.slice();var n=this.state.slots.findIndex(function(e){return e.id===t}),i=this.state.slots[n];return e&&this.state.slots.splice(n,1),i},e.getAdIdBySlot=function(t){return this.getAdUnitBySlot(t).id},e.getAdUnitByAdId=function(t){return this.state.slots.find(function(e){return e.id===t})},e.getAdUnitBySlot=function(t){return this.state.slots.find(function(e){return e.dfpSlot===t})},e.setTargeting=function(t,e){var n=this;void 0===e?m().push(function(){Object.keys(t).forEach(function(e){n.config.setTargeting[e]=t[e],window.googletag.pubads().setTargeting(e,t[e])})}):void 0!==e.targeting&&Object.keys(e.targeting).forEach(function(n){t.setTargeting(n,e.targeting[n])})},e.addSlotTargeting=function(t,e,n){Object.keys(e).forEach(function(n){t.setTargeting(n,e[n])});var i=this.getAdUnitBySlot(t),o="\nADDITIONAL TARGETING"+(void 0!==n?"("+n+")":"")+":"+JSON.stringify(e)+"\n ------ \n";i.debugcode.push(o)},e.defineSlot=function(t){var e=this,n=(0,u.clone)(t);void 0!==this.getAdSlot(n.id)&&m().push(function(){var t=e.getAdSlot(n.id,!0);window.googletag.destroySlots([t.dfpSlot])});var i={tracking:{define:(0,p.recordNow)()}};this.fireEvent("defineSlot",n),this.log(this.dfpUtil.logTypes.info,"defineSlot() called for "+n.id+" - queuing up"),this.push(function(){m().push(function(){i.tracking.defineActual=(0,p.recordNow)();try{var t=e.adUnitPath(n),o=[],s=void 0;e.fireEvent("slotBeforeDefine",n),i.id=n.id,i.adUnit=n;var c=n.size;if(void 0!==n.sizes&&(s=window.googletag.sizeMapping(),n.sizes.forEach(function(t){var e=a(t,2),n=e[0],i=e[1];s.addSize(n,i)}),s=s.build()),n.oop?(i.dfpSlot=window.googletag.defineOutOfPageSlot(t,n.id),o.push("googletag.defineOutOfPageSlot('"+t+"', '"+n.id+"');")):(i.dfpSlot=window.googletag.defineSlot(t,c,n.id),o.push("googletag.defineSlot('"+t+"', "+JSON.stringify(n.size)+", '"+n.id+"');")),void 0!==s&&(i.dfpSlot.defineSizeMapping(s),o.push("slot.defineSizeMapping(<sizemapping>); sizemapping = "+JSON.stringify(n.sizes))),e.setTargeting(i.dfpSlot,n),o.push(e.getSlotTargeting(i.dfpSlot)),n.companion&&(i.dfpSlot.addService(window.googletag.companionAds()),o.push(".addService(googletag.companionAds());"),e.state.enabledService=!1,e.log(e.dfpUtil.logTypes.info,"setting dfp.state.enabledService to false, as we have a companion ad and the services needs to be enabled again")),i.dfpSlot.addService(window.googletag.pubads()),o.push(".addService(googletag.pubads());"),e.state.slots.push(i),void 0!==n.collapse){if(Array.isArray(n.collapse)){var l;(l=i.dfpSlot).setCollapseEmptyDiv.apply(l,r(n.collapse))}else i.dfpSlot.setCollapseEmptyDiv(n.collapse);o.push(".setCollapseEmptyDiv("+n.collapse+")")}else i.dfpSlot.setCollapseEmptyDiv(),o.push(".setCollapseEmptyDiv();");e.fireEvent("slotAfterDefine",i),i.debugcode=o,e.log(e.dfpUtil.logTypes.info,"slot defined for - "+n.id),e.config.enableSingleRequest&&!e.config.disableInitialLoad||e.displaySlot(i)}catch(t){e.log(e.dfpUtil.logTypes.error,"error: defineSlot - ","\n"+i+"\n",t)}})})},e.set=function(t,e){this.config[t]=e},e.display=function(t){var e=this;this.log(this.dfpUtil.logTypes.info,".display()"),this.push(function(){m().push(function(){if(e.log(e.dfpUtil.logTypes.info,".display() via gpt.push()"),void 0===t&&e.getAdSlot().forEach(function(t){e.displaySlot(t)}),"string"==typeof t){var n=e.getAdSlot(t);e.displaySlot(n)}else Array.isArray(t)&&t.forEach(function(t){var n=e.getAdSlot(t);e.displaySlot(n)})})})},e.displaySlot=function(t){var e=this;this.push(function(){m().push(function(){t.tracking.display=(0,p.recordNow)(),e.log(e.dfpUtil.logTypes.info,"before displaying slot - "+t.id),e.fireEvent("slotBeforeDisplay",t.dfpSlot),e.log(e.dfpUtil.logTypes.info,"displaying slot - "+t.id),e.config.disableInitialLoad&&e.log(e.dfpUtil.logTypes.info,"slot - "+t.id+" - may not be rendered and need to be refresh()'ed as disableInitialLoad is set."),e.state.enabledService||(window.googletag.pubads().setPublisherProvidedId(window.globalTI_SID_MD5),window.googletag.enableServices(),e.state.enabledService=!0,e.log(e.dfpUtil.logTypes.info,"Services need to be enabled. - googletag.enableServices();")),e.push(function(){m().push(function(){e.log(e.dfpUtil.logTypes.info,"gpt .display() - "+t.id),window.googletag.display(t.id),t.debugcode.push("googletag.display('"+t.id+"');"),e.fireEvent("slotAfterDisplay",t)})})})})},e.getSlotTargeting=function(t){var e=this,n=t.getTargetingKeys(t).reduce(function(e,n){return s(e,o({},n,t.getTargeting(n)))},{}),i=Object.keys(this.config.setTargeting).reduce(function(t,n){return s(t,o({},n,e.config.setTargeting[n]))},{});return"\nTargeting ----\nGLOBAL: "+JSON.stringify(i)+"\nSLOT: "+JSON.stringify(n)+"\n ------\n"},e.refresh=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.push(function(){m().push(function(){t.fireEvent("refresh",e),t.log(t.dfpUtil.logTypes.refresh,"refresh() slots: "+e);var i=null;if(null!==e)try{"string"==typeof e?i=[t.getAdSlot(e).dfpSlot]:Array.isArray(e)&&(i=e.reduce(function(e,n){return"string"==typeof n&&e.push(t.getAdSlot(n).dfpSlot),e},[]))}catch(e){t.log(t.dfpUtil.logTypes.error,"Error refreshing slots: "+e)}Array.isArray(i)&&i.forEach(function(e){e.tracking={define:(0,p.recordNow)()},t.addSlotTargeting(e,{ad_refresh:!0})}),t.push(function(){t.push(function(){m().push(function(){t.fireEvent("slotRefresh",i),t.log(t.dfpUtil.logTypes.refresh,"dfp refreshing slots"),window.googletag.pubads().refresh(i,{changeCorrelator:n})})})})})})},e.destroy=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.push(function(){m().push(function(){t.fireEvent("destroy",e),t.log(t.dfpUtil.logTypes.info,"destroy() slots: "+(Array.isArray(e)?e.join(","):e));var n=null,i=[];if(null!==e)try{i="string"==typeof e?[e]:e,n=i.reduce(function(e,n){return"string"==typeof n&&e.push(t.getAdSlot(n).dfpSlot),e},[])}catch(e){t.log("Error destroying slots: "+e)}Array.isArray(n)&&n.forEach(function(e){var n=t.getAdUnitBySlot(e);n.tracking.destroy=(0,p.recordNow)(),t.state.destroyedSlots.push(t.getAdSlot(n.id,!0))}),t.fireEvent("slotDestroy",n),t.log(t.dfpUtil.logTypes.info,"dfp destroying slots"),null===n?(window.googletag.destroySlots(),t.state.destroySlots=t.state.slots,t.state.slots=[]):window.googletag.destroySlots(n)})})},e.updateCorrelator=function(){var t=this;this.log(this.dfpUtil.logTypes.info,"updateCorrelator()"),m().push(function(){t.fireEvent("updateCorrelator"),window.googletag.pubads().updateCorrelator()})},e.log=function(t,e){var n=l.getDebugMode();n=n?n.split(","):["true"],!l.isDebugMode()||"true"!==n[0]&&-1===n.indexOf(t)||this.fireEvent("logMsg",e)},e.getEvents=function(){return g.default.events},e.fireEvent=function(t,e,n){var i=s({arg:e,dfp:this},n),o=void 0;"function"==typeof window.CustomEvent?o=new window.CustomEvent("dfp."+t,{detail:i}):(o=document.createEvent("CustomEvent"),o.initCustomEvent("dfp."+t,!0,!0,i)),window.dispatchEvent(o)},new t};var c=n(0),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(c),u=n(4),d=n(3),f=i(d),p=n(7),g=i(p),h=n(48),v=i(h),y=n(11),m=e.getGptCmd=function(){return f.default.getWindow().googletag.cmd},w=/\//g,x=e.truncateZone=function(t){for(var e=[],n=0;n>-1;)(n=t.indexOf("/",n))>-1&&(e.push(n),n++);return e.length>3?t.substring(e[0],e[2]+1)+t.substring(e[2]+1).replace(w,"_"):t},b=function(t){return"instyle"===t.sitename&&"18711560"===t.dfpId&&"mobile"===(0,y.getPlatform)()&&(t.sitename="instyle_mobile"),t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.setButtinskyTimers=e.createSlotVisibilityChangedFn=e.attemptRefresh=e.getRefreshRate=e.querySponsors=e.TGX_REFRESH=void 0,e.default=function(t,e){return h(t.config.sitename||"Time Inc").then(function(n){return w(t,e,x(n,t))}).catch(function(){return w(t,e,{interval_time:4e3,refresh_time:15e3})})};var o=n(49),r=i(o),a=n(7),s=n(3),c=i(s),l=n(11),u=n(0),d=e.TGX_REFRESH="refresh",f={desktop:{"970x90":!0,"728x90":!0,"970x250":!0,"300x250":!0,"300x600":!0,"160x600":!0},mobile:{"300x50":!0,"320x50":!0,"300x250":!0},tablet:{"728x90":!0,"300x600":!0,"300x250":!0}},p=function(){var t=0;return function(e){var n=window.performance.now()-t>e;return n&&(t=window.performance.now()),n}}(),g=e.querySponsors=function(t,e){return new r.default(function(t,n){var i=new XMLHttpRequest,o=e.slice().sort().join(",");i.open("GET","https://qgd9sldwa0.execute-api.us-west-2.amazonaws.com/prod/Buttinsky?lineItemIds="+o,!0),i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("x-api-key","XpO6Q1bU7w595Cuv0ZanQaZt2ed8Q0fx2tfOxOAD"),i.setRequestHeader("cache-control","public, max-age=86400"),i.onload=function(){t(i.responseText)},i.onerror=n,i.send()})},h=e.getRefreshRate=function(t){return new r.default(function(e,n){var i=new XMLHttpRequest;i.open("GET","https://bbgz388gak.execute-api.us-west-2.amazonaws.com/dev/seymourRefreshRate/refreshRate?brand="+t,!0),i.setRequestHeader("Content-type","application/json"),i.onload=function(){e(JSON.parse(i.responseText))},i.onerror=n,i.send()})},v=function(t){var e=t.dfpSlot.getResponseInformation();return e&&e.lineItemId},y=e.attemptRefresh=function(t,e,n){var i=(0,l.getPlatform)(),o=t.state.slots.filter(function(t){return"cm"!==t.dfpSlot.getAdUnitPath().split("/")[2].slice(0,2)&&f[i][t.tracking.size]}),s=o.map(v).filter(function(t){return t&&void 0===e[t]});return(0===s.length?r.default.resolve():g(t,s).then(function(t){var n=JSON.parse(t).data.sponsorships;s.forEach(function(t){e[t]=-1!==n.indexOf(t)?u.SponsorType.SPONSOR:u.SponsorType.NONE})}).catch(function(e){return t.log(u.logTypes.error,"Seymour error: "+e)})).then(function(){var i=window.performance.now(),r=o.reduce(function(t,o){var r=v(o);return o.tracking[a.EventName.SLOT_VISIBILITY_CHANGED]&&o.tracking[a.EventName.IMPRESSION_VIEWABLE]&&i-o.tracking[a.EventName.IMPRESSION_VIEWABLE]>=n&&!(0,u.isSponsored)(r,e)&&(o.tracking.refreshCount=1+(o.tracking.refreshCount||0),o.dfpSlot.setTargeting(d,o.tracking.refreshCount),t.push(o.id)),t},[]);r.length>0&&"visible"===c.default.getDocument().visibilityState&&document.hasFocus()&&(r.forEach(function(e){return delete t.getAdUnitByAdId(e).tracking[a.EventName.IMPRESSION_VIEWABLE]}),t.refresh(r,p(n)),t.log(u.logTypes.refresh,"'seymour: REFRESHING - "+r.join(", ")))})},m=e.createSlotVisibilityChangedFn=function(t){return function(e){var n=e.slot,i=e.inViewPercentage;t.getAdUnitBySlot(n).tracking[a.EventName.SLOT_VISIBILITY_CHANGED]=i>=50}},w=e.setButtinskyTimers=function(t,e,n){var i=n.interval_time,o=n.refresh_time;window.TIA.Seymour.sponsorshipMap=window.TIA.Seymour.sponsorshipMap||{},e.addEventListener(a.EventName.SLOT_VISIBILITY_CHANGED,m(t)),setTimeout(function(){return function e(){y(t,window.TIA.Seymour.sponsorshipMap,o).then(function(){return setTimeout(e,i)})}()},i)},x=function(t,e){return t[(Array.isArray(e.config.setTargeting.ctype)?e.config.setTargeting.ctype[0]:e.config.setTargeting.ctype).toLowerCase()]}},function(t,e,n){n(50),n(51),n(66),n(70),t.exports=n(8).Promise},function(t,e){},function(t,e,n){"use strict";var i=n(52)(!0);n(25)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var i=n(17),o=n(18);t.exports=function(t){return function(e,n){var r,a,s=String(o(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":void 0:(r=s.charCodeAt(c),r<55296||r>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):r:t?s.slice(c,c+2):a-56320+(r-55296<<10)+65536)}}},function(t,e,n){t.exports=!n(9)&&!n(28)(function(){return 7!=Object.defineProperty(n(20)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=n(5)},function(t,e,n){"use strict";var i=n(57),o=n(29),r=n(23),a={};n(5)(a,n(1)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:o(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var i=n(6),o=n(58),r=n(33),a=n(22)("IE_PROTO"),s=function(){},c=function(){var t,e=n(20)("iframe"),i=r.length;for(e.style.display="none",n(34).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[r[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(13),o=n(6),r=n(59);t.exports=n(9)?Object.defineProperties:function(t,e){o(t);for(var n,a=r(e),s=a.length,c=0;s>c;)i.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var i=n(60),o=n(33);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){var i=n(15),o=n(21),r=n(62)(!1),a=n(22)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),c=0,l=[];for(n in s)n!=a&&i(s,n)&&l.push(n);for(;e.length>c;)i(s,n=e[c++])&&(~r(l,n)||l.push(n));return l}},function(t,e,n){var i=n(16);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(21),o=n(30),r=n(63);t.exports=function(t){return function(e,n,a){var s,c=i(e),l=o(c.length),u=r(a,l);if(t&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var i=n(17),o=Math.max,r=Math.min;t.exports=function(t,e){return t=i(t),t<0?o(t+e,0):r(t,e)}},function(t,e,n){var i=n(15),o=n(65),r=n(22)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var i=n(18);t.exports=function(t){return Object(i(t))}},function(t,e,n){n(67);for(var i=n(2),o=n(5),r=n(10),a=n(1)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var l=s[c],u=i[l],d=u&&u.prototype;d&&!d[a]&&o(d,a,l),r[l]=r.Array}},function(t,e,n){"use strict";var i=n(68),o=n(69),r=n(10),a=n(21);t.exports=n(25)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i,o,r,a=n(26),s=n(2),c=n(12),l=n(35),u=n(27),d=n(14),f=n(19),p=n(71),g=n(72),h=n(76),v=n(36).set,y=n(78)(),m=s.TypeError,w=s.process,x=s.Promise,w=s.process,b="process"==l(w),E=function(){},S=!!function(){try{var t=x.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(E,E)};return(b||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e}catch(t){}}(),T=function(t,e){return t===e||t===x&&e===r},_=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},O=function(t){return T(x,t)?new A(t):new o(t)},A=o=function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw m("Bad Promise constructor");e=t,n=i}),this.resolve=f(e),this.reject=f(n)},k=function(t){try{t()}catch(t){return{error:t}}},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var i=t._v,o=1==t._s,r=0;n.length>r;)!function(e){var n,r,a=o?e.ok:e.fail,s=e.resolve,c=e.reject,l=e.domain;try{a?(o||(2==t._h&&j(t),t._h=1),!0===a?n=i:(l&&l.enter(),n=a(i),l&&l.exit()),n===e.promise?c(m("Promise-chain cycle")):(r=_(n))?r.call(n,s,c):s(n)):c(i)}catch(t){c(t)}}(n[r++]);t._c=[],t._n=!1,e&&!t._h&&C(t)})}},C=function(t){v.call(s,function(){var e,n,i,o=t._v;if(P(t)&&(e=k(function(){b?w.emit("unhandledRejection",o,t):(n=s.onunhandledrejection)?n({promise:t,reason:o}):(i=s.console)&&i.error&&i.error("Unhandled promise rejection",o)}),t._h=b||P(t)?2:1),t._a=void 0,e)throw e.error})},P=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,i=0;n.length>i;)if(e=n[i++],e.fail||!P(e.promise))return!1;return!0},j=function(t){v.call(s,function(){var e;b?w.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw m("Promise can't be resolved itself");(e=_(t))?y(function(){var i={_w:n,_d:!1};try{e.call(t,c(N,i,1),c(R,i,1))}catch(t){R.call(i,t)}}):(n._v=t,n._s=1,I(n,!1))}catch(t){R.call({_w:n,_d:!1},t)}}};S||(x=function(t){p(this,x,"Promise","_h"),f(t),i.call(this);try{t(c(N,this,1),c(R,this,1))}catch(t){R.call(this,t)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(79)(x.prototype,{then:function(t,e){var n=O(h(this,x));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=b?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),A=function(){var t=new i;this.promise=t,this.resolve=c(N,t,1),this.reject=c(R,t,1)}),u(u.G+u.W+u.F*!S,{Promise:x}),n(23)(x,"Promise"),n(80)("Promise"),r=n(8).Promise,u(u.S+u.F*!S,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),u(u.S+u.F*(a||!S),"Promise",{resolve:function(t){if(t instanceof x&&T(t.constructor,this))return t;var e=O(this);return(0,e.resolve)(t),e.promise}}),u(u.S+u.F*!(S&&n(81)(function(t){x.all(t).catch(E)})),"Promise",{all:function(t){var e=this,n=O(e),i=n.resolve,o=n.reject,r=k(function(){var n=[],r=0,a=1;g(t,!1,function(t){var s=r++,c=!1;n.push(void 0),a++,e.resolve(t).then(function(t){c||(c=!0,n[s]=t,--a||i(n))},o)}),--a||i(n)});return r&&o(r.error),n.promise},race:function(t){var e=this,n=O(e),i=n.reject,o=k(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return o&&i(o.error),n.promise}})},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(12),o=n(73),r=n(74),a=n(6),s=n(30),c=n(75),l={},u={},e=t.exports=function(t,e,n,d,f){var p,g,h,v,y=f?function(){return t}:c(t),m=i(n,d,e?2:1),w=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(r(y)){for(p=s(t.length);p>w;w++)if((v=e?m(a(g=t[w])[0],g[1]):m(t[w]))===l||v===u)return v}else for(h=y.call(t);!(g=h.next()).done;)if((v=o(h,m,g.value,e))===l||v===u)return v};e.BREAK=l,e.RETURN=u},function(t,e,n){var i=n(6);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&i(r.call(t)),e}}},function(t,e,n){var i=n(10),o=n(1)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||r[o]===t)}},function(t,e,n){var i=n(35),o=n(1)("iterator"),r=n(10);t.exports=n(8).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){var i=n(6),o=n(19),r=n(1)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[r])?e:o(n)}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(2),o=n(36).set,r=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,c="process"==n(16)(a);t.exports=function(){var t,e,n,l=function(){var i,o;for(c&&(i=a.domain)&&i.exit();t;){o=t.fn,t=t.next;try{o()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(c)n=function(){a.nextTick(l)};else if(r){var u=!0,d=document.createTextNode("");new r(l).observe(d,{characterData:!0}),n=function(){d.data=u=!u}}else if(s&&s.resolve){var f=s.resolve();n=function(){f.then(l)}}else n=function(){o.call(i,l)};return function(i){var o={fn:i,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var i=n(5);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:i(t,o,e[o]);return t}},function(t,e,n){"use strict";var i=n(2),o=n(8),r=n(13),a=n(9),s=n(1)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:i[t];a&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(1)("iterator"),o=!1;try{var r=[7][i]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r=[7],a=r[i]();a.next=function(){return{done:n=!0}},r[i]=function(){return a},t(r)}catch(t){}return n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){switch(t.data.type){case o.Type.ON_SCROLL:(0,a.default)(t);break;case o.Type.VIDEO:(0,c.default)(t)}};var o=n(24),r=n(83),a=i(r),s=n(84),c=i(s);t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createScrollHandlerFn=void 0,e.default=function(t){window.addEventListener("scroll",r(t.source,t.data.payload.href),{passive:!0})};var i=n(4),o=n(24),r=e.createScrollHandlerFn=function(t,e){var n=void 0;return function(){n=n||Array.from(document.querySelectorAll('[src="'+e+'"]')).find(function(e){return e.contentWindow===t}),(0,i.getElementInViewPort)(n)&&t.postMessage(JSON.stringify({type:o.Type.ON_SCROLL,payload:{scrollY:window.scrollY}}),"*")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createResizeHandlerFn=e.createScrollHandlerFn=e.getElem=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=function(t){var e=t.data.payload||{},n=l(t.source,e);if(e.isUpdate)return void n(void 0,e);var i=s(t.source,e);window.addEventListener("scroll",(0,o.throttle)(i,300),{passive:!0}),window.time_dfp.config.resizenative?(window.addEventListener("resize",(0,o.throttle)(n,80),{passive:!0}),n(void 0,e)):a(t.source,e).style.width="100%",i()};var o=n(4),r=n(24),a=e.getElem=function(t,e){var n=e.id;return Array.from((document.getElementById(n)||document).getElementsByTagName("iframe")).find(function(e){return e.contentWindow===t})},s=e.createScrollHandlerFn=function(t,e){var n=void 0;return function(){n=n||a(t,e),t.postMessage(JSON.stringify({type:r.Type.ON_SCROLL,payload:(0,o.getPixelsInViewPort)(n)}),"*")}},c=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(e===window||i>n)){if("hidden"===window.getComputedStyle(e,null).overflow)return void(e.style.overflow="visible");t(e.parentElement,n,++i)}},l=e.createResizeHandlerFn=function(t,e){var n=void 0;return function(o){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=s.addedHeight,u=void 0===l?e.addedHeight:l,d=s.ratio,f=void 0===d?e.ratio:d,p=s.isUpdate;n=n||a(t,e);var g=n.parentElement;if(p&&u===e.addedHeight){var h=n.getBoundingClientRect(),v=Math.floor(u+f*h.width)+"px";return g.style.height=v,void i(n.style,{height:v,marginLeft:window.innerWidth<728?"-"+g.getBoundingClientRect().left+"px":"initial"})}var y=g.parentElement,m=window.innerWidth<728?window.innerWidth:y.getBoundingClientRect().width||y.parentElement.getBoundingClientRect().width;n.style.width=m+"px",t.postMessage(JSON.stringify({type:r.Type.UPDATE,width:m}),"*"),Number.parseInt(y.style.zIndex,10)||(y.style.zIndex=1),c(y)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.collapseAds=e.unhideAds=e.hideAds=e.normalizeAdIdArgs=e.hideOutbrain=e.unhideOutbrain=e.unhideGumGum=e.hideGumGum=e.applyClassById=e.removeClassById=e.addStyle=void 0,e.default=function(){var t=!1;window.addEventListener("dfp.beforeInit",function(t){r=t.detail.dfp,r.constructor.prototype.hide=p,r.constructor.prototype.unhide=g,r.constructor.prototype.collapse=h}),window.addEventListener("dfp.defineSlot",function(e){if(!t&&r&&r.config.companionslot){var n=document.createElement("div"),i=e.detail.arg;if(t="tgx_2x1_"+Date.now(),n.setAttribute("id",t),n.setAttribute("style","display:none;width:0px;height:0px"),void 0!==i.id){var o=document.getElementById(i.id);null!==o&&o.parentNode.insertBefore(n,o)}else document.body.appendChild(n);r.defineSlot({id:t,size:[2,1],companion:!0})}})};var i=n(4),o=!1,r=void 0,a=e.addStyle=function(){var t=".tgx-blank { visibility: hidden; }",e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n)},s=e.removeClassById=function(t){var e=r.getAdUnitByAdId(t),n=document.getElementById(e.adUnit.id);n&&(0,i.removeClass)(n,"tgx-blank")},c=e.applyClassById=function(t,e){var n=r.getAdUnitByAdId(t),o=document.getElementById(n.adUnit.id);if(o){var a=e;(0,i.addClass)(o,"tgx-blank"),void 0===e&&(a=3e4),-1!==a&&setTimeout(function(){return s(t)},a)}},l=e.hideGumGum=function(){var t=document.getElementById("GG_PAG");t&&t.parentElement.remove()},u=(e.unhideGumGum=function(){var t=document.getElementById("GG_PAG");t&&(0,i.removeClass)(t.parentElement,"tgx-blank")},e.unhideOutbrain=function(){Array.from(document.getElementsByClassName("OUTBRAIN")).forEach(function(t){(0,i.removeClass)(t,"tgx-blank")})}),d=e.hideOutbrain=function(t){var e=t,n=!1;Array.from(document.getElementsByClassName("OUTBRAIN")).forEach(function(t){n=!0,(0,i.addClass)(t,"tgx-blank")}),n&&(void 0===t&&(e=3e4),-1!==e&&setTimeout(function(){return u()},e))},f=e.normalizeAdIdArgs=function(t){var e=[];return Array.isArray(t)?e=t:"string"==typeof t?e.push(t):e=r.state.slots,e},p=e.hideAds=function(t,e){if(o||(a(),o=!0),Array.isArray(t))t.forEach(function(t){c(t,e)});else if("gumgum"===t)l();else if("outbrain"===t)d();else if(void 0!==t)c(t,e);else{var n=r.state.slots;n.forEach(function(t){c(t.adUnit.id,e)}),l(e),d(e)}},g=e.unhideAds=function(t){Array.isArray(t)?t.forEach(function(t){s(t)}):"outbrain"===t?u():void 0!==t?s(t):(Array.from(document.getElementsByClassName("tgx-blank")).forEach(function(t){(0,i.removeClass)(t,"tgx-blank")}),u())},h=e.collapseAds=function(t){f(t).map(function(t){return document.getElementById("string"==typeof t?t:t.adUnit.id)}).forEach(function(t){t&&t.parentNode.removeChild(t)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.replaceWithCookieFn=e.getReplacement=void 0,e.default=function(){-1!==["complete","loaded"].indexOf(document.readyState)?s():document.addEventListener("DOMContentLoaded",s)};var i=n(0),o=/(?!^)https?(:|%3A)\/\/[^%&]*/,r=e.getReplacement=function(t,e){return t.replace(o,"$&"+encodeURIComponent("#")+e)},a=e.replaceWithCookieFn=function(t){return function(e){e.href=r(e.href,t)}},s=function(){var t=(0,i.getCookie)("globalTI_SID");t&&Array.from(document.querySelectorAll('a[href*="twitter.com/intent/tweet"]')).forEach(a(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.slotOnload.push(o)};var i=!1,o=function(t,e){if(!i&&void 0!==t.state.slots[1]&&t.state.slots[1].id===e.slot.getSlotElementId()&&window.analytics){var n=t.getAdUnitBySlot(e.slot);window.analytics.track("First Ad Loaded",{loadTime:n.tracking.slotOnload,contentType:Array.isArray(t.config.setTargeting.ctype)?t.config.setTargeting.ctype[0]:t.config.setTargeting.ctype,timeIncBrand:t.config.setTargeting.domain}),i=!0}};t.exports=e.default},,,,,,,,function(t,e,n){n(38),t.exports=n(96)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(39),r=i(o),a=n(97),s=i(a),c=n(100),l=i(c),u=(0,r.default)();(0,l.default)(u),(0,s.default)(u),e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(98),r=n(99),a=n(4),s=n(0),c=void 0,l=[],u=[],d={},f={},p={},g=!1,h=0,v=!1,y=!1,m=function(t){var e=!1;return Array.isArray(t.size)&&(e=t.size.some(function(t){var e=t.join("x");return void 0!==p[e]&&p[e]>=3}),e&&(p={}),t.size.forEach(function(t){var e=t.join("x");void 0===p[e]?p[e]=1:p[e]++})),e},w=function(t){var e=1,n=e,i=!1;return void 0!==t.position&&(e=t.position,i=!0),Array.isArray(t.adUnit.size)&&t.adUnit.size.forEach(function(t){var o=t.join("x");void 0===d[o]?d[o]=e:d[o]++,i&&(d[o]=e),d[o]>n&&(n=d[o])}),n},x=function(t){return w(t)},b=function(t){u.forEach(function(e,n,i){var o=c;if(!i[n].defined&&e.priority===t){if(void 0!==e.lazy){var r=+e.lazy;if(!(0,a.getElementInViewPort)(e.el,r,!0))return void(g=!0)}e.adUnit.targeting.pos=x(e),e.updatecorrelator&&(o.push(function(){o.updateCorrelator()}),p={}),m(e.adUnit)&&o.push(function(){o.updateCorrelator()}),o.push(function(){o.defineSlot(e.adUnit)}),i[n].defined=!0}})},E=function(){var t=c.config.viewGracePx||2e3,e=c,n=[];u.forEach(function(e,i,o){e.defined&&void 0!==e.lazy&&((0,a.getElementInViewPort)(e.el,t,!0)||(g=!0,o[i].defined=!1,n.push(e.adUnit.id)))}),n.length&&e.push(function(){e.destroy(n)})},S=function(){g=!1,c.config.optlazy&&E(),[1,2,3,4,5,6].every(function(t){return!(t>3&&"loading"===document.readyState||t>4&&("loading"===document.readyState||"interactive"===document.readyState)||t>5&&"complete"===!document.readyState||(b(t),0))})},T=function(t){var e={adUnit:{},el:t,defined:!1,autoload:!0};e.adUnit.id=t.getAttribute("id");var n=t.dataset.dimensions;e.adUnit.size=n.split(";").map(function(t){var e=t.split("x");return[+e[0],+e[1]]});try{e.adUnit.targeting=t.dataset.tgxtargeting?JSON.parse(decodeURIComponent(t.dataset.tgxtargeting)):{}}catch(t){e.adUnit.targeting={}}"object"!==i(e.adUnit.targeting)&&(e.adUnit.targeting={});var o=t.dataset.tgxcmtyp;o&&(e.adUnit.sitename="cm."+f.sitename,e.adUnit.targeting.cmtyp=o);var r=t.dataset.tgxcmpos;r&&(e.adUnit.targeting.cmpos=r);var s=t.dataset.tgxnativekey;s&&(e.adUnit.targeting.strnativekey=s),t.dataset.tgxcompanion&&(e.adUnit.companion=!0);var c=t.dataset.tgxposition;c&&(e.position=+c);var l=t.dataset.tgxtrack;l&&("false"!==l&&"0"!==l||(l=!1),e.adUnit.trackView=!!l);var u=t.dataset.tgxlazy;u&&(e.lazy=u);var d=t.dataset.tgxsticky;d&&(e.sticky=d);var p=t.dataset.tgxupdatecorrelator;p&&(e.updatecorrelator=p);var g=t.dataset.tgxautoload;return g&&(e.autoload=(0,a.getStringBool)(g)),e.priority=t.dataset.tgxpriority?+t.dataset.tgxpriority:2,t.dataset.tgxexclusive&&(e.exclusive=!0),e},_=function(){var t=document.querySelectorAll("nav.main");return!!t.length&&t[0]},O=function(){var t=document.querySelectorAll("main.article, main.gallery, .ad-sticky-rail-container");return!!t.length&&t[0]},A=function(t){var e=window.getComputedStyle(t,null).display;return"none"===e?e:([[0,767,"mobile-ad"],[768,1161,"tablet-ad"],[1024,1/0,"desktop-only"],[1162,1/0,"desktop-ad"]].some(function(n){if((0,a.hasClass)(t,n[2])){e="none";var i=n[1]<1/0?"(min-width: "+n[0]+"px) and (max-width: "+n[1]+"px)":"(min-width: "+n[0]+"px)";if(window.matchMedia(i).matches)return e="",!0}return!1}),e)},k=function(){var t=document.getElementsByClassName("ad");Array.from(t).forEach(function(t){if(!(0,a.hasClass)(t,"tgx-processed")){t.classList?t.classList.add("tgx-processed"):t.className+=" tgx-processed";var e=A(t),n=l.push(T(t)),i=l[n-1].autoload;if("none"!==e&&i){var r=u.push(l[n-1]);void 0!==u[r-1].sticky&&("header"===u[r-1].sticky&&(0,o.stickyHeader)(u[r-1],_(),c),"header-fixed"===u[r-1].sticky&&(0,o.stickyHeader)(u[r-1],_(),c,!0),"rail"===u[r-1].sticky&&(0,o.stickyRail)(u[r-1],O(),c,"top",_()),"rail-bottom"===u[r-1].sticky&&(0,o.stickyRail)(u[r-1],O(),c,"bottom",_()),"well"===u[r-1].sticky&&(0,o.stickyWell)(u[r-1],O(),c,"top",_()))}}})},I=function(){var t=_();if(t){var e=t.getBoundingClientRect().bottom;(0,o.setStickyPoints)({top:e})}},C=function(t){k(),S(),I()},P=function t(){g||c.unsubscribe("scroll",t),S()},j=function(){y&&u.forEach(function(t){t.exclusive&&t.el.parentElement&&(0,a.addClass)(t.el.parentElement.parentElement,"closed")})},R=function(){var t=+c.config.minimumAdRefreshTime||2e3,e=Date.now()-v;h++,1===h&&e>t?(y=!0,j()):1===h&&e<t&&(y=!0,setTimeout(j,t-e))},N=function(){h--,v=Date.now(),h<=0&&(y&&(y=!1),u.forEach(function(t){t.exclusive&&t.el.parentElement&&(c.refresh([t.adUnit.id]),(0,a.removeClass)(t.el.parentElement.parentElement,"closed"))}))},D=function(){var t=document.getElementById("tgx-script");f={sitename:t.dataset.tgxsitename||"ckl",cmsitename:t.dataset.tgxcmsitename||"cm.ckl",zone:t.dataset.tgxzone||"",setTargeting:t.dataset.tgxtargeting?JSON.parse(decodeURIComponent(t.dataset.tgxtargeting)):"",optlazy:!t.dataset.tgxoptlazy||(0,a.getStringBool)(t.dataset.tgxtargeting)},t.dataset.tgxdfpid&&(f.dfpId=t.dataset.tgxdfpid),c.init(f),C(),document.addEventListener("readystatechange",C,!0),document.addEventListener("DOMContentLoaded",C,!0),document.addEventListener("load",C,!1),c.subscribe("scroll",P),c.subscribe("inView",R),c.subscribe("outView",N)},L=function(t){this._dfp=t,this.loadAd()};L.prototype.loadAd=function(t){if(void 0!==t)return t},e.default=function(t){var e=new L(t);c=t,t.constructor.prototype.loadAd=e.loadAd,t.constructor.prototype.processAds=C,t.constructor.prototype.galleryChange=function(t,e){return(0,r.galleryChange)(t,e,c)},c.log(s.logTypes.info,"Scriptless"),D()},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setStickyPoints=e.stickyWell=e.stickyRail=e.stickyHeader=void 0;var i=n(4),o=!1,r=50,a=0,s=[],c=[],l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{top:50,offset:0},e=!1;void 0!==t.top&&t.top!==r&&(r=t.top,e=!0),void 0!==t.offset&&t.offset!==a&&(a=t.offset,e=!0),e&&c.forEach(function(t){t.call(void 0)})},u=function(t,e){var n=t.indexOf(e);return t.filter(function(t,i){return t.stickyType===e.stickyType&&i<n})},d=function(){if(!o){var t=".tgx-sticky-header-wrapper {transition: height 600ms ease-in-out, opacity 600ms ease-in-out; position: fixed; left: 0; right: 0; z-index: 3000;}\n  .tgx-close-header {height: 0; opacity: 0;}\n  .tgx-sticky-rail {position: fixed !important;}",e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n),o=!0}},f=function(t,e,n,i){this.dfp=n,this.adObj=t,this.stickyContainer={el:this.adObj.el.parentElement,rect:this.adObj.el.parentElement.getBoundingClientRect()},this.adContainer={el:this.stickyContainer.el.parentElement,rect:this.stickyContainer.el.parentElement.getBoundingClientRect()},e&&(this.fixtoEl={el:e,rect:e.parentElement.getBoundingClientRect()},this.keepFixed=i||!1,this.active=!1,this.stickyAtY=!1,this.adRendered=!1,this.stickyDuration=3e3,this.finished=!1,this.run())};f.prototype.run=function(){var t=this,e=0,n=!1,i=void 0,o=this.onScroll=function(){var o=window.scrollY,r=o-e;if(!(Math.abs(r)<3||t.finished||(n||(t.fixtoEl.rect=t.fixtoEl.el.getBoundingClientRect(),t.adContainer.rect=t.adContainer.el.getBoundingClientRect(),n=!0,i=t.fixtoEl.rect.bottom),t.stickyAtY<window.scrollY&&t.active))){var a=t.adContainer.el.getBoundingClientRect().top;a>i&&t.active&&t.removeSticky(),a<=i&&!t.active&&(t.applySticky(),t.stickyAtY=window.scrollY),e=o}};d();var r=this.keepFixed?void 0:setTimeout(this.stickyFinished.bind(this),15e3);window.addEventListener("dfp.slotRenderEnded",function(e){clearTimeout(r),e.detail.slotId===t.adObj.adUnit.id&&(t.adRendered=!0,t.active&&(t.stickyContainer.el.rect=t.stickyContainer.el.getBoundingClientRect(),t.adContainer.el.style.height=t.stickyContainer.el.rect.height+"px",l({offset:t.stickyContainer.el.rect.height}),t.keepFixed||setTimeout(function(){t.stickyFinished()},t.stickyDuration)))}),this.dfp.subscribe("scroll",o)},f.prototype.applySticky=function(){var t=this;this.adContainer.rect=this.adContainer.el.getBoundingClientRect(),this.adContainer.el.style.height=this.adContainer.rect.height+"px";var e=this.stickyContainer.el;(0,i.addClass)(e,"tgx-sticky-header-wrapper"),(0,i.addClass)(e,"outer"),e.style.top=this.fixtoEl.rect.bottom+"px",this.active=!0,this.stickyContainer.rect=e.getBoundingClientRect(),l({offset:+this.stickyContainer.rect.height}),this.adRendered&&this.stickyDuration>0&&!this.keepFixed&&setTimeout(function(){t.stickyFinished()},this.stickyDuration)},f.prototype.stickyFinished=function(){var t=this,e=this.stickyContainer.el;(0,i.addClass)(e,"tgx-close-header"),this.finished=!0,this.dfp.unsubscribe("scroll",this.onScroll),setTimeout(function(){t.removeSticky()},600)},f.prototype.removeSticky=function(){var t=this.stickyContainer.el;(0,i.removeClass)(t,"tgx-sticky-header-wrapper"),(0,i.removeClass)(t,"outer"),t.style.top="",this.adContainer.el.style.height="",(0,i.removeClass)(t,"tgx-close-header"),this.active=!1,l({offset:0})};var p=function(t,e,n){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"rail";s.push(this),this.dfp=n,this.adObj=t,this.stickyType=r,this.adElement={el:this.adObj.el,rect:this.adObj.el.getBoundingClientRect()},this.stickyContainer={el:this.adObj.el.parentElement,rect:this.adObj.el.parentElement.getBoundingClientRect()},e&&(this.containerEl={el:e,rect:e.getBoundingClientRect()},this.active=!1,this.fixed=!1,this.absolute=!1,this.stickyAtY=!1,this.finished=!1,this.stickyPosition=o,this.bottomPadding=16,this.higherStickyUnits=u(s,this),this.setPosition(),this.run(),c.push(function(){i.setPosition(),i.active&&(i.adElement.el.style.top=i.stickPoint+"px")}))};p.prototype.setPosition=function(){this.topPadding=r+a+10,this.higherStickyUnits.length&&(this.topPadding=this.higherStickyUnits.reduce(function(t,e){return t+e.stickyContainer.rect.height},this.topPadding)),this.stickPoint=window.innerHeight-this.bottomPadding,"center"===this.stickyPosition?this.stickPoint=window.innerHeight/2-this.stickyContainer.rect.height/2:"top"===this.stickyPosition&&(this.stickPoint=this.topPadding)},p.prototype.run=function(){var t=this,e=this,n=0,i=!1,o=function(){var o=window.scrollY,r=o-n;if(!(Math.abs(r)<1)){if(i||(i=!0),e.stickyContainer.rect=e.stickyContainer.el.getBoundingClientRect(),"bottom"===e.stickyPosition?(e.stickyContainer.rect.bottom>0&&e.stickyContainer.rect.bottom<=e.stickPoint&&!t.active&&e.applySticky(),e.active&&e.stickyContainer.rect.bottom>0&&e.stickyContainer.rect.bottom>e.stickPoint&&e.removeSticky()):(!t.active&&e.stickyContainer.rect.top<=e.stickPoint&&e.applySticky(),e.active&&e.stickyContainer.rect.top>e.stickPoint&&e.removeSticky()),e.active&&e.fixed&&"well"!==e.stickyType){e.containerEl.rect=e.containerEl.el.getBoundingClientRect();var a=e.stickPoint;"bottom"!==e.stickyPosition&&(a=e.stickPoint+e.adElement.rect.height),e.containerEl.rect.bottom<a&&(e.removeSticky(),e.applyStickyBottom())}if(e.active&&e.absolute){var s=e.stickPoint;"bottom"!==e.stickyPosition&&(s=e.stickPoint+e.adElement.rect.height),e.containerEl.rect=e.containerEl.el.getBoundingClientRect(),e.containerEl.rect.bottom>s&&(e.removeSticky(),e.applySticky())}n=o}};d(),window.addEventListener("dfp.slotRenderEnded",function(t){t.detail.slotId===e.adObj.adUnit.id&&s.forEach(function(t){return t.setPosition()})}),this.dfp.subscribe("scroll",o)},p.prototype.applySticky=function(){this.stickyContainer.rect=this.stickyContainer.el.getBoundingClientRect(),this.stickyContainer.el.style.height=this.stickyContainer.rect.height+"px",(0,i.addClass)(this.adElement.el,"tgx-sticky-rail"),"bottom"===this.stickyPosition?this.adElement.el.style.bottom="0px":this.adElement.el.style.top=this.stickPoint+"px",this.active=!0,this.fixed=!0},p.prototype.removeSticky=function(){var t=this.adElement.el;(0,i.removeClass)(t,"tgx-sticky-rail"),t.style.position="",t.style.top="",t.style.bottom="",this.stickyContainer.el.style.height="",this.active=!1,this.fixed=!1,this.absolute=!1},p.prototype.applyStickyBottom=function(){var t=this.adElement.el;this.adElement.rect=this.adElement.el.getBoundingClientRect(),t.style.position="absolute",t.style.top=window.scrollY+this.containerEl.rect.bottom-this.adElement.rect.height+"px",this.active=!0,this.absolute=!0},e.stickyHeader=function(t,e,n,i){return new f(t,e,n,i)},e.stickyRail=function(t,e,n,i){return new p(t,e,n,i)},e.stickyWell=function(t,e,n,i){return new p(t,e,n,i,"well")},e.setStickyPoints=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="data-tgxinterstitial",o=["horizontal"],r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[4],i=n.slice(-1)[0],o=0;return n.reduce(function(e,n){return t>=e&&(i=n,o=-e),e+n},0),(t+o)%i==0&&0===e||(t+o)%i-i===e},a=function(t,e,n){var i=t.attr("data-tgxinterstitialid"),o=t.find("#"+i);"false"===o.attr("data-tgxautoload")?(o.attr("data-tgxautoload",!0),o.removeClass("tgx-processed"),n.processAds()):n.push(function(){n.getAdSlot(i).dfpSlot.setTargeting("slide",e+1),n.refresh(i,!0)})},s=function(t,e,n){var s=+e.attr("data-tgxlastindex"),c=+e.attr("data-tgxsecondlastindex"),l=e.attr(i),u=e.attr("data-gallery-type");-1!==o.indexOf(u)&&(r(t.item.index)&&s<t.item.index&&"true"!==l?(e.attr(i,"set"),a(e,t.item.index,n),e.trigger("to.owl.carousel",s,0)):r(t.item.index)&&s<t.item.index&&"true"===l&&r(c)?e.attr(i,"false"):r(t.item.index,-2)&&s>t.item.index&&"true"===l&&r(c)&&(e.trigger("to.owl.carousel",s,0),e.attr(i,"remove")),r(t.item.index,-1)&&s>t.item.index&&-1===["set","true"].indexOf(l)&&(a(e,t.item.index,n),e.attr(i,"true")),r(t.item.index,-1)&&s>t.item.index&&"true"===l&&(e.trigger("to.owl.carousel",s,0),e.attr(i,"remove")))};e.galleryChange=function(t,e,n){if("change"===t.type){var i=+e.attr("data-tgxlastindex");e.attr("data-tgxsecondlastindex",i),e.attr("data-tgxlastindex",t.item.index)}else s(t,e,n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(0),r=void 0,a=["scroll","inView","outView","resize","viewable"],s={},c=[],l=function(t,e){return!(a.indexOf(t)<0||(s[t].push(e),0))},u=function(t,e){if(a.indexOf(t)<0)return!1;var n=s[t].findIndex(function(t){return t===e});return n>-1&&s[t].splice(n,1),!0},d=function(t){s.scroll.forEach(function(e){try{e.call(void 0,t)}catch(t){r.log(o.logTypes.error,"error in scroll event manager")}})},f=function(){var t=+r.config.pxDivisor||1e3;r.state.slots.forEach(function(e){var n=e.adUnit.id;if(e.adUnit.trackView&&c.indexOf(n)<0){var a=document.getElementById(n),l=a.getBoundingClientRect();a&&(0,i.getElementInViewPort)(a,-l.height/t,!0,l)&&(c.push(n),s.inView.forEach(function(t){try{t.call(void 0,e)}catch(t){r.log(o.logTypes.error,"error in inView event manager")}}))}}),c.forEach(function(e){var n=document.getElementById(e),a=n.getBoundingClientRect();n&&!(0,i.getElementInViewPort)(n,-a.height/t,!0,a)&&(c.splice(c.indexOf(e),1),s.outView.forEach(function(t){try{t.call(void 0,r.getAdSlot(e))}catch(t){r.log(o.logTypes.error,"error in outView event manager")}}))})},p=function(){a.forEach(function(t){s[t]=[]}),window.addEventListener("scroll",d),l("scroll",f)};e.default=function(t){r=t,r.constructor.prototype.subscribe=l,r.constructor.prototype.unsubscribe=u,p()},t.exports=e.default}])});