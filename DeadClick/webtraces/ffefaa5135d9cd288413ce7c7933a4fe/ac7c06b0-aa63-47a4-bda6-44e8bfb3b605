define(["jquery","cms.signupform","foundation.dropdown"],function(a,c,b){(function(g,f,d,h){var e="footer";var i=function(k,j){this.element=g(k);this.options=j;this.metadata=g(this.element).data("footer-options")};i.prototype={defaults:{columnContent:".column-content"},init:function(){console.log("Initializing footer component.");this.config=g.extend({},this.defaults,this.options,this.metadata);var j=this;j.footerContent=g(j.element).find(".footer-content > div");j._build();j._events();g(this.element).find("form.signup").signupForm();if(g("footer a.selected-region").length>0){g(d).foundation("dropdown");g(j.element).on("click.fndtn.dropdown",function(){j._loadFlags()})}return j},_build:function(){var j=this;if(main.screen.size()==="small"){j._collapseAllMenus()}else{j._expandAllMenus()}},_loadFlags:function(){var j=this,k=g(j.element).find("#dropLocalize img");k.attr("src",function(l,m){return g(this).data("src")})},_events:function(){var j=this;g(f).resize(function(){j._build()});j.footerContent.on("click",function(){var m=g(this),l=m.find(j.config.columnContent),k=m.hasClass("collapsed");if(main.screen.size()==="small"){if(k){m.removeClass("collapsed");l.show()}else{m.addClass("collapsed");l.hide()}}});g(".accordion div.footer-category-title").click(function(){return g(this).parents(".accordion").toggleClass("accordion-open")})},_expandAllMenus:function(){var j=this;j.footerContent.removeClass("collapsed");j.footerContent.find(j.config.columnContent).show()},_collapseAllMenus:function(){var j=this;j.footerContent.addClass("collapsed");j.footerContent.find(j.config.columnContent).hide()}};i.defaults=i.prototype.defaults;g.fn.footer=function(j){return this.each(function(){var k=g(this).data(e);if(!k){k=new i(this,j).init();g(this).data(e,k)}})}})(jQuery,window,document)});