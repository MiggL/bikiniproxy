(function(){var t,e,n,i,o,a,r,d;null!=document.createEvent&&((t=function(t,e){var n;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype,window.CustomEvent=t),r=function(t){return window.console&&console.log(t)},e=function(t,e){var n,i,o,a;return o=t.getAttribute("data-width"),i=t.getAttribute("data-height"),o||(o="100%"),i||(i=185),(a=document.createElement("iframe")).setAttribute("frameborder",0),a.width=o,a.height=i,"citeab-citation-widget"===t.id?a.id="citeab-citation-widget-frame":a.className="citeab-widget-frame",t.appendChild(a),(n=a.contentWindow||a.contentDocument.document||a.contentDocument).document.open(),n.document.write(e),n.document.close()},a=function(e,n,i){var o;if(r("CiteAb widget failed: "+i+" ("+n+")"),null!=document.createEvent)return o=new t("citeab:failed_to_load",{detail:{code:n,content:i}}),e.dispatchEvent(o)},o=function(t,n){var i,o;return null!=window.XDomainRequest&&null!=window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType?((i=new window.XDomainRequest).open("get",n),i.onload=function(){return e(t,i.responseText)},i.onerror=function(){return a(t,500,i.responseText)},i.send()):((o=new window.XMLHttpRequest).onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){if(200===o.status)return e(t,o.responseText);if(206!==o.status)return a(t,o.status,o.responseText);if(!t.hasAttribute("hide-if-no-citations"))return e(t,o.responseText)}},o.open("GET",n,!0),o.send())},n=function(t){var e,n,i,a,d,u,c,s;if(t)return e=t.getAttribute("data-api-key"),c=t.getAttribute("data-truncate"),u=t.getAttribute("data-ref-style"),d=t.getAttribute("data-antibody-id")||t.getAttribute("data-product-id"),n=t.getAttribute("data-citation-count"),i=t.getAttribute("data-mode"),a=t.getAttribute("data-order-by"),i||(i="citations"),t.innerHTML="",e&&("citations"===i&&null!=d||"company"===i)?(s="//widget.citeab.com/"+i+"?key="+e,d&&(s+="&code="+d),n&&(s+="&citation_limit="+n),a&&(s+="&order_by="+a),null!=c&&(s+="&truncate="+c),u&&(s+="&ref_style="+u),o(t,s)):r("CiteAb: Missing API key or wrong options supplied for mode");console.log("CiteAb widget: failed to find widget id/data-attribute")},i=function(){var t,e,i,o,a;try{return Array.prototype.forEach.call(document.querySelectorAll("div[data-citeab-widget]"),function(t){return n(t)})}catch(r){for(o=document.getElementsByTagName("div"),a=[],e=0,i=o.length;e<i;e++)null!==(t=o[e]).getAttribute("data-citeab-widget")?a.push(n(t)):a.push(void 0);return a}},(d=document.getElementById("citeab-citation-widget"))&&n(d),i()}).call(this);