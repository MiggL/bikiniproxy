!function(e,t){var s={ui:{form:"form",signupEmail:"form > .signup-email",signupButton:"form > .button",closeButton:"form > .button.close"},locale:{messages:{typeValidEmail:"Please type a valid e-mail address.",thankYou:"Thank you for signing up!",emailAlreadyExists:"You have already signed up.",closeButton:"Close"},errors:{invalidEmail:"Invalid Email."}},namespace:"aol-newsletter"};e.aolNewsletter=function(a){if(a.elem){var i=a.elem,n=e(i),l=(e(t),e.extend(!0,{},s,a)),o=l.ui,u=l.namespace,r=(l.trigger,o.$signupEmail=n.find(".signup-email"),o.$form=n.find("form")),m=l.locale,c=function(e){return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e)};n.data("options."+u,l),n.delegate(o.signupButton,"click."+u,function(t){if(!e(this).hasClass("close")){var s=e(this).parent().children(".signup-email").val();if(c(s)){e(this).parent().serialize();var a={};a[l.input]=s,e.ajax({url:Site.NewsletterApiUrl,type:"get",dataType:"json",data:{email:s},success:function(e){e.status?r.find(".message").show().html(m.messages.emailAlreadyExists):signUp(a,l.url)}})}else r.find(".message").show().html(m.messages.typeValidEmail),e(this).parent().children(".signup-email").addClass("invalid-email-error");signUp=function(t,s){e.getJSON(s+"?callback=?",t,function(e){200==e.Status?r.html("<b>"+m.messages.thankYou+"</b>"+(l.trigger?'<input class="button close" type="button" value="'+m.messages.closeButton+'" />':"")):r.find(".message").show().html(e.Message)})}}}),n.delegate(o.form,"submit",function(e){e.preventDefault(),n.find(o.signupButton).trigger("click."+u)})}else e.extend(s,a)},e.fn.aolNewsletter=function(t){return this.each(function(){(t=t||{}).elem=this,e.aolNewsletter(t)})}}(jQuery,document);