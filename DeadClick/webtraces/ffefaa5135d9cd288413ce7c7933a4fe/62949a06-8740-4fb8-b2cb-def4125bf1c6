define(["jquery","domReady","wcs.product-price","wcs.product-views-util","wcs.product-views-swatches"],function(e,c,h,b,a){c(function(){if(e("#checkout").length){return}var k=false;if(e(".vfdp-s7-viewer").length&&typeof wcsPDPVideoConfig!=="undefined"&&!k){f();k=true}else{document.addEventListener("init.viewer.complete",function(l){if(typeof wcsPDPVideoConfig!=="undefined"){f();k=true}},false)}e.pubsub("subscribe","ALT_VIEW_CAROUSEL_UPDATED",function(){e("#owl-mobile-carousel").css({opacity:"",display:""});e("#owl-desktop-carousel").css({opacity:"",display:""})});e.pubsub("subscribe","product-form.attr.swatch.click",function(n,l){if(WCS_CONFIG.get("scene7::scene7PDPViewer")!=="VFDPS7Viewer"){return}var m=e(l.target);b.pdpUpdatePage.updateProductName(m.attr("data-product-name"),m.attr("data-product-url"));b.pdpUpdatePage.updateProductPartNumber(m.attr("data-part-number"))})});function d(){e(".product-img-js").parents(".product-context-js").on("PRODUCT_CONTEXT_CHANGED",function(k){e("div.product-img-js .product-view-control-js.secondary").remove();e("div.product-img-js .product-view-control-js").css("display","");g()})}function i(){e(".product-img-js").parents(".product-context-js").on("PRODUCT_CONTEXT_CHANGED",function(k){j()})}function j(){e(".product-content-container").find(".product-form-js").productPrices();if(WCS_CONFIG.get("scene7::scene7PDPViewer")!=="VFDPS7Viewer"){require(["wcs.product-views-s7"],function(k){k.quickViewInitialSetup()})}b.quickViewInitialSetup();a.pdpAndQuickViewInitialSetup()}function g(){e(".product-form-js").productPrices();if(WCS_CONFIG.get("scene7::scene7PDPViewer")!=="VFDPS7Viewer"){require(["wcs.product-views-s7"],function(k){k.pdpInitialSetup()})}b.pdpInitialSetup();a.pdpAndQuickViewInitialSetup();if(e(".product-compare-container-js").length!==0){require(["wcs.product-views-equipment-compare"],function(k){k.init()})}}function f(){require(["wcs.product-video-controller"],function(k){k.initializeVideo()})}return{setupPDP:g,setupQuickshop:j,handleContextChangePDP:d,handleContextChangeQuickshop:i}});