/*! jCarousel - v0.3.1 - 2014-04-26
* http://sorgalla.com/jcarousel
* Copyright (c) 2014 Jan Sorgalla; Licensed MIT */
(function(n){"use strict";var t=n.jCarousel={},i;t.version="0.3.1";i=/^([+\-]=)?(.+)$/;t.parseTarget=function(n){var r=!1,t=typeof n!="object"?i.exec(n):null;return t?(n=parseInt(t[2],10)||0,t[1]&&(r=!0,t[1]==="-="&&(n*=-1))):typeof n!="object"&&(n=parseInt(n,10)||0),{target:n,relative:r}};t.detectCarousel=function(n){for(var t;n.length>0;){if((t=n.filter("[data-jcarousel]"),t.length>0)||(t=n.find("[data-jcarousel]"),t.length>0))return t;n=n.parent()}return null};t.base=function(i){return{version:t.version,_options:{},_element:null,_carousel:null,_init:n.noop,_create:n.noop,_destroy:n.noop,_reload:n.noop,create:function(){return(this._element.attr("data-"+i.toLowerCase(),!0).data(i,this),!1===this._trigger("create"))?this:(this._create(),this._trigger("createend"),this)},destroy:function(){return!1===this._trigger("destroy")?this:(this._destroy(),this._trigger("destroyend"),this._element.removeData(i).removeAttr("data-"+i.toLowerCase()),this)},reload:function(n){return!1===this._trigger("reload")?this:(n&&this.options(n),this._reload(),this._trigger("reloadend"),this)},element:function(){return this._element},options:function(t,i){if(arguments.length===0)return n.extend({},this._options);if(typeof t=="string"){if(typeof i=="undefined")return typeof this._options[t]=="undefined"?null:this._options[t];this._options[t]=i}else this._options=n.extend({},this._options,t);return this},carousel:function(){return this._carousel||(this._carousel=t.detectCarousel(this.options("carousel")||this._element),this._carousel||n.error('Could not detect carousel for plugin "'+i+'"')),this._carousel},_trigger:function(t,r,u){var f,e=!1;return u=[this].concat(u||[]),(r||this._element).each(function(){f=n.Event((i+":"+t).toLowerCase());n(this).trigger(f,u);f.isDefaultPrevented()&&(e=!0)}),!e}}};t.plugin=function(i,r){var u=n[i]=function(t,i){this._element=n(t);this.options(i);this._init();this.create()};return u.fn=u.prototype=n.extend({},t.base(i),r),n.fn[i]=function(t){var f=Array.prototype.slice.call(arguments,1),r=this;return typeof t=="string"?this.each(function(){var u=n(this).data(i),e;return u?!n.isFunction(u[t])||t.charAt(0)==="_"?n.error('No such method "'+t+'" for '+i+" instance"):(e=u[t].apply(u,f),e!==u&&typeof e!="undefined"?(r=e,!1):void 0):n.error("Cannot call methods on "+i+' prior to initialization; attempted to call method "'+t+'"')}):this.each(function(){var r=n(this).data(i);r instanceof u?r.reload(t):new u(this,t)}),r},u}})(jQuery),function(n,t){"use strict";var i=function(n){return parseFloat(n)||0};n.jCarousel.plugin("jcarousel",{animating:!1,tail:0,inTail:!1,resizeTimer:null,lt:null,vertical:!1,rtl:!1,circular:!1,underflow:!1,relative:!1,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children("li")},animation:400,transitions:!1,wrap:null,vertical:null,rtl:null,center:!1},_list:null,_items:null,_target:null,_first:null,_last:null,_visible:null,_fullyvisible:null,_init:function(){var n=this;return this.onWindowResize=function(){n.resizeTimer&&clearTimeout(n.resizeTimer);n.resizeTimer=setTimeout(function(){n.reload()},100)},this},_create:function(){this._reload();n(t).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){n(t).off("resize.jcarousel",this.onWindowResize)},_reload:function(){var t,i;return this.vertical=this.options("vertical"),this.vertical==null&&(this.vertical=this.list().height()>this.list().width()),this.rtl=this.options("rtl"),this.rtl==null&&(this.rtl=function(t){if((""+t.attr("dir")).toLowerCase()==="rtl")return!0;var i=!1;return t.parents("[dir]").each(function(){if(/rtl/i.test(n(this).attr("dir")))return i=!0,!1}),i}(this._element)),this.lt=this.vertical?"top":"left",this.relative=this.list().css("position")==="relative",this._list=null,this._items=null,t=this._target&&this.index(this._target)>=0?this._target:this.closest(),this.circular=this.options("wrap")==="circular",this.underflow=!1,i={left:0,top:0},t.length>0&&(this._prepare(t),this.list().find("[data-jcarousel-clone]").remove(),this._items=null,this.underflow=this._fullyvisible.length>=this.items().length,this.circular=this.circular&&!this.underflow,i[this.lt]=this._position(t)+"px"),this.move(i),this},list:function(){if(this._list===null){var t=this.options("list");this._list=n.isFunction(t)?t.call(this):this._element.find(t)}return this._list},items:function(){if(this._items===null){var t=this.options("items");this._items=(n.isFunction(t)?t.call(this):this.list().find(t)).not("[data-jcarousel-clone]")}return this._items},index:function(n){return this.items().index(n)},closest:function(){var e=this,t=this.list().position()[this.lt],r=n(),u=!1,o=this.vertical?"bottom":this.rtl&&!this.relative?"left":"right",f;return this.rtl&&this.relative&&!this.vertical&&(t+=this.list().width()-this.clipping()),this.items().each(function(){if(r=n(this),u)return!1;var s=e.dimension(r);if(t+=s,t>=0)if(f=s-i(r.css("margin-"+o)),Math.abs(t)-s+f/2<=0)u=!0;else return!1}),r},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(!1===this._trigger("hasnext"))return!0;var n=this.options("wrap"),t=this.items().length-1;return t>=0&&!this.underflow&&(n&&n!=="first"||this.index(this._last)<t||this.tail&&!this.inTail)?!0:!1},hasPrev:function(){if(!1===this._trigger("hasprev"))return!0;var n=this.options("wrap");return this.items().length>0&&!this.underflow&&(n&&n!=="last"||this.index(this._first)>0||this.tail&&this.inTail)?!0:!1},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(n){return n["outer"+(this.vertical?"Height":"Width")](!0)},scroll:function(t,i,r){var h,p,b;if(this.animating||!1===this._trigger("scroll",null,[t,i]))return this;if(n.isFunction(i)&&(r=i,i=!0),h=n.jCarousel.parseTarget(t),h.relative){var o=this.items().length-1,v=Math.abs(h.target),f=this.options("wrap"),c,w,e,y,u,l,s,a;if(h.target>0)if(p=this.index(this._last),p>=o&&this.tail)this.inTail?f==="both"||f==="last"?this._scroll(0,i,r):n.isFunction(r)&&r.call(this,!1):this._scrollTail(i,r);else if(c=this.index(this._target),this.underflow&&c===o&&(f==="circular"||f==="both"||f==="last")||!this.underflow&&p===o&&(f==="both"||f==="last"))this._scroll(0,i,r);else if(e=c+v,this.circular&&e>o){for(a=o,u=this.items().get(-1);a++<e;)u=this.items().eq(0),l=this._visible.index(u)>=0,l&&u.after(u.clone(!0).attr("data-jcarousel-clone",!0)),this.list().append(u),l||(s={},s[this.lt]=this.dimension(u),this.moveBy(s)),this._items=null;this._scroll(u,i,r)}else this._scroll(Math.min(e,o),i,r);else if(this.inTail)this._scroll(Math.max(this.index(this._first)-v+1,0),i,r);else if(w=this.index(this._first),c=this.index(this._target),y=this.underflow?c:w,e=y-v,y<=0&&(this.underflow&&f==="circular"||f==="both"||f==="first"))this._scroll(o,i,r);else if(this.circular&&e<0){for(a=e,u=this.items().get(0);a++<0;)u=this.items().eq(-1),l=this._visible.index(u)>=0,l&&u.after(u.clone(!0).attr("data-jcarousel-clone",!0)),this.list().prepend(u),this._items=null,b=this.dimension(u),s={},s[this.lt]=-b,this.moveBy(s);this._scroll(u,i,r)}else this._scroll(Math.max(e,0),i,r)}else this._scroll(h.target,i,r);return this._trigger("scrollend"),this},moveBy:function(n,t){var f=this.list().position(),r=1,u=0;return this.rtl&&!this.vertical&&(r=-1,this.relative&&(u=this.list().width()-this.clipping())),n.left&&(n.left=f.left+u+i(n.left)*r+"px"),n.top&&(n.top=f.top+u+i(n.top)*r+"px"),this.move(n,t)},move:function(t,i){var e,u,l,a;i=i||{};var o=this.options("transitions"),s=!!o,h=!!o.transforms,c=!!o.transforms3d,r=i.duration||0,f=this.list();if(!s&&r>0){f.animate(t,i);return}if(e=i.complete||n.noop,u={},s&&(l=f.css(["transitionDuration","transitionTimingFunction","transitionProperty"]),a=e,e=function(){n(this).css(l);a.call(this)},u={transitionDuration:(r>0?r/1e3:0)+"s",transitionTimingFunction:o.easing||i.easing,transitionProperty:r>0?function(){return h||c?"all":t.left?"left":"top"}():"none",transform:"none"}),c?u.transform="translate3d("+(t.left||0)+","+(t.top||0)+",0)":h?u.transform="translate("+(t.left||0)+","+(t.top||0)+")":n.extend(u,t),s&&r>0)f.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",e);f.css(u);r<=0&&f.each(function(){e.call(this)})},_scroll:function(t,i,r){var u,e,f;return this.animating?(n.isFunction(r)&&r.call(this,!1),this):(typeof t!="object"?t=this.items().eq(t):typeof t.jquery=="undefined"&&(t=n(t)),t.length===0)?(n.isFunction(r)&&r.call(this,!1),this):(this.inTail=!1,this._prepare(t),u=this._position(t),e=this.list().position()[this.lt],u===e)?(n.isFunction(r)&&r.call(this,!1),this):(f={},f[this.lt]=u+"px",this._animate(f,i,r),this)},_scrollTail:function(t,i){var r,u;return this.animating||!this.tail?(n.isFunction(i)&&i.call(this,!1),this):(r=this.list().position()[this.lt],this.rtl&&this.relative&&!this.vertical&&(r+=this.list().width()-this.clipping()),this.rtl&&!this.vertical?r+=this.tail:r-=this.tail,this.inTail=!0,u={},u[this.lt]=r+"px",this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())}),this._animate(u,t,i),this)},_animate:function(t,i,r){if(r=r||n.noop,!1===this._trigger("animate"))return r.call(this,!1),this;this.animating=!0;var f=this.options("animation"),e=n.proxy(function(){this.animating=!1;var n=this.list().find("[data-jcarousel-clone]");n.length>0&&(n.remove(),this._reload());this._trigger("animateend");r.call(this,!0)},this),u=typeof f=="object"?n.extend({},f):{duration:f},o=u.complete||n.noop;return i===!1?u.duration=0:typeof n.fx.speeds[u.duration]!="undefined"&&(u.duration=n.fx.speeds[u.duration]),u.complete=function(){e();o.call(this)},this.move(t,u),this},_prepare:function(t){var y=this.index(t),s=y,u=this.dimension(t),e=this.clipping(),c=this.vertical?"bottom":this.rtl?"left":"right",l=this.options("center"),f={target:t,first:t,last:t,visible:t,fullyvisible:u<=e?t:n()},r,a,h,o,v;if(l&&(u/=2,e/=2),u<e)for(;;){if(r=this.items().eq(++s),r.length===0){if(!this.circular)break;if(r=this.items().eq(0),t.get(0)===r.get(0))break;a=this._visible.index(r)>=0;a&&r.after(r.clone(!0).attr("data-jcarousel-clone",!0));this.list().append(r);a||(v={},v[this.lt]=this.dimension(r),this.moveBy(v));this._items=null}if(o=this.dimension(r),o===0)break;if(u+=o,f.last=r,f.visible=f.visible.add(r),h=i(r.css("margin-"+c)),u-h<=e&&(f.fullyvisible=f.fullyvisible.add(r)),u>=e)break}if(!this.circular&&!l&&u<e)for(s=y;;){if(--s<0)break;if(r=this.items().eq(s),r.length===0)break;if(o=this.dimension(r),o===0)break;if(u+=o,f.first=r,f.visible=f.visible.add(r),h=i(r.css("margin-"+c)),u-h<=e&&(f.fullyvisible=f.fullyvisible.add(r)),u>=e)break}return this._update(f),this.tail=0,l||this.options("wrap")==="circular"||this.options("wrap")==="custom"||this.index(f.last)!==this.items().length-1||(u-=i(f.last.css("margin-"+c)),u>e&&(this.tail=u-e)),this},_position:function(n){var i=this._first,t=i.position()[this.lt],r=this.options("center"),u=r?this.clipping()/2-this.dimension(i)/2:0;return this.rtl&&!this.vertical?(t-=this.relative?this.list().width()-this.dimension(i):this.clipping()-this.dimension(i),t+=u):t-=u,!r&&(this.index(n)>this.index(i)||this.inTail)&&this.tail?(t=this.rtl&&!this.vertical?t-this.tail:t+this.tail,this.inTail=!0):this.inTail=!1,-t},_update:function(t){var r=this,i={target:this._target||n(),first:this._first||n(),last:this._last||n(),visible:this._visible||n(),fullyvisible:this._fullyvisible||n()},f=this.index(t.first||i.first)<this.index(i.first),u,e=function(u){var e=[],o=[];t[u].each(function(){i[u].index(this)<0&&e.push(this)});i[u].each(function(){t[u].index(this)<0&&o.push(this)});f?e=e.reverse():o=o.reverse();r._trigger(u+"in",n(e));r._trigger(u+"out",n(o));r["_"+u]=t[u]};for(u in t)e(u);return this}})}(jQuery,window),function(n){"use strict";n.jcarousel.fn.scrollIntoView=function(t,i,r){var f=n.jCarousel.parseTarget(t),o=this.index(this._fullyvisible.first()),h=this.index(this._fullyvisible.last()),u,l;if(u=f.relative?f.target<0?Math.max(0,o+f.target):h+f.target:typeof f.target!="object"?f.target:this.index(f.target),u<o)return this.scroll(u,i,r);if(u>=o&&u<=h)return n.isFunction(r)&&r.call(this,!1),this;for(var a=this.items(),c=this.clipping(),v=this.vertical?"bottom":this.rtl?"left":"right",s=0,e;;){if(e=a.eq(u),e.length===0)break;if(s+=this.dimension(e),s>=c){l=parseFloat(e.css("margin-"+v))||0;s-l!==c&&u++;break}if(u<=0)break;u--}return this.scroll(u,i,r)}}(jQuery),function(n){"use strict";n.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=n.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",n.proxy(this._create,this))},this);this.onReload=n.proxy(this._reload,this);this.onEvent=n.proxy(function(t){t.preventDefault();var i=this.options("method");n.isFunction(i)?i.call(this):this.carousel().jcarousel(this.options("method"),this.options("target"))},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload);this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent);this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent);this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var t=n.jCarousel.parseTarget(this.options("target")),r=this.carousel(),i,u;return t.relative?i=r.jcarousel(t.target>0?"hasNext":"hasPrev"):(u=typeof t.target!="object"?r.jcarousel("items").eq(t.target):t.target,i=r.jcarousel("target").index(u)>=0),this._active!==i&&(this._trigger(i?"active":"inactive"),this._active=i),this}})}(jQuery),function(n){"use strict";n.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(n){return'<a href="#'+n+'">'+n+"<\/a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=n.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",n.proxy(this._create,this))},this);this.onReload=n.proxy(this._reload,this);this.onScroll=n.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll);this._reload()},_destroy:function(){this._clear();this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll);this._carouselItems=null},_reload:function(){var t=this.options("perPage");if(this._pages={},this._items={},n.isFunction(t)&&(t=t.call(this)),t==null)this._pages=this._calculatePages();else for(var s=parseInt(t,10)||0,h=this._getCarouselItems(),u=1,e=0,f;;){if(f=h.eq(e++),f.length===0)break;this._pages[u]=this._pages[u]?this._pages[u].add(f):f;e%s==0&&u++}this._clear();var i=this,r=this.carousel().data("jcarousel"),c=this._element,l=this.options("item"),o=this._getCarouselItems().length;n.each(this._pages,function(t,u){var f=i._items[t]=n(l.call(i,t,u));f.on(i.options("event")+".jcarouselpagination",n.proxy(function(){var e=u.eq(0),n,f;r.circular&&(n=r.index(r.target()),f=r.index(e),parseFloat(t)>parseFloat(i._currentPage)?f<n&&(e="+="+(o-n+f)):f>n&&(e="-="+(n+(o-f))));r[this.options("method")](e)},i));c.append(f)});this._update()},_update:function(){var i=this.carousel().jcarousel("target"),t;n.each(this._pages,function(n,r){return r.each(function(){if(i.is(this))return t=n,!1}),t?!1:void 0});this._currentPage!==t&&(this._trigger("inactive",this._items[this._currentPage]),this._trigger("active",this._items[t]));this._currentPage=t},items:function(){return this._items},reloadCarouselItems:function(){return this._carouselItems=null,this},_clear:function(){this._element.empty();this._currentPage=null},_calculatePages:function(){for(var u=this.carousel().data("jcarousel"),f=this._getCarouselItems(),e=u.clipping(),r=0,o=0,t=1,i={},n;;){if(n=f.eq(o++),n.length===0)break;i[t]=i[t]?i[t].add(n):n;r+=u.dimension(n);r>=e&&(t++,r=0)}return i},_getCarouselItems:function(){return this._carouselItems||(this._carouselItems=this.carousel().jcarousel("items")),this._carouselItems}})}(jQuery),function(n){"use strict";n.jCarousel.plugin("jcarouselAutoscroll",{_options:{target:"+=1",interval:3e3,autostart:!0},_timer:null,_init:function(){this.onDestroy=n.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",n.proxy(this._create,this))},this);this.onAnimateEnd=n.proxy(this.start,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy);this.options("autostart")&&this.start()},_destroy:function(){this.stop();this.carousel().off("jcarousel:destroy",this.onDestroy)},start:function(){this.stop();this.carousel().one("jcarousel:animateend",this.onAnimateEnd);return this._timer=setTimeout(n.proxy(function(){this.carousel().jcarousel("scroll",this.options("target"))},this),this.options("interval")),this},stop:function(){return this._timer&&(this._timer=clearTimeout(this._timer)),this.carousel().off("jcarousel:animateend",this.onAnimateEnd),this}})}(jQuery)