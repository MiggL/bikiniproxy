var Traccit={fp:function(t){var e=function(t){var e,i;e=Array.prototype.forEach,i=Array.prototype.map,this.each=function(t,i,n){if(null!==t)if(e&&t.forEach===e)t.forEach(i,n);else if(t.length===+t.length){for(var r=0,a=t.length;r<a;r++)if(i.call(n,t[r],r,t)==={})return}else for(var o in t)if(t.hasOwnProperty(o)&&i.call(n,t[o],o,t)==={})return},this.map=function(t,e,n){var r=[];return null==t?r:i&&t.map===i?t.map(e,n):(this.each(t,function(t,i,a){r[r.length]=e.call(n,t,i,a)}),r)},"object"==typeof t?(this.hasher=t.hasher,this.screen_resolution=t.screen_resolution,this.screen_orientation=t.screen_orientation,this.canvas=t.canvas,this.ie_activex=t.ie_activex):"function"==typeof t&&(this.hasher=t)};return e.prototype={get:function(){var e=[];(e.push(navigator.userAgent),e.push(navigator.language),e.push(screen.colorDepth),this.screen_resolution)&&(void 0!==this.getScreenResolution()&&e.push(this.getScreenResolution().join("x")));return e.push((new Date).getTimezoneOffset()),e.push(this.hasSessionStorage()),e.push(this.hasLocalStorage()),e.push(!!t.indexedDB),document.body?e.push(typeof document.body.addBehavior):e.push("undefined"),e.push(typeof t.openDatabase),e.push(navigator.cpuClass),e.push(navigator.platform),e.push(navigator.doNotTrack),e.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&e.push(this.getCanvasFingerprint()),this.hasher?this.hasher(e.join("###"),31):this.murmurhash3_32_gc(e.join("###"),31)},murmurhash3_32_gc:function(t,e){var i,n,r,a,o,c,s,u;for(i=3&t.length,n=t.length-i,r=e,o=3432918353,c=461845907,u=0;u<n;)s=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,r=27492+(65535&(a=5*(65535&(r=(r^=s=(65535&(s=(s=(65535&s)*o+(((s>>>16)*o&65535)<<16)&4294967295)<<15|s>>>17))*c+(((s>>>16)*c&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(s=0,i){case 3:s^=(255&t.charCodeAt(u+2))<<16;case 2:s^=(255&t.charCodeAt(u+1))<<8;case 1:r^=s=(65535&(s=(s=(65535&(s^=255&t.charCodeAt(u)))*o+(((s>>>16)*o&65535)<<16)&4294967295)<<15|s>>>17))*c+(((s>>>16)*c&65535)<<16)&4294967295}return r^=t.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0},hasLocalStorage:function(){try{return!!t.localStorage}catch(t){return!0}},hasSessionStorage:function(){try{return!!t.sessionStorage}catch(t){return!0}},isCanvasSupported:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(t){var e=this.map(t,function(t){return[t.type,t.suffixes].join("~")}).join(",");return[t.name,t.description,e].join("::")},this).join(";")},getIEPluginsString:function(){if(t.ActiveXObject){return this.map(["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"],function(t){try{return new ActiveXObject(t),t}catch(t){return null}}).join(";")}return""},getScreenResolution:function(){return this.screen_orientation?screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height]:[screen.height,screen.width]},getCanvasFingerprint:function(){var t=document.createElement("canvas"),e=t.getContext("2d"),i="http://valve.github.io";return e.textBaseline="top",e.font="14px 'Arial'",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText(i,2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(i,4,17),t.toDataURL()}},e},isIE:function(){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)||window.attachEvent&&!window.addEventListener)return!0},getInternetExplorerVersion:function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t},TiImgCreate:function(t,e){var i=void 0!==typeof IEWIN?new Image:document.createElement("img");return i.src=t,i.id=e,i.width="0",i.height="0",i.style.cssText="width:0px;height:0px;display:none;position:absolute",i},TiPostData:function(t){void 0!==t&&0==t.isrfc&&(t.base_url="https://www.tracc.it/",document.body.appendChild(Traccit.TiImgCreate(t.base_url+t.post_uri+"?site_id="+t.site_id+"&ismm="+t.ismm+"&issc="+t.issc+"&token="+t.token+"&isfo="+t.isfo+"&isif="+t.isif+"&isadb="+t.adb+"&request_timestamp="+t.request_timestamp+"&referer="+encodeURIComponent(t.referer)+"&cur_url="+encodeURIComponent(t.cur_url)+"&timezone="+t.timezone+"&isc="+t.isc+"&isst="+t.isst+"&stk="+t.sessiontk,t.r_id)))},TiPostExceptionData:function(t){t.base_url="https://www.tracc.it/",document.body.appendChild(Traccit.TiImgCreate(t.base_url+t.post_uri+"?cp_id="+t.site_id+"&jt="+t.jt+"&referer="+encodeURIComponent(t.referer)+"&cur_url="+encodeURIComponent(t.cur_url)+"&top_url="+encodeURIComponent(t.top_url)+"&e="+encodeURIComponent(t.e),0))},inIframe:function(){try{return window.self!==window.top}catch(t){return!0}},ready:function(t){/in/.test(document.readyState)?setTimeout("Traccit.ready("+t+")",9):t()},loadas:function(){var t=Traccit.TiImgCreate("https://www.tracc.it/img/ad.png","");t.id="traccit_adb",t.style.cssText="width:0px;height:0px;position:absolute;",document.body&&document.body.appendChild(t)},asdetect:function(){var t=document.getElementById("traccit_adb"),e=0;return t&&("none"==t.style.display||""!=t.className||t.width>0||t.height>0)&&(e=1),e},generateHiddenIframe:function(t,e){var i=null;Traccit.isIE()&&Traccit.getInternetExplorerVersion()<9?i=document.createElement('<iframe name="post-iframe" scr="'+e+'" width="1" height="1"></iframe>'):((i=document.createElement("iframe")).setAttribute("name","post-iframe"),i.setAttribute("src",e),i.setAttribute("width",1),i.setAttribute("height",1)),i.setAttribute("class","post-iframe"),i.setAttribute("style","border: none;display:none"),null==t&&(t=document.body),t.appendChild(i)},getIds:function(){for(var t="",e=1;e<10;e++)t+="id"+e+"="+Math.floor(1e9*Math.random())+"&";return t},setCookie:function(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var r="expires="+n.toGMTString();document.cookie=t+"="+escape(e)+"; "+r+"; path=/"},getCookie:function(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var r=i[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return unescape(r.substring(e.length,r.length))}return""},isRefresh:function(){if(document.referrer==window.location.href){var t=Traccit.getCookie("ti_rfc");if(t=""!=t?parseInt(t)+1:1,Traccit.setCookie("ti_rfc",t,1),t>5)return 1}else Traccit.setCookie("ti_rfc",0,1);return 0},getDomain:function(t,e){return e=e||!1,t=t.replace(/(https?:\/\/)?(www.)?/i,""),e||(t=(t=t.split(".")).slice(t.length-2).join(".")),-1!==t.indexOf("/")?t.split("/")[0]:t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},getSessionToken:function(t){var e=Traccit.getCookie("ti_lt"),i=Traccit.getHumainTs(),n=Traccit.getCookie("ti_stk");return e&&!(i-e>900)&&Traccit.getCookie("ti_utk")==t&&Traccit.isSameDate(i,e)&&n||(n=Traccit.getRandomInt(1e9,2e9),Traccit.setCookie("ti_stk",n,100)),Traccit.setCookie("ti_utk",t,100),Traccit.setCookie("ti_lt",Traccit.getHumainTs(),100),navigator.cookieEnabled?n:0},getHumainTs:function(){return Math.floor((new Date).getTime()/1e3)},getFormatDate:function(t){if(t)return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},isSameDate:function(t,e){return Traccit.getFormatDate(new Date(1e3*t))==Traccit.getFormatDate(new Date(1e3*e))}};!function(t){var e=0,i=0,n="";try{if(void 0!==t.traccit_q){for(var r=[];t.traccit_q.length>0;){"traccit_site_id"==(a=t.traccit_q.pop())[0]&&(n=a[1]),"traccit_conversion"==a[0]&&(traccit_conversion=a[1]),"traccit_cp_id"==a[0]&&r.push(["traccit_cp_id",a[1]])}for(;r.length>0;){var a=r.pop();t.traccit_q.push(a[0],a[1])}}Traccit.loadas(),fp=Traccit.fp(t),(p=new Object).site_id=n,p.post_uri="scc/tracker.php",p.isc=0,p.ismm=0,p.issc=0,p.token=(new fp).get(),p.referer=document.referrer,p.timezone=(new Date).getTimezoneOffset(),p.cur_url=t.location.href,p.isfo=0,p.isif=0,p.request_timestamp=(new Date).getTime(),p.adb=0,p.isst=0,p.isrfc=Traccit.isRefresh(),p.sessiontk=Traccit.getSessionToken(p.token),"undefined"!=typeof traccit_conversion&&1==traccit_conversion&&(p.isc=1),Traccit.inIframe()&&(p.isif=1,Traccit.TiPostData(p));var o=setInterval(function(){document.hasFocus()?e+=1:i+=1,3==e&&(p.isfo=1,Traccit.TiPostData(p),clearInterval(o)),3==i&&(p.isst=1,Traccit.TiPostData(p)),p.adb=Traccit.asdetect()},1e3),c=!1,s=function(){p.issc=1,1==p.issc&&0==c&&(Traccit.TiPostData(p),c=!0)},u=Traccit.getIds();if(document.addEventListener){var l=function(){document.removeEventListener("mousemove",l,!1),p.ismm=1,Traccit.TiPostData(p)};document.addEventListener("mousemove",l,!1),document.addEventListener("scroll",s,!1),document.addEventListener("touchend",function(t){document.removeEventListener("touchend",l,!1),p.ismm=1,Traccit.TiPostData(p)},!1)}else if(document.attachEvent){l=function(){document.detachEvent("onmousemove",l),p.ismm=1,Traccit.TiPostData(p)};document.attachEvent("onscroll",s),document.attachEvent("onmousemove",l)}p.adb=Traccit.asdetect();if(null!=n&&null!=p.token&&""==Traccit.getCookie("traccit_scc")){var d=t.location.protocol+"//www.tracc.it/scc/scc.php?"+u+"id10="+p.token+"&sid="+n+"&t=0&rf="+p.isrfc+"&host="+t.location.hostname;Traccit.generateHiddenIframe(null,d);var h=t.location.protocol+"//www.tracc.it/scc/scc.php?"+u+"id10="+p.token+"&sid="+n+"&t=1&rf="+p.isrfc+"&host="+t.location.hostname;(m=document.createElement("script")).type="text/javascript",m.src=h,m.async=!0,document.getElementsByTagName("head").length>0?document.getElementsByTagName("head")[0].appendChild(m):document.getElementsByTagName("body").length>0&&document.getElementsByTagName("body")[0].appendChild(m)}if(null!=n&&null!=p.token){var m;h=t.location.protocol+"//www.tracc.it/scc/cb.php?"+u+"id10="+p.token+"&sid="+n+"&t=0&rf="+p.isrfc+"&u="+t.location.href;(m=document.createElement("script")).type="text/javascript",m.src=h,m.async=!0,document.getElementsByTagName("head").length>0?document.getElementsByTagName("head")[0].appendChild(m):document.getElementsByTagName("body").length>0&&document.getElementsByTagName("body")[0].appendChild(m)}}catch(e){var p=new Object;p.jt="tiv6",p.cp_id=n,p.post_uri="tracker/cp-exception/",p.referer=document.referrer,p.cur_url=t.location.href,p.top_url=top.location.href,e.stack?(p.e=e.stack,e.message?p.e+=e.message:p.e+=e):e.message?p.e=e.message:p.e=e,Traccit.TiPostExceptionData(p)}}(window);
