define(["jquery","Handlebars"],function(c,d){var b=false;var a={defaults:{action:"append",data:""},init:function(){if(b){console.log("Initializing "+this.pluginID)}var e=this;e.config=c.extend(true,{},e.defaults,e.options,e.metadata);if(b){console.log("init, configuration : ",e.config)}c.when(e.loadAndCompileTemplate(),e.fetchData()).done(function(f,g){e.render(g)});return e},loadAndCompileTemplate:function(){if(b){console.log("core template loader loadAndCompileTemplate")}var f=this,e=c.Deferred();require(["text!"+f.config.template],function(g){f.compiledTemplate=d.compile(g);e.resolve()});return e.promise()},fetchData:function(){if(b){console.log("fetchData")}var e=this,f=c.Deferred();c.ajax({url:e.url,data:{storeId:e.storeId,partNumber:e.partNumber}}).done(function(g){f.resolve(g)}).fail(function(){if(b){console.warn("AJAX Failed : ");c(arguments).each(function(){console.warn(this)})}});return f.promise()},render:function(f){if(b){console.log("core render, data : ",f)}var e=this;e.$element[e.config.action](e.compiledTemplate(f))}};return a});