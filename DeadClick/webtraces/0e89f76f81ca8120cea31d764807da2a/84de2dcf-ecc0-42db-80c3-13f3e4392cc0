(function(window,undefined){var document=window.document,navigator=window.navigator,location=window.location;var jQuery=(function(){var jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery);},_jQuery=window.jQuery,_$=window.$,rootjQuery,quickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rnotwhite=/\S/,trimLeft=/^\s+/,trimRight=/\s+$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rwebkit=/(webkit)[ \/]([\w.]+)/,ropera=/(opera)(?:.*version)?[ \/]([\w.]+)/,rmsie=/(msie) ([\w.]+)/,rmozilla=/(mozilla)(?:.*? rv:([\w.]+))?/,rdashAlpha=/-([a-z]|[0-9])/ig,rmsPrefix=/^-ms-/,fcamelCase=function(all,letter){return(letter+"").toUpperCase();},userAgent=navigator.userAgent,browserMatch,readyList,DOMContentLoaded,toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,trim=String.prototype.trim,indexOf=Array.prototype.indexOf,class2type={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector){return this;}
if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this;}
if(selector==="body"&&!context&&document.body){this.context=document;this[0]=document.body;this.selector=selector;this.length=1;return this;}
if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null];}else{match=quickExpr.exec(selector);}
if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;doc=(context?context.ownerDocument||context:document);ret=rsingleTag.exec(selector);if(ret){if(jQuery.isPlainObject(context)){selector=[document.createElement(ret[1])];jQuery.fn.attr.call(selector,context,true);}else{selector=[doc.createElement(ret[1])];}}else{ret=jQuery.buildFragment([match[1]],[doc]);selector=(ret.cacheable?jQuery.clone(ret.fragment):ret.fragment).childNodes;}
return jQuery.merge(this,selector);}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector);}
this.length=1;this[0]=elem;}
this.context=document;this.selector=selector;return this;}}else if(!context||context.jquery){return(context||rootjQuery).find(selector);}else{return this.constructor(context).find(selector);}}else if(jQuery.isFunction(selector)){return rootjQuery.ready(selector);}
if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context;}
return jQuery.makeArray(selector,this);},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length;},toArray:function(){return slice.call(this,0);},get:function(num){return num==null?this.toArray():(num<0?this[this.length+num]:this[num]);},pushStack:function(elems,name,selector){var ret=this.constructor();if(jQuery.isArray(elems)){push.apply(ret,elems);}else{jQuery.merge(ret,elems);}
ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector;}else if(name){ret.selector=this.selector+"."+name+"("+selector+")";}
return ret;},each:function(callback,args){return jQuery.each(this,callback,args);},ready:function(fn){jQuery.bindReady();readyList.add(fn);return this;},eq:function(i){i=+i;return i===-1?this.slice(i):this.slice(i,i+1);},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","));},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},end:function(){return this.prevObject||this.constructor(null);},push:push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2;}
if(typeof target!=="object"&&!jQuery.isFunction(target)){target={};}
if(length===i){target=this;--i;}
for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue;}
if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[];}else{clone=src&&jQuery.isPlainObject(src)?src:{};}
target[name]=jQuery.extend(deep,clone,copy);}else if(copy!==undefined){target[name]=copy;}}}}
return target;};jQuery.extend({noConflict:function(deep){if(window.$===jQuery){window.$=_$;}
if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery;}
return jQuery;},isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++;}else{jQuery.ready(true);}},ready:function(wait){if((wait===true&&!--jQuery.readyWait)||(wait!==true&&!jQuery.isReady)){if(!document.body){return setTimeout(jQuery.ready,1);}
jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return;}
readyList.fireWith(document,[jQuery]);if(jQuery.fn.trigger){jQuery(document).trigger("ready").off("ready");}}},bindReady:function(){if(readyList){return;}
readyList=jQuery.Callbacks("once memory");if(document.readyState==="complete"){return setTimeout(jQuery.ready,1);}
if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false);}else if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var toplevel=false;try{toplevel=window.frameElement==null;}catch(e){}
if(document.documentElement.doScroll&&toplevel){doScrollCheck();}}},isFunction:function(obj){return jQuery.type(obj)==="function";},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array";},isWindow:function(obj){return obj!=null&&obj==obj.window;},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj);},type:function(obj){return obj==null?String(obj):class2type[toString.call(obj)]||"object";},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false;}
try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false;}}catch(e){return false;}
var key;for(key in obj){}
return key===undefined||hasOwn.call(obj,key);},isEmptyObject:function(obj){for(var name in obj){return false;}
return true;},error:function(msg){throw new Error(msg);},parseJSON:function(data){if(typeof data!=="string"||!data){return null;}
data=jQuery.trim(data);if(window.JSON&&window.JSON.parse){return window.JSON.parse(data);}
if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return(new Function("return "+data))();}
jQuery.error("Invalid JSON: "+data);},parseXML:function(data){if(typeof data!=="string"||!data){return null;}
var xml,tmp;try{if(window.DOMParser){tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml");}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data);}}catch(e){xml=undefined;}
if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data);}
return xml;},noop:function(){},globalEval:function(data){if(data&&rnotwhite.test(data)){(window.execScript||function(data){window["eval"].call(window,data);})(data);}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase);},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase();},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object){if(callback.apply(object[name],args)===false){break;}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break;}}}}else{if(isObj){for(name in object){if(callback.call(object[name],name,object[name])===false){break;}}}else{for(;i<length;){if(callback.call(object[i],i,object[i++])===false){break;}}}}
return object;},trim:trim?function(text){return text==null?"":trim.call(text);}:function(text){return text==null?"":text.toString().replace(trimLeft,"").replace(trimRight,"");},makeArray:function(array,results){var ret=results||[];if(array!=null){var type=jQuery.type(array);if(array.length==null||type==="string"||type==="function"||type==="regexp"||jQuery.isWindow(array)){push.call(ret,array);}else{jQuery.merge(ret,array);}}
return ret;},inArray:function(elem,array,i){var len;if(array){if(indexOf){return indexOf.call(array,elem,i);}
len=array.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in array&&array[i]===elem){return i;}}}
return-1;},merge:function(first,second){var i=first.length,j=0;if(typeof second.length==="number"){for(var l=second.length;j<l;j++){first[i++]=second[j];}}else{while(second[j]!==undefined){first[i++]=second[j++];}}
first.length=i;return first;},grep:function(elems,callback,inv){var ret=[],retVal;inv=!!inv;for(var i=0,length=elems.length;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal){ret.push(elems[i]);}}
return ret;},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&typeof length==="number"&&((length>0&&elems[0]&&elems[length-1])||length===0||jQuery.isArray(elems));if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value;}}}else{for(key in elems){value=callback(elems[key],key,arg);if(value!=null){ret[ret.length]=value;}}}
return ret.concat.apply([],ret);},guid:1,proxy:function(fn,context){if(typeof context==="string"){var tmp=fn[context];context=fn;fn=tmp;}
if(!jQuery.isFunction(fn)){return undefined;}
var args=slice.call(arguments,2),proxy=function(){return fn.apply(context,args.concat(slice.call(arguments)));};proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++;return proxy;},access:function(elems,fn,key,value,chainable,emptyGet,pass){var exec,bulk=key==null,i=0,length=elems.length;if(key&&typeof key==="object"){for(i in key){jQuery.access(elems,fn,i,key[i],1,emptyGet,value);}
chainable=1;}else if(value!==undefined){exec=pass===undefined&&jQuery.isFunction(value);if(bulk){if(exec){exec=fn;fn=function(elem,key,value){return exec.call(jQuery(elem),value);};}else{fn.call(elems,value);fn=null;}}
if(fn){for(;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass);}}
chainable=1;}
return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet;},now:function(){return(new Date()).getTime();},uaMatch:function(ua){ua=ua.toLowerCase();var match=rwebkit.exec(ua)||ropera.exec(ua)||rmsie.exec(ua)||ua.indexOf("compatible")<0&&rmozilla.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"};},sub:function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context);}
jQuery.extend(true,jQuerySub,this);jQuerySub.superclass=this;jQuerySub.fn=jQuerySub.prototype=this();jQuerySub.fn.constructor=jQuerySub;jQuerySub.sub=this.sub;jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub)){context=jQuerySub(context);}
return jQuery.fn.init.call(this,selector,context,rootjQuerySub);};jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub;},browser:{}});jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase();});browserMatch=jQuery.uaMatch(userAgent);if(browserMatch.browser){jQuery.browser[browserMatch.browser]=true;jQuery.browser.version=browserMatch.version;}
if(jQuery.browser.webkit){jQuery.browser.safari=true;}
if(rnotwhite.test("\xA0")){trimLeft=/^[\s\xA0]+/;trimRight=/[\s\xA0]+$/;}
rootjQuery=jQuery(document);if(document.addEventListener){DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready();};}else if(document.attachEvent){DOMContentLoaded=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready();}};}
function doScrollCheck(){if(jQuery.isReady){return;}
try{document.documentElement.doScroll("left");}catch(e){setTimeout(doScrollCheck,1);return;}
jQuery.ready();}
return jQuery;})();var flagsCache={};function createFlags(flags){var object=flagsCache[flags]={},i,length;flags=flags.split(/\s+/);for(i=0,length=flags.length;i<length;i++){object[flags[i]]=true;}
return object;}
jQuery.Callbacks=function(flags){flags=flags?(flagsCache[flags]||createFlags(flags)):{};var
list=[],stack=[],memory,fired,firing,firingStart,firingLength,firingIndex,add=function(args){var i,length,elem,type,actual;for(i=0,length=args.length;i<length;i++){elem=args[i];type=jQuery.type(elem);if(type==="array"){add(elem);}else if(type==="function"){if(!flags.unique||!self.has(elem)){list.push(elem);}}}},fire=function(context,args){args=args||[];memory=!flags.memory||[context,args];fired=true;firing=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(context,args)===false&&flags.stopOnFalse){memory=true;break;}}
firing=false;if(list){if(!flags.once){if(stack&&stack.length){memory=stack.shift();self.fireWith(memory[0],memory[1]);}}else if(memory===true){self.disable();}else{list=[];}}},self={add:function(){if(list){var length=list.length;add(arguments);if(firing){firingLength=list.length;}else if(memory&&memory!==true){firingStart=length;fire(memory[0],memory[1]);}}
return this;},remove:function(){if(list){var args=arguments,argIndex=0,argLength=args.length;for(;argIndex<argLength;argIndex++){for(var i=0;i<list.length;i++){if(args[argIndex]===list[i]){if(firing){if(i<=firingLength){firingLength--;if(i<=firingIndex){firingIndex--;}}}
list.splice(i--,1);if(flags.unique){break;}}}}}
return this;},has:function(fn){if(list){var i=0,length=list.length;for(;i<length;i++){if(fn===list[i]){return true;}}}
return false;},empty:function(){list=[];return this;},disable:function(){list=stack=memory=undefined;return this;},disabled:function(){return!list;},lock:function(){stack=undefined;if(!memory||memory===true){self.disable();}
return this;},locked:function(){return!stack;},fireWith:function(context,args){if(stack){if(firing){if(!flags.once){stack.push([context,args]);}}else if(!(flags.once&&memory)){fire(context,args);}}
return this;},fire:function(){self.fireWith(this,arguments);return this;},fired:function(){return!!fired;}};return self;};var
sliceDeferred=[].slice;jQuery.extend({Deferred:function(func){var doneList=jQuery.Callbacks("once memory"),failList=jQuery.Callbacks("once memory"),progressList=jQuery.Callbacks("memory"),state="pending",lists={resolve:doneList,reject:failList,notify:progressList},promise={done:doneList.add,fail:failList.add,progress:progressList.add,state:function(){return state;},isResolved:doneList.fired,isRejected:failList.fired,then:function(doneCallbacks,failCallbacks,progressCallbacks){deferred.done(doneCallbacks).fail(failCallbacks).progress(progressCallbacks);return this;},always:function(){deferred.done.apply(deferred,arguments).fail.apply(deferred,arguments);return this;},pipe:function(fnDone,fnFail,fnProgress){return jQuery.Deferred(function(newDefer){jQuery.each({done:[fnDone,"resolve"],fail:[fnFail,"reject"],progress:[fnProgress,"notify"]},function(handler,data){var fn=data[0],action=data[1],returned;if(jQuery.isFunction(fn)){deferred[handler](function(){returned=fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().then(newDefer.resolve,newDefer.reject,newDefer.notify);}else{newDefer[action+"With"](this===deferred?newDefer:this,[returned]);}});}else{deferred[handler](newDefer[action]);}});}).promise();},promise:function(obj){if(obj==null){obj=promise;}else{for(var key in promise){obj[key]=promise[key];}}
return obj;}},deferred=promise.promise({}),key;for(key in lists){deferred[key]=lists[key].fire;deferred[key+"With"]=lists[key].fireWith;}
deferred.done(function(){state="resolved";},failList.disable,progressList.lock).fail(function(){state="rejected";},doneList.disable,progressList.lock);if(func){func.call(deferred,deferred);}
return deferred;},when:function(firstParam){var args=sliceDeferred.call(arguments,0),i=0,length=args.length,pValues=new Array(length),count=length,pCount=length,deferred=length<=1&&firstParam&&jQuery.isFunction(firstParam.promise)?firstParam:jQuery.Deferred(),promise=deferred.promise();function resolveFunc(i){return function(value){args[i]=arguments.length>1?sliceDeferred.call(arguments,0):value;if(!(--count)){deferred.resolveWith(deferred,args);}};}
function progressFunc(i){return function(value){pValues[i]=arguments.length>1?sliceDeferred.call(arguments,0):value;deferred.notifyWith(promise,pValues);};}
if(length>1){for(;i<length;i++){if(args[i]&&args[i].promise&&jQuery.isFunction(args[i].promise)){args[i].promise().then(resolveFunc(i),deferred.reject,progressFunc(i));}else{--count;}}
if(!count){deferred.resolveWith(deferred,args);}}else if(deferred!==firstParam){deferred.resolveWith(deferred,length?[firstParam]:[]);}
return promise;}});jQuery.support=(function(){var support,all,a,select,opt,input,fragment,tds,events,eventName,i,isSupported,div=document.createElement("div"),documentElement=document.documentElement;div.setAttribute("className","t");div.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";all=div.getElementsByTagName("*");a=div.getElementsByTagName("a")[0];if(!all||!all.length||!a){return{};}
select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];support={leadingWhitespace:(div.firstChild.nodeType===3),tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:(a.getAttribute("href")==="/a"),opacity:/^0.55/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:(input.value==="on"),optSelected:opt.selected,getSetAttribute:div.className!=="t",enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,pixelMargin:true};jQuery.boxModel=support.boxModel=(document.compatMode==="CSS1Compat");input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test;}catch(e){support.deleteExpando=false;}
if(!div.addEventListener&&div.attachEvent&&div.fireEvent){div.attachEvent("onclick",function(){support.noCloneEvent=false;});div.cloneNode(true).fireEvent("onclick");}
input=document.createElement("input");input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t";input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);fragment=document.createDocumentFragment();fragment.appendChild(div.lastChild);support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;support.appendChecked=input.checked;fragment.removeChild(input);fragment.appendChild(div);if(div.attachEvent){for(i in{submit:1,change:1,focusin:1}){eventName="on"+i;isSupported=(eventName in div);if(!isSupported){div.setAttribute(eventName,"return;");isSupported=(typeof div[eventName]==="function");}
support[i+"Bubbles"]=isSupported;}}
fragment.removeChild(div);fragment=select=opt=div=input=null;jQuery(function(){var container,outer,inner,table,td,offsetSupport,marginDiv,conMarginTop,style,html,positionTopLeftWidthHeight,paddingMarginBorderVisibility,paddingMarginBorder,body=document.getElementsByTagName("body")[0];if(!body){return;}
conMarginTop=1;paddingMarginBorder="padding:0;margin:0;border:";positionTopLeftWidthHeight="position:absolute;top:0;left:0;width:1px;height:1px;";paddingMarginBorderVisibility=paddingMarginBorder+"0;visibility:hidden;";style="style='"+positionTopLeftWidthHeight+paddingMarginBorder+"5px solid #000;";html="<div "+style+"display:block;'><div style='"+paddingMarginBorder+"0;display:block;overflow:hidden;'></div></div>"+"<table "+style+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>";container=document.createElement("div");container.style.cssText=paddingMarginBorderVisibility+"width:0;height:0;position:static;top:0;margin-top:"+conMarginTop+"px";body.insertBefore(container,body.firstChild);div=document.createElement("div");container.appendChild(div);div.innerHTML="<table><tr><td style='"+paddingMarginBorder+"0;display:none'></td><td>t</td></tr></table>";tds=div.getElementsByTagName("td");isSupported=(tds[0].offsetHeight===0);tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&(tds[0].offsetHeight===0);if(window.getComputedStyle){div.innerHTML="";marginDiv=document.createElement("div");marginDiv.style.width="0";marginDiv.style.marginRight="0";div.style.width="2px";div.appendChild(marginDiv);support.reliableMarginRight=(parseInt((window.getComputedStyle(marginDiv,null)||{marginRight:0}).marginRight,10)||0)===0;}
if(typeof div.style.zoom!=="undefined"){div.innerHTML="";div.style.width=div.style.padding="1px";div.style.border=0;div.style.overflow="hidden";div.style.display="inline";div.style.zoom=1;support.inlineBlockNeedsLayout=(div.offsetWidth===3);div.style.display="block";div.style.overflow="visible";div.innerHTML="<div style='width:5px;'></div>";support.shrinkWrapBlocks=(div.offsetWidth!==3);}
div.style.cssText=positionTopLeftWidthHeight+paddingMarginBorderVisibility;div.innerHTML=html;outer=div.firstChild;inner=outer.firstChild;td=outer.nextSibling.firstChild.firstChild;offsetSupport={doesNotAddBorder:(inner.offsetTop!==5),doesAddBorderForTableAndCells:(td.offsetTop===5)};inner.style.position="fixed";inner.style.top="20px";offsetSupport.fixedPosition=(inner.offsetTop===20||inner.offsetTop===15);inner.style.position=inner.style.top="";outer.style.overflow="hidden";outer.style.position="relative";offsetSupport.subtractsBorderForOverflowNotVisible=(inner.offsetTop===-5);offsetSupport.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==conMarginTop);if(window.getComputedStyle){div.style.marginTop="1%";support.pixelMargin=(window.getComputedStyle(div,null)||{marginTop:0}).marginTop!=="1%";}
if(typeof container.style.zoom!=="undefined"){container.style.zoom=1;}
body.removeChild(container);marginDiv=div=container=null;jQuery.extend(support,offsetSupport);});return support;})();var rbrace=/^(?:\{.*\}|\[.*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{"embed":true,"object":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000","applet":true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return!!elem&&!isEmptyDataObject(elem);},data:function(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return;}
var privateCache,thisCache,ret,internalKey=jQuery.expando,getByName=typeof name==="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey,isEvents=name==="events";if((!id||!cache[id]||(!isEvents&&!pvt&&!cache[id].data))&&getByName&&data===undefined){return;}
if(!id){if(isNode){elem[internalKey]=id=++jQuery.uuid;}else{id=internalKey;}}
if(!cache[id]){cache[id]={};if(!isNode){cache[id].toJSON=jQuery.noop;}}
if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name);}else{cache[id].data=jQuery.extend(cache[id].data,name);}}
privateCache=thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={};}
thisCache=thisCache.data;}
if(data!==undefined){thisCache[jQuery.camelCase(name)]=data;}
if(isEvents&&!thisCache[name]){return privateCache.events;}
if(getByName){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)];}}else{ret=thisCache;}
return ret;},removeData:function(elem,name,pvt){if(!jQuery.acceptData(elem)){return;}
var thisCache,i,l,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:internalKey;if(!cache[id]){return;}
if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name];}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name];}else{name=name.split(" ");}}}
for(i=0,l=name.length;i<l;i++){delete thisCache[name[i]];}
if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache)){return;}}}
if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return;}}
if(jQuery.support.deleteExpando||!cache.setInterval){delete cache[id];}else{cache[id]=null;}
if(isNode){if(jQuery.support.deleteExpando){delete elem[internalKey];}else if(elem.removeAttribute){elem.removeAttribute(internalKey);}else{elem[internalKey]=null;}}},_data:function(elem,name,data){return jQuery.data(elem,name,data,true);},acceptData:function(elem){if(elem.nodeName){var match=jQuery.noData[elem.nodeName.toLowerCase()];if(match){return!(match===true||elem.getAttribute("classid")!==match);}}
return true;}});jQuery.fn.extend({data:function(key,value){var parts,part,attr,name,l,elem=this[0],i=0,data=null;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){attr=elem.attributes;for(l=attr.length;i<l;i++){name=attr[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.substring(5));dataAttr(elem,name,data[name]);}}
jQuery._data(elem,"parsedAttrs",true);}}
return data;}
if(typeof key==="object"){return this.each(function(){jQuery.data(this,key);});}
parts=key.split(".",2);parts[1]=parts[1]?"."+parts[1]:"";part=parts[1]+"!";return jQuery.access(this,function(value){if(value===undefined){data=this.triggerHandler("getData"+part,[parts[0]]);if(data===undefined&&elem){data=jQuery.data(elem,key);data=dataAttr(elem,key,data);}
return data===undefined&&parts[1]?this.data(parts[0]):data;}
parts[1]=value;this.each(function(){var self=jQuery(this);self.triggerHandler("setData"+part,parts);jQuery.data(this,key,value);self.triggerHandler("changeData"+part,parts);});},null,value,arguments.length>1,null,false);},removeData:function(key){return this.each(function(){jQuery.removeData(this,key);});}});function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:jQuery.isNumeric(data)?+data:rbrace.test(data)?jQuery.parseJSON(data):data;}catch(e){}
jQuery.data(elem,key,data);}else{data=undefined;}}
return data;}
function isEmptyDataObject(obj){for(var name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue;}
if(name!=="toJSON"){return false;}}
return true;}
function handleQueueMarkDefer(elem,type,src){var deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark",defer=jQuery._data(elem,deferDataKey);if(defer&&(src==="queue"||!jQuery._data(elem,queueDataKey))&&(src==="mark"||!jQuery._data(elem,markDataKey))){setTimeout(function(){if(!jQuery._data(elem,queueDataKey)&&!jQuery._data(elem,markDataKey)){jQuery.removeData(elem,deferDataKey,true);defer.fire();}},0);}}
jQuery.extend({_mark:function(elem,type){if(elem){type=(type||"fx")+"mark";jQuery._data(elem,type,(jQuery._data(elem,type)||0)+1);}},_unmark:function(force,elem,type){if(force!==true){type=elem;elem=force;force=false;}
if(elem){type=type||"fx";var key=type+"mark",count=force?0:((jQuery._data(elem,key)||1)-1);if(count){jQuery._data(elem,key,count);}else{jQuery.removeData(elem,key,true);handleQueueMarkDefer(elem,type,"mark");}}},queue:function(elem,type,data){var q;if(elem){type=(type||"fx")+"queue";q=jQuery._data(elem,type);if(data){if(!q||jQuery.isArray(data)){q=jQuery._data(elem,type,jQuery.makeArray(data));}else{q.push(data);}}
return q||[];}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift(),hooks={};if(fn==="inprogress"){fn=queue.shift();}
if(fn){if(type==="fx"){queue.unshift("inprogress");}
jQuery._data(elem,type+".run",hooks);fn.call(elem,function(){jQuery.dequeue(elem,type);},hooks);}
if(!queue.length){jQuery.removeData(elem,type+"queue "+type+".run",true);handleQueueMarkDefer(elem,type,"queue");}}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--;}
if(arguments.length<setter){return jQuery.queue(this[0],type);}
return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type);}});},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type);});},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout);};});},clearQueue:function(type){return this.queue(type||"fx",[]);},promise:function(type,object){if(typeof type!=="string"){object=type;type=undefined;}
type=type||"fx";var defer=jQuery.Deferred(),elements=this,i=elements.length,count=1,deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark",tmp;function resolve(){if(!(--count)){defer.resolveWith(elements,[elements]);}}
while(i--){if((tmp=jQuery.data(elements[i],deferDataKey,undefined,true)||(jQuery.data(elements[i],queueDataKey,undefined,true)||jQuery.data(elements[i],markDataKey,undefined,true))&&jQuery.data(elements[i],deferDataKey,jQuery.Callbacks("once memory"),true))){count++;tmp.add(resolve);}}
resolve();return defer.promise(object);}});var rclass=/[\n\t\r]/g,rspace=/\s+/,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea)?$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,nodeHook,boolHook,fixSpecified;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1);},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name);});},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1);},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name];}catch(e){}});},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className));});}
if(value&&typeof value==="string"){classNames=value.split(rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1){if(!elem.className&&classNames.length===1){elem.className=value;}else{setClass=" "+elem.className+" ";for(c=0,cl=classNames.length;c<cl;c++){if(!~setClass.indexOf(" "+classNames[c]+" ")){setClass+=classNames[c]+" ";}}
elem.className=jQuery.trim(setClass);}}}}
return this;},removeClass:function(value){var classNames,i,l,elem,className,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className));});}
if((value&&typeof value==="string")||value===undefined){classNames=(value||"").split(rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1&&elem.className){if(value){className=(" "+elem.className+" ").replace(rclass," ");for(c=0,cl=classNames.length;c<cl;c++){className=className.replace(" "+classNames[c]+" "," ");}
elem.className=jQuery.trim(className);}else{elem.className="";}}}}
return this;},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal);});}
return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspace);while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className);}}else if(type==="undefined"||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className);}
this.className=this.className||value===false?"":jQuery._data(this,"__className__")||"";}});},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1){return true;}}
return false;},val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret;}
ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret;}
return;}
isFunction=jQuery.isFunction(value);return this.each(function(i){var self=jQuery(this),val;if(this.nodeType!==1){return;}
if(isFunction){val=value.call(this,i,self.val());}else{val=value;}
if(val==null){val="";}else if(typeof val==="number"){val+="";}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+"";});}
hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val;}});}});jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text;}},select:{get:function(elem){var value,i,max,option,index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==="select-one";if(index<0){return null;}
i=one?index:0;max=one?index+1:options.length;for(;i<max;i++){option=options[i];if(option.selected&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value;}
values.push(value);}}
if(one&&!values.length&&options.length){return jQuery(options[index]).val();}
return values;},set:function(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0;});if(!values.length){elem.selectedIndex=-1;}
return values;}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}
if(pass&&name in jQuery.attrFn){return jQuery(elem)[name](value);}
if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value);}
notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook);}
if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return;}else if(hooks&&"set"in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}else{elem.setAttribute(name,""+value);return value;}}else if(hooks&&"get"in hooks&&notxml&&(ret=hooks.get(elem,name))!==null){return ret;}else{ret=elem.getAttribute(name);return ret===null?undefined:ret;}},removeAttr:function(elem,value){var propName,attrNames,name,l,isBool,i=0;if(value&&elem.nodeType===1){attrNames=value.toLowerCase().split(rspace);l=attrNames.length;for(;i<l;i++){name=attrNames[i];if(name){propName=jQuery.propFix[name]||name;isBool=rboolean.test(name);if(!isBool){jQuery.attr(elem,name,"");}
elem.removeAttribute(getSetAttribute?name:propName);if(isBool&&propName in elem){elem[propName]=false;}}}}},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error("type property can't be changed");}else if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val;}
return value;}}},value:{get:function(elem,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.get(elem,name);}
return name in elem?elem.value:null;},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.set(elem,value,name);}
elem.value=value;}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}
notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name];}
if(value!==undefined){if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}else{return(elem[name]=value);}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}else{return elem[name];}}},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined;}}}});jQuery.attrHooks.tabindex=jQuery.propHooks.tabIndex;boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===true||typeof property!=="boolean"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==false?name.toLowerCase():undefined;},set:function(elem,value,name){var propName;if(value===false){jQuery.removeAttr(elem,name);}else{propName=jQuery.propFix[name]||name;if(propName in elem){elem[propName]=true;}
elem.setAttribute(name,name.toLowerCase());}
return name;}};if(!getSetAttribute){fixSpecified={name:true,id:true,coords:true};nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;ret=elem.getAttributeNode(name);return ret&&(fixSpecified[name]?ret.nodeValue!=="":ret.specified)?ret.nodeValue:undefined;},set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){ret=document.createAttribute(name);elem.setAttributeNode(ret);}
return(ret.nodeValue=value+"");}};jQuery.attrHooks.tabindex.set=nodeHook.set;jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value;}}});});jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){if(value===""){value="false";}
nodeHook.set(elem,value,name);}};}
if(!jQuery.support.hrefNormalized){jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return ret===null?undefined:ret;}});});}
if(!jQuery.support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined;},set:function(elem,value){return(elem.style.cssText=""+value);}};}
if(!jQuery.support.optSelected){jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex;}}
return null;}});}
if(!jQuery.support.enctype){jQuery.propFix.enctype="encoding";}
if(!jQuery.support.checkOn){jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value;}};});}
jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0);}}});});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*)?(?:\.(.+))?$/,rhoverHack=/(?:^|\s)hover(\.\S+)?\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rquickIs=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,quickParse=function(selector){var quick=rquickIs.exec(selector);if(quick){quick[1]=(quick[1]||"").toLowerCase();quick[3]=quick[3]&&new RegExp("(?:^|\\s)"+quick[3]+"(?:\\s|$)");}
return quick;},quickIs=function(elem,m){var attrs=elem.attributes||{};return((!m[1]||elem.nodeName.toLowerCase()===m[1])&&(!m[2]||(attrs.id||{}).value===m[2])&&(!m[3]||m[3].test((attrs["class"]||{}).value)));},hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1");};jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,quick,handlers,special;if(elem.nodeType===3||elem.nodeType===8||!types||!handler||!(elemData=jQuery._data(elem))){return;}
if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector;}
if(!handler.guid){handler.guid=jQuery.guid++;}
events=elemData.events;if(!events){elemData.events=events={};}
eventHandle=elemData.handle;if(!eventHandle){elemData.handle=eventHandle=function(e){return typeof jQuery!=="undefined"&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined;};eventHandle.elem=elem;}
types=jQuery.trim(hoverHack(types)).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=tns[1];namespaces=(tns[2]||"").split(".").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,quick:selector&&quickParse(selector),namespace:namespaces.join(".")},handleObjIn);handlers=events[type];if(!handlers){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false);}else if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle);}}}
if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid;}}
if(selector){handlers.splice(handlers.delegateCount++,0,handleObj);}else{handlers.push(handleObj);}
jQuery.event.global[type]=true;}
elem=null;},global:{},remove:function(elem,types,handler,selector,mappedTypes){var elemData=jQuery.hasData(elem)&&jQuery._data(elem),t,tns,type,origType,namespaces,origCount,j,events,special,handle,eventType,handleObj;if(!elemData||!(events=elemData.events)){return;}
types=jQuery.trim(hoverHack(types||"")).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=origType=tns[1];namespaces=tns[2];if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true);}
continue;}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;eventType=events[type]||[];origCount=eventType.length;namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(j=0;j<eventType.length;j++){handleObj=eventType[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){eventType.splice(j--,1);if(handleObj.selector){eventType.delegateCount--;}
if(special.remove){special.remove.call(elem,handleObj);}}}
if(eventType.length===0&&origCount!==eventType.length){if(!special.teardown||special.teardown.call(elem,namespaces)===false){jQuery.removeEvent(elem,type,elemData.handle);}
delete events[type];}}
if(jQuery.isEmptyObject(events)){handle=elemData.handle;if(handle){handle.elem=null;}
jQuery.removeData(elem,["events","handle"],true);}},customEvent:{"getData":true,"setData":true,"changeData":true},trigger:function(event,data,elem,onlyHandlers){if(elem&&(elem.nodeType===3||elem.nodeType===8)){return;}
var type=event.type||event,namespaces=[],cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType;if(rfocusMorph.test(type+jQuery.event.triggered)){return;}
if(type.indexOf("!")>=0){type=type.slice(0,-1);exclusive=true;}
if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort();}
if((!elem||jQuery.event.customEvent[type])&&!jQuery.event.global[type]){return;}
event=typeof event==="object"?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type);event.type=type;event.isTrigger=true;event.exclusive=exclusive;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;ontype=type.indexOf(":")<0?"on"+type:"";if(!elem){cache=jQuery.cache;for(i in cache){if(cache[i].events&&cache[i].events[type]){jQuery.event.trigger(event,data,cache[i].handle.elem,true);}}
return;}
event.result=undefined;if(!event.target){event.target=elem;}
data=data!=null?jQuery.makeArray(data):[];data.unshift(event);special=jQuery.event.special[type]||{};if(special.trigger&&special.trigger.apply(elem,data)===false){return;}
eventPath=[[elem,special.bindType||type]];if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode;old=null;for(;cur;cur=cur.parentNode){eventPath.push([cur,bubbleType]);old=cur;}
if(old&&old===elem.ownerDocument){eventPath.push([old.defaultView||old.parentWindow||window,bubbleType]);}}
for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++){cur=eventPath[i][0];event.type=eventPath[i][1];handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data);}
handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply(cur,data)===false){event.preventDefault();}}
event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type==="click"&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&((type!=="focus"&&type!=="blur")||event.target.offsetWidth!==0)&&!jQuery.isWindow(elem)){old=elem[ontype];if(old){elem[ontype]=null;}
jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(old){elem[ontype]=old;}}}}
return event.result;},dispatch:function(event){event=jQuery.event.fix(event||window.event);var handlers=((jQuery._data(this,"events")||{})[event.type]||[]),delegateCount=handlers.delegateCount,args=[].slice.call(arguments,0),run_all=!event.exclusive&&!event.namespace,special=jQuery.event.special[event.type]||{},handlerQueue=[],i,j,cur,jqcur,ret,selMatch,matched,matches,handleObj,sel,related;args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return;}
if(delegateCount&&!(event.button&&event.type==="click")){jqcur=jQuery(this);jqcur.context=this.ownerDocument||this;for(cur=event.target;cur!=this;cur=cur.parentNode||this){if(cur.disabled!==true){selMatch={};matches=[];jqcur[0]=cur;for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector;if(selMatch[sel]===undefined){selMatch[sel]=(handleObj.quick?quickIs(cur,handleObj.quick):jqcur.is(sel));}
if(selMatch[sel]){matches.push(handleObj);}}
if(matches.length){handlerQueue.push({elem:cur,matches:matches});}}}}
if(handlers.length>delegateCount){handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)});}
for(i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++){matched=handlerQueue[i];event.currentTarget=matched.elem;for(j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++){handleObj=matched.matches[j];if(run_all||(!event.namespace&&!handleObj.namespace)||event.namespace_re&&event.namespace_re.test(handleObj.namespace)){event.data=handleObj.data;event.handleObj=handleObj;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation();}}}}}
if(special.postDispatch){special.postDispatch.call(this,event);}
return event.result;},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode;}
return event;}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}
if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement;}
if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)));}
return event;}},fix:function(event){if(event[jQuery.expando]){return event;}
var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=jQuery.Event(originalEvent);for(i=copy.length;i;){prop=copy[--i];event[prop]=originalEvent[prop];}
if(!event.target){event.target=originalEvent.srcElement||document;}
if(event.target.nodeType===3){event.target=event.target.parentNode;}
if(event.metaKey===undefined){event.metaKey=event.ctrlKey;}
return fixHook.filter?fixHook.filter(event,originalEvent):event;},special:{ready:{setup:jQuery.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,namespaces,eventHandle){if(jQuery.isWindow(this)){this.onbeforeunload=eventHandle;}},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null;}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem);}else{jQuery.event.dispatch.call(elem,e);}
if(e.isDefaultPrevented()){event.preventDefault();}}};jQuery.event.handle=jQuery.event.dispatch;jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false);}}:function(elem,type,handle){if(elem.detachEvent){elem.detachEvent("on"+type,handle);}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props);}
if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse;}else{this.type=src;}
if(props){jQuery.extend(this,props);}
this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true;};function returnFalse(){return false;}
function returnTrue(){return true;}
jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return;}
if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return;}
if(e.stopPropagation){e.stopPropagation();}
e.cancelBubble=true;},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation();},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var target=this,related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector,ret;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix;}
return ret;}};});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false;}
jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!form._submit_attached){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true;});form._submit_attached=true;}});},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true);}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false;}
jQuery.event.remove(this,"._submit");}};}
if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true;}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false;jQuery.event.simulate("change",this,event,true);}});}
return false;}
jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!elem._change_attached){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true);}});elem._change_attached=true;}});},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||(elem.type!=="radio"&&elem.type!=="checkbox")){return event.handleObj.handler.apply(this,arguments);}},teardown:function(){jQuery.event.remove(this,"._change");return rformElems.test(this.nodeName);}};}
if(!jQuery.support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true);};jQuery.event.special[fix]={setup:function(){if(attaches++===0){document.addEventListener(orig,handler,true);}},teardown:function(){if(--attaches===0){document.removeEventListener(orig,handler,true);}}};});}
jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined;}
for(type in types){this.on(type,selector,data,types[type],one);}
return this;}
if(data==null&&fn==null){fn=selector;data=selector=undefined;}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined;}else{fn=data;data=selector;selector=undefined;}}
if(fn===false){fn=returnFalse;}else if(!fn){return this;}
if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments);};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++);}
return this.each(function(){jQuery.event.add(this,types,fn,data,selector);});},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1);},off:function(types,selector,fn){if(types&&types.preventDefault&&types.handleObj){var handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this;}
if(typeof types==="object"){for(var type in types){this.off(type,selector,types[type]);}
return this;}
if(selector===false||typeof selector==="function"){fn=selector;selector=undefined;}
if(fn===false){fn=returnFalse;}
return this.each(function(){jQuery.event.remove(this,types,fn,selector);});},bind:function(types,data,fn){return this.on(types,null,data,fn);},unbind:function(types,fn){return this.off(types,null,fn);},live:function(types,data,fn){jQuery(this.context).on(types,this.selector,data,fn);return this;},die:function(types,fn){jQuery(this.context).off(types,this.selector||"**",fn);return this;},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn);},undelegate:function(selector,types,fn){return arguments.length==1?this.off(selector,"**"):this.off(types,selector,fn);},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this);});},triggerHandler:function(type,data){if(this[0]){return jQuery.event.trigger(type,data,this[0],true);}},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false;};toggler.guid=guid;while(i<args.length){args[i++].guid=guid;}
return this.click(toggler);},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver);}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){if(fn==null){fn=data;data=null;}
return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);};if(jQuery.attrFn){jQuery.attrFn[name]=true;}
if(rkeyEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.keyHooks;}
if(rmouseEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.mouseHooks;}});(function(){var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,expando="sizcache"+(Math.random()+'').replace('.',''),done=0,toString=Object.prototype.toString,hasDuplicate=false,baseHasDuplicate=true,rBackslash=/\\/g,rReturn=/\r\n/g,rNonWord=/\W/;[0,0].sort(function(){baseHasDuplicate=false;return 0;});var Sizzle=function(selector,context,results,seed){results=results||[];context=context||document;var origContext=context;if(context.nodeType!==1&&context.nodeType!==9){return[];}
if(!selector||typeof selector!=="string"){return results;}
var m,set,checkSet,extra,ret,cur,pop,i,prune=true,contextXML=Sizzle.isXML(context),parts=[],soFar=selector;do{chunker.exec("");m=chunker.exec(soFar);if(m){soFar=m[3];parts.push(m[1]);if(m[2]){extra=m[3];break;}}}while(m);if(parts.length>1&&origPOS.exec(selector)){if(parts.length===2&&Expr.relative[parts[0]]){set=posProcess(parts[0]+parts[1],context,seed);}else{set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);while(parts.length){selector=parts.shift();if(Expr.relative[selector]){selector+=parts.shift();}
set=posProcess(selector,set,seed);}}}else{if(!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])){ret=Sizzle.find(parts.shift(),context,contextXML);context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0];}
if(context){ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),parts.length===1&&(parts[0]==="~"||parts[0]==="+")&&context.parentNode?context.parentNode:context,contextXML);set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set;if(parts.length>0){checkSet=makeArray(set);}else{prune=false;}
while(parts.length){cur=parts.pop();pop=cur;if(!Expr.relative[cur]){cur="";}else{pop=parts.pop();}
if(pop==null){pop=context;}
Expr.relative[cur](checkSet,pop,contextXML);}}else{checkSet=parts=[];}}
if(!checkSet){checkSet=set;}
if(!checkSet){Sizzle.error(cur||selector);}
if(toString.call(checkSet)==="[object Array]"){if(!prune){results.push.apply(results,checkSet);}else if(context&&context.nodeType===1){for(i=0;checkSet[i]!=null;i++){if(checkSet[i]&&(checkSet[i]===true||checkSet[i].nodeType===1&&Sizzle.contains(context,checkSet[i]))){results.push(set[i]);}}}else{for(i=0;checkSet[i]!=null;i++){if(checkSet[i]&&checkSet[i].nodeType===1){results.push(set[i]);}}}}else{makeArray(checkSet,results);}
if(extra){Sizzle(extra,origContext,results,seed);Sizzle.uniqueSort(results);}
return results;};Sizzle.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(var i=1;i<results.length;i++){if(results[i]===results[i-1]){results.splice(i--,1);}}}}
return results;};Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set);};Sizzle.matchesSelector=function(node,expr){return Sizzle(expr,null,null,[node]).length>0;};Sizzle.find=function(expr,context,isXML){var set,i,len,match,type,left;if(!expr){return[];}
for(i=0,len=Expr.order.length;i<len;i++){type=Expr.order[i];if((match=Expr.leftMatch[type].exec(expr))){left=match[1];match.splice(1,1);if(left.substr(left.length-1)!=="\\"){match[1]=(match[1]||"").replace(rBackslash,"");set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],"");break;}}}}
if(!set){set=typeof context.getElementsByTagName!=="undefined"?context.getElementsByTagName("*"):[];}
return{set:set,expr:expr};};Sizzle.filter=function(expr,set,inplace,not){var match,anyFound,type,found,item,filter,left,i,pass,old=expr,result=[],curLoop=set,isXMLFilter=set&&set[0]&&Sizzle.isXML(set[0]);while(expr&&set.length){for(type in Expr.filter){if((match=Expr.leftMatch[type].exec(expr))!=null&&match[2]){filter=Expr.filter[type];left=match[1];anyFound=false;match.splice(1,1);if(left.substr(left.length-1)==="\\"){continue;}
if(curLoop===result){result=[];}
if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match){anyFound=found=true;}else if(match===true){continue;}}
if(match){for(i=0;(item=curLoop[i])!=null;i++){if(item){found=filter(item,match,i,curLoop);pass=not^found;if(inplace&&found!=null){if(pass){anyFound=true;}else{curLoop[i]=false;}}else if(pass){result.push(item);anyFound=true;}}}}
if(found!==undefined){if(!inplace){curLoop=result;}
expr=expr.replace(Expr.match[type],"");if(!anyFound){return[];}
break;}}}
if(expr===old){if(anyFound==null){Sizzle.error(expr);}else{break;}}
old=expr;}
return curLoop;};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);};var getText=Sizzle.getText=function(elem){var i,node,nodeType=elem.nodeType,ret="";if(nodeType){if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==='string'){return elem.textContent;}else if(typeof elem.innerText==='string'){return elem.innerText.replace(rReturn,'');}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem);}}}else if(nodeType===3||nodeType===4){return elem.nodeValue;}}else{for(i=0;(node=elem[i]);i++){if(node.nodeType!==8){ret+=getText(node);}}}
return ret;};var Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href");},type:function(elem){return elem.getAttribute("type");}},relative:{"+":function(checkSet,part){var isPartStr=typeof part==="string",isTag=isPartStr&&!rNonWord.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag){part=part.toLowerCase();}
for(var i=0,l=checkSet.length,elem;i<l;i++){if((elem=checkSet[i])){while((elem=elem.previousSibling)&&elem.nodeType!==1){}
checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||false:elem===part;}}
if(isPartStrNotTag){Sizzle.filter(part,checkSet,true);}},">":function(checkSet,part){var elem,isPartStr=typeof part==="string",i=0,l=checkSet.length;if(isPartStr&&!rNonWord.test(part)){part=part.toLowerCase();for(;i<l;i++){elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:false;}}}else{for(;i<l;i++){elem=checkSet[i];if(elem){checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part;}}
if(isPartStr){Sizzle.filter(part,checkSet,true);}}},"":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!rNonWord.test(part)){part=part.toLowerCase();nodeCheck=part;checkFn=dirNodeCheck;}
checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML);},"~":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!rNonWord.test(part)){part=part.toLowerCase();nodeCheck=part;checkFn=dirNodeCheck;}
checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML);}},find:{ID:function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m&&m.parentNode?[m]:[];}},NAME:function(match,context){if(typeof context.getElementsByName!=="undefined"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++){if(results[i].getAttribute("name")===match[1]){ret.push(results[i]);}}
return ret.length===0?null:ret;}},TAG:function(match,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(match[1]);}}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){match=" "+match[1].replace(rBackslash,"")+" ";if(isXML){return match;}
for(var i=0,elem;(elem=curLoop[i])!=null;i++){if(elem){if(not^(elem.className&&(" "+elem.className+" ").replace(/[\t\n\r]/g," ").indexOf(match)>=0)){if(!inplace){result.push(elem);}}else if(inplace){curLoop[i]=false;}}}
return false;},ID:function(match){return match[1].replace(rBackslash,"");},TAG:function(match,curLoop){return match[1].replace(rBackslash,"").toLowerCase();},CHILD:function(match){if(match[1]==="nth"){if(!match[2]){Sizzle.error(match[0]);}
match[2]=match[2].replace(/^\+|\s*/g,'');var test=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(match[2]==="even"&&"2n"||match[2]==="odd"&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=(test[1]+(test[2]||1))-0;match[3]=test[3]-0;}
else if(match[2]){Sizzle.error(match[0]);}
match[0]=done++;return match;},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1]=match[1].replace(rBackslash,"");if(!isXML&&Expr.attrMap[name]){match[1]=Expr.attrMap[name];}
match[4]=(match[4]||match[5]||"").replace(rBackslash,"");if(match[2]==="~="){match[4]=" "+match[4]+" ";}
return match;},PSEUDO:function(match,curLoop,inplace,result,not){if(match[1]==="not"){if((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3])){match[3]=Sizzle(match[3],null,null,curLoop);}else{var ret=Sizzle.filter(match[3],curLoop,inplace,true^not);if(!inplace){result.push.apply(result,ret);}
return false;}}else if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0])){return true;}
return match;},POS:function(match){match.unshift(true);return match;}},filters:{enabled:function(elem){return elem.disabled===false&&elem.type!=="hidden";},disabled:function(elem){return elem.disabled===true;},checked:function(elem){return elem.checked===true;},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex;}
return elem.selected===true;},parent:function(elem){return!!elem.firstChild;},empty:function(elem){return!elem.firstChild;},has:function(elem,i,match){return!!Sizzle(match[3],elem).length;},header:function(elem){return(/h\d/i).test(elem.nodeName);},text:function(elem){var attr=elem.getAttribute("type"),type=elem.type;return elem.nodeName.toLowerCase()==="input"&&"text"===type&&(attr===type||attr===null);},radio:function(elem){return elem.nodeName.toLowerCase()==="input"&&"radio"===elem.type;},checkbox:function(elem){return elem.nodeName.toLowerCase()==="input"&&"checkbox"===elem.type;},file:function(elem){return elem.nodeName.toLowerCase()==="input"&&"file"===elem.type;},password:function(elem){return elem.nodeName.toLowerCase()==="input"&&"password"===elem.type;},submit:function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&"submit"===elem.type;},image:function(elem){return elem.nodeName.toLowerCase()==="input"&&"image"===elem.type;},reset:function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&"reset"===elem.type;},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&"button"===elem.type||name==="button";},input:function(elem){return(/input|select|textarea|button/i).test(elem.nodeName);},focus:function(elem){return elem===elem.ownerDocument.activeElement;}},setFilters:{first:function(elem,i){return i===0;},last:function(elem,i,match,array){return i===array.length-1;},even:function(elem,i){return i%2===0;},odd:function(elem,i){return i%2===1;},lt:function(elem,i,match){return i<match[3]-0;},gt:function(elem,i,match){return i>match[3]-0;},nth:function(elem,i,match){return match[3]-0===i;},eq:function(elem,i,match){return match[3]-0===i;}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter){return filter(elem,i,match,array);}else if(name==="contains"){return(elem.textContent||elem.innerText||getText([elem])||"").indexOf(match[3])>=0;}else if(name==="not"){var not=match[3];for(var j=0,l=not.length;j<l;j++){if(not[j]===elem){return false;}}
return true;}else{Sizzle.error(name);}},CHILD:function(elem,match){var first,last,doneName,parent,cache,count,diff,type=match[1],node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false;}}
if(type==="first"){return true;}
node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false;}}
return true;case"nth":first=match[2];last=match[3];if(first===1&&last===0){return true;}
doneName=match[0];parent=elem.parentNode;if(parent&&(parent[expando]!==doneName||!elem.nodeIndex)){count=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.nodeIndex=++count;}}
parent[expando]=doneName;}
diff=elem.nodeIndex-last;if(first===0){return diff===0;}else{return(diff%first===0&&diff/first>=0);}}},ID:function(elem,match){return elem.nodeType===1&&elem.getAttribute("id")===match;},TAG:function(elem,match){return(match==="*"&&elem.nodeType===1)||!!elem.nodeName&&elem.nodeName.toLowerCase()===match;},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1;},ATTR:function(elem,match){var name=match[1],result=Sizzle.attr?Sizzle.attr(elem,name):Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return result==null?type==="!=":!type&&Sizzle.attr?result!=null:type==="="?value===check:type==="*="?value.indexOf(check)>=0:type==="~="?(" "+value+" ").indexOf(check)>=0:!check?value&&result!==false:type==="!="?value!==check:type==="^="?value.indexOf(check)===0:type==="$="?value.substr(value.length-check.length)===check:type==="|="?value===check||value.substr(0,check.length+1)===check+"-":false;},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter){return filter(elem,i,match,array);}}}};var origPOS=Expr.match.POS,fescape=function(all,num){return"\\"+(num-0+1);};for(var type in Expr.match){Expr.match[type]=new RegExp(Expr.match[type].source+(/(?![^\[]*\])(?![^\(]*\))/.source));Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source.replace(/\\(\d+)/g,fescape));}
Expr.match.globalPOS=origPOS;var makeArray=function(array,results){array=Array.prototype.slice.call(array,0);if(results){results.push.apply(results,array);return results;}
return array;};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType;}catch(e){makeArray=function(array,results){var i=0,ret=results||[];if(toString.call(array)==="[object Array]"){Array.prototype.push.apply(ret,array);}else{if(typeof array.length==="number"){for(var l=array.length;i<l;i++){ret.push(array[i]);}}else{for(;array[i];i++){ret.push(array[i]);}}}
return ret;};}
var sortOrder,siblingCheck;if(document.documentElement.compareDocumentPosition){sortOrder=function(a,b){if(a===b){hasDuplicate=true;return 0;}
if(!a.compareDocumentPosition||!b.compareDocumentPosition){return a.compareDocumentPosition?-1:1;}
return a.compareDocumentPosition(b)&4?-1:1;};}else{sortOrder=function(a,b){if(a===b){hasDuplicate=true;return 0;}else if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex;}
var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup){return siblingCheck(a,b);}else if(!aup){return-1;}else if(!bup){return 1;}
while(cur){ap.unshift(cur);cur=cur.parentNode;}
cur=bup;while(cur){bp.unshift(cur);cur=cur.parentNode;}
al=ap.length;bl=bp.length;for(var i=0;i<al&&i<bl;i++){if(ap[i]!==bp[i]){return siblingCheck(ap[i],bp[i]);}}
return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1);};siblingCheck=function(a,b,ret){if(a===b){return ret;}
var cur=a.nextSibling;while(cur){if(cur===b){return-1;}
cur=cur.nextSibling;}
return 1;};}
(function(){var form=document.createElement("div"),id="script"+(new Date()).getTime(),root=document.documentElement;form.innerHTML="<a name='"+id+"'/>";root.insertBefore(form,root.firstChild);if(document.getElementById(id)){Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[];}};Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return elem.nodeType===1&&node&&node.nodeValue===match;};}
root.removeChild(form);root=form=null;})();(function(){var div=document.createElement("div");div.appendChild(document.createComment(""));if(div.getElementsByTagName("*").length>0){Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==="*"){var tmp=[];for(var i=0;results[i];i++){if(results[i].nodeType===1){tmp.push(results[i]);}}
results=tmp;}
return results;};}
div.innerHTML="<a href='#'></a>";if(div.firstChild&&typeof div.firstChild.getAttribute!=="undefined"&&div.firstChild.getAttribute("href")!=="#"){Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2);};}
div=null;})();if(document.querySelectorAll){(function(){var oldSizzle=Sizzle,div=document.createElement("div"),id="__sizzle__";div.innerHTML="<p class='TEST'></p>";if(div.querySelectorAll&&div.querySelectorAll(".TEST").length===0){return;}
Sizzle=function(query,context,extra,seed){context=context||document;if(!seed&&!Sizzle.isXML(context)){var match=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(query);if(match&&(context.nodeType===1||context.nodeType===9)){if(match[1]){return makeArray(context.getElementsByTagName(query),extra);}else if(match[2]&&Expr.find.CLASS&&context.getElementsByClassName){return makeArray(context.getElementsByClassName(match[2]),extra);}}
if(context.nodeType===9){if(query==="body"&&context.body){return makeArray([context.body],extra);}else if(match&&match[3]){var elem=context.getElementById(match[3]);if(elem&&elem.parentNode){if(elem.id===match[3]){return makeArray([elem],extra);}}else{return makeArray([],extra);}}
try{return makeArray(context.querySelectorAll(query),extra);}catch(qsaError){}}else if(context.nodeType===1&&context.nodeName.toLowerCase()!=="object"){var oldContext=context,old=context.getAttribute("id"),nid=old||id,hasParent=context.parentNode,relativeHierarchySelector=/^\s*[+~]/.test(query);if(!old){context.setAttribute("id",nid);}else{nid=nid.replace(/'/g,"\\$&");}
if(relativeHierarchySelector&&hasParent){context=context.parentNode;}
try{if(!relativeHierarchySelector||hasParent){return makeArray(context.querySelectorAll("[id='"+nid+"'] "+query),extra);}}catch(pseudoError){}finally{if(!old){oldContext.removeAttribute("id");}}}}
return oldSizzle(query,context,extra,seed);};for(var prop in oldSizzle){Sizzle[prop]=oldSizzle[prop];}
div=null;})();}
(function(){var html=document.documentElement,matches=html.matchesSelector||html.mozMatchesSelector||html.webkitMatchesSelector||html.msMatchesSelector;if(matches){var disconnectedMatch=!matches.call(document.createElement("div"),"div"),pseudoWorks=false;try{matches.call(document.documentElement,"[test!='']:sizzle");}catch(pseudoError){pseudoWorks=true;}
Sizzle.matchesSelector=function(node,expr){expr=expr.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!Sizzle.isXML(node)){try{if(pseudoWorks||!Expr.match.PSEUDO.test(expr)&&!/!=/.test(expr)){var ret=matches.call(node,expr);if(ret||!disconnectedMatch||node.document&&node.document.nodeType!==11){return ret;}}}catch(e){}}
return Sizzle(expr,null,null,[node]).length>0;};}})();(function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>";if(!div.getElementsByClassName||div.getElementsByClassName("e").length===0){return;}
div.lastChild.className="e";if(div.getElementsByClassName("e").length===1){return;}
Expr.order.splice(1,0,"CLASS");Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!=="undefined"&&!isXML){return context.getElementsByClassName(match[1]);}};div=null;})();function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=false;elem=elem[dir];while(elem){if(elem[expando]===doneName){match=checkSet[elem.sizset];break;}
if(elem.nodeType===1&&!isXML){elem[expando]=doneName;elem.sizset=i;}
if(elem.nodeName.toLowerCase()===cur){match=elem;break;}
elem=elem[dir];}
checkSet[i]=match;}}}
function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=false;elem=elem[dir];while(elem){if(elem[expando]===doneName){match=checkSet[elem.sizset];break;}
if(elem.nodeType===1){if(!isXML){elem[expando]=doneName;elem.sizset=i;}
if(typeof cur!=="string"){if(elem===cur){match=true;break;}}else if(Sizzle.filter(cur,[elem]).length>0){match=elem;break;}}
elem=elem[dir];}
checkSet[i]=match;}}}
if(document.documentElement.contains){Sizzle.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):true);};}else if(document.documentElement.compareDocumentPosition){Sizzle.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16);};}else{Sizzle.contains=function(){return false;};}
Sizzle.isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":false;};var posProcess=function(selector,context,seed){var match,tmpSet=[],later="",root=context.nodeType?[context]:context;while((match=Expr.match.PSEUDO.exec(selector))){later+=match[0];selector=selector.replace(Expr.match.PSEUDO,"");}
selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;i<l;i++){Sizzle(selector,root[i],tmpSet,seed);}
return Sizzle.filter(later,tmpSet);};Sizzle.attr=jQuery.attr;Sizzle.selectors.attrMap={};jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.filters;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;})();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,isSimple=/^.[^:#\[\.,]*$/,slice=Array.prototype.slice,POS=jQuery.expr.match.globalPOS,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var self=this,i,l;if(typeof selector!=="string"){return jQuery(selector).filter(function(){for(i=0,l=self.length;i<l;i++){if(jQuery.contains(self[i],this)){return true;}}});}
var ret=this.pushStack("","find",selector),length,n,r;for(i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(n=length;n<ret.length;n++){for(r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break;}}}}}
return ret;},has:function(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;i<l;i++){if(jQuery.contains(this,targets[i])){return true;}}});},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector);},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector);},is:function(selector){return!!selector&&(typeof selector==="string"?POS.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0);},closest:function(selectors,context){var ret=[],i,l,cur=this[0];if(jQuery.isArray(selectors)){var level=1;while(cur&&cur.ownerDocument&&cur!==context){for(i=0;i<selectors.length;i++){if(jQuery(cur).is(selectors[i])){ret.push({selector:selectors[i],elem:cur,level:level});}}
cur=cur.parentNode;level++;}
return ret;}
var pos=POS.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(i=0,l=this.length;i<l;i++){cur=this[i];while(cur){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break;}else{cur=cur.parentNode;if(!cur||!cur.ownerDocument||cur===context||cur.nodeType===11){break;}}}}
ret=ret.length>1?jQuery.unique(ret):ret;return this.pushStack(ret,"closest",selectors);},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1;}
if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem));}
return jQuery.inArray(elem.jquery?elem[0]:elem,this);},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all));},andSelf:function(){return this.add(this.prevObject);}});function isDisconnected(node){return!node||!node.parentNode||node.parentNode.nodeType===11;}
jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null;},parents:function(elem){return jQuery.dir(elem,"parentNode");},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until);},next:function(elem){return jQuery.nth(elem,2,"nextSibling");},prev:function(elem){return jQuery.nth(elem,2,"previousSibling");},nextAll:function(elem){return jQuery.dir(elem,"nextSibling");},prevAll:function(elem){return jQuery.dir(elem,"previousSibling");},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until);},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until);},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem);},children:function(elem){return jQuery.sibling(elem.firstChild);},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until;}
if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret);}
ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if((this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)){ret=ret.reverse();}
return this.pushStack(ret,name,slice.call(arguments).join(","));};});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")";}
return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems);},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur);}
cur=cur[dir];}
return matched;},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType===1&&++num===result){break;}}
return cur;},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n);}}
return r;}});function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep;});}else if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep;});}else if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1;});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep);}else{qualifier=jQuery.filter(qualifier,filtered);}}
return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep;});}
function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop());}}
return safeFrag;}
var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)/,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document);wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"div<div>","</div>"];}
jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value));},null,value,arguments.length);},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i));});}
if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0]);}
wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild;}
return elem;}).append(this);}
return this;},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i));});}
return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html);}else{self.append(html);}});},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html);});},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes);}}).end();},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.appendChild(elem);}});},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.insertBefore(elem,this.firstChild);}});},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this);});}else if(arguments.length){var set=jQuery.clean(arguments);set.push.apply(set,this.toArray());return this.pushStack(set,"before",arguments);}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling);});}else if(arguments.length){var set=this.pushStack(this,"after",arguments);set.push.apply(set,jQuery.clean(arguments));return set;}},remove:function(selector,keepData){for(var i=0,elem;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem]);}
if(elem.parentNode){elem.parentNode.removeChild(elem);}}}
return this;},empty:function(){for(var i=0,elem;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));}
while(elem.firstChild){elem.removeChild(elem.firstChild);}}
return this;},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents);});},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):null;}
if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));elem.innerHTML=value;}}
elem=0;}catch(e){}}
if(elem){this.empty().append(value);}},null,value,arguments.length);},replaceWith:function(value){if(this[0]&&this[0].parentNode){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old));});}
if(typeof value!=="string"){value=jQuery(value).detach();}
return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value);}else{jQuery(parent).append(value);}});}else{return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this;}},detach:function(selector){return this.remove(selector,true);},domManip:function(args,table,callback){var results,first,fragment,parent,value=args[0],scripts=[];if(!jQuery.support.checkClone&&arguments.length===3&&typeof value==="string"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback,true);});}
if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback);});}
if(this[0]){parent=value&&value.parentNode;if(jQuery.support.parentNode&&parent&&parent.nodeType===11&&parent.childNodes.length===this.length){results={fragment:parent};}else{results=jQuery.buildFragment(args,this,scripts);}
fragment=results.fragment;if(fragment.childNodes.length===1){first=fragment=fragment.firstChild;}else{first=fragment.firstChild;}
if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length,lastIndex=l-1;i<l;i++){callback.call(table?root(this[i],first):this[i],results.cacheable||(l>1&&i<lastIndex)?jQuery.clone(fragment,true,true):fragment);}}
if(scripts.length){jQuery.each(scripts,function(i,elem){if(elem.src){jQuery.ajax({type:"GET",global:false,url:elem.src,async:false,dataType:"script"});}else{jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,"/*$0*/"));}
if(elem.parentNode){elem.parentNode.removeChild(elem);}});}}
return this;}});function root(elem,cur){return jQuery.nodeName(elem,"table")?(elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody"))):elem;}
function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return;}
var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i]);}}}
if(curData.data){curData.data=jQuery.extend({},curData.data);}}
function cloneFixAttributes(src,dest){var nodeName;if(dest.nodeType!==1){return;}
if(dest.clearAttributes){dest.clearAttributes();}
if(dest.mergeAttributes){dest.mergeAttributes(src);}
nodeName=dest.nodeName.toLowerCase();if(nodeName==="object"){dest.outerHTML=src.outerHTML;}else if(nodeName==="input"&&(src.type==="checkbox"||src.type==="radio")){if(src.checked){dest.defaultChecked=dest.checked=src.checked;}
if(dest.value!==src.value){dest.value=src.value;}}else if(nodeName==="option"){dest.selected=src.defaultSelected;}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue;}else if(nodeName==="script"&&dest.text!==src.text){dest.text=src.text;}
dest.removeAttribute(jQuery.expando);dest.removeAttribute("_submit_attached");dest.removeAttribute("_change_attached");}
jQuery.buildFragment=function(args,nodes,scripts){var fragment,cacheable,cacheresults,doc,first=args[0];if(nodes&&nodes[0]){doc=nodes[0].ownerDocument||nodes[0];}
if(!doc.createDocumentFragment){doc=document;}
if(args.length===1&&typeof first==="string"&&first.length<512&&doc===document&&first.charAt(0)==="<"&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first))){cacheable=true;cacheresults=jQuery.fragments[first];if(cacheresults&&cacheresults!==1){fragment=cacheresults;}}
if(!fragment){fragment=doc.createDocumentFragment();jQuery.clean(args,doc,fragment,scripts);}
if(cacheable){jQuery.fragments[first]=cacheresults?fragment:1;}
return{fragment:fragment,cacheable:cacheable};};jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),parent=this.length===1&&this[0].parentNode;if(parent&&parent.nodeType===11&&parent.childNodes.length===1&&insert.length===1){insert[original](this[0]);return this;}else{for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems);}
return this.pushStack(ret,name,insert.selector);}};});function getAll(elem){if(typeof elem.getElementsByTagName!=="undefined"){return elem.getElementsByTagName("*");}else if(typeof elem.querySelectorAll!=="undefined"){return elem.querySelectorAll("*");}else{return[];}}
function fixDefaultChecked(elem){if(elem.type==="checkbox"||elem.type==="radio"){elem.defaultChecked=elem.checked;}}
function findInputs(elem){var nodeName=(elem.nodeName||"").toLowerCase();if(nodeName==="input"){fixDefaultChecked(elem);}else if(nodeName!=="script"&&typeof elem.getElementsByTagName!=="undefined"){jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked);}}
function shimCloneNode(elem){var div=document.createElement("div");safeFragment.appendChild(div);div.innerHTML=elem.outerHTML;return div.firstChild;}
jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone=jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")?elem.cloneNode(true):shimCloneNode(elem);if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone);srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){if(destElements[i]){cloneFixAttributes(srcElements[i],destElements[i]);}}}
if(dataAndEvents){cloneCopyEvent(elem,clone);if(deepDataAndEvents){srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){cloneCopyEvent(srcElements[i],destElements[i]);}}}
srcElements=destElements=null;return clone;},clean:function(elems,context,fragment,scripts){var checkScriptType,script,j,ret=[];context=context||document;if(typeof context.createElement==="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document;}
for(var i=0,elem;(elem=elems[i])!=null;i++){if(typeof elem==="number"){elem+="";}
if(!elem){continue;}
if(typeof elem==="string"){if(!rhtml.test(elem)){elem=context.createTextNode(elem);}else{elem=elem.replace(rxhtmlTag,"<$1></$2>");var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement("div"),safeChildNodes=safeFragment.childNodes,remove;if(context===document){safeFragment.appendChild(div);}else{createSafeFragment(context).appendChild(div);}
div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild;}
if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j]);}}}
if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild);}
elem=div.childNodes;if(div){div.parentNode.removeChild(div);if(safeChildNodes.length>0){remove=safeChildNodes[safeChildNodes.length-1];if(remove&&remove.parentNode){remove.parentNode.removeChild(remove);}}}}}
var len;if(!jQuery.support.appendChecked){if(elem[0]&&typeof(len=elem.length)==="number"){for(j=0;j<len;j++){findInputs(elem[j]);}}else{findInputs(elem);}}
if(elem.nodeType){ret.push(elem);}else{ret=jQuery.merge(ret,elem);}}
if(fragment){checkScriptType=function(elem){return!elem.type||rscriptType.test(elem.type);};for(i=0;ret[i];i++){script=ret[i];if(scripts&&jQuery.nodeName(script,"script")&&(!script.type||rscriptType.test(script.type))){scripts.push(script.parentNode?script.parentNode.removeChild(script):script);}else{if(script.nodeType===1){var jsTags=jQuery.grep(script.getElementsByTagName("script"),checkScriptType);ret.splice.apply(ret,[i+1,0].concat(jsTags));}
fragment.appendChild(script);}}}
return ret;},cleanData:function(elems){var data,id,cache=jQuery.cache,special=jQuery.event.special,deleteExpando=jQuery.support.deleteExpando;for(var i=0,elem;(elem=elems[i])!=null;i++){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){continue;}
id=elem[jQuery.expando];if(id){data=cache[id];if(data&&data.events){for(var type in data.events){if(special[type]){jQuery.event.remove(elem,type);}else{jQuery.removeEvent(elem,type,data.handle);}}
if(data.handle){data.handle.elem=null;}}
if(deleteExpando){delete elem[jQuery.expando];}else if(elem.removeAttribute){elem.removeAttribute(jQuery.expando);}
delete cache[id];}}}});var ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rupper=/([A-Z]|^ms)/g,rnum=/^[\-+]?(?:\d*\.)?\d+$/i,rnumnonpx=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,rrelNum=/^([\-+])=([\-+.\de]+)/,rmargin=/^margin/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssExpand=["Top","Right","Bottom","Left"],curCSS,getComputedStyle,currentStyle;jQuery.fn.css=function(name,value){return jQuery.access(this,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name);},name,value,arguments.length>1);};jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret;}else{return elem.style.opacity;}}}},cssNumber:{"fillOpacity":true,"fontWeight":true,"lineHeight":true,"opacity":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;}
var ret,type,origName=jQuery.camelCase(name),style=elem.style,hooks=jQuery.cssHooks[origName];name=jQuery.cssProps[origName]||origName;if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(+(ret[1]+1)*+ret[2])+parseFloat(jQuery.css(elem,name));type="number";}
if(value==null||type==="number"&&isNaN(value)){return;}
if(type==="number"&&!jQuery.cssNumber[origName]){value+="px";}
if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value))!==undefined){try{style[name]=value;}catch(e){}}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret;}
return style[name];}},css:function(elem,name,extra){var ret,hooks;name=jQuery.camelCase(name);hooks=jQuery.cssHooks[name];name=jQuery.cssProps[name]||name;if(name==="cssFloat"){name="float";}
if(hooks&&"get"in hooks&&(ret=hooks.get(elem,true,extra))!==undefined){return ret;}else if(curCSS){return curCSS(elem,name);}},swap:function(elem,options,callback){var old={},ret,name;for(name in options){old[name]=elem.style[name];elem.style[name]=options[name];}
ret=callback.call(elem);for(name in options){elem.style[name]=old[name];}
return ret;}});jQuery.curCSS=jQuery.css;if(document.defaultView&&document.defaultView.getComputedStyle){getComputedStyle=function(elem,name){var ret,defaultView,computedStyle,width,style=elem.style;name=name.replace(rupper,"-$1").toLowerCase();if((defaultView=elem.ownerDocument.defaultView)&&(computedStyle=defaultView.getComputedStyle(elem,null))){ret=computedStyle.getPropertyValue(name);if(ret===""&&!jQuery.contains(elem.ownerDocument.documentElement,elem)){ret=jQuery.style(elem,name);}}
if(!jQuery.support.pixelMargin&&computedStyle&&rmargin.test(name)&&rnumnonpx.test(ret)){width=style.width;style.width=ret;ret=computedStyle.width;style.width=width;}
return ret;};}
if(document.documentElement.currentStyle){currentStyle=function(elem,name){var left,rsLeft,uncomputed,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;if(ret==null&&style&&(uncomputed=style[name])){ret=uncomputed;}
if(rnumnonpx.test(ret)){left=style.left;rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left;if(rsLeft){elem.runtimeStyle.left=elem.currentStyle.left;}
style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft){elem.runtimeStyle.left=rsLeft;}}
return ret===""?"auto":ret;};}
curCSS=getComputedStyle||currentStyle;function getWidthOrHeight(elem,name,extra){var val=name==="width"?elem.offsetWidth:elem.offsetHeight,i=name==="width"?1:0,len=4;if(val>0){if(extra!=="border"){for(;i<len;i+=2){if(!extra){val-=parseFloat(jQuery.css(elem,"padding"+cssExpand[i]))||0;}
if(extra==="margin"){val+=parseFloat(jQuery.css(elem,extra+cssExpand[i]))||0;}else{val-=parseFloat(jQuery.css(elem,"border"+cssExpand[i]+"Width"))||0;}}}
return val+"px";}
val=curCSS(elem,name);if(val<0||val==null){val=elem.style[name];}
if(rnumnonpx.test(val)){return val;}
val=parseFloat(val)||0;if(extra){for(;i<len;i+=2){val+=parseFloat(jQuery.css(elem,"padding"+cssExpand[i]))||0;if(extra!=="padding"){val+=parseFloat(jQuery.css(elem,"border"+cssExpand[i]+"Width"))||0;}
if(extra==="margin"){val+=parseFloat(jQuery.css(elem,extra+cssExpand[i]))||0;}}}
return val+"px";}
jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){if(elem.offsetWidth!==0){return getWidthOrHeight(elem,name,extra);}else{return jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra);});}}},set:function(elem,value){return rnum.test(value)?value+"px":value;}};});if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":computed?"1":"";},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if(value>=1&&jQuery.trim(filter.replace(ralpha,""))===""){style.removeAttribute("filter");if(currentStyle&&!currentStyle.filter){return;}}
style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity;}};}
jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function(elem,computed){return jQuery.swap(elem,{"display":"inline-block"},function(){if(computed){return curCSS(elem,"margin-right");}else{return elem.style.marginRight;}});}};}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight;return(width===0&&height===0)||(!jQuery.support.reliableHiddenOffsets&&((elem.style&&elem.style.display)||jQuery.css(elem,"display"))==="none");};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem);};}
jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i,parts=typeof value==="string"?value.split(" "):[value],expanded={};for(i=0;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];}
return expanded;}};});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rselectTextarea=/^(?:select|textarea)/i,rspacesAjax=/\s+/,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,_load=jQuery.fn.load,prefilters={},transports={},ajaxLocation,ajaxLocParts,allTypes=["*/"]+["*"];try{ajaxLocation=location.href;}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href;}
ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*";}
if(jQuery.isFunction(func)){var dataTypes=dataTypeExpression.toLowerCase().split(rspacesAjax),i=0,length=dataTypes.length,dataType,list,placeBefore;for(;i<length;i++){dataType=dataTypes[i];placeBefore=/^\+/.test(dataType);if(placeBefore){dataType=dataType.substr(1)||"*";}
list=structure[dataType]=structure[dataType]||[];list[placeBefore?"unshift":"push"](func);}}};}
function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0];inspected=inspected||{};inspected[dataType]=true;var list=structure[dataType],i=0,length=list?list.length:0,executeOnly=(structure===prefilters),selection;for(;i<length&&(executeOnly||!selection);i++){selection=list[i](options,originalOptions,jqXHR);if(typeof selection==="string"){if(!executeOnly||inspected[selection]){selection=undefined;}else{options.dataTypes.unshift(selection);selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected);}}}
if((executeOnly||!selection)&&!inspected["*"]){selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected);}
return selection;}
function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key];}}
if(deep){jQuery.extend(true,target,deep);}}
jQuery.fn.extend({load:function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments);}else if(!this.length){return this;}
var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off);}
var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=undefined;}else if(typeof params==="object"){params=jQuery.param(params,jQuery.ajaxSettings.traditional);type="POST";}}
var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status,responseText){responseText=jqXHR.responseText;if(jqXHR.isResolved()){jqXHR.done(function(r){responseText=r;});self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText);}
if(callback){self.each(callback,[responseText,status,jqXHR]);}}});return this;},serialize:function(){return jQuery.param(this.serializeArray());},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this;}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type));}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")};}):{name:elem.name,value:val.replace(rCRLF,"\r\n")};}).get();}});jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f);};});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined;}
return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type});};});jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script");},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json");},ajaxSetup:function(target,settings){if(settings){ajaxExtend(target,jQuery.ajaxSettings);}else{settings=target;target=jQuery.ajaxSettings;}
ajaxExtend(target,settings);return target;},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined;}
options=options||{};var
s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},ifModifiedKey,requestHeaders={},requestHeadersNames={},responseHeadersString,responseHeaders,transport,timeoutTimer,parts,state=0,fireGlobals,i,jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value;}
return this;},getAllResponseHeaders:function(){return state===2?responseHeadersString:null;},getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2];}}
match=responseHeaders[key.toLowerCase()];}
return match===undefined?null:match;},overrideMimeType:function(type){if(!state){s.mimeType=type;}
return this;},abort:function(statusText){statusText=statusText||"abort";if(transport){transport.abort(statusText);}
done(0,statusText);return this;}};function done(status,nativeStatusText,responses,headers){if(state===2){return;}
state=2;if(timeoutTimer){clearTimeout(timeoutTimer);}
transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;var isSuccess,success,error,statusText=nativeStatusText,response=responses?ajaxHandleResponses(s,jqXHR,responses):undefined,lastModified,etag;if(status>=200&&status<300||status===304){if(s.ifModified){if((lastModified=jqXHR.getResponseHeader("Last-Modified"))){jQuery.lastModified[ifModifiedKey]=lastModified;}
if((etag=jqXHR.getResponseHeader("Etag"))){jQuery.etag[ifModifiedKey]=etag;}}
if(status===304){statusText="notmodified";isSuccess=true;}else{try{success=ajaxConvert(s,response);statusText="success";isSuccess=true;}catch(e){statusText="parsererror";error=e;}}}else{error=statusText;if(!statusText||status){statusText="error";if(status<0){status=0;}}}
jqXHR.status=status;jqXHR.statusText=""+(nativeStatusText||statusText);if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);}
jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error]);}
completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop");}}}
deferred.promise(jqXHR);jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;jqXHR.complete=completeDeferred.add;jqXHR.statusCode=function(map){if(map){var tmp;if(state<2){for(tmp in map){statusCode[tmp]=[statusCode[tmp],map[tmp]];}}else{tmp=map[jqXHR.status];jqXHR.then(tmp,tmp);}}
return this;};s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(rspacesAjax);if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!=ajaxLocParts[1]||parts[2]!=ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))));}
if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional);}
inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return false;}
fireGlobals=s.global;s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart");}
if(!s.hasContent){if(s.data){s.url+=(rquery.test(s.url)?"&":"?")+s.data;delete s.data;}
ifModifiedKey=s.url;if(s.cache===false){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"");}}
if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType);}
if(s.ifModified){ifModifiedKey=ifModifiedKey||s.url;if(jQuery.lastModified[ifModifiedKey]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey]);}
if(jQuery.etag[ifModifiedKey]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey]);}}
jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i]);}
if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){jqXHR.abort();return false;}
for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i]);}
transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport");}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s]);}
if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout");},s.timeout);}
try{state=1;transport.send(requestHeaders,done);}catch(e){if(state<2){done(-1,e);}else{throw e;}}}
return jqXHR;},param:function(a,traditional){var s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value);};if(traditional===undefined){traditional=jQuery.ajaxSettings.traditional;}
if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value);});}else{for(var prefix in a){buildParams(prefix,a[prefix],traditional,add);}}
return s.join("&").replace(r20,"+");}});function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v);}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add);}});}else if(!traditional&&jQuery.type(obj)==="object"){for(var name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add);}}else{add(prefix,obj);}}
jQuery.extend({active:0,lastModified:{},etag:{}});function ajaxHandleResponses(s,jqXHR,responses){var contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields,ct,type,finalDataType,firstDataType;for(type in responseFields){if(type in responses){jqXHR[responseFields[type]]=responses[type];}}
while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("content-type");}}
if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break;}}}
if(dataTypes[0]in responses){finalDataType=dataTypes[0];}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break;}
if(!firstDataType){firstDataType=type;}}
finalDataType=finalDataType||firstDataType;}
if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType);}
return responses[finalDataType];}}
function ajaxConvert(s,response){if(s.dataFilter){response=s.dataFilter(response,s.dataType);}
var dataTypes=s.dataTypes,converters={},i,key,length=dataTypes.length,tmp,current=dataTypes[0],prev,conversion,conv,conv1,conv2;for(i=1;i<length;i++){if(i===1){for(key in s.converters){if(typeof key==="string"){converters[key.toLowerCase()]=s.converters[key];}}}
prev=current;current=dataTypes[i];if(current==="*"){current=prev;}else if(prev!=="*"&&prev!==current){conversion=prev+" "+current;conv=converters[conversion]||converters["* "+current];if(!conv){conv2=undefined;for(conv1 in converters){tmp=conv1.split(" ");if(tmp[0]===prev||tmp[0]==="*"){conv2=converters[tmp[1]+" "+current];if(conv2){conv1=converters[conv1];if(conv1===true){conv=conv2;}else if(conv2===true){conv=conv1;}
break;}}}}
if(!(conv||conv2)){jQuery.error("No conversion from "+conversion.replace(" "," to "));}
if(conv!==true){response=conv?conv(response):conv2(conv1(response));}}}
return response;}
var jsc=jQuery.now(),jsre=/(\=)\?(&|$)|\?\?/i;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return jQuery.expando+"_"+(jsc++);}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var inspectData=(typeof s.data==="string")&&/^application\/x\-www\-form\-urlencoded/.test(s.contentType);if(s.dataTypes[0]==="jsonp"||s.jsonp!==false&&(jsre.test(s.url)||inspectData&&jsre.test(s.data))){var responseContainer,jsonpCallback=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,previous=window[jsonpCallback],url=s.url,data=s.data,replace="$1"+jsonpCallback+"$2";if(s.jsonp!==false){url=url.replace(jsre,replace);if(s.url===url){if(inspectData){data=data.replace(jsre,replace);}
if(s.data===data){url+=(/\?/.test(url)?"&":"?")+s.jsonp+"="+jsonpCallback;}}}
s.url=url;s.data=data;window[jsonpCallback]=function(response){responseContainer=[response];};jqXHR.always(function(){window[jsonpCallback]=previous;if(responseContainer&&jQuery.isFunction(previous)){window[jsonpCallback](responseContainer[0]);}});s.converters["script json"]=function(){if(!responseContainer){jQuery.error(jsonpCallback+" was not called");}
return responseContainer[0];};s.dataTypes[0]="json";return"script";}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){jQuery.globalEval(text);return text;}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false;}
if(s.crossDomain){s.type="GET";s.global=false;}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async="async";if(s.scriptCharset){script.charset=s.scriptCharset;}
script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script);}
script=undefined;if(!isAbort){callback(200,"success");}}};head.insertBefore(script,head.firstChild);},abort:function(){if(script){script.onload(0,1);}}};}});var
xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks){xhrCallbacks[key](0,1);}}:false,xhrId=0,xhrCallbacks;function createStandardXHR(){try{return new window.XMLHttpRequest();}catch(e){}}
function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP");}catch(e){}}
jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||createActiveXHR();}:createStandardXHR;(function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&("withCredentials"in xhr)});})(jQuery.ajaxSettings.xhr());if(jQuery.support.ajax){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var xhr=s.xhr(),handle,i;if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password);}else{xhr.open(s.type,s.url,s.async);}
if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i];}}
if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType);}
if(!s.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest";}
try{for(i in headers){xhr.setRequestHeader(i,headers[i]);}}catch(_){}
xhr.send((s.hasContent&&s.data)||null);callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort){delete xhrCallbacks[handle];}}
if(isAbort){if(xhr.readyState!==4){xhr.abort();}}else{status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();responses={};xml=xhr.responseXML;if(xml&&xml.documentElement){responses.xml=xml;}
try{responses.text=xhr.responseText;}catch(_){}
try{statusText=xhr.statusText;}catch(e){statusText="";}
if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404;}else if(status===1223){status=204;}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException);}}
if(responses){complete(status,statusText,responses,responseHeaders);}};if(!s.async||xhr.readyState===4){callback();}else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort);}
xhrCallbacks[handle]=callback;}
xhr.onreadystatechange=callback;}},abort:function(){if(callback){callback(0,1);}}};}});}
var elemdisplay={},iframe,iframeDoc,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],fxNow;jQuery.fn.extend({show:function(speed,easing,callback){var elem,display;if(speed||speed===0){return this.animate(genFx("show",3),speed,easing,callback);}else{for(var i=0,j=this.length;i<j;i++){elem=this[i];if(elem.style){display=elem.style.display;if(!jQuery._data(elem,"olddisplay")&&display==="none"){display=elem.style.display="";}
if((display===""&&jQuery.css(elem,"display")==="none")||!jQuery.contains(elem.ownerDocument.documentElement,elem)){jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName));}}}
for(i=0;i<j;i++){elem=this[i];if(elem.style){display=elem.style.display;if(display===""||display==="none"){elem.style.display=jQuery._data(elem,"olddisplay")||"";}}}
return this;}},hide:function(speed,easing,callback){if(speed||speed===0){return this.animate(genFx("hide",3),speed,easing,callback);}else{var elem,display,i=0,j=this.length;for(;i<j;i++){elem=this[i];if(elem.style){display=jQuery.css(elem,"display");if(display!=="none"&&!jQuery._data(elem,"olddisplay")){jQuery._data(elem,"olddisplay",display);}}}
for(i=0;i<j;i++){if(this[i].style){this[i].style.display="none";}}
return this;}},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2,callback){var bool=typeof fn==="boolean";if(jQuery.isFunction(fn)&&jQuery.isFunction(fn2)){this._toggle.apply(this,arguments);}else if(fn==null||bool){this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]();});}else{this.animate(genFx("toggle",3),fn,fn2,callback);}
return this;},fadeTo:function(speed,to,easing,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,easing,callback);},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);if(jQuery.isEmptyObject(prop)){return this.each(optall.complete,[false]);}
prop=jQuery.extend({},prop);function doAnimation(){if(optall.queue===false){jQuery._mark(this);}
var opt=jQuery.extend({},optall),isElement=this.nodeType===1,hidden=isElement&&jQuery(this).is(":hidden"),name,val,p,e,hooks,replace,parts,start,end,unit,method;opt.animatedProperties={};for(p in prop){name=jQuery.camelCase(p);if(p!==name){prop[name]=prop[p];delete prop[p];}
if((hooks=jQuery.cssHooks[name])&&"expand"in hooks){replace=hooks.expand(prop[name]);delete prop[name];for(p in replace){if(!(p in prop)){prop[p]=replace[p];}}}}
for(name in prop){val=prop[name];if(jQuery.isArray(val)){opt.animatedProperties[name]=val[1];val=prop[name]=val[0];}else{opt.animatedProperties[name]=opt.specialEasing&&opt.specialEasing[name]||opt.easing||'swing';}
if(val==="hide"&&hidden||val==="show"&&!hidden){return opt.complete.call(this);}
if(isElement&&(name==="height"||name==="width")){opt.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(jQuery.css(this,"display")==="inline"&&jQuery.css(this,"float")==="none"){if(!jQuery.support.inlineBlockNeedsLayout||defaultDisplay(this.nodeName)==="inline"){this.style.display="inline-block";}else{this.style.zoom=1;}}}}
if(opt.overflow!=null){this.style.overflow="hidden";}
for(p in prop){e=new jQuery.fx(this,opt,p);val=prop[p];if(rfxtypes.test(val)){method=jQuery._data(this,"toggle"+p)||(val==="toggle"?hidden?"show":"hide":0);if(method){jQuery._data(this,"toggle"+p,method==="show"?"hide":"show");e[method]();}else{e[val]();}}else{parts=rfxnum.exec(val);start=e.cur();if(parts){end=parseFloat(parts[2]);unit=parts[3]||(jQuery.cssNumber[p]?"":"px");if(unit!=="px"){jQuery.style(this,p,(end||1)+unit);start=((end||1)/e.cur())*start;jQuery.style(this,p,start+unit);}
if(parts[1]){end=((parts[1]==="-="?-1:1)*end)+start;}
e.custom(start,end,unit);}else{e.custom(start,val,"");}}}
return true;}
return optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation);},stop:function(type,clearQueue,gotoEnd){if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined;}
if(clearQueue&&type!==false){this.queue(type||"fx",[]);}
return this.each(function(){var index,hadTimers=false,timers=jQuery.timers,data=jQuery._data(this);if(!gotoEnd){jQuery._unmark(true,this);}
function stopQueue(elem,data,index){var hooks=data[index];jQuery.removeData(elem,index,true);hooks.stop(gotoEnd);}
if(type==null){for(index in data){if(data[index]&&data[index].stop&&index.indexOf(".run")===index.length-4){stopQueue(this,data,index);}}}else if(data[index=type+".run"]&&data[index].stop){stopQueue(this,data,index);}
for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){if(gotoEnd){timers[index](true);}else{timers[index].saveState();}
hadTimers=true;timers.splice(index,1);}}
if(!(gotoEnd&&hadTimers)){jQuery.dequeue(this,type);}});}});function createFxNow(){setTimeout(clearFxNow,0);return(fxNow=jQuery.now());}
function clearFxNow(){fxNow=undefined;}
function genFx(type,num){var obj={};jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type;});return obj;}
jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback);};});jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx";}
opt.old=opt.complete;opt.complete=function(noUnmark){if(jQuery.isFunction(opt.old)){opt.old.call(this);}
if(opt.queue){jQuery.dequeue(this,opt.queue);}else if(noUnmark!==false){jQuery._unmark(this);}};return opt;},easing:{linear:function(p){return p;},swing:function(p){return(-Math.cos(p*Math.PI)/2)+0.5;}},timers:[],fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;options.orig=options.orig||{};}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this);}
(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop];}
var parsed,r=jQuery.css(this.elem,this.prop);return isNaN(parsed=parseFloat(r))?!r||r==="auto"?0:r:parsed;},custom:function(from,to,unit){var self=this,fx=jQuery.fx;this.startTime=fxNow||createFxNow();this.end=to;this.now=this.start=from;this.pos=this.state=0;this.unit=unit||this.unit||(jQuery.cssNumber[this.prop]?"":"px");function t(gotoEnd){return self.step(gotoEnd);}
t.queue=this.options.queue;t.elem=this.elem;t.saveState=function(){if(jQuery._data(self.elem,"fxshow"+self.prop)===undefined){if(self.options.hide){jQuery._data(self.elem,"fxshow"+self.prop,self.start);}else if(self.options.show){jQuery._data(self.elem,"fxshow"+self.prop,self.end);}}};if(t()&&jQuery.timers.push(t)&&!timerId){timerId=setInterval(fx.tick,fx.interval);}},show:function(){var dataShow=jQuery._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=dataShow||jQuery.style(this.elem,this.prop);this.options.show=true;if(dataShow!==undefined){this.custom(this.cur(),dataShow);}else{this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());}
jQuery(this.elem).show();},hide:function(){this.options.orig[this.prop]=jQuery._data(this.elem,"fxshow"+this.prop)||jQuery.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0);},step:function(gotoEnd){var p,n,complete,t=fxNow||createFxNow(),done=true,elem=this.elem,options=this.options;if(gotoEnd||t>=options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();options.animatedProperties[this.prop]=true;for(p in options.animatedProperties){if(options.animatedProperties[p]!==true){done=false;}}
if(done){if(options.overflow!=null&&!jQuery.support.shrinkWrapBlocks){jQuery.each(["","X","Y"],function(index,value){elem.style["overflow"+value]=options.overflow[index];});}
if(options.hide){jQuery(elem).hide();}
if(options.hide||options.show){for(p in options.animatedProperties){jQuery.style(elem,p,options.orig[p]);jQuery.removeData(elem,"fxshow"+p,true);jQuery.removeData(elem,"toggle"+p,true);}}
complete=options.complete;if(complete){options.complete=false;complete.call(elem);}}
return false;}else{if(options.duration==Infinity){this.now=t;}else{n=t-this.startTime;this.state=n/options.duration;this.pos=jQuery.easing[options.animatedProperties[this.prop]](this.state,n,0,1,options.duration);this.now=this.start+((this.end-this.start)*this.pos);}
this.update();}
return true;}};jQuery.extend(jQuery.fx,{tick:function(){var timer,timers=jQuery.timers,i=0;for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1);}}
if(!timers.length){jQuery.fx.stop();}},interval:13,stop:function(){clearInterval(timerId);timerId=null;},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now);},_default:function(fx){if(fx.elem.style&&fx.elem.style[fx.prop]!=null){fx.elem.style[fx.prop]=fx.now+fx.unit;}else{fx.elem[fx.prop]=fx.now;}}}});jQuery.each(fxAttrs.concat.apply([],fxAttrs),function(i,prop){if(prop.indexOf("margin")){jQuery.fx.step[prop]=function(fx){jQuery.style(fx.elem,prop,Math.max(0,fx.now)+fx.unit);};}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem;}).length;};}
function defaultDisplay(nodeName){if(!elemdisplay[nodeName]){var body=document.body,elem=jQuery("<"+nodeName+">").appendTo(body),display=elem.css("display");elem.remove();if(display==="none"||display===""){if(!iframe){iframe=document.createElement("iframe");iframe.frameBorder=iframe.width=iframe.height=0;}
body.appendChild(iframe);if(!iframeDoc||!iframe.createElement){iframeDoc=(iframe.contentWindow||iframe.contentDocument).document;iframeDoc.write((jQuery.support.boxModel?"<!doctype html>":"")+"<html><body>");iframeDoc.close();}
elem=iframeDoc.createElement(nodeName);iframeDoc.body.appendChild(elem);display=jQuery.css(elem,"display");body.removeChild(iframe);}
elemdisplay[nodeName]=display;}
return elemdisplay[nodeName];}
var getOffset,rtable=/^t(?:able|d|h)$/i,rroot=/^(?:body|html)$/i;if("getBoundingClientRect"in document.documentElement){getOffset=function(elem,doc,docElem,box){try{box=elem.getBoundingClientRect();}catch(e){}
if(!box||!jQuery.contains(docElem,elem)){return box?{top:box.top,left:box.left}:{top:0,left:0};}
var body=doc.body,win=getWindow(doc),clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,scrollTop=win.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop,scrollLeft=win.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft,top=box.top+scrollTop-clientTop,left=box.left+scrollLeft-clientLeft;return{top:top,left:left};};}else{getOffset=function(elem,doc,docElem){var computedStyle,offsetParent=elem.offsetParent,prevOffsetParent=elem,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.support.fixedPosition&&prevComputedStyle.position==="fixed"){break;}
computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.support.doesNotAddBorder&&!(jQuery.support.doesAddBorderForTableAndCells&&rtable.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0;}
prevOffsetParent=offsetParent;offsetParent=elem.offsetParent;}
if(jQuery.support.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0;}
prevComputedStyle=computedStyle;}
if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static"){top+=body.offsetTop;left+=body.offsetLeft;}
if(jQuery.support.fixedPosition&&prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft);}
return{top:top,left:left};};}
jQuery.fn.offset=function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i);});}
var elem=this[0],doc=elem&&elem.ownerDocument;if(!doc){return null;}
if(elem===doc.body){return jQuery.offset.bodyOffset(elem);}
return getOffset(elem,doc,doc.documentElement);};jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;if(jQuery.support.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.css(body,"marginTop"))||0;left+=parseFloat(jQuery.css(body,"marginLeft"))||0;}
return{top:top,left:left};},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if(position==="static"){elem.style.position="relative";}
var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left;}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0;}
if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset);}
if(options.top!=null){props.top=(options.top-curOffset.top)+curTop;}
if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft;}
if("using"in options){options.using.call(elem,props);}else{curElem.css(props);}}};jQuery.fn.extend({position:function(){if(!this[0]){return null;}
var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0;offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0;parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0;parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left};},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!rroot.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent;}
return offsetParent;});}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?(prop in win)?win[prop]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method];}
if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop());}else{elem[method]=val;}},method,val,arguments.length,null);};});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false;}
jQuery.each({Height:"height",Width:"width"},function(name,type){var clientProp="client"+name,scrollProp="scroll"+name,offsetProp="offset"+name;jQuery.fn["inner"+name]=function(){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,"padding")):this[type]():null;};jQuery.fn["outer"+name]=function(margin){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,margin?"margin":"border")):this[type]():null;};jQuery.fn[type]=function(value){return jQuery.access(this,function(elem,type,value){var doc,docElemProp,orig,ret;if(jQuery.isWindow(elem)){doc=elem.document;docElemProp=doc.documentElement[clientProp];return jQuery.support.boxModel&&docElemProp||doc.body&&doc.body[clientProp]||docElemProp;}
if(elem.nodeType===9){doc=elem.documentElement;if(doc[clientProp]>=doc[scrollProp]){return doc[clientProp];}
return Math.max(elem.body[scrollProp],doc[scrollProp],elem.body[offsetProp],doc[offsetProp]);}
if(value===undefined){orig=jQuery.css(elem,type);ret=parseFloat(orig);return jQuery.isNumeric(ret)?ret:orig;}
jQuery(elem).css(type,value);},type,value,arguments.length,null);};});window.jQuery=window.$=jQuery;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return jQuery;});}})(window);
if(typeof(Magelo)=="undefined"){Magelo={};}
(function(jQuery){Magelo.jQuery=jQuery;
;(function($){$.fn.drag=function(str,arg,opts){var type=typeof str=="string"?str:"",fn=$.isFunction(str)?str:$.isFunction(arg)?arg:null;if(type.indexOf("drag")!==0)
type="drag"+type;opts=(str==fn?arg:opts)||{};return fn?this.bind(type,opts,fn):this.trigger(type);};var $event=$.event,$special=$event.special,drag=$special.drag={defaults:{which:1,distance:0,not:':input',handle:null,relative:false,drop:true,click:false},datakey:"dragdata",noBubble:true,add:function(obj){var data=$.data(this,drag.datakey),opts=obj.data||{};data.related+=1;$.each(drag.defaults,function(key,def){if(opts[key]!==undefined)
data[key]=opts[key];});},remove:function(){$.data(this,drag.datakey).related-=1;},setup:function(){if($.data(this,drag.datakey))
return;var data=$.extend({related:0},drag.defaults);$.data(this,drag.datakey,data);$event.add(this,"touchstart mousedown",drag.init,data);if(this.attachEvent)
this.attachEvent("ondragstart",drag.dontstart);},teardown:function(){var data=$.data(this,drag.datakey)||{};if(data.related)
return;$.removeData(this,drag.datakey);$event.remove(this,"touchstart mousedown",drag.init);drag.textselect(true);if(this.detachEvent)
this.detachEvent("ondragstart",drag.dontstart);},init:function(event){if(drag.touched)
return;var dd=event.data,results;if(event.which!=0&&dd.which>0&&event.which!=dd.which)
return;if($(event.target).is(dd.not))
return;if(dd.handle&&!$(event.target).closest(dd.handle,event.currentTarget).length)
return;drag.touched=event.type=='touchstart'?this:null;dd.propagates=1;dd.mousedown=this;dd.interactions=[drag.interaction(this,dd)];dd.target=event.target;dd.pageX=event.pageX;dd.pageY=event.pageY;dd.dragging=null;results=drag.hijack(event,"draginit",dd);if(!dd.propagates)
return;results=drag.flatten(results);if(results&&results.length){dd.interactions=[];$.each(results,function(){dd.interactions.push(drag.interaction(this,dd));});}
dd.propagates=dd.interactions.length;if(dd.drop!==false&&$special.drop)
$special.drop.handler(event,dd);drag.textselect(false);if(drag.touched)
$event.add(drag.touched,"touchmove touchend",drag.handler,dd);else
$event.add(document,"mousemove mouseup",drag.handler,dd);if(!drag.touched||dd.live)
return false;},interaction:function(elem,dd){var offset=$(elem)[dd.relative?"position":"offset"]()||{top:0,left:0};return{drag:elem,callback:new drag.callback(),droppable:[],offset:offset};},handler:function(event){var dd=event.data;switch(event.type){case!dd.dragging&&'touchmove':event.preventDefault();case!dd.dragging&&'mousemove':if(Math.pow(event.pageX-dd.pageX,2)+Math.pow(event.pageY-dd.pageY,2)<Math.pow(dd.distance,2))
break;event.target=dd.target;drag.hijack(event,"dragstart",dd);if(dd.propagates)
dd.dragging=true;case'touchmove':event.preventDefault();case'mousemove':if(dd.dragging){drag.hijack(event,"drag",dd);if(dd.propagates){if(dd.drop!==false&&$special.drop)
$special.drop.handler(event,dd);break;}
event.type="mouseup";}
case'touchend':case'mouseup':default:if(drag.touched)
$event.remove(drag.touched,"touchmove touchend",drag.handler);else
$event.remove(document,"mousemove mouseup",drag.handler);if(dd.dragging){if(dd.drop!==false&&$special.drop)
$special.drop.handler(event,dd);drag.hijack(event,"dragend",dd);}
drag.textselect(true);if(dd.click===false&&dd.dragging)
$.data(dd.mousedown,"suppress.click",new Date().getTime()+5);dd.dragging=drag.touched=false;break;}},hijack:function(event,type,dd,x,elem){if(!dd)
return;var orig={event:event.originalEvent,type:event.type},mode=type.indexOf("drop")?"drag":"drop",result,i=x||0,ia,$elems,callback,len=!isNaN(x)?x:dd.interactions.length;event.type=type;event.originalEvent=null;dd.results=[];do if(ia=dd.interactions[i]){if(type!=="dragend"&&ia.cancelled)
continue;callback=drag.properties(event,dd,ia);ia.results=[];$(elem||ia[mode]||dd.droppable).each(function(p,subject){callback.target=subject;event.isPropagationStopped=function(){return false;};result=subject?$event.dispatch.call(subject,event,callback):null;if(result===false){if(mode=="drag"){ia.cancelled=true;dd.propagates-=1;}
if(type=="drop"){ia[mode][p]=null;}}
else if(type=="dropinit")
ia.droppable.push(drag.element(result)||subject);if(type=="dragstart")
ia.proxy=$(drag.element(result)||ia.drag)[0];ia.results.push(result);delete event.result;if(type!=="dropinit")
return result;});dd.results[i]=drag.flatten(ia.results);if(type=="dropinit")
ia.droppable=drag.flatten(ia.droppable);if(type=="dragstart"&&!ia.cancelled)
callback.update();}
while(++i<len)
event.type=orig.type;event.originalEvent=orig.event;return drag.flatten(dd.results);},properties:function(event,dd,ia){var obj=ia.callback;obj.drag=ia.drag;obj.proxy=ia.proxy||ia.drag;obj.startX=dd.pageX;obj.startY=dd.pageY;obj.deltaX=event.pageX-dd.pageX;obj.deltaY=event.pageY-dd.pageY;obj.originalX=ia.offset.left;obj.originalY=ia.offset.top;obj.offsetX=obj.originalX+obj.deltaX;obj.offsetY=obj.originalY+obj.deltaY;obj.drop=drag.flatten((ia.drop||[]).slice());obj.available=drag.flatten((ia.droppable||[]).slice());return obj;},element:function(arg){if(arg&&(arg.jquery||arg.nodeType==1))
return arg;},flatten:function(arr){return $.map(arr,function(member){return member&&member.jquery?$.makeArray(member):member&&member.length?drag.flatten(member):member;});},textselect:function(bool){$(document)[bool?"unbind":"bind"]("selectstart",drag.dontstart).css("MozUserSelect",bool?"":"none");document.unselectable=bool?"off":"on";},dontstart:function(){return false;},callback:function(){}};drag.callback.prototype={update:function(){if($special.drop&&this.available.length)
$.each(this.available,function(i){$special.drop.locate(this,i);});}};var $dispatch=$event.dispatch;$event.dispatch=function(event){if($.data(this,"suppress."+event.type)-new Date().getTime()>0){$.removeData(this,"suppress."+event.type);return;}
return $dispatch.apply(this,arguments);};var touchHooks=$event.fixHooks.touchstart=$event.fixHooks.touchmove=$event.fixHooks.touchend=$event.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(event,orig){if(orig){var touched=(orig.touches&&orig.touches[0])||(orig.changedTouches&&orig.changedTouches[0])||null;if(touched)
$.each(touchHooks.props,function(i,prop){event[prop]=touched[prop];});}
return event;}};$special.draginit=$special.dragstart=$special.dragend=drag;})(jQuery);
;(function($){$.fn.drop=function(str,arg,opts){var type=typeof str=="string"?str:"",fn=$.isFunction(str)?str:$.isFunction(arg)?arg:null;if(type.indexOf("drop")!==0)
type="drop"+type;opts=(str==fn?arg:opts)||{};return fn?this.bind(type,opts,fn):this.trigger(type);};$.drop=function(opts){opts=opts||{};drop.multi=opts.multi===true?Infinity:opts.multi===false?1:!isNaN(opts.multi)?opts.multi:drop.multi;drop.delay=opts.delay||drop.delay;drop.tolerance=$.isFunction(opts.tolerance)?opts.tolerance:opts.tolerance===null?null:drop.tolerance;drop.mode=opts.mode||drop.mode||'intersect';};var $event=$.event,$special=$event.special,drop=$.event.special.drop={multi:1,delay:20,mode:'overlap',targets:[],datakey:"dropdata",noBubble:true,add:function(obj){var data=$.data(this,drop.datakey);data.related+=1;},remove:function(){$.data(this,drop.datakey).related-=1;},setup:function(){if($.data(this,drop.datakey))
return;var data={related:0,active:[],anyactive:0,winner:0,location:{}};$.data(this,drop.datakey,data);drop.targets.push(this);},teardown:function(){var data=$.data(this,drop.datakey)||{};if(data.related)
return;$.removeData(this,drop.datakey);var element=this;drop.targets=$.grep(drop.targets,function(target){return(target!==element);});},handler:function(event,dd){var results,$targets;if(!dd)
return;switch(event.type){case'mousedown':case'touchstart':$targets=$(drop.targets);if(typeof dd.drop=="string")
$targets=$targets.filter(dd.drop);$targets.each(function(){var data=$.data(this,drop.datakey);data.active=[];data.anyactive=0;data.winner=0;});dd.droppable=$targets;$special.drag.hijack(event,"dropinit",dd);break;case'mousemove':case'touchmove':drop.event=event;if(!drop.timer)
drop.tolerate(dd);break;case'mouseup':case'touchend':drop.timer=clearTimeout(drop.timer);if(dd.propagates){$special.drag.hijack(event,"drop",dd);$special.drag.hijack(event,"dropend",dd);}
break;}},locate:function(elem,index){var data=$.data(elem,drop.datakey),$elem=$(elem),posi=$elem.offset()||{},height=$elem.outerHeight(),width=$elem.outerWidth(),location={elem:elem,width:width,height:height,top:posi.top,left:posi.left,right:posi.left+width,bottom:posi.top+height};if(data){data.location=location;data.index=index;data.elem=elem;}
return location;},contains:function(target,test){return((test[0]||test.left)>=target.left&&(test[0]||test.right)<=target.right&&(test[1]||test.top)>=target.top&&(test[1]||test.bottom)<=target.bottom);},modes:{'intersect':function(event,proxy,target){return this.contains(target,[event.pageX,event.pageY])?1e9:this.modes.overlap.apply(this,arguments);},'overlap':function(event,proxy,target){return Math.max(0,Math.min(target.bottom,proxy.bottom)-Math.max(target.top,proxy.top))*Math.max(0,Math.min(target.right,proxy.right)-Math.max(target.left,proxy.left));},'fit':function(event,proxy,target){return this.contains(target,proxy)?1:0;},'middle':function(event,proxy,target){return this.contains(target,[proxy.left+proxy.width*.5,proxy.top+proxy.height*.5])?1:0;}},sort:function(a,b){return(b.winner-a.winner)||(a.index-b.index);},tolerate:function(dd){var i,drp,drg,data,arr,len,elem,x=0,ia,end=dd.interactions.length,xy=[drop.event.pageX,drop.event.pageY],tolerance=drop.tolerance||drop.modes[drop.mode];do if(ia=dd.interactions[x]){if(!ia)
return;ia.drop=[];arr=[];len=ia.droppable.length;if(tolerance)
drg=drop.locate(ia.proxy);i=0;do if(elem=ia.droppable[i]){data=$.data(elem,drop.datakey);drp=data.location;if(!drp)continue;data.winner=tolerance?tolerance.call(drop,drop.event,drg,drp):drop.contains(drp,xy)?1:0;arr.push(data);}while(++i<len);arr.sort(drop.sort);i=0;do if(data=arr[i]){if(data.winner&&ia.drop.length<drop.multi){if(!data.active[x]&&!data.anyactive){if($special.drag.hijack(drop.event,"dropstart",dd,x,data.elem)[0]!==false){data.active[x]=1;data.anyactive+=1;}
else
data.winner=0;}
if(data.winner)
ia.drop.push(data.elem);}
else if(data.active[x]&&data.anyactive==1){$special.drag.hijack(drop.event,"dropend",dd,x,data.elem);data.active[x]=0;data.anyactive-=1;}}while(++i<len);}while(++x<end)
if(drop.last&&xy[0]==drop.last.pageX&&xy[1]==drop.last.pageY)
delete drop.timer;else
drop.timer=setTimeout(function(){drop.tolerate(dd);},drop.delay);drop.last=drop.event;}};$special.dropinit=$special.dropstart=$special.dropend=drop;})(jQuery);
(function($){var types=['DOMMouseScroll','mousewheel'];if($.event.fixHooks){for(var i=types.length;i;){$.event.fixHooks[types[--i]]=$.event.mouseHooks;}}
$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=types.length;i;){this.addEventListener(types[--i],handler,false);}}else{this.onmousewheel=handler;}},teardown:function(){if(this.removeEventListener){for(var i=types.length;i;){this.removeEventListener(types[--i],handler,false);}}else{this.onmousewheel=null;}}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel");},unmousewheel:function(fn){return this.unbind("mousewheel",fn);}});function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=true,deltaX=0,deltaY=0;event=$.event.fix(orgEvent);event.type="mousewheel";if(orgEvent.wheelDelta){delta=orgEvent.wheelDelta/120;}
if(orgEvent.detail){delta=-orgEvent.detail/3;}
deltaY=delta;if(orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaY=0;deltaX=-1*delta;}
if(orgEvent.wheelDeltaY!==undefined){deltaY=orgEvent.wheelDeltaY/120;}
if(orgEvent.wheelDeltaX!==undefined){deltaX=-1*orgEvent.wheelDeltaX/120;}
args.unshift(event,delta,deltaX,deltaY);return($.event.dispatch||$.event.handle).apply(this,args);}})(jQuery);
(function($,window,undefined){$.fn.jScrollPane=function(settings)
{function JScrollPane(elem,s)
{var settings,jsp=this,pane,paneWidth,paneHeight,container,contentWidth,contentHeight,percentInViewH,percentInViewV,isScrollableV,isScrollableH,verticalDrag,dragMaxY,verticalDragPosition,horizontalDrag,dragMaxX,horizontalDragPosition,verticalBar,verticalTrack,scrollbarWidth,verticalTrackHeight,verticalDragHeight,arrowUp,arrowDown,horizontalBar,horizontalTrack,horizontalTrackWidth,horizontalDragWidth,arrowLeft,arrowRight,reinitialiseInterval,originalPadding,originalPaddingTotalWidth,previousContentWidth,wasAtTop=true,wasAtLeft=true,wasAtBottom=false,wasAtRight=false,originalElement=elem.clone(false,false).empty(),mwEvent=$.fn.mwheelIntent?'mwheelIntent.jsp':'mousewheel.jsp';originalPadding=elem.css('paddingTop')+' '+
elem.css('paddingRight')+' '+
elem.css('paddingBottom')+' '+
elem.css('paddingLeft');originalPaddingTotalWidth=(parseInt(elem.css('paddingLeft'),10)||0)+
(parseInt(elem.css('paddingRight'),10)||0);function initialise(s)
{var isMaintainingPositon,lastContentX,lastContentY,hasContainingSpaceChanged,originalScrollTop,originalScrollLeft,maintainAtBottom=false,maintainAtRight=false;settings=s;if(pane===undefined){originalScrollTop=elem.scrollTop();originalScrollLeft=elem.scrollLeft();elem.css({overflow:'hidden',padding:0});paneWidth=elem.innerWidth()+originalPaddingTotalWidth;paneHeight=elem.innerHeight();elem.width(paneWidth);pane=$('<div class="jspPane" />').css('padding',originalPadding).append(elem.children());container=$('<div class="jspContainer" />').css({'width':paneWidth+'px','height':paneHeight+'px'}).append(pane).appendTo(elem);}else{elem.css('width','');maintainAtBottom=settings.stickToBottom&&isCloseToBottom();maintainAtRight=settings.stickToRight&&isCloseToRight();hasContainingSpaceChanged=elem.innerWidth()!=paneWidth||elem.outerHeight()!=paneHeight;if(hasContainingSpaceChanged){paneWidth=elem.innerWidth()+originalPaddingTotalWidth;paneHeight=elem.innerHeight();container.css({width:paneWidth+'px',height:paneHeight+'px'});}
if(!hasContainingSpaceChanged&&previousContentWidth==contentWidth&&pane.outerHeight()==contentHeight){elem.width(paneWidth);return;}
previousContentWidth=contentWidth;pane.css('width','');elem.width(paneWidth);container.find('>.jspVerticalBar,>.jspHorizontalBar').remove().end();}
pane.css('overflow','auto');if(s.contentWidth){contentWidth=s.contentWidth;}else{contentWidth=pane[0].scrollWidth;}
contentHeight=pane[0].scrollHeight;pane.css('overflow','');percentInViewH=contentWidth/paneWidth;percentInViewV=contentHeight/paneHeight;isScrollableV=percentInViewV>1;isScrollableH=percentInViewH>1;if(!(isScrollableH||isScrollableV)){elem.removeClass('jspScrollable');pane.css({top:0,width:container.width()-originalPaddingTotalWidth});removeMousewheel();removeFocusHandler();removeKeyboardNav();removeClickOnTrack();}else{elem.addClass('jspScrollable');isMaintainingPositon=settings.maintainPosition&&(verticalDragPosition||horizontalDragPosition);if(isMaintainingPositon){lastContentX=contentPositionX();lastContentY=contentPositionY();}
initialiseVerticalScroll();initialiseHorizontalScroll();resizeScrollbars();if(isMaintainingPositon){scrollToX(maintainAtRight?(contentWidth-paneWidth):lastContentX,false);scrollToY(maintainAtBottom?(contentHeight-paneHeight):lastContentY,false);}
initFocusHandler();initMousewheel();initTouch();if(settings.enableKeyboardNavigation){initKeyboardNav();}
if(settings.clickOnTrack){initClickOnTrack();}
observeHash();if(settings.hijackInternalLinks){hijackInternalLinks();}}
if(settings.autoReinitialise&&!reinitialiseInterval){reinitialiseInterval=setInterval(function()
{initialise(settings);},settings.autoReinitialiseDelay);}else if(!settings.autoReinitialise&&reinitialiseInterval){clearInterval(reinitialiseInterval);}
originalScrollTop&&elem.scrollTop(0)&&scrollToY(originalScrollTop,false);originalScrollLeft&&elem.scrollLeft(0)&&scrollToX(originalScrollLeft,false);elem.trigger('jsp-initialised',[isScrollableH||isScrollableV]);}
function initialiseVerticalScroll()
{if(isScrollableV){container.append($('<div class="jspVerticalBar" />').append($('<div class="jspCap jspCapTop" />'),$('<div class="jspTrack" />').append($('<div class="jspDrag" />').append($('<div class="jspDragTop" />'),$('<div class="jspDragBottom" />'))),$('<div class="jspCap jspCapBottom" />')));verticalBar=container.find('>.jspVerticalBar');verticalTrack=verticalBar.find('>.jspTrack');verticalDrag=verticalTrack.find('>.jspDrag');if(settings.showArrows){arrowUp=$('<a class="jspArrow jspArrowUp" />').bind('mousedown.jsp',getArrowScroll(0,-1)).bind('click.jsp',nil);arrowDown=$('<a class="jspArrow jspArrowDown" />').bind('mousedown.jsp',getArrowScroll(0,1)).bind('click.jsp',nil);if(settings.arrowScrollOnHover){arrowUp.bind('mouseover.jsp',getArrowScroll(0,-1,arrowUp));arrowDown.bind('mouseover.jsp',getArrowScroll(0,1,arrowDown));}
appendArrows(verticalTrack,settings.verticalArrowPositions,arrowUp,arrowDown);}
verticalTrackHeight=paneHeight;container.find('>.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow').each(function()
{verticalTrackHeight-=$(this).outerHeight();});verticalDrag.hover(function()
{verticalDrag.addClass('jspHover');},function()
{verticalDrag.removeClass('jspHover');}).bind('mousedown.jsp',function(e)
{$('html').bind('dragstart.jsp selectstart.jsp',nil);verticalDrag.addClass('jspActive');var startY=e.pageY-verticalDrag.position().top;$('html').bind('mousemove.jsp',function(e)
{positionDragY(e.pageY-startY,false);}).bind('mouseup.jsp mouseleave.jsp',cancelDrag);return false;});sizeVerticalScrollbar();}}
function sizeVerticalScrollbar()
{verticalTrack.height(verticalTrackHeight+'px');verticalDragPosition=0;scrollbarWidth=settings.verticalGutter+verticalTrack.outerWidth();pane.width(paneWidth-scrollbarWidth-originalPaddingTotalWidth);try{if(verticalBar.position().left===0){pane.css('margin-left',scrollbarWidth+'px');}}catch(err){}}
function initialiseHorizontalScroll()
{if(isScrollableH){container.append($('<div class="jspHorizontalBar" />').append($('<div class="jspCap jspCapLeft" />'),$('<div class="jspTrack" />').append($('<div class="jspDrag" />').append($('<div class="jspDragLeft" />'),$('<div class="jspDragRight" />'))),$('<div class="jspCap jspCapRight" />')));horizontalBar=container.find('>.jspHorizontalBar');horizontalTrack=horizontalBar.find('>.jspTrack');horizontalDrag=horizontalTrack.find('>.jspDrag');if(settings.showArrows){arrowLeft=$('<a class="jspArrow jspArrowLeft" />').bind('mousedown.jsp',getArrowScroll(-1,0)).bind('click.jsp',nil);arrowRight=$('<a class="jspArrow jspArrowRight" />').bind('mousedown.jsp',getArrowScroll(1,0)).bind('click.jsp',nil);if(settings.arrowScrollOnHover){arrowLeft.bind('mouseover.jsp',getArrowScroll(-1,0,arrowLeft));arrowRight.bind('mouseover.jsp',getArrowScroll(1,0,arrowRight));}
appendArrows(horizontalTrack,settings.horizontalArrowPositions,arrowLeft,arrowRight);}
horizontalDrag.hover(function()
{horizontalDrag.addClass('jspHover');},function()
{horizontalDrag.removeClass('jspHover');}).bind('mousedown.jsp',function(e)
{$('html').bind('dragstart.jsp selectstart.jsp',nil);horizontalDrag.addClass('jspActive');var startX=e.pageX-horizontalDrag.position().left;$('html').bind('mousemove.jsp',function(e)
{positionDragX(e.pageX-startX,false);}).bind('mouseup.jsp mouseleave.jsp',cancelDrag);return false;});horizontalTrackWidth=container.innerWidth();sizeHorizontalScrollbar();}}
function sizeHorizontalScrollbar()
{container.find('>.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow').each(function()
{horizontalTrackWidth-=$(this).outerWidth();});horizontalTrack.width(horizontalTrackWidth+'px');horizontalDragPosition=0;}
function resizeScrollbars()
{if(isScrollableH&&isScrollableV){var horizontalTrackHeight=horizontalTrack.outerHeight(),verticalTrackWidth=verticalTrack.outerWidth();verticalTrackHeight-=horizontalTrackHeight;$(horizontalBar).find('>.jspCap:visible,>.jspArrow').each(function()
{horizontalTrackWidth+=$(this).outerWidth();});horizontalTrackWidth-=verticalTrackWidth;paneHeight-=verticalTrackWidth;paneWidth-=horizontalTrackHeight;horizontalTrack.parent().append($('<div class="jspCorner" />').css('width',horizontalTrackHeight+'px'));sizeVerticalScrollbar();sizeHorizontalScrollbar();}
if(isScrollableH){pane.width((container.outerWidth()-originalPaddingTotalWidth)+'px');}
contentHeight=pane.outerHeight();percentInViewV=contentHeight/paneHeight;if(isScrollableH){horizontalDragWidth=Math.ceil(1/percentInViewH*horizontalTrackWidth);if(horizontalDragWidth>settings.horizontalDragMaxWidth){horizontalDragWidth=settings.horizontalDragMaxWidth;}else if(horizontalDragWidth<settings.horizontalDragMinWidth){horizontalDragWidth=settings.horizontalDragMinWidth;}
horizontalDrag.width(horizontalDragWidth+'px');dragMaxX=horizontalTrackWidth-horizontalDragWidth;_positionDragX(horizontalDragPosition);}
if(isScrollableV){verticalDragHeight=Math.ceil(1/percentInViewV*verticalTrackHeight);if(verticalDragHeight>settings.verticalDragMaxHeight){verticalDragHeight=settings.verticalDragMaxHeight;}else if(verticalDragHeight<settings.verticalDragMinHeight){verticalDragHeight=settings.verticalDragMinHeight;}
verticalDrag.height(verticalDragHeight+'px');dragMaxY=verticalTrackHeight-verticalDragHeight;_positionDragY(verticalDragPosition);}}
function appendArrows(ele,p,a1,a2)
{var p1="before",p2="after",aTemp;if(p=="os"){p=/Mac/.test(navigator.platform)?"after":"split";}
if(p==p1){p2=p;}else if(p==p2){p1=p;aTemp=a1;a1=a2;a2=aTemp;}
ele[p1](a1)[p2](a2);}
function getArrowScroll(dirX,dirY,ele)
{return function()
{arrowScroll(dirX,dirY,this,ele);this.blur();return false;};}
function arrowScroll(dirX,dirY,arrow,ele)
{arrow=$(arrow).addClass('jspActive');var eve,scrollTimeout,isFirst=true,doScroll=function()
{if(dirX!==0){jsp.scrollByX(dirX*settings.arrowButtonSpeed);}
if(dirY!==0){jsp.scrollByY(dirY*settings.arrowButtonSpeed);}
scrollTimeout=setTimeout(doScroll,isFirst?settings.initialDelay:settings.arrowRepeatFreq);isFirst=false;};doScroll();eve=ele?'mouseout.jsp':'mouseup.jsp';ele=ele||$('html');ele.bind(eve,function()
{arrow.removeClass('jspActive');scrollTimeout&&clearTimeout(scrollTimeout);scrollTimeout=null;ele.unbind(eve);});}
function initClickOnTrack()
{removeClickOnTrack();if(isScrollableV){verticalTrack.bind('mousedown.jsp',function(e)
{if(e.originalTarget===undefined||e.originalTarget==e.currentTarget){var clickedTrack=$(this),offset=clickedTrack.offset(),direction=e.pageY-offset.top-verticalDragPosition,scrollTimeout,isFirst=true,doScroll=function()
{var offset=clickedTrack.offset(),pos=e.pageY-offset.top-verticalDragHeight/2,contentDragY=paneHeight*settings.scrollPagePercent,dragY=dragMaxY*contentDragY/(contentHeight-paneHeight);if(direction<0){if(verticalDragPosition-dragY>pos){jsp.scrollByY(-contentDragY);}else{positionDragY(pos);}}else if(direction>0){if(verticalDragPosition+dragY<pos){jsp.scrollByY(contentDragY);}else{positionDragY(pos);}}else{cancelClick();return;}
scrollTimeout=setTimeout(doScroll,isFirst?settings.initialDelay:settings.trackClickRepeatFreq);isFirst=false;},cancelClick=function()
{scrollTimeout&&clearTimeout(scrollTimeout);scrollTimeout=null;$(document).unbind('mouseup.jsp',cancelClick);};doScroll();$(document).bind('mouseup.jsp',cancelClick);return false;}});}
if(isScrollableH){horizontalTrack.bind('mousedown.jsp',function(e)
{if(e.originalTarget===undefined||e.originalTarget==e.currentTarget){var clickedTrack=$(this),offset=clickedTrack.offset(),direction=e.pageX-offset.left-horizontalDragPosition,scrollTimeout,isFirst=true,doScroll=function()
{var offset=clickedTrack.offset(),pos=e.pageX-offset.left-horizontalDragWidth/2,contentDragX=paneWidth*settings.scrollPagePercent,dragX=dragMaxX*contentDragX/(contentWidth-paneWidth);if(direction<0){if(horizontalDragPosition-dragX>pos){jsp.scrollByX(-contentDragX);}else{positionDragX(pos);}}else if(direction>0){if(horizontalDragPosition+dragX<pos){jsp.scrollByX(contentDragX);}else{positionDragX(pos);}}else{cancelClick();return;}
scrollTimeout=setTimeout(doScroll,isFirst?settings.initialDelay:settings.trackClickRepeatFreq);isFirst=false;},cancelClick=function()
{scrollTimeout&&clearTimeout(scrollTimeout);scrollTimeout=null;$(document).unbind('mouseup.jsp',cancelClick);};doScroll();$(document).bind('mouseup.jsp',cancelClick);return false;}});}}
function removeClickOnTrack()
{if(horizontalTrack){horizontalTrack.unbind('mousedown.jsp');}
if(verticalTrack){verticalTrack.unbind('mousedown.jsp');}}
function cancelDrag()
{$('html').unbind('dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp');if(verticalDrag){verticalDrag.removeClass('jspActive');}
if(horizontalDrag){horizontalDrag.removeClass('jspActive');}}
function positionDragY(destY,animate)
{if(!isScrollableV){return;}
if(destY<0){destY=0;}else if(destY>dragMaxY){destY=dragMaxY;}
if(animate===undefined){animate=settings.animateScroll;}
if(animate){jsp.animate(verticalDrag,'top',destY,_positionDragY);}else{verticalDrag.css('top',destY);_positionDragY(destY);}}
function _positionDragY(destY)
{if(destY===undefined){destY=verticalDrag.position().top;}
container.scrollTop(0);verticalDragPosition=destY;var isAtTop=verticalDragPosition===0,isAtBottom=verticalDragPosition==dragMaxY,percentScrolled=destY/dragMaxY,destTop=-percentScrolled*(contentHeight-paneHeight);if(wasAtTop!=isAtTop||wasAtBottom!=isAtBottom){wasAtTop=isAtTop;wasAtBottom=isAtBottom;elem.trigger('jsp-arrow-change',[wasAtTop,wasAtBottom,wasAtLeft,wasAtRight]);}
updateVerticalArrows(isAtTop,isAtBottom);pane.css('top',destTop);elem.trigger('jsp-scroll-y',[-destTop,isAtTop,isAtBottom]).trigger('scroll');}
function positionDragX(destX,animate)
{if(!isScrollableH){return;}
if(destX<0){destX=0;}else if(destX>dragMaxX){destX=dragMaxX;}
if(animate===undefined){animate=settings.animateScroll;}
if(animate){jsp.animate(horizontalDrag,'left',destX,_positionDragX);}else{horizontalDrag.css('left',destX);_positionDragX(destX);}}
function _positionDragX(destX)
{if(destX===undefined){destX=horizontalDrag.position().left;}
container.scrollTop(0);horizontalDragPosition=destX;var isAtLeft=horizontalDragPosition===0,isAtRight=horizontalDragPosition==dragMaxX,percentScrolled=destX/dragMaxX,destLeft=-percentScrolled*(contentWidth-paneWidth);if(wasAtLeft!=isAtLeft||wasAtRight!=isAtRight){wasAtLeft=isAtLeft;wasAtRight=isAtRight;elem.trigger('jsp-arrow-change',[wasAtTop,wasAtBottom,wasAtLeft,wasAtRight]);}
updateHorizontalArrows(isAtLeft,isAtRight);pane.css('left',destLeft);elem.trigger('jsp-scroll-x',[-destLeft,isAtLeft,isAtRight]).trigger('scroll');}
function updateVerticalArrows(isAtTop,isAtBottom)
{if(settings.showArrows){arrowUp[isAtTop?'addClass':'removeClass']('jspDisabled');arrowDown[isAtBottom?'addClass':'removeClass']('jspDisabled');}}
function updateHorizontalArrows(isAtLeft,isAtRight)
{if(settings.showArrows){arrowLeft[isAtLeft?'addClass':'removeClass']('jspDisabled');arrowRight[isAtRight?'addClass':'removeClass']('jspDisabled');}}
function scrollToY(destY,animate)
{var percentScrolled=destY/(contentHeight-paneHeight);positionDragY(percentScrolled*dragMaxY,animate);}
function scrollToX(destX,animate)
{var percentScrolled=destX/(contentWidth-paneWidth);positionDragX(percentScrolled*dragMaxX,animate);}
function scrollToElement(ele,stickToTop,animate)
{var e,eleHeight,eleWidth,eleTop=0,eleLeft=0,viewportTop,viewportLeft,maxVisibleEleTop,maxVisibleEleLeft,destY,destX;try{e=$(ele);}catch(err){return;}
eleHeight=e.outerHeight();eleWidth=e.outerWidth();container.scrollTop(0);container.scrollLeft(0);while(!e.is('.jspPane')){eleTop+=e.position().top;eleLeft+=e.position().left;e=e.offsetParent();if(/^body|html$/i.test(e[0].nodeName)){return;}}
viewportTop=contentPositionY();maxVisibleEleTop=viewportTop+paneHeight;if(eleTop<viewportTop||stickToTop){destY=eleTop-settings.verticalGutter;}else if(eleTop+eleHeight>maxVisibleEleTop){destY=eleTop-paneHeight+eleHeight+settings.verticalGutter;}
if(destY){scrollToY(destY,animate);}
viewportLeft=contentPositionX();maxVisibleEleLeft=viewportLeft+paneWidth;if(eleLeft<viewportLeft||stickToTop){destX=eleLeft-settings.horizontalGutter;}else if(eleLeft+eleWidth>maxVisibleEleLeft){destX=eleLeft-paneWidth+eleWidth+settings.horizontalGutter;}
if(destX){scrollToX(destX,animate);}}
function contentPositionX()
{return-pane.position().left;}
function contentPositionY()
{return-pane.position().top;}
function isCloseToBottom()
{var scrollableHeight=contentHeight-paneHeight;return(scrollableHeight>20)&&(scrollableHeight-contentPositionY()<10);}
function isCloseToRight()
{var scrollableWidth=contentWidth-paneWidth;return(scrollableWidth>20)&&(scrollableWidth-contentPositionX()<10);}
function initMousewheel()
{container.unbind(mwEvent).bind(mwEvent,function(event,delta,deltaX,deltaY){var dX=horizontalDragPosition,dY=verticalDragPosition;jsp.scrollBy(deltaX*settings.mouseWheelSpeed,-deltaY*settings.mouseWheelSpeed,false);return dX==horizontalDragPosition&&dY==verticalDragPosition;});}
function removeMousewheel()
{container.unbind(mwEvent);}
function nil()
{return false;}
function initFocusHandler()
{pane.find(':input,a').unbind('focus.jsp').bind('focus.jsp',function(e)
{scrollToElement(e.target,false);});}
function removeFocusHandler()
{pane.find(':input,a').unbind('focus.jsp');}
function initKeyboardNav()
{var keyDown,elementHasScrolled,validParents=[];isScrollableH&&validParents.push(horizontalBar[0]);isScrollableV&&validParents.push(verticalBar[0]);pane.focus(function()
{elem.focus();});elem.attr('tabindex',0).unbind('keydown.jsp keypress.jsp').bind('keydown.jsp',function(e)
{if(e.target!==this&&!(validParents.length&&$(e.target).closest(validParents).length)){return;}
var dX=horizontalDragPosition,dY=verticalDragPosition;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:keyDown=e.keyCode;keyDownHandler();break;case 35:scrollToY(contentHeight-paneHeight);keyDown=null;break;case 36:scrollToY(0);keyDown=null;break;}
elementHasScrolled=e.keyCode==keyDown&&dX!=horizontalDragPosition||dY!=verticalDragPosition;return!elementHasScrolled;}).bind('keypress.jsp',function(e)
{if(e.keyCode==keyDown){keyDownHandler();}
return!elementHasScrolled;});if(settings.hideFocus){elem.css('outline','none');if('hideFocus'in container[0]){elem.attr('hideFocus',true);}}else{elem.css('outline','');if('hideFocus'in container[0]){elem.attr('hideFocus',false);}}
function keyDownHandler()
{var dX=horizontalDragPosition,dY=verticalDragPosition;switch(keyDown){case 40:jsp.scrollByY(settings.keyboardSpeed,false);break;case 38:jsp.scrollByY(-settings.keyboardSpeed,false);break;case 34:case 32:jsp.scrollByY(paneHeight*settings.scrollPagePercent,false);break;case 33:jsp.scrollByY(-paneHeight*settings.scrollPagePercent,false);break;case 39:jsp.scrollByX(settings.keyboardSpeed,false);break;case 37:jsp.scrollByX(-settings.keyboardSpeed,false);break;}
elementHasScrolled=dX!=horizontalDragPosition||dY!=verticalDragPosition;return elementHasScrolled;}}
function removeKeyboardNav()
{elem.attr('tabindex','-1').removeAttr('tabindex').unbind('keydown.jsp keypress.jsp');}
function observeHash()
{if(location.hash&&location.hash.length>1){var e,retryInt,hash=escape(location.hash.substr(1));try{e=$('#'+hash+', a[name="'+hash+'"]');}catch(err){return;}
if(e.length&&pane.find(hash)){if(container.scrollTop()===0){retryInt=setInterval(function()
{if(container.scrollTop()>0){scrollToElement(e,true);$(document).scrollTop(container.position().top);clearInterval(retryInt);}},50);}else{scrollToElement(e,true);$(document).scrollTop(container.position().top);}}}}
function hijackInternalLinks()
{if($(document.body).data('jspHijack')){return;}
$(document.body).data('jspHijack',true);$(document.body).delegate('a[href*=#]','click',function(event){var href=this.href.substr(0,this.href.indexOf('#')),locationHref=location.href,hash,element,container,jsp,scrollTop,elementTop;if(location.href.indexOf('#')!==-1){locationHref=location.href.substr(0,location.href.indexOf('#'));}
if(href!==locationHref){return;}
hash=escape(this.href.substr(this.href.indexOf('#')+1));element;try{element=$('#'+hash+', a[name="'+hash+'"]');}catch(e){return;}
if(!element.length){return;}
container=element.closest('.jspScrollable');jsp=container.data('jsp');jsp.scrollToElement(element,true);if(container[0].scrollIntoView){scrollTop=$(window).scrollTop();elementTop=element.offset().top;if(elementTop<scrollTop||elementTop>scrollTop+$(window).height()){container[0].scrollIntoView();}}
event.preventDefault();});}
function initTouch()
{var startX,startY,touchStartX,touchStartY,moved,moving=false;container.unbind('touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick').bind('touchstart.jsp',function(e)
{var touch=e.originalEvent.touches[0];startX=contentPositionX();startY=contentPositionY();touchStartX=touch.pageX;touchStartY=touch.pageY;moved=false;moving=true;}).bind('touchmove.jsp',function(ev)
{if(!moving){return;}
var touchPos=ev.originalEvent.touches[0],dX=horizontalDragPosition,dY=verticalDragPosition;jsp.scrollTo(startX+touchStartX-touchPos.pageX,startY+touchStartY-touchPos.pageY);moved=moved||Math.abs(touchStartX-touchPos.pageX)>5||Math.abs(touchStartY-touchPos.pageY)>5;return dX==horizontalDragPosition&&dY==verticalDragPosition;}).bind('touchend.jsp',function(e)
{moving=false;}).bind('click.jsp-touchclick',function(e)
{if(moved){moved=false;return false;}});}
function destroy(){var currentY=contentPositionY(),currentX=contentPositionX();elem.removeClass('jspScrollable').unbind('.jsp');elem.replaceWith(originalElement.append(pane.children()));originalElement.scrollTop(currentY);originalElement.scrollLeft(currentX);if(reinitialiseInterval){clearInterval(reinitialiseInterval);}}
$.extend(jsp,{reinitialise:function(s)
{s=$.extend({},settings,s);initialise(s);},scrollToElement:function(ele,stickToTop,animate)
{scrollToElement(ele,stickToTop,animate);},scrollTo:function(destX,destY,animate)
{scrollToX(destX,animate);scrollToY(destY,animate);},scrollToX:function(destX,animate)
{scrollToX(destX,animate);},scrollToY:function(destY,animate)
{scrollToY(destY,animate);},scrollToPercentX:function(destPercentX,animate)
{scrollToX(destPercentX*(contentWidth-paneWidth),animate);},scrollToPercentY:function(destPercentY,animate)
{scrollToY(destPercentY*(contentHeight-paneHeight),animate);},scrollBy:function(deltaX,deltaY,animate)
{jsp.scrollByX(deltaX,animate);jsp.scrollByY(deltaY,animate);},scrollByX:function(deltaX,animate)
{var destX=contentPositionX()+Math[deltaX<0?'floor':'ceil'](deltaX),percentScrolled=destX/(contentWidth-paneWidth);positionDragX(percentScrolled*dragMaxX,animate);},scrollByY:function(deltaY,animate)
{var destY=contentPositionY()+Math[deltaY<0?'floor':'ceil'](deltaY),percentScrolled=destY/(contentHeight-paneHeight);positionDragY(percentScrolled*dragMaxY,animate);},positionDragX:function(x,animate)
{positionDragX(x,animate);},positionDragY:function(y,animate)
{positionDragY(y,animate);},animate:function(ele,prop,value,stepCallback)
{var params={};params[prop]=value;ele.animate(params,{'duration':settings.animateDuration,'easing':settings.animateEase,'queue':false,'step':stepCallback});},getContentPositionX:function()
{return contentPositionX();},getContentPositionY:function()
{return contentPositionY();},getContentWidth:function()
{return contentWidth;},getContentHeight:function()
{return contentHeight;},getPercentScrolledX:function()
{return contentPositionX()/(contentWidth-paneWidth);},getPercentScrolledY:function()
{return contentPositionY()/(contentHeight-paneHeight);},getIsScrollableH:function()
{return isScrollableH;},getIsScrollableV:function()
{return isScrollableV;},getContentPane:function()
{return pane;},scrollToBottom:function(animate)
{positionDragY(dragMaxY,animate);},hijackInternalLinks:$.noop,destroy:function()
{destroy();}});initialise(s);}
settings=$.extend({},$.fn.jScrollPane.defaults,settings);$.each(['mouseWheelSpeed','arrowButtonSpeed','trackClickSpeed','keyboardSpeed'],function(){settings[this]=settings[this]||settings.speed;});return this.each(function()
{var elem=$(this),jspApi=elem.data('jsp');if(jspApi){jspApi.reinitialise(settings);}else{$("script",elem).filter('[type="text/javascript"],not([type])').remove();jspApi=new JScrollPane(elem,settings);elem.data('jsp',jspApi);}});};$.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:undefined,animateScroll:false,animateDuration:300,animateEase:'linear',hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:'split',horizontalArrowPositions:'split',enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8};})(jQuery,this);
if(typeof(Magelo)=="undefined")Magelo={};Magelo.DB=(function($){var _cache={};var _settings={locale:"en"};var _cachePut=function(db,type,id,locale,data){_cache[db+":"+type+":"+id+":"+locale]=data;};var _cacheGet=function(db,type,id,locale){return _cache[db+":"+type+":"+id+":"+locale];};var _asyncGet=function(db,type,id,locale,callback,args){var url=undefined;switch(db){case"eq":url="https://"+db+"."+Magelo.domain+"/tooltip.json";break;case"wow":case"rift":case"swtor":url="https://"+db+"."+Magelo.domain+"/"+locale+"/tooltip.json";break;default:throw"Unsupported operation";}
var data={};data[type]=id;$(Magelo.DB).trigger("loading",{"db":db,"type":type,"id":id,"locale":locale});var cbName="jsonp_"+type+"_"+id.replace(/[:-]{1,1}/ig,"_").replace(/[,=]/ig,"_")+"_"+locale;if(typeof(window[cbName])!="undefined"){window[cbName]=(function(){var chain=window[cbName];return function(data){_cachePut(db,type,id,locale,data);_invokeCallback(db,type,id,locale,callback,args.concat([data]));chain(data);};})();}else{$.ajax({url:url,dataType:"jsonp",data:data,jsonpCallback:cbName,cache:true,type:"get",success:function(data){_cachePut(db,type,id,locale,data);_invokeCallback(db,type,id,locale,callback,args.concat([data]));}});}};var _invokeCallback=function(db,type,id,locale,callback,args){try{callback.apply(null,args);}catch(e){if(typeof(console)!="undefined"){console.log("Error invoking callback",db,type,id,e);}}};var $this={configure:function(options){_settings=$.extend(_settings,options);},get:function(db,type,id,localeOrCallback){var locale=_settings.locale;var callback=undefined;var nArg=4;if(typeof(localeOrCallback)!="function"){if(typeof(localeOrCallback)!="undefined"){locale=localeOrCallback;}
if(typeof(arguments[nArg])=="function"){callback=arguments[nArg++];}}else{callback=localeOrCallback;}
var args=Array.prototype.slice.call(arguments,0);args.splice(0,nArg);var data=_cacheGet(db,type,id,locale);if(typeof(callback)!="function"){return data;}else if(typeof(data)=="undefined"){_asyncGet(db,type,id,locale,callback,args);}else{_invokeCallback(db,type,id,locale,callback,args.concat([data]));}}};return $this;})(jQuery);
Magelo.Locales=(function($){var _loaded=[];var _messages={};var _eventSource;var _settings={locale:"en"};var _isBundleLoaded=function(game,bundle,locale){var bundleKey=game+":"+bundle+":"+locale;for(var i=0;i<_loaded.length;++i){if(_loaded[i]==bundleKey){return true;}}
return false;};var _setBundleLoaded=function(game,bundle,locale){_loaded.push(game+":"+bundle+":"+locale);};var _asyncLoad=function(game,bundleName,locale,callback){if(!_isBundleLoaded(game,bundleName,locale)){var cbName="jsonp_locale_"+game+"_"+locale;if(typeof(window[cbName])!="undefined"){window[cbName]=(function(){var chain=window[cbName];return function(data){chain(data);_invokeCallback(game,bundleName,locale,callback);};})();}else{$.ajax({url:"https://"+game+"."+Magelo.domain+"/"+locale+"/locale.json",dataType:"jsonp",jsonpCallback:cbName,success:function(data){var nBundles=data.length;for(var i=0;i<nBundles;++i){var bundle=data[i];_setBundleLoaded(game,bundle.name,bundle.locale);var dataToImport={};dataToImport[bundle.locale]=bundle.messages;$.extend(true,_messages,dataToImport);}
_invokeCallback(game,bundleName,locale,callback);}});}}else{_invokeCallback(game,bundleName,locale,callback);}};var _getBundle=function(game,bundle,locale){return{get:function(key){var text=$this.get(game,bundle,locale,key);if(arguments.length>1){var args=Array.prototype.slice.call(arguments,0);args[0]=text;return _format.apply(this,args)}
return text;}};};var _invokeCallback=function(game,bundle,locale,callback){try{callback(_getBundle(game,bundle,locale));}catch(e){alert("Key doesn't exist '"+key+"'");}};var _dispatchGet=function(a0,a1,a2,a3){if(arguments.length==4){return _get.apply(this,arguments);}else if(arguments.length==3){return _get.apply(this,[a0,a1,_settings.locale,a2]);}};var _get=function(game,bundle,locale,keyOrCallback){if(_isBundleLoaded(game,bundle,locale)){if(typeof(keyOrCallback)=="function"){_invokeCallback(game,bundle,locale,keyOrCallback);}else{try{return _messages[locale][keyOrCallback]||keyOrCallback;}catch(e){if(typeof(console)!="undefined"){console.log("Key doesn't exist '"+keyOrCallback+"'");}}}}else if(typeof(keyOrCallback)=="function"){_asyncLoad(game,bundle,locale,keyOrCallback);}};var _format=function(text){var re=/%(\d+\$)?(\d+)?(.\d+)?(d|s|f)/g;var match;var index=0;while(match=re.exec(text)){var startpos=match.index;var endpos=startpos+match[0].length;index++;var minLength=0;var precision=-1;var padChar=" ";if(match[1])index=parseInt(match[1]);if(match[2]){if(match[2].charAt(0)=="0"){padChar="0";minLength=parseInt(match[2].substring(1));}else{minLength=parseInt(match[2]);}}
if(match[3])precision=parseInt(match[3].substring(1));var substitute="#";switch(match[4]){case"d":substitute=parseInt(arguments[index]);break;case"f":substitute=parseFloat(arguments[index]);if(precision>-1)substitute=substitute.toFixed(precision);break;case"s":substitute=arguments[index];break;}
substitute=""+substitute;if(substitute.length<minLength){var pad=minLength-substitute.length;for(var i=0;i<pad;++i){substitute=padChar+substitute;}}
text=text.substring(0,startpos)+substitute+text.substring(endpos);re.lastIndex+=substitute.length-match[0].length;}
return text;};var _format2=function(text){var re=/\{(\d+)\}/g;var match;while(match=re.exec(text)){var startpos=match.index;var length=match[0].length;var token=match[1];var endpos=startpos+length;var substitute="#";try{var argIndex=parseInt(token);substitute=arguments[1+argIndex];}catch(e){}
text=text.substring(0,startpos)+substitute+text.substring(endpos);re.lastIndex+=substitute.length-length;}
return text;};var $this={configure:function(options){_settings=$.extend(_settings,options);},get:_dispatchGet,getBundle:function(game,bundle,locale){if(!locale)locale=_settings.locale;return _getBundle(game,bundle,locale);},format:_format};_eventSource=$($this);return $this;})(jQuery);
if(typeof(Magelo)=="undefined"){Magelo={};};Magelo.ToolTip=(function($){var DefaultUI=function(){var ui=$("<div class='m-tooltip css2'>"+" <div class='arrow'></div>"+" <div class='border-1'></div>"+" <div class='border-2'></div>"+"   <div class='corner'></div>"+"   <div class='body'></div>"+"</div>");return{ui:ui,body:(ui.find(".body").length==0?ui:ui.find(".body")),getElement:function(){return this.ui;},setContent:function(html){this.body.html(html);}};};var _defaults={hOffset:4,vOffset:25,zIndex:5000000,ui:DefaultUI,uiClass:"",locale:"en",prepareDelay:25,loadingDelay:150,dismissDelay:1,interactable:false};var _prepareTimer;var _dismissTimer;var _currentTooltip;var _UIs={};var _providers=[];var _filters=[];var _namedFilters={};var tooltipClass="";var tooltipSize={w:50,h:50};var _divPool=[];var lastMousePosition={x:0,y:0};var viewport;var _settings=$.extend({},_defaults);var _aquireDiv=function(){if(_divPool.length>0)return _divPool.shift();var el=$('<div style="visibility:hidden; position:absolute;"></div>');el.css('z-index',_settings.zIndex);el.appendTo(document.body);return el;};var _releaseDiv=function(el){el.css('visibility','hidden');_divPool.push(el);};var _createToolTip=function(key,parentKey,options){var $ttp={key:key,parentKey:parentKey,locale:_settings.locale,content:"",state:"",element:_aquireDiv(),options:$.extend({},_settings,options),attachments:[],attributes:{},loadingTimer:undefined,configure:function(options){this.options=$.extend(this.options,options);},attr:function(key,value){if(arguments.length==1){return this.attributes[key];}else{this.attributes[key]=value;}},dispose:function(){try{clearTimeout(this.loadingTimer);for(var i=0;i<this.attachments.length;++i){this.attachments[i].dispose();}
_releaseDiv(this.element);this.element=undefined;}catch(e){Magelo.ToolTip.log("Error dispose",e);}},setState:function(state){this.state=state;if(!this.element)return;if(state=="loading"){clearTimeout(this.loadingTimer);this.loadingTimer=setTimeout(function(){var ttp=$ttp;return function(){_doContentLoading($ttp);};}(),_settings.loadingDelay);}},showLoading:function(){_updateTooltip(undefined,this,'<font style="color:gray">Loading...</font>');},setContent:function(c){try{clearTimeout(this.loadingTimer);if(!this.element)return;this.setState("loaded");this.content=c;this.update();$(this).trigger("content-loaded",{tooltip:this});}catch(e){Magelo.ToolTip.log("Error setting content",e);}},update:function(){_asyncFilter(this,_updateTooltip);},attach:function(attachment){try{if(this.state=="loading"){return;}
if(!this.element)return;if(this.parentKey)return;if(typeof(attachment)=="string"){var att=new _createToolTip(attachment,this.key);att.locale=this.locale;this.attachments.push(att);_fetchContent(att);}else{var att=new _createToolTip("attach:"+(new Date().getTime()),this.key,$.extend({placement:"flow"},this.options,attachment));att.locale=this.locale;this.attachments.push(att);att.setContent(att.options.content);}
$(this).trigger("attachment-added",{tooltip:this});}catch(e){Magelo.ToolTip.log("Error attaching content",e);}}};return $ttp;};var _updateTooltip=function(chain,ttp,content){try{if(ttp.element){var t=ttp.element;var ui=_getUI(ttp.options.ui);ui.setContent(content);t.empty();var el=ui.getElement();if(ttp.options.uiClass!=""){el.addClass(ttp.options.uiClass);}
el.appendTo(t);if(typeof(ttp.parentKey)=="undefined"){tooltipSize={w:t.width(),h:t.height()};}else{ttp.width=t.width();ttp.height=t.height();}
if(content!=""){t.css('visibility','visible');_layout();}}}catch(e){Magelo.ToolTip.log("Error during ttp update",e);}};var _fetchContent=function(ttp){try{for(var i=0;i<_providers.length;++i){_providers[i](ttp);}}catch(e){Magelo.ToolTip.log("Error loading content.",e);}};var _asyncFilter=function(ttp,callback){var _chain=[].concat(_filters);_chain.push(callback);var chain={filter:function(content){var f=_chain.shift();try{f(chain,ttp,content);}catch(e){Magelo.ToolTip.log("Error during content filtering",e,f);}}};chain.filter(ttp.content);};var _getUI=function(o){try{if(typeof(o)=="function"){return new o;}else{var ui=_UIs[o];if(typeof(ui)=="function"){return new ui;}}}catch(e){Magelo.ToolTip.log("Error creating ui",e);}
return new DefaultUI;};var _layout=function(){var ttp=_currentTooltip;if(!ttp)return;try{var options=ttp.options;var v=viewport;var left=lastMousePosition.x;var top=lastMousePosition.y;var className="";var rightBorder=left+tooltipSize.w+options.hOffset;var bottomBorder=top+tooltipSize.h+options.vOffset;var width=tooltipSize.w;var x0=left-options.hOffset;var x1=left+options.hOffset;var goRight=true;if(v.x+v.cx<rightBorder){left-=tooltipSize.w+options.hOffset;x0-=tooltipSize.w+options.hOffset;goRight=false;className+="left";}else{left+=options.hOffset;x1+=tooltipSize.w+options.hOffset;className+="right"}
if(v.y+v.cy<bottomBorder){var topBorder=top-(tooltipSize.h+5);if(topBorder>v.y){top-=tooltipSize.h+5;className="top-"+className;}else{var topOverflow=v.y-topBorder;var botOverflow=bottomBorder-(v.y+v.cy);if(topOverflow<botOverflow){top=v.y;className=" ";}else{top=Math.max(top-botOverflow,v.y);className=" ";}}}else{top+=options.vOffset;className="bottom-"+className;}
ttp.element.css({top:top,left:left});if(tooltipClass!=className){ttp.element.removeClass("top-left top-right bottom-left bottom-right");ttp.element.addClass(className);}
for(var i=0;i<ttp.attachments.length;++i){var a=ttp.attachments[i].options;if(a.placement=="opposite"){goRight=!goRight;}
var t=ttp.attachments[i].element;width=ttp.attachments[i].width;height=ttp.attachments[i].height;if(goRight){left=x1;if(left+width>v.x+v.cx){goRight=false;left=x0-width;x0-=width+8;}else{x1+=width+8;}}else{left=x0-width;x0-=width+8;}
if(a.placement=="opposite"){goRight=!goRight;}
var overflowy=top+height-(v.y+v.cy);if(overflowy>0){top-=overflowy;}
t.css({top:top,left:left});}}catch(e){Magelo.ToolTip.log("Error during layout",e);}};var _prepareTooltip=function(key,lang){try{_doDismissTooltip();viewport=getViewport();if(typeof(key)=="string"){_currentTooltip=new _createToolTip(key);if(typeof(lang)!="undefined"&&lang!="")_currentTooltip.locale=lang;_prepareTimer=setTimeout(_doPrepareTooltip,_settings.prepareDelay);}}catch(e){Magelo.ToolTip.log("Error preparing tooltip",e);}
return _currentTooltip;};var _dismissTooltip=function(){try{clearTimeout(_prepareTimer);clearTimeout(_dismissTimer);if(_currentTooltip){_currentTooltip.setState("dismissing");var delay=_currentTooltip.options.dismissDelay;if(delay>0){_dismissTimer=setTimeout(_doDismissTooltip,delay);}else{_doDismissTooltip();}}}catch(e){Magelo.ToolTip.log("Error dismissing tooltip",e);}};var _doPrepareTooltip=function(e){try{viewport=getViewport();_fetchContent(_currentTooltip);}catch(e){Magelo.ToolTip.log("doPrepare error",e);}};var _doContentLoading=function(ttp){ttp.showLoading();};var _doDismissTooltip=function(){try{clearTimeout(_prepareTimer);clearTimeout(_dismissTimer);if(_currentTooltip){_currentTooltip.dispose();_currentTooltip=undefined;}}catch(e){Magelo.ToolTip.log("doDismiss error",e);}};var updateMouse=function(e){try{lastMousePosition={x:e.pageX,y:e.pageY};if(_currentTooltip&&_currentTooltip.state!="dismissing"){_layout();}}catch(e){Magelo.ToolTip.log("updateMouse error",e);}};var getViewport=function(){var w=$(window);return{x:w.scrollLeft(),y:w.scrollTop(),cx:w.width(),cy:w.height()};};var _defaultPrepareTooltip=function(e){var target=$(this);var key=target.attr("rel");var lang=target.attr("lang");if(typeof(e)!="undefined"){updateMouse(e);}
_prepareTooltip(key,lang);};$(document).bind("mousemove",updateMouse);var _enabled=false;var selector="[rel]";var _activateToolTips=function(){_dismissTooltip();if(!_enabled){$(selector).live("mouseover",_defaultPrepareTooltip);$(selector).live("mouseout",_dismissTooltip);_enabled=true;}};var _deactivateToolTips=function(){if(_enabled){$(selector).die("mouseover",_defaultPrepareTooltip);$(selector).die("mouseout",_dismissTooltip);clearTimeout(_dismissTimer);_enabled=false;}};var _initialize=function(){_activateToolTips();$(".m-tooltip").live("mouseenter",function(e){if(_currentTooltip){if(_currentTooltip.options.interactable){_deactivateToolTips();$(this).one("mouseleave",_activateToolTips);}else if(false){if(_currentTooltip.element.get(0)==e.currentTarget||$.contains(_currentTooltip.element.get(0),e.currentTarget)){clearTimeout(_dismissTimer);_currentTooltip.element.one("mouseleave",_dismissTooltip);}}}});};var $this={configure:function(options){_settings=$.extend(_settings,options);},disable:_deactivateToolTips,enable:_activateToolTips,prepare:_prepareTooltip,dismiss:_dismissTooltip,addContentProvider:function(provider){_providers.push(provider);},addContentFilter:function(optionsOrFilter){if(typeof(optionsOrFilter)=="object"||(typeof(optionsOrFilter)=="string")){var options;if(typeof(optionsOrFilter)=="string")
options={name:optionsOrFilter,priority:0};else
options=$.extend({},{priority:0},optionsOrFilter);var filter=arguments[1];if(typeof(_namedFilters[options.name])=="undefined"){_namedFilters[options.name]=(function(){var _filters=[];var $this={filter:function(chain,ttp,content){var last=_filters[_filters.length-1];last.filter(chain,ttp,content);},addFilter:function(filter,priority){var insertionPoint=0;for(;insertionPoint<_filters.length;insertionPoint++){if(_filters[insertionPoint].priority>priority)
break;}
_filters.splice(insertionPoint,0,{filter:filter,priority:priority});}};return $this;})();_filters.push(_namedFilters[options.name].filter);}
_namedFilters[options.name].addFilter(filter,options.priority);}else{var filter=optionsOrFilter;if(typeof(filter)!="function"||filter.length!=3){Magelo.ToolTip.log(filter);throw"The filter is invalid, check the function signature.";}
_filters.push(filter);}},addUI:function(name,ui){_UIs[name]=ui;},log:function(){try{if(typeof(console)!="undefined"){console.log(arguments);}}catch(e){}}};$this.DefaultUI=DefaultUI;$this.EmptyUI=function(){return{getElement:function(){return $(this.ui);},setContent:function(ui){this.ui=ui;}};};_initialize();return $this;})(jQuery);
Magelo.ToolTip.addUI("rift-ability-icon",(function($){return function(){return{getElement:function(){return $('<div class="rift-ability-icon">'+'<div class="rift-ability-icon-mask"></div>'+'<div class="rift-ability-icon-icon" style="'+'background-image: url(http://www.magelocdn.com/images/rift/icons/48/'+this.icon+'.jpg?v=-1);'+'"></div></div>');},setContent:function(icon){this.icon=icon;}};};})(jQuery));Magelo.ToolTip.addUI("rift-item-icon",(function($){return function(){return{getElement:function(){return $('<div class="rift-item-icon rarity'+this.rarity+'">'+'<div class="rift-item-icon-mask"></div>'+
(this.upgradeable==1?'<div class="rift-item-icon-upgradeable"></div>':'')+'<div class="rift-item-icon-icon" style="'+'background-image: url(http://www.magelocdn.com/images/rift/icons/48/'+this.icon+'.jpg?v=-1);'+'"></div></div>');},setContent:function(content){var params=content.split("|");this.upgradeable=params[0];this.rarity=params[1];this.icon=params[2];}};};})(jQuery));Magelo.ToolTip.addUI("rift-character-icon",(function($){return function(){return{getElement:function(){return $('<div class="rift-character-bg"><div class="rift-character-icon" style="'+'background-image: url(ht'+'tp://rift.sig.'+Magelo.domain+'/portrait45/'+this.icon+'.png);'+'"></div></div>');},setContent:function(icon){this.icon=icon;}};};})(jQuery));Magelo.ToolTip.addContentProvider(function(ttp){var params=ttp.key.split(":");if(params.length>=3&&params[0]=="rift"){var id=params[2];if(params.length>3){id=params.slice(2).join(":");}
switch(params[1]){case"dual-item":case"item":ttp.setState("loading");Magelo.DB.get("rift","item",id,ttp.locale,function(info){ttp.setContent(info.tooltip);ttp.attach({placement:"opposite",ui:"rift-item-icon",content:info.upgradeable+"|"+info.rarity+"|"+info.icon});});break;case"ability":ttp.setState("loading");Magelo.DB.get("rift","ability",id,ttp.locale,function(info){ttp.setContent(info.tooltip);ttp.attach({placement:"opposite",ui:"rift-ability-icon",content:info.icon});if(info.ability2!=undefined){ttp.attach("rift:ability:"+info.ability2);}});break;case"artifactset":ttp.setState("loading");Magelo.DB.get("rift","artifactSet",id,ttp.locale,function(info){ttp.setContent(info.tooltip);});break;case"npc":ttp.setState("loading");Magelo.DB.get("rift","npc",id,ttp.locale,function(info){ttp.setContent(info.tooltip);});break;case"gob":ttp.setState("loading");Magelo.DB.get("rift","object",id,ttp.locale,function(info){ttp.setContent(info.tooltip);});break;case"recipe":ttp.setState("loading");Magelo.DB.get("rift","recipe",id,ttp.locale,function(info){ttp.setContent(info.tooltip);ttp.attach({placement:"opposite",ui:"rift-ability-icon",content:info.icon});if(info.item){ttp.attach(info.item);}});break;case"quest":ttp.setState("loading");Magelo.DB.get("rift","quest",id,ttp.locale,function(info){ttp.setContent(info.tooltip);});break;case"soul":ttp.setState("loading");Magelo.DB.get("rift","characterClass",id,ttp.locale,function(info){ttp.setContent(info.tooltip);ttp.attach({placement:"opposite",ui:"rift-ability-icon",content:info.icon});});break;case"achievement":ttp.setState("loading");Magelo.DB.get("rift","achievement",id,ttp.locale,function(info){ttp.setContent(info.tooltip);ttp.attach({placement:"opposite",ui:"rift-ability-icon",content:info.icon});});break;case"zone":ttp.setState("loading");Magelo.DB.get("rift","zone",id,ttp.locale,function(info){ttp.setContent(info.tooltip);});break;case"profile":ttp.setState("loading");if(params.length>3){id=id+"_"+params[3];}
Magelo.DB.get("rift","character",id,ttp.locale,function(info){ttp.setContent(info.tooltip);if(info.avatar)
ttp.attach({placement:"opposite",ui:"rift-character-icon",content:info.id});});break;case"talent":ttp.setState("loading");var talentKey=params.join(":").substring("rift:talent:".length);Magelo.DB.get("rift","talent",talentKey,ttp.locale,function(info){ttp.setContent(info.tooltip);});break;case"guild":ttp.setState("loading");if(params.length>3){id=id+"_"+params[3];}
Magelo.DB.get("rift","guild",id,ttp.locale,function(info){ttp.setContent(info.tooltip);});break;}}});Magelo.ToolTip.addContentFilter((function($){return function(chain,ttp,content){var params=ttp.key.split(":");if(params[0]=="rift"&&params[1]=="dual-item"&&typeof(ttp.parentKey)!="undefined"){var params1=ttp.parentKey.split(":");if(params1.length>3&&params.length>3){}
var itemEquipped=Magelo.DB.get("rift","item",params[2],ttp.locale);var itemCompared=Magelo.DB.get("rift","item",params1[2],ttp.locale);if(typeof(itemEquipped)=="undefined"||typeof(itemCompared)=="undefined"){return chain.filter(content);}
try{var stats1=itemCompared.stats;var stats2=itemEquipped.stats;if(stats1!=undefined&&stats2!=undefined&&stats1!=""&&stats2!=""){Magelo.Locales.get("rift","tooltip",ttp.locale,function(bundle){var deltas="";for(var i=0;i<stats1.length;i++){var diff=stats1[i]-stats2[i];if(diff!=0){deltas+=(diff>0?'<span class="bonus">+':'<span class="malus">')+diff+"</span> "
+bundle.get("item_stat_"+i)
+"<br/>";}}
content='<div class="dual-tooltip-current-item">'+bundle.get("currently_equipped")+'</div>'+content;content+='<div class="dual-tooltip-item-delta"><hr/>'+bundle.get("delta_description")+'</div>';content+='<div class="dual-tooltip-deltas">'+deltas+"</div>";chain.filter(content);});return;}}catch(e){Magelo.ToolTip.log(e);}}
chain.filter(content);};})(jQuery));
Magelo.ToolTip.Adapters={};Magelo.ToolTip.Adapters.Magelo=(function($){var re=/^https?:\/\/(wow|eq|rift|swtor)\.([a-z]{3,4})?magelo\.com\/([a-z]{2})?\/?(item|npc|spell|quest|achievement|recipe|zone|artifactset|ability|profile|guild|gob)\/(-?\w+)(\?.*|\/.*)?/;var _adapt=function(){var m=re.exec($(this).attr("href"));if(m){$(this).one("mouseout",Magelo.ToolTip.dismiss);var subject=m[5];if(m[6]!=undefined&&(m[4]==="profile"||m[4]==="guild"))
subject+=m[6].replace("/","_");Magelo.ToolTip.prepare(m[1]+":"+m[4]+":"+subject,m[3]);}};return{enable:function(){$("a").live("mouseover",_adapt);},disable:function(){$("a").die("mouseover",_adapt);}};})(jQuery);Magelo.ToolTip.Adapters.WowAmory=(function($){var re=/^http:\/\/www\.wowarmory\.com\/(item)-info\.xml\?i=([\d]+)(&.*|\?.*|\/.*)?/;var _adapt=function(){var m=re.exec($(this).attr("href"));if(m){$(this).one("mouseout",Magelo.ToolTip.dismiss);Magelo.ToolTip.prepare("wow:"+m[1]+":"+m[2],"en");}};return{enable:function(){$("a").live("mouseover",_adapt);},disable:function(){$("a").die("mouseover",_adapt);}};})(jQuery);Magelo.ToolTip.Adapters.Thottbot=(function($){var re=/^http:\/\/(www\.)?thottbot\.com\/(i)([\d]+)(&.*|\?.*|\/.*)?/;var _adapt=function(){var m=re.exec($(this).attr("href"));if(m){var type=m[2]=="i"?"item":"";if(type!=""){$(this).one("mouseout",Magelo.ToolTip.dismiss);Magelo.ToolTip.prepare("wow:"+type+":"+m[3],"en");}}};return{enable:function(){$("a").live("mouseover",_adapt);},disable:function(){$("a").die("mouseover",_adapt);}};})(jQuery);Magelo.ToolTip.Adapters.Wowhead=(function($){var re=/^http:\/\/([a-z]{2,3})\.wowhead\.com\/?(item|npc|spell|quest|achievement)=([\d]+)(&.*|\?.*|\/.*)?/;var _adapt=function(){var m=re.exec($(this).attr("href"));if(m){$(this).one("mouseout",Magelo.ToolTip.dismiss);Magelo.ToolTip.prepare("wow:"+m[2]+":"+m[3],m[1]=="www"?"en":m[1]);}};return{enable:function(){$("a").live("mouseover",_adapt);},disable:function(){$("a").die("mouseover",_adapt);}};})(jQuery);Magelo.ToolTip.Adapters.Lucy=(function($){var re=/^http:\/\/lucy\.allakhazam\.com\/(item|spell)\.html\?id=([\d]+)(&.*|\?.*|\/.*)?/;var _adapt=function(){var m=re.exec($(this).attr("href"));if(m){$(this).one("mouseout",Magelo.ToolTip.dismiss);Magelo.ToolTip.prepare("eq:"+m[1]+":"+m[2],"en");}};return{enable:function(){$("a").live("mouseover",_adapt);},disable:function(){$("a").die("mouseover",_adapt);}};})(jQuery);Magelo.ToolTip.Adapters.RiftYG=(function($){var re=/^http:\/\/rift\.yg\.com\/(\w\w\/)?item\/.*\?id=(.*)/;var _adapt=function(){var m=re.exec($(this).attr("href"));if(m){$(this).one("mouseout",Magelo.ToolTip.dismiss);Magelo.ToolTip.prepare("rift:item:"+m[2],m[1]==undefined?"en":m[1].substring(0,2));}};return{enable:function(){$("a").live("mouseover",_adapt);},disable:function(){$("a").die("mouseover",_adapt);}};})(jQuery);Magelo.ToolTip.Adapters.RiftZam=(function($){var re=/^http:\/\/rift\.zam\.com\/(\w\w)\/(item|ability|npc|quest|recipe)\/(-?[A-F0-9]*)(\/.*)/;var _adapt=function(){var m=re.exec($(this).attr("href"));if(m){$(this).one("mouseout",Magelo.ToolTip.dismiss);Magelo.ToolTip.prepare("rift:"+m[2]+":"+m[3],m[1]);}};return{enable:function(){$("a").live("mouseover",_adapt);},disable:function(){$("a").die("mouseover",_adapt);}};})(jQuery);
if(typeof(Magelo)=="undefined"){Magelo={};}
Magelo.Support={CSS3:false};Magelo.Bar=(function($){var FlagMinimized=0x1;var _firstUpdate=true;var _loggedIn=false;var _loginProvider;var _username;var _maskVisible=false;var _mask;var _mageloBar=undefined;var _leftPane=undefined;var _rightPane=undefined;var _minimizeButton=undefined;var _initializers=[];var _toggleMask=function(){if(typeof(_mask)=="undefined"){_mask=$('<div id="magelo-bar-mask"></div>');_mask.appendTo(document.body);_maskVisible=true;return;}
_mask.css('visibility',_maskVisible?'hidden':'visible');_maskVisible=!_maskVisible;};var _setLoggedState=function(isLoggedIn){_loggedIn=isLoggedIn;_mageloBar.trigger(isLoggedIn?"login":"logout");};var _handleUpdateState=function(newState){_username=newState.username;_setLoggedState(newState.loggedIn);if(_firstUpdate){_firstUpdate=false;_loadState(newState.state);_mageloBar.css("display","block");}};var _requestUpdateState=function(){$.ajax({url:"https://www."+Magelo.domain+"/"+Magelo.locale+"/magelo-webbar-state.json",dataType:"jsonp",cache:false,success:_handleUpdateState});};var _state;var _loading=false;var _loadState=function(s){var newState=[];var params=s.split("-");for(var i=0;i<params.length;++i){if(params[i].length>1){var key=parseInt(params[i].charAt(0),36);var value=parseInt(params[i].substring(1),36);newState.push([key,value]);}}
_state=newState;_loading=true;_mageloBar.trigger("state-update");_loading=false;};var _saveState=function(){if(typeof(_state)!="undefined"){var s="";for(var i=0;i<_state.length;++i){if(s.length>0)s+="-";s+=_state[i][0].toString(36);s+=_state[i][1].toString(36);}
$.ajax({url:"https://www."+Magelo.domain+"/"+Magelo.locale+"/magelo-webbar-state.json",dataType:"jsonp",data:{"state":s},cache:false,success:_handleUpdateState});}};var _getState=function(id){if(typeof(_state)=="undefined"){return;}
for(var i=0;i<_state.length;++i){if(_state[i][0]==id){return _state[i][1];}}};var _setState=function(id,value){if(_loading)return;if(typeof(_state)=="undefined"){_state=[];}
for(var i=0;i<_state.length;++i){if(_state[i][0]==id){if(_state[i][1]!=value){_state[i][1]=value;_saveState();}
return;}}
_state.push([id,value]);_saveState();};var _minimize=function(minimized){_setState(0,1);_mageloBar.trigger("minimized");};var _restore=function(minimized){_setState(0,0);_mageloBar.trigger("restored");};var _minimizeUI=function(){_mageloBar.clearQueue();var animate=_mageloBar.is(":visible");if(typeof(animate)=="undefined"||animate){_mageloBar.animate({bottom:-28},{duration:250,defaultEasing:"easeOut"});}else{_mageloBar.css("bottom",-28);}
if(!_mageloBar.is(".minimized")){_mageloBar.queue(function(){_mageloBar.addClass('minimized');_mageloBar.mouseenter(_minimizedClickyUI);_mageloBar.mouseleave(_minimizeUI);_mageloBar.click(_restore);_mageloBar.dequeue();});}};var _minimizedClickyUI=function(){_mageloBar.clearQueue();_mageloBar.animate({bottom:-22},{duration:250,defaultEasing:"easeOut"});};var _restoreUI=function(){_mageloBar.clearQueue();_mageloBar.animate({bottom:0},{duration:250,defaultEasing:"easeOut"});_mageloBar.unbind("mouseenter",_minimizedClickyUI);_mageloBar.unbind("mouseleave",_minimizeUI);_mageloBar.unbind("click",_restore);_mageloBar.removeClass('minimized');};var $this={setState:_setState,getState:_getState,ready:function(init){_initializers.push(init);},toggleMask:function(){_toggleMask();},bind:function(){_mageloBar.bind.apply(_mageloBar,arguments);},unbind:function(){_mageloBar.unbind.apply(_mageloBar,arguments);},add:function(o,paneName){var item=$('<span class="magelo-bar-item"></span>');if(typeof(paneName)=="undefined"||paneName=="left"){item.appendTo(_leftPane);}else{item.appendTo(_rightPane);}
if(typeof(o.appendTo)!="undefined"){o.appendTo(item);}else{$(o).appendTo(item);}},addSeparator:function(){this.add($('<span class="magelo-bar-separator"></span>'));},addTooltip:function(element,tooltip,showOnElement){if(!showOnElement){showOnElement=element;}
if(typeof(element.data("tooltip"))!="undefined"&&element.data("tooltip")!=null){element.data("tooltip").el.remove();element.unbind("mouseenter",element.data("tooltip").show);element.unbind("mouseleave",element.data("tooltip").hide);element.data("tooltip",undefined);}
var tooltipEl=$('<div class="magelo-bar-tooltip">'+'<div class="magelo-bar-tooltip-border1"></div>'+'<div class="magelo-bar-tooltip-border2"></div>'+'<div class="magelo-bar-tooltip-corner"></div>'+'<div class="magelo-bar-tooltip-content"></div>'+'</div>');var contentEl=tooltipEl.find(".magelo-bar-tooltip-content");tooltipEl.css('position','absolute');tooltipEl.css('display','none');contentEl.html(tooltip);tooltipEl.appendTo(showOnElement.parent());var showTtp=function(){var left=showOnElement.position().left;var marginLeft=parseInt(showOnElement.css("margin-left"))||0;var marginRight=parseInt(showOnElement.css("margin-right"))||0;left+=marginLeft;var width=showOnElement.width();left+=width>>1;var bottom=0;var prevEl=showOnElement;var ho=0;var els=showOnElement.parents();for(var i=0;i<els.length;++i){if($(els[i]).is(".magelo-bar-content"))break;bottom+=$(els[i]).position().top;ho=$(els[i]).height();}
bottom+=ho;if(showOnElement.parents(".magelo-bar-right").length>0){tooltipEl.css('right',(showOnElement.parent().width()-24-left)+'px');}else{tooltipEl.css('left',(left-24)+'px');}
tooltipEl.css('bottom',bottom+'px');tooltipEl.show();};var hideTtp=function(){tooltipEl.hide();};element.mouseenter(showTtp);element.mouseleave(hideTtp);var ttp={el:tooltipEl,show:showTtp,hide:hideTtp};element.data("tooltip",ttp);},login:function(){if(!$this.isLoggedIn()){if(_loginProvider){_loginProvider.initiate();}}},logout:function(){if($this.isLoggedIn()){if(_loginProvider){_loginProvider.logout();}}},install:function(){var code='<div id="magelo-bar" style="display:none">'+'<div class="magelo-bar-background">'+'<div class="magelo-bar-background-left"></div>'+'<div class="magelo-bar-background-middle"></div>'+'<div class="magelo-bar-background-right"></div>'+'</div>'+'<div style="position:relative">'+'<div class="magelo-bar-content">'+'<div class="magelo-bar-left"></div>'+'<div class="magelo-bar-right">'+'<div class="magelo-bar-info"><span></span></div>'+'<div class="magelo-bar-minimize"><span></span></div>'+'</div>'+'</div>'+'</div>'+'</div>';$(document.body).append(code);$(document.body).css("margin-bottom","50px");_mageloBar=$("#magelo-bar");try{if(navigator.platform=='iPad'||navigator.platform=='iPhone'||navigator.platform=='iPod'){_mageloBar.css("position","static");};}catch(e){}
_leftPane=_mageloBar.find(".magelo-bar-left");_rightPane=_mageloBar.find(".magelo-bar-right");_infoButton=_mageloBar.find(".magelo-bar-info");_minimizeButton=_mageloBar.find(".magelo-bar-minimize");var _connectButton=$('<div class="magelo-bar-status"></div>');$this.add(_connectButton);$this.addSeparator();var bundle=Magelo.Locales.getBundle("rift","webbar");$this.addTooltip(_infoButton,bundle.get("webbar.about.tooltip"));$this.addTooltip(_minimizeButton,bundle.get("webbar.minimize.tooltip"));_connectButton.click(function(){if($this.isLoggedIn()){$this.logout();}else{$this.login();}});_minimizeButton.click(_minimize);_mageloBar.bind("minimized",_minimizeUI);_mageloBar.bind("restored",_restoreUI);_mageloBar.bind("login",function(){$this.addTooltip(_connectButton,bundle.get("webbar.state.connected",_username));_mageloBar.addClass("connected");});_mageloBar.bind("logout",function(){$this.addTooltip(_connectButton,bundle.get("webbar.state.disconnected"));_mageloBar.removeClass("connected");});_mageloBar.one("state-update",function(){var state=Magelo.Bar.getState(0);if(state){if(state&FlagMinimized){_minimize();}}});_infoButton.click(function(){var _path=Magelo.channel!="eq"?"/"+Magelo.locale:"";$.ajax({url:"https://"+Magelo.channel+"."+Magelo.domain+_path+"/magelo_webbar_info.json",dataType:"jsonp",success:function(data){var infoPopup=new Magelo.Bar.Popup();infoPopup.setContent(data.html);infoPopup.appendTo(_infoButton.parent());var right=_infoButton.parent().width()-(_infoButton.width()+_infoButton.position().left);var bottom=_infoButton.parent().height()-_infoButton.position().top;var pos=Magelo.Bar.UI.positionTo(_infoButton.parent(),_infoButton.parents('.magelo-bar-content'));infoPopup.toggle({bottom:pos.top+_infoButton.parent().height()-5,right:right});}});});},isLoggedIn:function(){return _loggedIn;},setLoginProvider:function(provider){_loginProvider=provider;$(_loginProvider).bind("login-succeeded",function(){_requestUpdateState();});$(_loginProvider).bind("logout-succeeded",function(){_setLoggedState(false);});},show:function(){_requestUpdateState();for(var i=0;i<_initializers.length;++i){_initializers[i]();}}};return $this;})(jQuery);Magelo.Bar.WOWSearchEngine=(function($){return function(){var jsonSearchUrl="https://wow."+Magelo.domain+"/"+Magelo.locale+"/quicksearch.json?keyword=";var htmlSearchUrl="https://wow."+Magelo.domain+"/"+Magelo.locale+"/quick_search.jspa?keyword=";return{requestSuggestions:function(query,callback){$.ajax({url:jsonSearchUrl+encodeURIComponent(query),dataType:"jsonp",success:callback});},search:function(query){}};};})(jQuery);Magelo.Bar.EQSearchEngine=(function($){return function(){var jsonSearchUrl="https://eq."+Magelo.domain+"/quicksearch.json?keyword=";var htmlSearchUrl="https://eq."+Magelo.domain+"/quick_search.jspa?keyword=";return{requestSuggestions:function(query,callback){$.ajax({url:jsonSearchUrl+encodeURIComponent(query),dataType:"jsonp",success:callback});},search:function(query){}};};})(jQuery);Magelo.Bar.RiftSearchEngine=(function($){return function(){var jsonSearchUrl="https://rift."+Magelo.domain+"/"+Magelo.locale+"/quicksearch.json?keyword=";var htmlSearchUrl="https://rift."+Magelo.domain+"/"+Magelo.locale+"/quick_search.jspa?keyword=";return{requestSuggestions:function(query,callback){$.ajax({url:jsonSearchUrl+encodeURIComponent(query),dataType:"jsonp",success:callback});},search:function(query){}};};})(jQuery);Magelo.Bar.TorSearchEngine=(function($){return function(){var jsonSearchUrl="https://swtor."+Magelo.domain+"/"+Magelo.locale+"/webbar/quicksearch.json?keyword=";var htmlSearchUrl="https://swtor."+Magelo.domain+"/"+Magelo.locale+"/quick_search.jspa?keyword=";return{requestSuggestions:function(query,callback){$.ajax({url:jsonSearchUrl+encodeURIComponent(query),dataType:"jsonp",success:callback});},search:function(query){}};};})(jQuery);Magelo.Bar.WOWCharacterRepository=(function($){return function(){return{getStateId:function(){return 11;},requestCharactersList:function(callback){$.ajax({url:"https://wow."+Magelo.domain+"/"+Magelo.locale+"/my_characters.json",dataType:"jsonp",success:callback});},requestCharacterDetails:function(id,callback){$.ajax({url:"https://wow."+Magelo.domain+"/"+Magelo.locale+"/my_character.json",dataType:"jsonp",cache:true,jsonpCallback:"jsonp_chr_"+id,data:{"characterId":id},success:callback});}};};})(jQuery);Magelo.Bar.WOWToolTipContextualizingFilter=(function($){return function(){var _isEquippableAt=function(invSlot,equipSlot){switch(equipSlot){case 0:return invSlot==1;case 1:return invSlot==2;case 2:return invSlot==3;case 3:return invSlot==4;case 4:return(invSlot==5)||(invSlot==20);case 5:return invSlot==6;case 6:return invSlot==7;case 7:return invSlot==8;case 8:return invSlot==9;case 9:return invSlot==10;case 10:return invSlot==11;case 11:return invSlot==11;case 12:return invSlot==12;case 13:return invSlot==12;case 14:return invSlot==16;case 15:return(invSlot==13)||(invSlot==17)||(invSlot==21);case 16:return(invSlot==13)||(invSlot==14)||(invSlot==17)||(invSlot==22);case 18:return invSlot==19;}
return false;};Magelo.Bar.MyCharacter.bind("character-selected character-info-updated",function(){if(typeof(renderAllSpellMarkup)!="undefined"){renderAllSpellMarkup(undefined,Magelo.Bar.MyCharacter.getCharacter());}});return function(filterChain,ttp,content){var params=ttp.key.split(":");var myCharacter=Magelo.Bar.MyCharacter.getCharacter();if(typeof(myCharacter)!="undefined"&&myCharacter.result!="error"){if(params.length>=3&&params[0]=="wow"&&params[1]=="item"){Magelo.DB.get("wow","item",params[2],ttp.locale,function(it){for(var i=0;i<myCharacter.equipment.length;++i){var item=myCharacter.equipment[i];if(_isEquippableAt(it.slot,item.slot)){if(params.length>3){var id=[item.item,item.enchant,item.sockets[0].gem,item.sockets[1].gem,item.sockets[2].gem].join(":");ttp.attach("wow:dual-item:"+id)}else{ttp.attach("wow:dual-item:"+item.item);}}}});}
if(typeof(myCharacter.achievements)!="undefined"){if(params.length==3&&params[0]=="wow"&&params[1]=="achievement"){var achieved=myCharacter.achievements[params[2]];if(typeof(achieved)!="undefined"){Magelo.Locales.get("wow","tooltip",ttp.locale,function(bundle){var t=bundle.get("ACHIEVEMENT_TOOLTIP_COMPLETE",myCharacter.name,achieved%100,achieved/100%100,achieved/10000%100);var c=$(content);c.find(".name").after('<span class="date-completed">'+t+'</span>');filterChain.filter(c);});return;}}}
if(params.length==3&&params[0]=="wow"&&params[1]=="spell"){if(typeof(myCharacter.spellBook)!="undefined"){var known=false;var spellId=parseInt(params[2]);for(var i=0;i<myCharacter.spellBook.length;++i){if(myCharacter.spellBook[i]==spellId){known=true;break;}}
if(false&&known){Magelo.Locales.get("wow","tooltip",ttp.locale,function(bundle){var t=bundle.get("ITEM_SPELL_KNOWN",myCharacter.name);var c=$(content);c.find("h1:first").after('<span class="already-known">'+t+'</span>');filterChain.filter(c);});return;}}}}
filterChain.filter(content);};};})(jQuery);Magelo.Bar.EQCharacterRepository=(function($){return function(){return{getStateId:function(){return 10;},requestCharactersList:function(callback){$.ajax({url:"https://eq."+Magelo.domain+"/my_characters.json",dataType:"jsonp",success:callback});},requestCharacterDetails:function(id,callback){$.ajax({url:"https://eq."+Magelo.domain+"/my_character.json",dataType:"jsonp",cache:true,jsonpCallback:"jsonp_chr_"+id,data:{"characterId":id},success:callback});}};};})(jQuery);Magelo.Bar.EQToolTipContextualizingFilter=(function($){return function(filterChain,ttp,content){var params=ttp.key.split(":");var myCharacter=Magelo.Bar.MyCharacter.getCharacter();if(typeof(myCharacter)!="undefined"&&myCharacter.result!="error"){if(params.length==3&&params[0]=="eq"&&params[1]=="item"){Magelo.DB.get("eq","item",params[2],function(it){for(var i=0;i<myCharacter.equipment.length;++i){var item=myCharacter.equipment[i];if(it.cat!=54&&((it.slots&(1<<(item.slot)))!=0)){ttp.attach("eq:dual-item:"+item.item);}}});}}
filterChain.filter(content);};})(jQuery);Magelo.Bar.RiftCharacterRepository=(function($){return function(){return{getStateId:function(){return 12;},requestCharactersList:function(callback){$.ajax({url:"https://rift."+Magelo.domain+"/"+Magelo.locale+"/my_characters.json",dataType:"jsonp",success:callback});},requestCharacterDetails:function(id,callback){$.ajax({url:"https://rift."+Magelo.domain+"/"+Magelo.locale+"/my_character.json",dataType:"jsonp",cache:true,jsonpCallback:"jsonp_chr_"+id,data:{"characterId":id},success:callback});}};};})(jQuery);Magelo.Bar.RiftToolTipContextualizingFilter=(function($){return function(){return function(filterChain,ttp,content){var params=ttp.key.split(":");var myCharacter=Magelo.Bar.MyCharacter.getCharacter();if(typeof(myCharacter)!="undefined"&&myCharacter.result!="error"){if(params.length>=3&&params[0]=="rift"&&params[1]=="item"){Magelo.DB.get("rift","item",params[2],ttp.locale,function(it){for(var i=0;i<myCharacter.equipment.length;++i){var item=myCharacter.equipment[i];var slotMatch=(it.slots&(1<<item.slot))!=0;if(slotMatch){ttp.attach("rift:dual-item:"+item.item.key);}}});}}
filterChain.filter(content);};};})(jQuery);
Magelo.Bar.UI=(function($){return{positionTo:function(el1,el2){var p=el1.parents();var i=0;var pos=el1.position();while(i<p.length&&p[i]!=el2[0]){var position=$(p[i++]).position();pos.top+=position.top;pos.left+=position.left;}
return pos;}};})(jQuery);Magelo.Bar.PopupManager=(function(){var _popups=[];var _actives=[];var _actives_indexOf=function(p){for(var i=0;i<_actives.length;++i){if(_actives[i]==p)return i;}
return-1;};var popupOpened=function(e){var p=e.popup;var index=_actives_indexOf(p);if(index==-1){for(var i=_actives.length-1;i>=0;--i){_actives[i].hide();}
_actives.push(p);}};var popupClosed=function(e){var p=e.popup;var index=_actives_indexOf(p);if(index!=-1){_actives.splice(index,1);}};return{addPopup:function(p){_popups.push(p);p.bind("popupOpened",popupOpened);p.bind("popupClosed",popupClosed);},removePopup:function(p){var index=this.indexOf(p);if(index!=-1){_popups.splice(index,1);p.unbind("popupOpened",popupOpened);p.unbind("popupClosed",popupClosed);}},indexOf:function(popup){for(var i=0;i<_popups.length;++i){if(_popups[i]==popup)
return i;}
return-1;}};})();Magelo.Bar.Popup=(function($){return function(){var _ui;var _content;if(Magelo.Support.CSS3){_ui=$('<div class="magelo-bar-popup"></div>');_content=_ui;}else{_ui=$('<div class="magelo-bar-popup">'+'<div class="magelo-bar-popup-border1"></div>'+'<div class="magelo-bar-popup-border2"></div>'+'<div class="magelo-bar-popup-corner"></div>'+'<div class="magelo-bar-popup-content"></div>'+'</div>');_content=_ui.find(".magelo-bar-popup-content");}
var _autohide=true;if(arguments&&arguments.length>0){if(typeof(arguments[0].id)!="undefined"){_ui.attr("id",arguments[0].id);}
if(typeof(arguments[0].autohide)!="undefined"){_autohide=arguments[0].autohide;}}
var $this={setAutoHide:function(b){_autohide=b;},bind:function(type,fn){_ui.bind(type,fn);},unbind:function(type,fn){_ui.unbind(type,fn);},animate:function(){_ui.animate.apply(_ui,arguments);},queue:function(){_ui.queue.apply(_ui,arguments);},appendTo:function(o){_ui.appendTo($(o));},add:function(o){$(o).appendTo(_content);_ui.trigger({type:"popupContentUpdated",popup:this});},setContent:function(o){_content.empty();this.add(o);},toggle:function(){if(_ui.is(":visible")){this.hide.apply(this,arguments);}else{this.show.apply(this,arguments);}},show:function(){if(typeof(arguments)!="undefined"&&arguments.length>0){var params=arguments[0];if(typeof(params.top)!="undefined")_ui.css("top",params.top+"px");if(typeof(params.right)!="undefined")_ui.css("right",params.right+"px");if(typeof(params.bottom)!="undefined")_ui.css("bottom",params.bottom+"px");if(typeof(params.left)!="undefined")_ui.css("left",params.left+"px");}
_ui.show();_ui.trigger({type:"popupOpened",popup:this});},hide:function(){_ui.trigger({type:"popupClosing",popup:this});_ui.hide();_ui.trigger({type:"popupClosed",popup:this});},isVisible:function(){return _ui.is(":visible");}};var timer;var setupAutoHide=function(){if(_autohide){timer=setTimeout($this.hide,500);}};var abortAutoHide=function(){if(typeof(timer)!="undefined"){clearTimeout(timer);timer=undefined;}};_ui.bind("mouseenter",abortAutoHide);_ui.bind("mouseleave",setupAutoHide);_ui.bind("mousewheel",function(e){e.preventDefault();});Magelo.Bar.PopupManager.addPopup($this);return $this;};})(jQuery);Magelo.Bar.Panel=(function($){return function(){var _ui;var _content;if(Magelo.Support.CSS3){_ui=$('<div class="magelo-bar-panel"></div>');_content=_ui;}else{_ui=$('<div class="magelo-bar-panel">'+'<div class="magelo-bar-panel-border1"></div>'+'<div class="magelo-bar-panel-border2"></div>'+'<div class="magelo-bar-panel-corner"></div>'+'<div class="magelo-bar-panel-content"></div>'+'</div>');_content=_ui.find(".magelo-bar-panel-content");}
if(arguments&&arguments.length>0){if(typeof(arguments[0].id)!="undefined"){_ui.attr("id",arguments[0].id);}}
return{appendTo:function(o){_ui.appendTo($(o));},setContent:function(o){_content.empty();$(o).appendTo(_content);}};};})(jQuery);
Magelo.Bar.Search=(function($){var _searchEngine;var _defaultText;var bar;var input;var popup;var selectedIndex=-1;var results;var previousQuery="";var wikiTagBuilder=undefined;var hasResults=function(){return(typeof(results)!="undefined")&&results.length>0;};var onKeyPress=function(e){if(typeof(results)!="undefined"){switch(e.keyCode){case 13:goToResult();e.preventDefault();break;case 27:cancelCompletion();e.preventDefault();break;case 38:selectCompletion(selectedIndex+1);e.preventDefault();break;case 40:selectCompletion(selectedIndex-1);e.preventDefault();break;}}};var onKeyUp=function(e){var query=input.val();doSearch(query);};var onBlur=function(){if(input.val()==""){input.val(_defaultText);}
if(typeof(popup)!="undefined"){setTimeout(function(){popup.hide();},500);}};var onFocus=function(){if(input.val()==_defaultText){input.val("");}
if(typeof(popup)!="undefined"&&hasResults()){popup.show();}};var fireSearchStarted=function(){bar.addClass("loading");};var fireSearchComplete=function(){bar.removeClass("loading");};var cancelCompletion=function(){hideResults();};var hideResults=function(){if(selectedIndex!=-1){results[selectedIndex].jquery.removeClass("selected");}
selectedIndex=-1;if(typeof(popup)!="undefined"){popup.hide();}};var goToResult=function(){if(selectedIndex!=-1){document.location.href=results[selectedIndex].url;}else{_searchEngine.search(input.val());}};var selectCompletion=function(newIndex){doSelect(newIndex);};var doSelect=function(newIndex){var prevIndex=selectedIndex;if(prevIndex==-1&&newIndex<prevIndex){newIndex++;}
selectedIndex=(newIndex+results.length)%results.length;if(prevIndex!=-1){results[prevIndex].jquery.removeClass("selected");}
results[selectedIndex].jquery.addClass("selected");popup.show();};var doSearch=function(query,callback){if(query==previousQuery){return;}
if(query.length<2){if(typeof(result)!="undefined"){popup.hide();}
return;}
previousQuery=query;fireSearchStarted();_searchEngine.requestSuggestions(query,function(data){onSearchResult(data,callback)});};var urlEncode=function(str){return str.replace(/^\s\s*/,'').replace(/\s\s*$/,'').replace(/"/g,'\'').replace(/ : /g,'-').replace(/ /g,'-').replace(/\%/g,'').replace(/\:/g,'-').replace(/\[/g,'').replace(/\]/g,'').replace(/-+/g,'-');};var onSearchResult=function(data){fireSearchComplete();results=data;if(typeof(popup)=="undefined"){var dummy=$('<div id="magelo-bar-search-result-parent"></div>');dummy.appendTo(bar);popup=new Magelo.Bar.Popup({id:"magelo-bar-search-result",autohide:false});popup.appendTo(dummy);}
if(data.length>0){var resultContainer=$("<ul></ul>");for(var i=0;i<data.length;++i){var r=data[data.length-i-1];var icon=r.icon;if(icon!=""){icon='<img src="'+icon+'" width="20" height="20" align="absmiddle" >';}
r.jquery=$("<li>"+icon+"<span class=\"magelo-search-result-entry\"><a rel=\""+r.rel+"\" href=\""+r.url+((r.type!='character'&&r.type!='guild')?("/"+urlEncode(r.name)):"")+"\" "+(Magelo.externalWebsite?"target=\"_blank\"":"")+">"+r.name+"</a></span>"+"</li>");r.jquery.appendTo(resultContainer);r.jquery.mouseenter(function(){var myIndex=data.length-i-1;return function(){doSelect(myIndex);}}());with(r){r.jquery.drag("start",function(ev,dd){var $this=$(this);var proxy=$("<div style='position:absolute;color: black;'></div>");proxy.data({type:type,icon:icon,name:name,rel:rel,url:url});return proxy.append($(this).children().first().clone()).append("<span style='cursor:pointer;'>"+proxy.data('name')+"</span>").appendTo('body');}).drag(function(ev,dd){$(dd.proxy).css({top:dd.offsetY,left:dd.offsetX});}).drag("end",function(ev,dd){$(dd.proxy).remove();});}}
popup.setContent(resultContainer);popup.show();}else{popup.hide();}
selectedIndex=-1;};var selectWikiTagBuilder=function($textarea){if($textarea.hasClass('FORM-INPUT'))
wikiTagBuilder=Magelo.Bar.Search.WikiTagBuilders.Magelo;else
wikiTagBuilder=Magelo.Bar.Search.WikiTagBuilders.PhpBB;};var setSelectionRange=function(input,selectionStart,selectionEnd){if(input.setSelectionRange){input.focus();input.setSelectionRange(selectionStart,selectionEnd);}
else if(input.createTextRange){var range=input.createTextRange();range.collapse(true);range.moveEnd('character',selectionEnd);range.moveStart('character',selectionStart);range.select();}};var insertAtCaret=function(area,text){var insertPos=$(area).data('caretPos'),endPos=area.value.substring(0,insertPos).length+text.length;$(area).val(area.value.substring(0,insertPos)+text+area.value.substring(insertPos));setSelectionRange(area,endPos,endPos);};var getInputselection=function(el){var start=0,end=0,normalizedValue,range,textInputRange,len,endRange;if(el.selectionStart!=undefined){start=el.selectionStart;end=el.selectionEnd;}else{range=document.selection.createRange();if(range&&range.parentElement()==el){len=el.value.length;normalizedValue=el.value.replace(/\r\n/g,"\n");textInputRange=el.createTextRange();textInputRange.moveToBookmark(range.getBookmark());endRange=el.createTextRange();endRange.collapse(false);if(textInputRange.compareEndPoints("StartToEnd",endRange)>-1){start=end=len;}else{start=-textInputRange.moveStart("character",-len);start+=normalizedValue.slice(0,start).split("\n").length-1;if(textInputRange.compareEndPoints("EndToEnd",endRange)>-1){end=len;}else{end=-textInputRange.moveEnd("character",-len);end+=normalizedValue.slice(0,end).split("\n").length-1;}}}}
return{start:start,end:end};};return{install:function(options){var bundle=Magelo.Locales.getBundle("rift","webbar");_searchEngine=options.searchEngine;bar=$('<div id="magelo-bar-search"><form action="javascript:void(0)" autocomplete="off"><input type="text" name="q" /></form></div>');Magelo.Bar.add(bar);input=bar.find("input");input.keyup(onKeyUp);input.keydown(onKeyPress);input.blur(onBlur);input.focus(onFocus);_defaultText=bundle.get("quicksearch.default-input");input.val(_defaultText);var $textareas=$('textarea');$textareas.drop(function(ev,dd){var data=$(dd.proxy).data();if(wikiTagBuilder==undefined){selectWikiTagBuilder($(this));}
insertAtCaret(this,wikiTagBuilder.build(data));hideResults();});$textareas.click(function(){$(this).data('caretPos',getInputselection(this).start);})
$textareas.keypress(function(event){$(this).data('caretPos',getInputselection(this).start+1);});}};})(jQuery);
Magelo.Bar.Search.WikiTagBuilders={};Magelo.Bar.Search.WikiTagBuilders.Magelo=(function($){return{build:function(data){return"["+data.rel+"]"}};})(jQuery);Magelo.Bar.Search.WikiTagBuilders.PhpBB=(function($){var urlEncode=function(text){return text.replace(/"/g,'\'').replace(/ : /g,'-').replace(/ /g,'-').replace(/\%/g,'').replace(/\:/g,'-').replace(/\[/g,'').replace(/\]/g,'').replace(/-+/g,'-');};return{build:function(data){return"[url="+data.url+(data.type!='character'?("/"+urlEncode(data.name)):"")+"]"+data.name+"[/url]"}};})(jQuery);Magelo.Bar.Search.WikiTagBuilders.Html=(function($){var urlEncode=function(text){return text.replace(/"/g,'\'').replace(/ : /g,'-').replace(/ /g,'-').replace(/\%/g,'').replace(/\:/g,'-').replace(/\[/g,'').replace(/\]/g,'').replace(/-+/g,'-');};return{build:function(data){return"< a href='"+data.url+(data.type!='character'?("/"+urlEncode(data.name)):"")+"'>"+data.name+"</a>"}};})(jQuery);
Magelo.AutoComplete=(function($){var _searchEngine;var shadowArea;var activeArea;var popup;var selectedIndex=-1;var results;var previousQuery="";var wikiTagBuilder=undefined;var ctrlDown=false;var hasResults=function(){return(typeof(results)!="undefined")&&results.length>0;};var onKeyPress=function(e){if(isActive()&&hasResults()){switch(e.keyCode){case 13:goToResult();e.preventDefault();break;case 27:cancelCompletion();e.preventDefault();break;case 38:selectCompletion(selectedIndex-1);e.preventDefault();break;case 40:selectCompletion(selectedIndex+1);e.preventDefault();break;default:hideResults();}}};var onBlur=function(){if(typeof(popup)!="undefined"){setTimeout(function(){hideResults();},50);}};var onFocus=function(){if(typeof(popup)!="undefined"&&hasResults()){popup.show();}};var fireSearchStarted=function(){};var fireSearchComplete=function(){};var cancelCompletion=function(){hideResults();};var hideResults=function(){if(selectedIndex!=-1){results[selectedIndex].jquery.removeClass("selected");}
selectedIndex=-1;if(typeof(popup)!="undefined"){popup.hide();}};var isActive=function(){return popup!=undefined&&popup.isVisible();};var goToResult=function(){doCompletion();};var selectCompletion=function(newIndex){doSelect(newIndex);};var doSelect=function(newIndex){var prevIndex=selectedIndex;if(prevIndex==-1&&newIndex<prevIndex){newIndex++;}
selectedIndex=(newIndex+results.length)%results.length;if(prevIndex!=-1){results[prevIndex].jquery.removeClass("selected");}
results[selectedIndex].jquery.addClass("selected");popup.show();};var doSearch=function(query,area,callback){if(query==previousQuery){onSearchResult(results,area,callback);}
if(query.length<2){if(typeof(results)!="undefined"){hideResults();}
return;}
previousQuery=query;fireSearchStarted();_searchEngine.requestSuggestions(query,function(data){onSearchResult(data,area,callback)});};var onSearchResult=function(data){fireSearchComplete();results=data;if(typeof(popup)=="undefined"){var dummy=$('<div id="magelo-autocomplete-search-result-parent"></div>');dummy.appendTo($('body'));popup=new Magelo.Bar.Popup({id:"magelo-autocomplete-search-result",autohide:false});popup.appendTo(dummy);}
var pos=getCaretPos(activeArea.get(0));$('#magelo-autocomplete-search-result-parent').css({top:pos.y+'px',left:pos.x+'px'});if(data.length>0){var resultContainer=$("<ul></ul>");for(var i=0;i<data.length;++i){var r=data[i];var icon=r.icon;if(icon!=""){icon='<img src="'+icon+'" width="20" height="20" align="absmiddle" >';}
r.jquery=$("<li rel='"+r.rel+"'>"+icon+"<span class=\"magelo-search-result-entry\" style='cursor:pointer;'>"+r.name+"</span></li>");r.jquery.appendTo(resultContainer);r.jquery.mousedown(doCompletion);r.jquery.mouseenter(function(){var myIndex=i;return function(){doSelect(myIndex);}}());}
popup.setContent(resultContainer);doSelect(0);popup.show();}else{hideResults();}};var doCompletion=function(){if(wikiTagBuilder==undefined)
selectWikiTagBuilder();var endPos=getInputselection(activeArea.get(0)).end;var insertPos=endPos-previousQuery.length,tag=wikiTagBuilder.build(results[selectedIndex]);activeArea.val(activeArea.val().substring(0,insertPos)+tag+activeArea.val().substring(endPos));setSelectionRange(activeArea.get(0),insertPos+tag.length,insertPos+tag.length);hideResults();};var selectWikiTagBuilder=function(){if(activeArea.hasClass('FORM-INPUT')||activeArea.hasClass('magelo-ta'))
wikiTagBuilder=Magelo.Bar.Search.WikiTagBuilders.Magelo;else
wikiTagBuilder=Magelo.Bar.Search.WikiTagBuilders.PhpBB;};var setSelectionRange=function(input,selectionStart,selectionEnd){if(input.setSelectionRange){input.focus();input.setSelectionRange(selectionStart,selectionEnd);}
else if(input.createTextRange){var range=input.createTextRange();range.collapse(true);range.moveEnd('character',selectionEnd);range.moveStart('character',selectionStart);range.select();}};var getInputselection=function(el){var start=0,end=0,normalizedValue,range,textInputRange,len,endRange;if(el.selectionStart!=undefined){start=el.selectionStart;end=el.selectionEnd;}else{range=document.selection.createRange();if(range&&range.parentElement()==el){len=el.value.length;normalizedValue=el.value.replace(/\r\n/g,"\n");textInputRange=el.createTextRange();textInputRange.moveToBookmark(range.getBookmark());endRange=el.createTextRange();endRange.collapse(false);if(textInputRange.compareEndPoints("StartToEnd",endRange)>-1){start=end=len;}else{start=-textInputRange.moveStart("character",-len);start+=normalizedValue.slice(0,start).split("\n").length-1;if(textInputRange.compareEndPoints("EndToEnd",endRange)>-1){end=len;}else{end=-textInputRange.moveEnd("character",-len);end+=normalizedValue.slice(0,end).split("\n").length-1;}}}}
return{start:start,end:end};};var updateShadowArea=function(area,caretPos){var rootSpan=shadowArea.find('span');rootSpan.children().remove();lines=area.value.substring(0,caretPos).split('\n');for(var i=0;i<lines.length;i++){if(i!=0)
rootSpan.append($("<br>"));$("<span></span>").text(lines[i]).appendTo(rootSpan);}
rootSpan.append($("<em>Q</em>"));};var getCaretPos=function(area){var areaOffset=$(area).offset();var result={x:areaOffset.left+shadowArea.find('em').position().left,y:areaOffset.top+(shadowArea.find('span').height()-area.scrollTop)};return result;}
return{install:function(options){var bundle=Magelo.Locales.getBundle("rift","webbar");_searchEngine=options.searchEngine;shadowArea=$("<div style='position:absolute;top:-10000px;left:-10000px;'><span></span></div>");shadowArea.appendTo($('body'));var $textareas=$('textarea');var $span=shadowArea.find('span');$span.css("display","inline-block");$span.css("white-space","pre-wrap");var styles=['font-size','font-style','font-weight','font-family','line-height','text-transform','letter-spacing'];$(styles).each(function(){var s=this.toString();$span.css(s,$textareas.first().css(s));});$textareas.blur(onBlur).live("keydown",onKeyPress).live("keydown",function(e){if(e.keyCode===17)ctrlDown=true;}).live("keyup",function(e){if(e.keyCode!==17)ctrlDown=false;}).live("keydown",function(event){if(ctrlDown&&event.keyCode==32){event.preventDefault();activeArea=$(this);$span.css("max-width",activeArea.css("width"));var caretPos=getInputselection(this);updateShadowArea(this,caretPos.end);var query;if(caretPos.start==caretPos.end){query=activeArea.val().substring(Math.max(0,caretPos.end-10),caretPos.end);for(var i=query.length-1;i>=0;i--){if(query.charAt(i)==' '||query.charAt(i)=='\n'){query=query.substring(i+1);break;}}}else{query=activeArea.val().substring(caretPos.start,caretPos.end);}
if(query.length>2){doSearch(query);}}});}};})(jQuery);
Magelo.Bar.ThemeManager=(function($){var _themes=[];var _colors=[0,1,2,3,4,5,6,7,8];var _install=function(){var ui=$('<span class="magelo-bar-dock-button magelo-bar-dock-settings"><span></span></span>');ui.click(function(){var b=ui;if(typeof(this.popup)=="undefined"){this.popup=new Magelo.Bar.Popup({id:"magelo-bar-settings-popup"});this.popup.bind("popupOpened",function(){b.addClass("opened");});this.popup.bind("popupClosed",function(){b.removeClass("opened");});}
var bundle=Magelo.Locales.getBundle("rift","webbar");var settings=$('<div style="width:248px"><div class="magelo-bar-popup-title">'+bundle.get("theme.popup.title")+'</div></div>');var themes=Magelo.Bar.ThemeManager.getThemes();var themeList=$('<div class="magelo-bar-settings-theme-list"></div>');for(var i=0;i<themes.length;++i){var themeSwitch=$('<div class="list-el" style="background:url('+themes[i].preview+'); width:212px; height:29px;"></div>');with({theme:themes[i]}){themeSwitch.click(function(){Magelo.Bar.ThemeManager.setTheme(theme);});}
themeSwitch.appendTo(themeList);}
var colors=Magelo.Bar.ThemeManager.getColors();var colorList=$('<div class="magelo-bar-settings-color-list"></div>');for(var i=0;i<colors.length;++i){var colorSwitch=$('<span class="magelo-bar-settings-color-list-item"><div class="magelo-bar-color-preview color-'+colors[i]+'"></div></span>');with({color:colors[i]}){colorSwitch.click(function(){Magelo.Bar.ThemeManager.setColor(color);});}
colorSwitch.appendTo(colorList);}
var themePanel=new Magelo.Bar.Panel();themePanel.setContent(themeList);themePanel.appendTo(settings);var colorPanel=new Magelo.Bar.Panel();colorPanel.setContent(colorList);colorPanel.appendTo(settings);this.popup.setContent(settings);this.popup.appendTo(b.parent());var pos=Magelo.Bar.UI.positionTo(b.parent(),b.parents('.magelo-bar-content'));this.popup.toggle({bottom:pos.top+b.parent().height()-3,left:b.position().left});themeList.jScrollPane({animateTo:true,animateInterval:50,animateStep:5,showArrows:true,scrollbarWidth:15,dragMinHeight:32});themeList.find(".jspArrowUp,.jspCapTop,.jspTrack,.jspDragTop,.jspDrag,.jspDragBottom,.jspCapBottom,.jspArrowDown ").addClass("jspElement");});Magelo.Bar.add(ui);var bundle=Magelo.Locales.getBundle("rift","webbar");Magelo.Bar.addTooltip(ui,bundle.get("theme.tooltip"));Magelo.Bar.bind("state-update",_loadState);};var _loadState=function(){var state=Magelo.Bar.getState(1);if(!state){return;}
if(state&0xF00){var id=state&0xFF;switch(state&0xF00){case 0x100:$this.setTheme({id:"theme-"+id});break;case 0x200:$this.setTheme({id:"theme-eq-"+id});break;case 0x400:$this.setTheme({id:"theme-wow-"+id});break;case 0x300:$this.setTheme({id:"theme-rift-"+id});break;}}
var col=(state&0xF000)/0x1000;if(col>0){$this.setColor(col-1);}};var _saveState=function(){var state=0;if(typeof(_currentTheme)!="undefined"){if(_currentTheme.indexOf("eq")!=-1){state+=0x200;}else if(_currentTheme.indexOf("wow")!=-1){state+=0x400;}else if(_currentTheme.indexOf("rift")!=-1){state+=0x300;}else{state+=0x100;}
state+=parseInt(_currentTheme.substring(_currentTheme.lastIndexOf("-")+1));}
if(typeof(_currentColor)!="undefined"){state+=0x1000*(1+parseInt(_currentColor.substring("color".length)));}
Magelo.Bar.setState(1,state);};var _currentTheme;var _currentColor;var $this={install:_install,addTheme:function(id,preview){_themes.push({id:id,preview:preview});},getThemes:function(){return _themes;},setTheme:function(newTheme){if(typeof(_currentTheme)!="undefined"){$("#magelo-bar").removeClass(_currentTheme);}
_currentTheme=newTheme.id;$("#magelo-bar").addClass(_currentTheme);_saveState();},getColors:function(){return _colors;},setColor:function(newColor){if(typeof(_currentColor)!="undefined"){$("#magelo-bar").removeClass(_currentColor);}
_currentColor="color"+newColor;$("#magelo-bar").addClass(_currentColor);_saveState();}};return $this;})(jQuery);
Magelo.Bar.QuickAccess=(function($){var _links=[];var _popup=undefined;var _getPopup=function(){if(typeof(_popup)=="undefined"){_popup=new Magelo.Bar.Popup({id:"magelo-bar-quickaccess-popup"});}
return _popup;};var _update=function(){var linkContainer=$('<div></div>');for(var i=0;i<_links.length;++i){var link=_links[i];var a=$('<a id="'+link[0]+'" target="_blank" href="'+link[2]+'">'+link[1]+'</a>');a.appendTo(linkContainer);}
_getPopup().setContent(linkContainer);};var _install=function(){var ui=$('<span class="magelo-bar-dock-button magelo-bar-dock-quick-access"><span></span></span>');ui.click(function(){var b=ui;Magelo.Bar.QuickAccess.appendTo(b.parent());var pos=Magelo.Bar.UI.positionTo(b.parent(),b.parents('.magelo-bar-content'));Magelo.Bar.QuickAccess.toggle({bottom:pos.top+b.parent().height()-3,left:b.position().left});});Magelo.Bar.QuickAccess.bind("popupOpened",function(){ui.addClass("opened");});Magelo.Bar.QuickAccess.bind("popupClosed",function(){ui.removeClass("opened");});Magelo.Bar.add(ui);var bundle=Magelo.Locales.getBundle("rift","webbar");Magelo.Bar.addTooltip(ui,bundle.get("quickaccess.tooltip"));};var $this={install:_install,addLink:function(id,title,link){_links.push([id,title,link]);},appendTo:function(){_getPopup().appendTo.apply(_popup,arguments);},bind:function(){_getPopup().bind.apply(_popup,arguments);},unbind:function(){_getPopup().unbind.apply(_popup,arguments);},toggle:function(){_update();_getPopup().toggle.apply(_popup,arguments);},show:function(){_update();_getPopup().show.apply(_popup,arguments);}};return $this;})(jQuery);
if(typeof(Magelo)=="undefined")Magelo={};if(typeof(Magelo.Bar)=="undefined")Magelo.Bar={};Magelo.Bar.XDS=(function(){var interval_id,last_hash,last_location,cache_bust=1,attached_callback,window=this;return{postMessage:function(target,message,target_url){if(!target_url){target_url="*";}
target=target||parent;if(false&&window.postMessage){target_url=target_url.replace(/([^:]+:\/\/[^\/]+).*/,'$1');try{target.postMessage(message,target_url.replace(/([^:]+:\/\/[^\/]+).*/,'$1'));}catch(e){for(var i=0;i<target.frames.length;++i){try{target.frames[i].setTimeout('parent.postMessage("'+message+'", "'+target_url+'");',0);return;}catch(ex){}}}}else if(target_url){var newHash='#'+(+new Date)+(cache_bust++)+'&'+message;if(target_url=="*"){for(var i=0;i<target.frames.length;++i){try{var location=target.frames[i].location;var candidate=location.hash.replace(/^#?/,"");if(candidate.indexOf("http")!=0){continue;}
target_url=candidate;target.frames[i].setTimeout('parent.location = "'+target_url.replace(/#.*$/,'')+newHash+'"',0);return;}catch(ex){}}}
target.location=target_url.replace(/#.*$/,'')+newHash;}},receiveMessage:function(callback,source_origin,target_receiver){if(typeof(target_receiver)!="undefined"){var f=window["receiver:"+target_receiver];if(typeof(f)=="undefined"){f=document.createElement("iframe");f.style.display="none";f.src=target_receiver+"#"+document.location;document.body.appendChild(f);window["receiver:"+target_receiver]=f;}}
if(false&&window['postMessage']){if(callback){attached_callback=function(e){if((typeof source_origin==='string'&&e.origin!==source_origin&&source_origin!=="*")||(Object.prototype.toString.call(source_origin)==="[object Function]"&&source_origin(e.origin)===!1)){return!1;}
callback(e);};}
if(window['addEventListener']){window[callback?'addEventListener':'removeEventListener']('message',attached_callback,!1);}else{window[callback?'attachEvent':'detachEvent']('onmessage',attached_callback);}}else{interval_id&&clearInterval(interval_id);interval_id=null;if(callback){last_location=document.location.href;interval_id=setInterval(function(){var loc=document.location;var hash=loc.hash,re=/^#?\d+&/;if(hash!==last_hash&&re.test(hash)){window.location.replace(last_location);loc=last_location;last_hash=hash;callback({data:hash.replace(re,'')});}
last_location=loc.href;},100);}}}};})();
ThirdPartyLoginProvider=(function($){return function(){var _origin="https://www."+Magelo.domain;var $this={initiate:function(){var wnd=window.open(_origin+"/thirdparty_login.jspa","magelologin","width=550, height=340");wnd.focus();},logout:function(){$.ajax({url:_origin+"/logout.json",dataType:"jsonp",success:function(){$($this).trigger("logout-succeeded");}});}};Magelo.Bar.XDS.receiveMessage(function(msg){if(msg.data=="magelo::login-succeeded"){$($this).trigger("login-succeeded");}else{if(console){console.log("Unhandled event : "+msg.data);}}},"*",_origin+"/en/blank.jspa");return $this;};})(jQuery);
Magelo.Bar.MyCharacter=(function($){var _defaultText;var _view;var _button;var _buttonLabel;var _repository;var _characters;var popup;var list;var _events;var _preBind=[];var _myCharacterId=0;var _myCharacter;var getSelectedCharacter=function(){if(typeof(_myCharacter)!="undefined"){if(_myCharacter.id==_myCharacterId){return _myCharacter;}}
if(typeof(_characters)!="undefined"){for(var i=0;i<_characters.length;++i){if(_characters[i].id==_myCharacterId){return _characters[i];}}}
return undefined;};var selectCharacter=function(id){_myCharacterId=id;_events.trigger("character-selected",{"character":{id:_myCharacterId}});};var openCharacterSelectionFrame=function(){if(!Magelo.Bar.isLoggedIn()){Magelo.Bar.login();return;}
if(typeof(_characters)=="undefined"){_characters=[];_events.one("character-list-updated",arguments.callee);_requestMyCharacters();return;}
if(_characters.length==0){return;}
if(typeof(popup)=="undefined"){popup=new Magelo.Bar.Popup({id:"magelo-bar-mycharacters-frame"});popup.appendTo(_view);list=$('<div class="magelo-bar-mycharacters-list"></div>');popup.setContent(list);popup.bind("popupOpened",function(){_view.addClass("opened");});popup.bind("popupClosed",function(){_view.removeClass("opened");});}
var jsp=list.data('jsp');var listHolder=jsp?jsp.getContentPane():list;listHolder.empty();for(var i=0;i<_characters.length;++i){var c=_characters[i];var el=$('<span class="magelo-bar-mc-item">'+'<img src="'+c.image+'" class="portrait">'+'<span class="name">'+c.name+'</span>'+'<span class="server">'+c.server+'</span>'+'</span>');el.click(function(){var id=c.id;return function(){return selectCharacter(id);};}());el.appendTo(listHolder);}
var pos=Magelo.Bar.UI.positionTo(_view.parent(),_view.parents('.magelo-bar-content'));popup.show({bottom:pos.top+_view.parent().height()-3,left:0});if(_characters.length>0){list.css("height",(52*Math.min(4,_characters.length))+"px");}
if(!jsp){list.jScrollPane({animateTo:true,animateInterval:50,animateStep:5,showArrows:true,scrollbarWidth:15,dragMinHeight:32});}else{jsp.reinitialise();}
list.find(".jspArrowUp,.jspCapTop,.jspTrack,.jspDragTop,.jspDrag,.jspDragBottom,.jspCapBottom,.jspArrowDown ").addClass("jspElement");};var updateView=function(){if(typeof(popup)!="undefined"){popup.hide();}
_buttonLabel.empty();if(_myCharacterId==0){_view.removeClass("selected");_buttonLabel.html(_defaultText);}else{_view.addClass("selected");var c=getSelectedCharacter();_buttonLabel.html(c?c.name:"");}};var _requestMyCharacters=function(){if(Magelo.Bar.isLoggedIn()){if(typeof(_repository)!="undefined"){_repository.requestCharactersList(_handleMyCharacters);}}};var _requestMyCharacter=function(){_myCharacter=undefined;if(Magelo.Bar.isLoggedIn()&&_myCharacterId!=0){if(typeof(_repository)!="undefined"){_repository.requestCharacterDetails(_myCharacterId,_handleMyCharacter);}}};var _handleMyCharacters=function(data){_characters=data;_events.trigger("character-list-updated");};var _handleMyCharacter=function(data){_myCharacter=data;_events.trigger("character-info-updated",{"character":_myCharacter});};var _loadState=function(){var state=Magelo.Bar.getState(_repository.getStateId());if(Magelo.Bar.isLoggedIn()&&state){selectCharacter(state);}};var _saveState=function(){Magelo.Bar.setState(_repository.getStateId(),_myCharacterId);};var $this={install:function(options){var bundle=Magelo.Locales.getBundle("rift","webbar");_repository=options.repository;_view=$('<div class="magelo-bar-mycharacters"></div>');_events=_view;_button=$('<span class="magelo-bar-mycharacter-select">'+'<span class="magelo-bar-mycharacter-select-icon"><span></span></span>'+'<span class="magelo-bar-mycharacter-select-label"></span></span>');_button.appendTo(_view);_unselectButton=$('<span class="magelo-bar-mycharacter-unselect"></span>');_unselectButton.appendTo(_view);_buttonLabel=_button.find(".magelo-bar-mycharacter-select-label");_defaultText=bundle.get("mycharacter.select");Magelo.Bar.addTooltip(_button,bundle.get("mycharacter.select.tooltip"),_button.find(".magelo-bar-mycharacter-select-icon"));Magelo.Bar.addTooltip(_unselectButton,bundle.get("mycharacter.unselect.tooltip"));updateView();_button.click(openCharacterSelectionFrame);_unselectButton.click(function(){selectCharacter(0);});_events.bind("character-selected",updateView);_events.bind("character-info-updated",updateView);_events.bind("character-list-updated",updateView);_events.bind("character-selected",_requestMyCharacter);_events.bind("character-selected",_saveState);Magelo.Bar.add(_view);Magelo.Bar.bind("state-update",_loadState);if(_preBind.length>0){for(var i=0;i<_preBind.length;++i){_events.bind.apply(_events,_preBind[i]);}}
_preBind=undefined;},bind:function(){if(typeof(_events)=="undefined"){_preBind.push(arguments);}else{_events.bind.apply(_events,arguments);}},unbind:function(){_events.unbind.apply(_events,arguments);},getCharacter:function(){return _myCharacter;}};return $this;})(jQuery);
MageloBootstrap=(function($){var OptionTooltipAdapter=0x00000001;var OptionTooltipThirdPartyAdapters=0x00000002;var OptionTooltipSkinBlack=0x00000100;var OptionWebbar=0x00010000;var _configure=function(){$("script").each(function(){if(this.src.indexOf("magelo-bar.js")==-1){return;}
var re=/https:\/\/www\.([a-z]{0,5}magelo[cdn]{0,3}\.com)\/pack\/([a-z]{2,5})\/(([a-z]{2})\/)?magelo-bar\.js(\?[^#]*)?(#.*)?/;var m=re.exec(this.src);if(m){var _origin=m[1];var channel=m[2];var lang=m[4];var qs=m[5];var hash=m[6];var localeSupport={"eq":["en"],"wow":["en","fr","de","ru","tw","cn"],"rift":["en","fr","de","ru"],"swtor":["en","fr","de"]};localeCheck:do{for(var i=0;i<localeSupport[channel].length;++i){if(localeSupport[channel][i]==lang){break localeCheck;}}
lang=localeSupport[channel][0];}while(false);Magelo.origin=_origin;Magelo.cdn=_origin.replace("magelo.com","magelocdn.com");Magelo.domain=_origin.replace("magelocdn.com","magelo.com");Magelo.locale=lang;Magelo.channel=channel;Magelo.externalWebsite=true;Magelo.options=0;if(hash){try{Magelo.options=parseInt(hash.substring(1),33);}catch(e){}}}});};var _applyStyleSheet=function(){var st=document.createElement("link");st.rel="stylesheet";st.type="text/css";if(Magelo.Support.CSS3){st.href="https://www."+Magelo.origin+"/pack/magelo-bar-css3.css";}else{st.href="https://www."+Magelo.origin+"/pack/magelo-bar-css2.css";}
document.getElementsByTagName("head")[0].appendChild(st);};var _initialize=function(){$("a.postlink").each(function(){this.href=this.href.replace(/^.*redirect.\/(https:\/\/[a-z]{2,8}.magelo.com.*)/,"$1");});Magelo.DB.configure({locale:Magelo.locale});Magelo.Locales.configure({locale:Magelo.locale});Magelo.ToolTip.configure({locale:Magelo.locale});Magelo.ToolTip.Adapters.Magelo.enable();if((Magelo.options&OptionTooltipThirdPartyAdapters)!=0){switch(Magelo.channel){case"eq":Magelo.ToolTip.Adapters.Lucy.enable();break;case"wow":Magelo.ToolTip.Adapters.WowAmory.enable();Magelo.ToolTip.Adapters.Thottbot.enable();Magelo.ToolTip.Adapters.Wowhead.enable();break;case"rift":Magelo.ToolTip.Adapters.RiftYG.enable();Magelo.ToolTip.Adapters.RiftZam.enable();break;}}
if((Magelo.options&OptionTooltipSkinBlack)!=0){Magelo.ToolTip.configure({uiClass:"black "+Magelo.channel});}else{Magelo.ToolTip.configure({uiClass:Magelo.channel});}
switch(Magelo.channel){case"eq":Magelo.AutoComplete.install({searchEngine:new Magelo.Bar.EQSearchEngine()});break;case"wow":Magelo.AutoComplete.install({searchEngine:new Magelo.Bar.WOWSearchEngine()});break;case"rift":Magelo.AutoComplete.install({searchEngine:new Magelo.Bar.RiftSearchEngine()});break;case"swtor":Magelo.AutoComplete.install({searchEngine:new Magelo.Bar.TorSearchEngine()});break;}};var _initializeWebbar=function(){Magelo.Bar.install();switch(Magelo.channel){case"eq":Magelo.Bar.Search.install({searchEngine:new Magelo.Bar.EQSearchEngine()});Magelo.Bar.addSeparator();Magelo.Bar.MyCharacter.install({repository:new Magelo.Bar.EQCharacterRepository()});Magelo.ToolTip.addContentFilter(Magelo.Bar.EQToolTipContextualizingFilter);break;case"wow":Magelo.Bar.Search.install({language:Magelo.locale,searchEngine:new Magelo.Bar.WOWSearchEngine()});Magelo.Bar.addSeparator();Magelo.Bar.MyCharacter.install({repository:new Magelo.Bar.WOWCharacterRepository()});Magelo.ToolTip.addContentFilter("wow:dualttp",new Magelo.Bar.WOWToolTipContextualizingFilter());break;case"rift":Magelo.Bar.Search.install({language:Magelo.locale,searchEngine:new Magelo.Bar.RiftSearchEngine()});Magelo.Bar.addSeparator();Magelo.Bar.MyCharacter.install({repository:new Magelo.Bar.RiftCharacterRepository()});Magelo.ToolTip.addContentFilter("rift:dualttp",new Magelo.Bar.RiftToolTipContextualizingFilter());break;case"swtor":Magelo.Bar.Search.install({language:Magelo.locale,searchEngine:new Magelo.Bar.TorSearchEngine()});Magelo.Bar.addSeparator();break;}
Magelo.Bar.addSeparator();Magelo.Bar.QuickAccess.install();Magelo.Bar.ThemeManager.install();Magelo.Bar.setLoginProvider(new ThirdPartyLoginProvider());for(var i=0;i<3;++i){Magelo.Bar.ThemeManager.addTheme("theme-"+i,"https://www."+Magelo.cdn+"/im"+"ages/website/shared/bar/themes/common/theme"+i+"/preview.png");}
switch(Magelo.channel){case"eq":for(var i=0;i<21;++i){Magelo.Bar.ThemeManager.addTheme("theme-eq-"+i,"https://www."+Magelo.cdn+"/im"+"ages/website/shared/bar/themes/eq/theme"+i+"/preview.png");}
break;case"wow":for(var i=0;i<21;++i){Magelo.Bar.ThemeManager.addTheme("theme-wow-"+i,"https://www."+Magelo.cdn+"/im"+"ages/website/shared/bar/themes/wow/theme"+i+"/preview.png");}
break;case"rift":for(var i=0;i<9;++i){Magelo.Bar.ThemeManager.addTheme("theme-rift-"+i,"https://www."+Magelo.cdn+"/im"+"ages/website/shared/bar/themes/rift/theme"+i+"/preview.png");}
break;case"swtor":for(var i=0;i<9;++i){Magelo.Bar.ThemeManager.addTheme("theme-swtor-"+i,"https://www."+Magelo.cdn+"/im"+"ages/website/shared/bar/themes/tor/theme"+i+"/preview.png");}
break;}
var bundle=Magelo.Locales.getBundle("rift","webbar");var qa=Magelo.Bar.QuickAccess;switch(Magelo.channel){case"eq":qa.addLink("magelo-bar-qa-forums",bundle.get("quickaccess.forum"),"https://eq."+Magelo.domain+"/forum/forums.jspa");qa.addLink("magelo-bar-qa-news",bundle.get("quickaccess.news"),"https://eq."+Magelo.domain+"/latest_news.jspa?channel=eq");qa.addLink("magelo-bar-qa-mycharacters",bundle.get("quickaccess.my-characters"),"https://eq."+Magelo.domain+"/characters.jspa");qa.addLink("magelo-bar-qa-inventory",bundle.get("quickaccess.inventory"),"https://eq."+Magelo.domain+"/inventory.jspa");break;case"wow":qa.addLink("magelo-bar-qa-forums",bundle.get("quickaccess.forum"),"https://wow."+Magelo.domain+"/"+Magelo.locale+"/forum/forums.jspa");qa.addLink("magelo-bar-qa-news",bundle.get("quickaccess.news"),"https://wow."+Magelo.domain+"/"+Magelo.locale+"/latest_news.jspa?channel=wow");qa.addLink("magelo-bar-qa-mycharacters",bundle.get("quickaccess.my-characters"),"https://wow."+Magelo.domain+"/"+Magelo.locale+"/characters.jspa");qa.addLink("magelo-bar-qa-inventory",bundle.get("quickaccess.inventory"),"https://wow."+Magelo.domain+"/"+Magelo.locale+"/inventory.jspa");break;case"rift":qa.addLink("magelo-bar-qa-forums",bundle.get("quickaccess.forum"),"https://rift."+Magelo.domain+"/"+Magelo.locale+"/forum/forums.jspa");qa.addLink("magelo-bar-qa-news",bundle.get("quickaccess.news"),"https://rift."+Magelo.domain+"/"+Magelo.locale+"/latest_news.jspa?channel=rift");qa.addLink("magelo-bar-qa-talentcalc",bundle.get("quickaccess.talentcalc"),"https://rift."+Magelo.domain+"/"+Magelo.locale+"/soultree.jspa");break;case"swtor":qa.addLink("magelo-bar-qa-forums",bundle.get("quickaccess.forum"),"https://swtor."+Magelo.domain+"/"+Magelo.locale+"/forum/forums.jspa");qa.addLink("magelo-bar-qa-news",bundle.get("quickaccess.news"),"https://swtor."+Magelo.domain+"/"+Magelo.locale+"/latest_news.jspa?channel=rift");qa.addLink("magelo-bar-qa-talentcalc",bundle.get("quickaccess.talentcalc"),"https://swtor."+Magelo.domain+"/"+Magelo.locale+"/skilltree");break;}
Magelo.Bar.show();};return function(){try{if(typeof(document.body)=="undefined"){setTimeout(arguments.callee,20);return;}
_configure();_applyStyleSheet();_initialize();if(Magelo.options&OptionWebbar){Magelo.Locales.get("rift","webbar",function(){_initializeWebbar();});}}catch(e){if(typeof(console)!="undefined"){console.log(e);}}};})(jQuery);jQuery(MageloBootstrap);
})(jQuery.noConflict(true));
