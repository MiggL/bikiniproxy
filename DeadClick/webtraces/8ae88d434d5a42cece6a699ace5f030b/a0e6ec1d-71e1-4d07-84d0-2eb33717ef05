!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(1),i=r(o);i.default.start()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){console.log("JavaScript SDK is not activated.")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=r(i),s=n(5),l=r(s),u=n(7),c=r(u),d=n(8),f=r(d),p=n(9),g=r(p),h=n(10),m=r(h),y=n(12),v=r(y),w=n(17),b=r(w),k=n(18),T=r(k),I=n(20),S=r(I),C=n(11),_=(r(C),n(13)),x=r(_),E=n(21),R=r(E),M=n(22),O=r(M),D=n(3),U=(r(D),n(24)),L=r(U),N=n(16),A=r(N),q=n(25),H=r(q);t.default={start:function(){var e=this,t=a.default.pmVar,n=window[t].q||[];window[t]=function(){return e.processCall(arguments)};for(var r=0;r<n.length;r++)e.processCall(n[r])},processCall:function(e){var t=Array.prototype.slice.call(e);switch(a.default.debug&&(console.log("$p function: "+t[0]),console.log("$p params: "+JSON.stringify(t.slice(1)))),t[0]){case"init":this.init.apply({},t.slice(1));break;case"send":m.default.send.apply({},t.slice(1));break;case"sendRobust":return m.default.sendRobust.apply({},t.slice(1));case"collectWidgetInfo":T.default.collectWidgetInfo.apply({},t.slice(1));break;case"collectInventory":R.default.collect.apply({},t.slice(1));break;case"setPushStateReset":S.default.setPushStateReset.apply({},t.slice(1));break;case"setOnHashChangeReset":S.default.setOnHashChangeReset.apply({},t.slice(1));break;case"printDebugInfo":this.printDebugInfo.apply({},t.slice(1));break;case"debug":a.default.debug=t[1]===!0;break;case"resetPageview":return O.default.isActivated()?O.default.resetPageview.apply({},t.slice(1)):o();case"setUserId":return O.default.isActivated()?l.default.setUserId.apply({},t.slice(1)):o();case"getWidgetNames":return O.default.isActivated()?O.default.getWidgetNames.apply({},t.slice(1)):o();case"setRequestFields":O.default.isActivated()?O.default.setRequestFields.apply({},t.slice(1)):o();break;case"setRequestFieldsAON":O.default.isActivated()?O.default.setRequestFieldsAON.apply({},t.slice(1)):o();break;case"setArrayRequestFields":O.default.isActivated()?O.default.setArrayRequestFields.apply({},t.slice(1)):o();break;case"setMandatoryRequestFields":O.default.isActivated()?O.default.setMandatoryRequestFields.apply({},t.slice(1)):o();break;case"setMandatoryArrayRequestFields":O.default.isActivated()?O.default.setMandatoryArrayRequestFields.apply({},t.slice(1)):o();break;case"setGetQueryInfo":O.default.isActivated()?O.default.setGetQueryInfo.apply({},t.slice(1)):o();break;case"setNoTag":O.default.isActivated()?O.default.setNoTag.apply({},t.slice(1)):o();break;case"register":O.default.isActivated()?O.default.register.apply({},t.slice(1)):o();break;case"fetch":O.default.isActivated()?O.default.fetch.apply({},t.slice(1)):o();break;case"track":O.default.isActivated()?O.default.track.apply({},t.slice(1)):o();break;case"userHash":return O.default.isActivated()?O.default.userHash.apply({},t.slice(1)):o();case"abTestSlice":return O.default.isActivated()?O.default.abTestSlice.apply({},t.slice(1)):o();case"render":return O.default.isActivated()?O.default.render.apply({},t.slice(1)):o();case"renderCustomWidget":return O.default.isActivated()?O.default.renderCustomWidget.apply({},t.slice(1)):o();case"sendItem":return O.default.isActivated()?O.default.sendItem.apply({},t.slice(1)):o();case"setContext":return O.default.isActivated()?O.default.setContext.apply({},t.slice(1)):o();case"getHist":return O.default.isActivated()?a.default.getHistList.apply(a.default,t.slice(1)):o();case"getPageviewId":return O.default.isActivated()?a.default.pvid:o();case"setHist":return O.default.isActivated()?O.default.setHist.apply({},t.slice(1)):o();case"search":return L.default.search.apply({},t.slice(1));case"onload":return t[1]();case"monitorSearch":return O.default.isActivated()?O.default.monitorSearch.apply({},t.slice(1)):o();case"runDiagnostics":return A.default.runDiagnostics()}},init:function(e,t){if(null==a.default.jsKey){if(t=t||{},a.default.jsKey=e,a.default.disabledCust[e])return void console.log("Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");window.$ps&&(A.default.startupTimes.beaconLoadStartTime=0|window.$ps),window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(A.default.startupTimes.initStartTime=0|window.performance.now()),g.default.maybeRunEarlyExtension(),f.default.addEvent(window,"scroll",O.default.debounce(v.default.checkScroll,100)),t.fi&&(t.config={activity:{activityServer:"http://start.liftigniter.com"},sdk:{queryServer:"http://start.liftigniter.com",multiFetch:!0,enableBackup:!1},inventory:{inventoryServer:"http://start.liftigniter.com"}}),a.default.init(t.config),l.default.initializeCookies(),b.default.initializeTimers(),c.default.initializeDurationEvents(),S.default.initializeNavigationEvents(),a.default.extensionOff||g.default.maybeRunExtension(),a.default.allowTunnel&&H.default.startTunnel(),a.default.inventory.collect&&f.default.domComplete(function(){var e=0;A.default.startupTimes.initEndTime||(e=1e3),window.setTimeout(function(){try{R.default.collect()}catch(t){var e="LiftIgniter: Error in inventory collection: "+t+"; please check the JSON formatting for metadata; you can check formatting at http://jsonlint.com";m.default.send("scraping_fail",{errs:""+t}),A.default&&A.default.errorMessagesByEventType&&(A.default.errorMessagesByEventType.scraping_fail=e),console.log(e)}},e)}),m.default.checkBuffer(),window.setInterval(function(){m.default.checkBuffer()},1e4),window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(A.default.startupTimes.initEndTime=0|window.performance.now())}},printDebugInfo:function(e){var t=Array.prototype.slice.call(arguments);switch(console.log("Debug Info: <"+e+">. Args:"),console.log(t.slice(1)),console.log("Results:"),e){case"config":console.log(a.default);break;case"scrapeFeature":console.log(x.default.scrapeFeature.apply({},t.slice(1)));break;case"scrapeInventory":console.log(R.default.scrapeInventory.apply({},t.slice(1)))}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=r(o),a=window.$igniter_var||window.$petametricsVar||window.$petametrics_var;t.default={trial:!1,extensionOff:!1,disabledCust:{"3ra9ebvgp1gnl9gu":!0,jo34k2op9eztyzj1:!0,llbf18lltc4upsf8:!0,"3f2nr8ipir0923el":!0,gn0ee46lqa6l86dv:!0,j8vr8s11slka1e3d:!0,u7nof0s7krrqfgav:!0},debug:!1,activity:{activityServer:"//query.petametrics.com",activitySamplingPercent:100,itemRegex:void 0,excludeRegex:void 0,includeBrowsingHistory:!1,canonicalUrlTransform:function(e){return e},urlTransform:function(e){return e}},allowTunnel:!0,useCanonicalUrl:!0,globalTracking:!0,disableCustomWidget:!1,noTag:!1,limitHistory:!1,sdk:{queryServer:"//query.petametrics.com",backupQueryServer:"//query1.petametrics.com",queryApiVersion:"v2",getQueryInfo:!1,requestFields:["url","author","title","rank","thumbnail"],mandatoryRequestFields:[],arrayRequestFields:[],mandatoryArrayRequestFields:[],fetchCalled:!1,multiFetch:!1,enableBackup:!0,requestFieldsAON:!1,customTrackFunc:void 0,widgetAnalysis:void 0,retry:!0,manualHist:void 0,iden:"url",historyTracking:!0,ogUrlHistory:!1,pushStateReset:!1,replaceStateReset:!1,stabilize:!1,alwaysSendWidgetResponse:!0,flipQueue:!1,pushStateCallback:function(){},checkIfVisibleItemsOnlyCurrentUrl:!0,checkIfVisibleItemsIncludeCurrentUrl:!0},clickHist:{onLocalStorage:!0,onCookie:!1,urlTrans:function(e){return e},clickHistCKey:"_igch",clickHistLKey:"_igClkHis",cap:10,send:!1},longHist:{active:!1,bufferSize:100,recentDropSize:0},search:{queryServer:"//start.liftigniter.com",defaultQuery:"",max:10,off:0,requestFields:["url","title*","thumbnail","description*","image"]},fpo:{queryServer:"//fpo.petametrics.com",timeout:5e3},trackingTransURL:function(e){return e},customContext:{id:void 0},qOpt:{dynScrollInfo:!1,screenDim:!1,sendTimer:!0},shown:{active:!1,freqCap:3,vizCap:10,maxExclude:20,bufferSize:40,vizSendCap:void 0,freqCapKey:"_fcap"},inventory:{inventoryServer:"//query.petametrics.com",inventoryApiVersion:"v1",version:void 0,collect:!0,id:"url",jsonTransform:void 0,collectJSON:!0,collectOpenGraph:!0,collectOpenGraphOnly:!0,mandatoryOpenGraphFeatures:["title","url","type"],features:void 0,mandatoryFeatures:["title","url"],filters:[{name:"noIndex",value:"true"}],jsVars:void 0,useOpenGraphForCanonicalUrl:!0,useLinkRelForCanonicalUrl:!0,defaultType:"article",stripTagsForCanonicalUrl:!0,stripHashesForCanonicalUrl:!0,canonicalUrlTransform:function(e){return e},itemRegex:void 0,excludeRegex:void 0,ttl:0},customTrackFunc:void 0,pmVar:a,jsKey:null,loadedAt:window[a].l,version:"0.4",cookieDomain:i.default.getTopLevelDomain(window.location.hostname),thirdKey:"_igg",permKey:"_ig",sessKey:"_igt",sessRefKey:"_igsr",userRefKey:"_igur",histKey:"_igh",longHistKey:"_ighl",robustMsgSlot:"_igslot_",pisKey:"_ig_pis",siuKey:"_ig_siu",piuKey:"_ig_piu",cisKey:"_ig_cis",ciuKey:"_ig_ciu",dpisKey:"_ig_dpis",dpiuKey:"_ig_dpiu",iriuKey:"_ig_iriu",numPerKey:"_ig_nump",numSesKey:"_ig_sess",robustUseCookie:!0,robustUseStorage:!0,latestVizKey:"_iglviz_",lastClick:"_iglclk_",widgetClickContextKey:"_igwcc_",gid:null,uid:null,sid:null,pvid:null,hist:null,histSettings:{stripTags:!0,stripHashes:!0,stripDashes:!1,fixHttps:!1,deduplicate:!0,maxItems:10,histRegex:/(.*)/,origin:void 0,transform:function(e){return e},globalTransform:function(e){return e}},getHistList:function(){return this.sdk.manualHist?this.sdk.manualHist:this.hist?(this.hist=this.hist.split(",").join("|"),this.hist.split("|").map(function(e){return decodeURIComponent(e)})):[]},getClickHistList:function(){},globalCtx:{},adblockCheck:!1,adblocker:!1,userAgent:navigator.userAgent,language:navigator.language,os:navigator.platform,colorDepth:screen.colorDepth,screenHeight:screen.height,screenWidth:screen.width,currentUrl:window.location.href,referrer:document.referrer.slice(0,200),timers:{stuck_10s:1e4,stuck_3m:18e4},defaultApiEvents:["pageview","stuck_10s","stuck_3m"],refresh:function(){this.referrer=this.currentUrl,this.currentUrl=window.location.href},init:function(e){for(var t in e)this.hasOwnProperty(t)&&"object"==typeof this[t]&&!this[t].length?this[t]=i.default.mergeMap(this[t],e[t]):this[t]=e[t]}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,r=e.length;n<r;n++)t[n]=o(e[n]);return t}if(e instanceof Object){t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=o(e[i]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")}function i(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("getObjectKeys called on a non-object");var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);if(c)for(var r=0,o=f;r<o;r++){var i=d[r];e.hasOwnProperty(i)&&t.push(i)}return t}function a(e){return i(e).length}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),l=r(s),u=window,c=!0,d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=d.length;for(var p in{toString:null})c=!1;t.default={generateUUID:function(){var e=l.default.getCurrentTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)});return t},getURLParameter:function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[null,""])[1].replace(/\+/g,"%20"))||null},mergeMap:function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},makeACopy:o,getUrlPath:function(e,t){var n=e.replace(/https?:\/\/[^\/]+/i,"");return t?n:n.split("?")[0].split("#")[0]},getObjectKeys:i,size:a,getTopLevelDomain:function(e){var t=e.split(".");return"com"==t[t.length-1]?t.slice(-2).join("."):null},djb2HashCode:function(e){for(var t=5381,n=0;n<e.length;n++){var r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return Math.abs(t)},getTime:function(){return(new Date).getTime()},requestJsonp:function(e,t,n){var r="igniter_"+this.generateUUID().replace(/-/g,"");u[r]=function(t){e.apply(null,[t].concat(n||[]))};var o=t+(t.indexOf("?")>=0?"&":"?")+"jsonp="+r,i=document.createElement("script");i.type="text/javascript",i.setAttribute("src",o),document.head.appendChild(i)}},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getCurrentTime:function(){return(new Date).getTime()},getTimezoneOffset:function(){return(new Date).getTimezoneOffset()}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var e=document.cookie.indexOf("cookietest=")!=-1;return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}function i(e,t,n){a(e,t,n,1e3)}function a(e,t,n,r){r=r||864e5;var o="";if(n){var i=new Date;i.setTime(i.getTime()+n*r),o=";expires="+i.toGMTString()}var a=h.default.cookieDomain?";domain="+h.default.cookieDomain:"";l(e),document.cookie=e+"="+t+o+a+";path=/"}function s(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function l(e){var t=h.default.cookieDomain?";domain="+h.default.cookieDomain:"";document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"+t+";path=/",document.cookie=e+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT;path=/"}function u(e){"string"==typeof e&&(h.default.uid=e,a(h.default.permKey,h.default.uid,365))}function c(e){"string"==typeof e&&(h.default.gid=e,a(h.default.thirdKey,e,365))}function d(){v.default.requestJsonp(c,"//query.petametrics.com/gid")}function f(){var e=!1,t=(!s(h.default.numPerKey),o());h.default.globalTracking&&(h.default.gid=s(h.default.thirdKey),(!h.default.gid||Math.random()<.05)&&d()),h.default.uid=s(h.default.permKey),h.default.uid?u(h.default.uid):(e=!0,t?u(v.default.generateUUID()):h.default.uid="fp:"),h.default.sid=s(h.default.sessKey),h.default.sid||(t?(h.default.sid=v.default.generateUUID(),a(h.default.sessKey,h.default.sid)):h.default.sid="fp:"),h.default.pvid=v.default.generateUUID(),h.default.customBrowsingHistory&&h.default.sdk.historyTracking?h.default.customBrowsingHistory():l(h.default.histKey),l(h.default.numPerKey),l(h.default.numSesKey),l(h.default.sessRefKey),l(h.default.userRefKey),a(h.default.permKey,h.default.uid,365)}function p(e,t,n){var r=h.default.clickHist.clickHistCKey,o=decodeURIComponent(s(r)),i="null"!==o?o.split(","):[],l=h.default.clickHist.cap||10,u=!1,c=h.default.clickHist.urlTrans(e);if(i=i.slice(Math.max(i.length-l,0),i.length),null!==c&&void 0!==c&&""!==c){for(var d=0;d<i.length;d++)i[d].split("|")[0]===c&&(u=!0);u||(i.length>=l&&i.shift(),i.push(c+"|"+t+"|"+n)),a(r,encodeURIComponent(i.join(",")),365)}}Object.defineProperty(t,"__esModule",{value:!0});var g=n(2),h=r(g),m=n(6),y=(r(m),n(3)),v=r(y);t.default={setGlobalId:c,setUserId:u,createCookie:a,readCookie:s,deleteCookie:l,initializeCookies:f,hasCookiesEnabled:o,getItem:s,setItem:i,removeItem:l,maxMsgSlot:3,name:"cookie",appendToClickHist:p},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function i(){var e="test";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}function a(e){var t,n,r,o=0;if(0==e.length)return o;for(t=0,r=e.length;t<r;t++)n=e.charCodeAt(t),o=(o<<5)-o+n,o|=0;return o}function s(e){for(var t=JSON.parse(m(v.default.shown.freqCapKey))||[],n=0;n<e.length;++n){for(;t.length>=v.default.shown.bufferSize;)t.shift();t.push(a(e[n].split("?")[0].split("#")[0]))}g(v.default.shown.freqCapKey,JSON.stringify(t))}function l(){for(var e=JSON.parse(m(v.default.shown.freqCapKey))||[],t={},n=[],r=e.length;--r>=0&&n.length<v.default.shown.maxExclude;){var o=e[r];t[o]?t[o]+=1:t[o]=1,t[o]>=v.default.shown.freqCap&&n.indexOf(o)==-1&&n.push(o)}var i=[];return n.forEach(function(e){i.push(e)}),JSON.stringify(i)}function u(e){var t="http://www.ozy.com/acumen/";if(0!=e.indexOf(t))d(e);else{var n=e.replace("/ozy-ted-","/"),r=n.replace(t,""),o=t+r,i=t+"ozy-ted-"+r;d(o),d(i)}}function c(e,t,n){var r=v.default.clickHist.clickHistLKey||"_igClkHis",o=JSON.parse(m(r))||[],i=v.default.clickHist.cap||10,a=!1,s=v.default.clickHist.urlTrans(e);if(o=o.slice(Math.max(o.length-i,0),o.length),null!==s&&void 0!==s&&""!==s){for(var l=0;l<o.length;l++)o[l].split("|")[0]===s&&(a=!0);a||(o.length>=i&&o.shift(),o.push(s+"|"+t+"|"+n)),g(r,JSON.stringify(o))}}function d(e){for(var t=JSON.parse(m(v.default.longHistKey))||[],n=a(e),r=t.length,o=!1,i=0;i<r;++i)if(t[i]==n){o=!0;for(var s=i+1;s<r;++s)t[s-1]=t[s];t[r-1]=n;break}if(!o){for(;t.length>=v.default.longHist.bufferSize;)t.shift();t.push(n)}g(v.default.longHistKey,JSON.stringify(t))}function f(){var e=m(v.default.longHistKey)||JSON.stringify([]);if(v.default.longHist.dropRecent>0){var t=JSON.parse(e).length;t>=v.default.longHist.dropRecent?e=JSON.stringify(JSON.parse(e).slice(0,t-v.default.longHist.dropRecent)):JSON.stringify([])}return e}function p(){try{b.setItem("_igst","8");var e="8"==b.getItem("_igst");return b.removeItem("_igst"),e}catch(e){return!1}}function g(e,t,n){b.setItem(e,t),n&&b.setItem(e+T,(new Date).getTime()+1e3*n)}function h(e){b.removeItem(e),b.removeItem(e+T)}function m(e){var t=b.getItem(e+T);return!t||t>=(new Date).getTime()?b.getItem(e)||null:(h(e),null)}Object.defineProperty(t,"__esModule",{value:!0});var y=n(2),v=r(y),w=window,b=o()?w.localStorage:{setItem:function(){},getItem:function(){},removeItem:function(){}},k=i()?w.sessionStorage:{setItem:function(){},getItem:function(){},removeItem:function(){}},T="expireTimestamp";t.default={hasStorageEnabled:p,setItem:g,getItem:m,removeItem:h,maxMsgSlot:10,name:"local_storage",storeVisibleElements:s,getFrequent:l,appendUrlToLongHist:u,getLongHist:f,appendToClickHist:c,sessStorage:k},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){f&&(d+=1*new Date-f,f=!1)}function i(){s.default.addEvent(c,"blur",function(){o()}),s.default.addEvent(c,"focus",function(){f=1*new Date})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),l=n(2),u=r(l),c=window,d=0,f=u.default.loadedAt;t.default={getDuration:function(){return d},stopDuration:o,initializeDurationEvents:i},e.exports=t.default},function(e,t){"use strict";function n(e){/in[^t]/.test(document.readyState)?i.setTimeout(function(){n(e)},100):e()}function r(e){/complete/.test(document.readyState)?e():i.setTimeout(function(){r(e)},100)}function o(e,t){e()?t():i.setTimeout(function(){o(e,t)},50)}Object.defineProperty(t,"__esModule",{value:!0});var i=window;t.default={addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,function(){return n.call(e,i.event)})},domReady:n,domComplete:r,doWhenReady:o},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){g[e]=t}function i(e,t){h[e]=t}function a(e,t){m[e]=t}function s(e){var t={dedupGid:"0"};return e.widgets||(e.widgets={}),e.widgets["default-widget"]=t,e.itemRegex||(e.itemRegex=".+"),e}function l(){return s(p.default.jsKey in m?m[p.default.jsKey]:{})}function u(){p.default.jsKey in g&&"undefined"!=typeof g[p.default.jsKey].run&&g[p.default.jsKey].run()}function c(e){p.default.jsKey in g&&"undefined"!=typeof g[p.default.jsKey].render&&g[p.default.jsKey].render(e)}function d(){p.default.jsKey in h&&"undefined"!=typeof h[p.default.jsKey].run&&h[p.default.jsKey].run()}Object.defineProperty(t,"__esModule",{value:!0});var f=n(2),p=r(f),g={},h={},m={};t.default={addExtension:o,addWidgetData:a,getWidgetData:l,addEarlyExtension:i,maybeRunExtension:u,maybeRunEarlyExtension:d,maybeRunExtensionRender:c,reset:function(){g={},h={}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n,t=t||{};n="li_act_server"in t?t.li_act_server:h.default.activity.activityServer;var r=n+"/__activity.gif?";if(r+="e="+encodeURIComponent(e),"widget_click"==e&&(h.default.clickHist.onLocalStorage&&k.default.appendToClickHist(t.clickUrl,t.w,t.source),h.default.clickHist.onCookie&&w.default.appendToClickHist(t.clickUrl,t.w,t.source)),h.default.shown.vizSendCap&&("widget_shown"==e||"widget_visible"==e||"widget_click"==e)&&Array.isArray(t.vi)&&(t.vi=t.vi.slice(0,h.default.shown.vizSendCap)),"conversion"==e&&!t.source){var o=I.default.getURLParameter("li_source"),i=I.default.getURLParameter("li_medium");o&&(t.source=o),i&&(t.w=i)}r+="&"+y.default.forCurrentExample();for(var a in t)t.hasOwnProperty(a)&&(r+="[object Array]"===Object.prototype.toString.call(t[a])?"&"+a+"="+encodeURIComponent(JSON.stringify(t[a])):"&"+a+"="+encodeURIComponent(t[a]));for(var s in h.default.globalCtx)h.default.globalCtx.hasOwnProperty(s)&&(r+="[object Array]"===Object.prototype.toString.call(h.default.globalCtx[s])?"&"+s+"="+encodeURIComponent(JSON.stringify(h.default.globalCtx[s])):"&"+s+"="+encodeURIComponent(h.default.globalCtx[s]));return r}function i(e){k.default.setItem(h.default.latestVizKey,JSON.stringify(e))}function a(){return k.default.getItem(h.default.latestVizKey)}function s(e,t){try{if(h.default.defaultApiEvents.indexOf(e)!=-1&&C.default&&C.default.lastTsplByEventType&&C.default.lastTsplByEventType[e]&&window.performance.now&&"function"==typeof window.performance.now&&(0|window.performance.now())-C.default.lastTsplByEventType[e]<2e3)return console.log("LI: The event "+e+" that we were asked to send at "+(0|window.performance.now())+' milliseconds after page start looks like a duplicate, because a copy of the event was sent less than 2 seconds ago. This usually happens if you are including our snippet twice, or if you are doing a $p("send","pageview") as part of the snippet AND also running resetPageview at the same time. If not sure about the reason for this message, please contact LiftIgniter Support at support@liftigniter.com. Time since page load in milliseconds for most recent event of each type: ',C.default.lastTsplByEventType),void C.default.duplicatesDetected.push(e)}catch(e){console.log("LI: Unexpected error when checking for immediate duplicates",e)}"widget_click"==e?!d(e,t):l(e,t)}function l(e,t){try{if(h.default.activity.activitySamplingPercent<100&&I.default.djb2HashCode(h.default.uid)%100>h.default.activity.activitySamplingPercent)return;var n=window.location.href;if(n&&h.default.defaultApiEvents&&"-1"!=h.default.defaultApiEvents.indexOf(e)){if(h.default.activity.itemRegex&&null===n.match(h.default.activity.itemRegex))return;if(h.default.activity.excludeRegex&&null!==n.match(h.default.activity.excludeRegex))return}if(h.default.jsKey||console.log("LiftIgniter send called before LiftIgniter init. The most typical reason for this is if you are including our Javascript snippet twice (this could be twice on the page, or once on the page and once in Google Tag Manager, or twice in Google Tag Manager). If you have more questions, please contact support@liftigniter.com"),h.default.disabledCust[h.default.jsKey])return void console.log("Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");if(h.default.jsKey&&!h.default.disabledCust[h.default.jsKey]){c(e);var r=new Image;r.src=o(e,t)}}catch(t){console.log("Unexpected error when trying to send event "+e,t)}}function u(){return h.default.robustUseStorage?k.default.getItem(h.default.lastClick):h.default.robustUseCookie?w.default.getItem(h.default.lastClick):void 0}function c(e){C.default&&C.default.eventCounts&&(C.default.eventCounts[e]?C.default.eventCounts[e]=C.default.eventCounts[e]+1:C.default.eventCounts[e]=1),C.default&&C.default.firstTsplByEventType&&!C.default.firstTsplByEventType[e]&&window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(C.default.firstTsplByEventType[e]=0|window.performance.now()),C.default&&C.default.lastTsplByEventType&&window.performance.now&&"function"==typeof window.performance.now&&(C.default.lastTsplByEventType[e]=0|window.performance.now())}function d(e,t){function n(e,t,n){n=I.default.mergeMap(n,{method:"send_robust",buffer:e.name});var r=o(t,n);e.setItem(h.default.lastClick,r);for(var i=0;i<e.maxMsgSlot&&e.getItem(h.default.robustMsgSlot+i);i++);return i<e.maxMsgSlot&&e.setItem(h.default.robustMsgSlot+i,r,120),r==e.getItem(h.default.robustMsgSlot+i)&&(f(e,i),!0)}if(!(h.default.activity.activitySamplingPercent<100&&I.default.djb2HashCode(h.default.uid)%100>h.default.activity.activitySamplingPercent)){if(c(e),!h.default.jsKey)throw"Petametrics.send called before Petametrics.init";return!(!h.default.robustUseStorage||!n(k.default,e,t))||!(!h.default.robustUseCookie||!n(w.default,e,t))}}function f(e,t){var n=e.getItem(h.default.robustMsgSlot+t);if(n){var r=function(){e.removeItem(h.default.robustMsgSlot+t)},o=new Image;o.onload=r,o.src=n}}function p(){for(var e=0;e<w.default.maxMsgSlot;e++)f(w.default,e);for(var e=0;e<k.default.maxMsgSlot;e++)f(k.default,e)}Object.defineProperty(t,"__esModule",{value:!0});var g=n(2),h=r(g),m=n(11),y=r(m),v=n(5),w=r(v),b=n(6),k=r(b),T=n(3),I=r(T),S=n(16),C=r(S);t.default={send:s,getUrl:o,sendRobust:d,checkBuffer:p,storeLatestVisibleItems:i,getLatestVisibleItems:a,getLastClick:u,updateInternalEventCounts:c},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(window.location.search);return null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function i(e,t){t=t||"&";var n=o(e);return n?t+e+"="+n:""}function a(e,t){var n=e.split("?");if(n.length>=2){for(var r=encodeURIComponent(t)+"=",o=n[1].split(/[&;]/g),i=o.length;i-- >0;)o[i].lastIndexOf(r,0)!==-1&&o.splice(i,1);return e=n[0]+(o.length>0?"?"+o.join("&"):"")}return e}function s(e){return"ts="+encodeURIComponent(h.default.getCurrentTime())+"&jsk="+encodeURIComponent(u.default.jsKey)+"&jsv="+encodeURIComponent(u.default.version)+"&cu="+(e?u.default.activity.urlTransform(u.default.frontPageBoost):encodeURIComponent(u.default.activity.urlTransform(u.default.currentUrl)))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),u=r(l),c=n(12),d=r(c),f=n(13),p=r(f),g=n(4),h=r(g),m=n(14),y=(r(m),n(15)),v=(r(y),n(6)),w=r(v),b=n(5),k=r(b),T=n(16),I=r(T);t.default={forCurrentExample:function(e){var t="",n="",r="",o="",i="";if(u.default.qOpt.dynScrollInfo)try{t="&sppx="+encodeURIComponent(d.default.maxVertScrollPos())+"&sppc="+encodeURIComponent(d.default.maxVertScrollPct())+"&dh="+encodeURIComponent(d.default.getDocHeight())+"&iwid="+encodeURIComponent(window.innerWidth)+"&ihei="+encodeURIComponent(window.innerHeight)}catch(e){}try{var a;a=u.default.histSettings.origin?"&ccu="+encodeURIComponent(u.default.activity.canonicalUrlTransform(u.default.histSettings.origin+window.location.pathname)):u.default.customContext.id?"&ccu="+encodeURIComponent(u.default.customContext.id):u.default.useCanonicalUrl?"&ccu="+(e?encodeURIComponent(u.default.frontPageBoost):encodeURIComponent(u.default.activity.canonicalUrlTransform(p.default.getCanonicalUrl()))):"",n="&ct="+encodeURIComponent(p.default.getCurrentTitle())+a}catch(e){console.log(e)}try{var l="";u.default.clickHist.send&&(u.default.clickHist.onLocalStorage?l="&clkHist="+w.default.getItem(u.default.clickHist.clickHistLKey):u.default.clickHist.onCookie&&(l="&clkHist="+JSON.stringify(k.default.readCookie(u.default.clickHist.clickHistCKey).split(",")))),r=l}catch(e){}try{u.default.currentSeries&&""!=u.default.currentSeries&&void 0!==u.default.currentSeries&&(o="&currentSeries="+encodeURIComponent(u.default.currentSeries))}catch(e){}try{if(window.performance&&window.performance.now&&"function"==typeof window.performance.now){var c=0|window.performance.now();i="&tspl="+c}I.default.startupTimes.beaconLoadStartTime&&(i=i+"&blst="+I.default.startupTimes.beaconLoadStartTime),I.default.startupTimes.initStartTime&&(i=i+"&ist="+I.default.startupTimes.initStartTime),I.default.startupTimes.initEndTime&&(i=i+"&iet="+I.default.startupTimes.initEndTime)}catch(e){console.log("Error determining time since page load")}var f=u.default.sdk.manualHist?encodeURIComponent(JSON.stringify(u.default.sdk.manualHist)):encodeURIComponent(JSON.stringify(u.default.getHistList()));return s()+(u.default.gid?"&gid="+encodeURIComponent(u.default.gid):"")+"&uid="+encodeURIComponent(u.default.uid)+"&sid="+encodeURIComponent(u.default.sid)+"&pvid="+encodeURIComponent(u.default.pvid)+(u.default.activity.includeBrowsingHistory?"&hist="+f:"")+"&tzo="+encodeURIComponent(h.default.getTimezoneOffset())+"&ua="+encodeURIComponent(u.default.userAgent)+"&l="+encodeURIComponent(u.default.language)+"&os="+encodeURIComponent(u.default.os)+(u.default.qOpt.screenDim?"&scd="+encodeURIComponent(u.default.colorDepth)+"&scrh="+encodeURIComponent(u.default.screenHeight)+"&scrw="+encodeURIComponent(u.default.screenWidth):"")+(u.default.referrer?"&ref="+encodeURIComponent(u.default.referrer):"")+t+n+r+o+i+(u.default.customInfo?u.default.customInfo():"")},getParam:o,copyParam:i,removeParam:a,basicParam:s},e.exports=t.default},function(e,t){"use strict";function n(){var e=document.body;return document&&document.scrollTop||e&&e.scrollTop||0}function r(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight||0,t.scrollHeight||0,e.offsetHeight||0,t.offsetHeight||0,e.clientHeight||0,t.clientHeight||0)}function o(){var e=document.body,t=document.documentElement;return window.innerHeight||t.clientHeight||e.clientHeight||0}function i(){var e=(n()+o())/r()*100;return e>=100?100:e<=0?0:e}function a(){var e=n();e>s&&(s=e);var t=i();t>l&&(l=Math.floor(t))}Object.defineProperty(t,"__esModule",{value:!0});var s=0,l=0;t.default={getDocHeight:r,getWinHeight:o,getVertScrollPos:n,getVertScrollPct:i,checkScroll:a,maxVertScrollPos:function(){return s},maxVertScrollPct:function(){return l},reset:function(){l=0,s=0}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){t="undefined"!=typeof t&&t;for(var n=[],r=I.querySelectorAll(e),o=0;o<r.length;o++)n.push(r[o].textContent);return t?n:n[0]}function i(e,t,n){n="undefined"!=typeof n&&n;for(var r=[],o=I.querySelectorAll(e),i=0;i<o.length;i++)r.push(o[i].getAttribute(t));return n?r:r[0]}function a(e,t){for(var n=!0;n;){var r=e,o=t;if(n=!1,0==o.length)return r;e=r[o[0]],t=o.slice(1),n=!0}}function s(e){return a(T,e.split("."))}function l(e,t){if("undefined"!=typeof t){var n=[],r=t.exec(e);if(t.global)for(;r;)n=n.concat(r.slice(1)),r=t.exec(e);else n=r.slice(1);return n}return[e]}function u(e){for(var t={},n=I.querySelectorAll("meta[property^='"+e+":'][content]"),r=0;r<n.length;r++){var o=n[r].getAttribute("property").slice(e.length+1),i=t[o]||[];i.push(n[r].getAttribute("content")),t[o]=i}return t}function c(){var e=u("og");if(void 0!=e.type){var t=e.type[0].split(".")[0],n=k.default.inventory.defaultType;switch(t){case"article":case"video":case"book":case"music":e=w.default.mergeMap(u(t),e);break;default:e=w.default.mergeMap(u(n),e)}}return e}function d(){var e=I.querySelector("#liftigniter-metadata");if(e){var t=e.textContent;if(k.default.inventory.jsonTransform&&(t=k.default.inventory.jsonTransform(t)),
t){var n=JSON.parse(t);for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];if("number"!=typeof o){o=[].concat(o);for(var i=0;i<o.length;i++)o[i]=o[i].toString()}}return n}return{}}return{}}function f(e){var t,n=[];try{if("text"==e.type?t=o(e.selector,!0):"attribute"==e.type?t=i(e.selector,e.attribute,!0):"url"==e.type?t=T.location.href:"var"==e.type?t=[s(e.variable).toString()]:"varArray"==e.type&&(t=s(e.variable)),t)for(var r=0;r<t.length;r++){var a=t[r];"function"==typeof e.transform&&(a=e.transform(a)),a=l(a,e.regex),"undefined"!=typeof e.joinWith&&(a=[a.join(e.joinWith)]),n=n.concat(a)}}catch(e){n=[]}return n}function p(){var e=I.querySelector("meta[property='og:title'][content]");return e?e.getAttribute("content"):g()||"-1"}function g(){var e=I.getElementsByTagName("title");if(e.length>0)return e[0].textContent}function h(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.host+t.pathname+t.search+t.hash}function m(){function e(){if(k.default.inventory.useOpenGraphForCanonicalUrl&&(e=I.querySelector("meta[property='og:url'][content]")))return e.getAttribute("content");if(k.default.inventory.useLinkRelForCanonicalUrl){var e=I.querySelector("link[rel=canonical][href]");if(e)return h(e.getAttribute("href"))}var t=T.location.href;return k.default.inventory.stripTagsForCanonicalUrl&&(t=t.split("?")[0]),k.default.inventory.stripHashesForCanonicalUrl&&(t=t.split("#")[0]),t}return y||(y=k.default.inventory.canonicalUrlTransform(e())),y}Object.defineProperty(t,"__esModule",{value:!0});var y,v=n(3),w=r(v),b=n(2),k=r(b),T=window,I=document;t.default={getCurrentTitle:p,getTitleFallback:g,getCanonicalUrl:m,getText:o,getAttribute:i,scrapeFeature:f,scrapeOpenGraph:c,scrapeJSON:d},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={randomString:function(){return Math.random().toString(36).substr(2,16)}},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={hash:function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,o,i,a;return o=2147483648&e,i=2147483648&t,n=1073741824&e,r=1073741824&t,a=(1073741823&e)+(1073741823&t),n&r?2147483648^a^o^i:n|r?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function r(e,t,n){return e&t|~e&n}function o(e,t,n){return e&n|t&~n}function i(e,t,n){return e^t^n}function a(e,t,n){return t^(e|~n)}function s(e,o,i,a,s,l,u){return e=n(e,n(n(r(o,i,a),s),u)),n(t(e,l),o)}function l(e,r,i,a,s,l,u){return e=n(e,n(n(o(r,i,a),s),u)),n(t(e,l),r)}function u(e,r,o,a,s,l,u){return e=n(e,n(n(i(r,o,a),s),u)),n(t(e,l),r)}function c(e,r,o,i,s,l,u){return e=n(e,n(n(a(r,o,i),s),u)),n(t(e,l),r)}function d(e){for(var t,n=e.length,r=n+8,o=(r-r%64)/64,i=16*(o+1),a=Array(i-1),s=0,l=0;l<n;)t=(l-l%4)/4,s=l%4*8,a[t]=a[t]|e.charCodeAt(l)<<s,l++;return t=(l-l%4)/4,s=l%4*8,a[t]=a[t]|128<<s,a[i-2]=n<<3,a[i-1]=n>>>29,a}function f(e){var t,n,r="",o="";for(n=0;n<=3;n++)t=e>>>8*n&255,o="0"+t.toString(16),r+=o.substr(o.length-2,2);return r}function p(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}var g,h,m,y,v,w,b,k,T,I=Array(),S=7,C=12,_=17,x=22,E=5,R=9,M=14,O=20,D=4,U=11,L=16,N=23,A=6,q=10,H=15,j=21;for(e=p(e),I=d(e),w=1732584193,b=4023233417,k=2562383102,T=271733878,g=0;g<I.length;g+=16)h=w,m=b,y=k,v=T,w=s(w,b,k,T,I[g+0],S,3614090360),T=s(T,w,b,k,I[g+1],C,3905402710),k=s(k,T,w,b,I[g+2],_,606105819),b=s(b,k,T,w,I[g+3],x,3250441966),w=s(w,b,k,T,I[g+4],S,4118548399),T=s(T,w,b,k,I[g+5],C,1200080426),k=s(k,T,w,b,I[g+6],_,2821735955),b=s(b,k,T,w,I[g+7],x,4249261313),w=s(w,b,k,T,I[g+8],S,1770035416),T=s(T,w,b,k,I[g+9],C,2336552879),k=s(k,T,w,b,I[g+10],_,4294925233),b=s(b,k,T,w,I[g+11],x,2304563134),w=s(w,b,k,T,I[g+12],S,1804603682),T=s(T,w,b,k,I[g+13],C,4254626195),k=s(k,T,w,b,I[g+14],_,2792965006),b=s(b,k,T,w,I[g+15],x,1236535329),w=l(w,b,k,T,I[g+1],E,4129170786),T=l(T,w,b,k,I[g+6],R,3225465664),k=l(k,T,w,b,I[g+11],M,643717713),b=l(b,k,T,w,I[g+0],O,3921069994),w=l(w,b,k,T,I[g+5],E,3593408605),T=l(T,w,b,k,I[g+10],R,38016083),k=l(k,T,w,b,I[g+15],M,3634488961),b=l(b,k,T,w,I[g+4],O,3889429448),w=l(w,b,k,T,I[g+9],E,568446438),T=l(T,w,b,k,I[g+14],R,3275163606),k=l(k,T,w,b,I[g+3],M,4107603335),b=l(b,k,T,w,I[g+8],O,1163531501),w=l(w,b,k,T,I[g+13],E,2850285829),T=l(T,w,b,k,I[g+2],R,4243563512),k=l(k,T,w,b,I[g+7],M,1735328473),b=l(b,k,T,w,I[g+12],O,2368359562),w=u(w,b,k,T,I[g+5],D,4294588738),T=u(T,w,b,k,I[g+8],U,2272392833),k=u(k,T,w,b,I[g+11],L,1839030562),b=u(b,k,T,w,I[g+14],N,4259657740),w=u(w,b,k,T,I[g+1],D,2763975236),T=u(T,w,b,k,I[g+4],U,1272893353),k=u(k,T,w,b,I[g+7],L,4139469664),b=u(b,k,T,w,I[g+10],N,3200236656),w=u(w,b,k,T,I[g+13],D,681279174),T=u(T,w,b,k,I[g+0],U,3936430074),k=u(k,T,w,b,I[g+3],L,3572445317),b=u(b,k,T,w,I[g+6],N,76029189),w=u(w,b,k,T,I[g+9],D,3654602809),T=u(T,w,b,k,I[g+12],U,3873151461),k=u(k,T,w,b,I[g+15],L,530742520),b=u(b,k,T,w,I[g+2],N,3299628645),w=c(w,b,k,T,I[g+0],A,4096336452),T=c(T,w,b,k,I[g+7],q,1126891415),k=c(k,T,w,b,I[g+14],H,2878612391),b=c(b,k,T,w,I[g+5],j,4237533241),w=c(w,b,k,T,I[g+12],A,1700485571),T=c(T,w,b,k,I[g+3],q,2399980690),k=c(k,T,w,b,I[g+10],H,4293915773),b=c(b,k,T,w,I[g+1],j,2240044497),w=c(w,b,k,T,I[g+8],A,1873313359),T=c(T,w,b,k,I[g+15],q,4264355552),k=c(k,T,w,b,I[g+6],H,2734768916),b=c(b,k,T,w,I[g+13],j,1309151649),w=c(w,b,k,T,I[g+4],A,4149444226),T=c(T,w,b,k,I[g+11],q,3174756917),k=c(k,T,w,b,I[g+2],H,718787259),b=c(b,k,T,w,I[g+9],j,3951481745),w=n(w,h),b=n(b,m),k=n(k,y),T=n(T,v);var P=f(w)+f(b)+f(k)+f(T);return P.toLowerCase()}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=r(o),a=n(2),s=r(a),l=n(10),u=r(l);window,document,i.default.size;t.default={fetchData:{finalized:!1,startTime:0,timeout:1e4,fetchQueue:[],dedupQueue:{},recs:{},calls:{},dedupMax:{},retried:{},givenUp:!1},eventCounts:{},firstTsplByEventType:{},lastTsplByEventType:{},errorMessagesByEventType:{},shownSourceMap:{},responseWidgetMap:{},shownWidgetMap:{},visibleWidgetMap:{},inventoryData:{scrapingFinished:!1,inventorySent:!1,timing:{}},startupTimes:{},duplicatesDetected:[],clickUrls:[],timing:{shownTimes:{},visibleTimes:{},clickTimes:{}},refresh:function(){this.fetchData=i.default.mergeMap(this.fetchData,{dedupQueue:{}})},runDiagnostics:function(){var e=0,t=0,n=0,r=void 0;window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(r=0|window.performance.now());var o="",i="As a result, LiftIgniter loads very late and its ability to improve recommendation quality on your site is limited. This probably means your site is slow, your Internet connection is slow, or you are not including our snippet early enough in the page.",a="If this message persists across multiple page loads, please get in touch with support@liftigniter.com to discuss solutions.";o="Diagnostics for Javascript key "+s.default.jsKey+" run at "+new Date+" ("+r+" ms after initial page load). Get full details of requests to LiftIgniter by going to the Network Panel and filtering to petametrics. Messages marked [ERROR] definitely deserve remedial action, messages marked [WARNING] deserve serious attention, and messages marked [INFO] deserve consideration. Messages marked [DEBUG] are for digging deeper into things, and can be ignored unless you have a specific reason to look at them. Keep in mind that if you have selected 'Disable Cache' in your Network Panel, then load times would be comparable to those of first-time visitors; if you have not, then load times are comparable to those of repeat visitors",console.log(o);try{keys(this.errorMessagesByEventType).length>0?(console.log("[ERROR] There were errors on this page! Error messages on this page, grouped by error type",this.errorMessagesByEventType),e+=keys(this.errorMessagesByEventType).length):console.log("No errors were thrown on this page!")}catch(e){console.log("[ERROR] Error messages on this page, grouped by error type",this.errorMessagesByEventType)}this.eventCounts.pageview&&0!=this.eventCounts.pageview||(console.log('[WARNING] No pageview events were sent for this page! Have you included $p("send","pageview") at the bottom of your snippet?'),t+=1),this.eventCounts.pageview&&this.eventCounts.pageview>1&&(console.log('[WARNING] Multiple pageview events were sent for this page! This could be ok if you are using a single-page app or infinite scroll. Otherwise, please check if you are including the snippet twice, or calling $p("send","pageview") multiple times'),t+=1),!this.fetchData.finalized||this.eventCounts.widget_shown||this.eventCounts.widget_tracking_error?this.fetchData.finalized&&this.eventCounts.widget_shown&&!this.shownSourceMap.LI&&!this.eventCounts.widget_tracking_error?(console.log('[WARNING] You requested recommendations but did not send a widget_shown event with source=LI. This means that either you are not calling the $p("track",... function properly, or you are calling it with the wrong source'),t+=1):this.fetchData.finalized&&this.eventCounts.widget_shown&&this.eventCounts.widget_shown<(this.eventCounts.widget_response||0)&&!this.eventCounts.widget_tracking_error?(console.log("[WARNING] The number of widgets LiftIgniter returned responses for exceeds the number of widgets tracked as shown; we have "+(this.eventCounts.widget_response||0)+" responses and "+(this.eventCounts.widget_shown||0)+" shown. This probably means you are either not rendering or not correctly tracking some of the widgets you are requesting (and being billed for). It could also mean you are grouping widgets together when rendering, which is generally not advisable. It could also mean you are rendering a widget lazily, which may not be a problem. To see which widgets you are missing, compare the response widget map and shown widget map below."),t+=1):this.fetchData.finalized&&this.shownSourceMap.LI&&(this.shownSourceMap.LI||0)<(this.eventCounts.widget_response||0)&&!this.eventCounts.widget_tracking_error?(console.log("[WARNING] The number of widgets LiftIgniter returned responses for exceeds the number of widgets tracked as shown with source LI; we have "+(this.eventCounts.widget_response||0)+" responses and "+(this.eventCounts.widget_shown||0)+" shown. This could mean either that you are failing to track those widgets correctly, or are you are tracking them with a source other than LI. To see what is happening, look at the response widget map, shown widget map, and shown source map below."),t+=1):this.eventCounts.widget_response||!this.shownSourceMap.LI||this.eventCounts.widget_tracking_error?(this.eventCounts.widget_response||0)<(this.shownSourceMap.LI||0)&&(console.log("[WARNING] You are tracking recommendations as shown with source LI; however, the number of widgets you tracked as shown exceeds the number for which you received responses. This usually means you are tracking some recommendations with source LI that are not returned by LiftIgniter. It could also might mean that you are rearranging results requested for one widget to multiple widgets. Please fix this, or contact support@liftigniter.com to discuss further"),t+=1):(console.log("[WARNING] You are tracking recommendations as shown with source LI, but no widget responses have been recorded. This could mean that you are tracking base slice recommendations with source LI. This is not a problem if you are requesting recommendations server-side."),t+=1):(console.log('[WARNING] You requested recommendations but did not send a widget_shown event. This probably means that you are not calling the $p("track",... function properly'),t+=1),this.shownSourceMap.LI&&this.shownSourceMap.base&&(console.log("[WARNING] You are tracking recommendations with both LI and base on the same page. While this can be done, it means that we cannot compute session-level metrics for users (as the same user is in both LI and base slices). If you have not discussed this issue with LiftIgniter, please contact support@liftigniter.com to discuss this"),t+=1),this.startupTimes.beaconLoadStartTime&&this.startupTimes.beaconLoadStartTime>3500&&(console.log("[WARNING] You executed the snippet to load the LiftIgniter beacon "+this.startupTimes.beaconLoadStartTime+" milliseconds after, which is more than 3.5 seconds after, the start of page load. "+i+" "+a),t+=1),this.startupTimes.beaconLoadStartTime&&this.startupTimes.initStartTime&&this.startupTimes.initStartTime-this.startupTimes.beaconLoadStartTime>1e3&&(console.log("[WARNING] The LiftIgniter beacon appears to have taken "+(this.startupTimes.initStartTime-this.startupTimes.beaconLoadStartTime)+" milliseconds to load, which is more than the expected maximum of 1 second. This time is measured from after the load start time, which itself occurred "+this.startupTimes.beaconLoadStartTime+" milliseconds after page load start. This could be because of a poor Internet connection or due to a large amount of bandwidth being used by your site. "+a),t+=1),this.startupTimes.initStartTime&&!this.startupTimes.beaconLoadStartTime&&this.startupTimes.initStartTime>4500&&(console.log("[WARNING] The LiftIgniter beacon finished loading and started initializing "+this.startupTimes.initStartTime+" milliseconds after, which is more than 4.5 seconds after, the start of page load. "+i+" "+a),t+=1),this.startupTimes.initEndTime&&this.startupTimes.initStartTime&&this.startupTimes.initEndTime-this.startupTimes.initStartTime>400&&(console.log("[WARNING] Initializing the JavaScript with your configurations took "+(this.startupTimes.initEndTime-this.startupTimes.initStartTime)+" milliseconds, which exceeds the threshold of 400 milliseconds. This could mean a very complex initial configuration, a slow browser or operating system, or a lot of code running on the site. "+a),t+=1),this.firstTsplByEventType.pageview&&this.firstTsplByEventType.pageview>5e3&&!this.startupTimes.initEndTime&&(console.log("[WARNING] Your pageview event fired at "+this.firstTsplByEventType.pageview+" milliseconds after page load, which is more than 5 seconds after, the start of page load. "+i+" "+a),t+=1),this.firstTsplByEventType.widget_shown&&this.firstTsplByEventType.widget_shown>8e3&&(console.log("[WARNING] Your first widget_shown event fired at "+this.firstTsplByEventType.widget_shown+" milliseconds after page load, which is more than 8 seconds after, the start of page load. This could mean a slow Internet connection, slow site, or late load of recommendations. Unless you have explicitly chosen to lazy load the recommendations, we recommend debugging the cause of the delayed load time"),t+=1),this.inventoryData&&this.inventoryData.timing&&!this.inventoryData.scrapingFinished&&!this.errorMessagesByEventType.scraping_fail&&(console.log("[WARNING] No inventory scraped from this page. If you explicitly turned off inventory collection on this page, it is not an issue; however, if you expected to send inventory from this page, then check if your DOM never completes loading. If your DOM has not yet loaded but will load soon, wait a few seconds and rerun runDiagnostics"),t+=1),this.inventoryData&&this.inventoryData.scrapingFinished&&!this.inventoryData.inventorySent&&(console.log("[WARNING] Inventory scraped but not sent. This could be because the inventory item failed some of LiftIgniter's filters or sanity checks (for instance, it was a home page or lacked rudimentary metadata. If you have concerns about this, contact support@liftigniter.com"),t+=1),this.duplicatesDetected.length>0&&(console.log("[WARNING] Duplicated were detected (and blocked from being sent) for the following event types. You can see more details around th sending of these duplicates by filtering to the string LI: in console logs. Please contact support@liftigniter.com if you have more questions. The event types with duplicates are: ",this.duplicatesDetected),t+=1),this.inventoryData&&this.inventoryData.scrapingFinished&&this.inventoryData.timing&&this.inventoryData.timing.scrape&&this.inventoryData.timing.scrape>1e4&&(console.log("[WARNING] Inventory scraping from this page finished more than 10 seconds after the start of page load. This could mean slow Internet, a slow-loading page, or a DOM that takes too long to complete. One possible implication is that for very rarely accessed pages, we may be more likely to miss getting them in our inventory because we never saw a user stick around on the page long enough. If you see this issue persist across multiple page refreshes, contact support@liftigniter.com"),t+=1),this.fetchData&&!this.fetchData.finalized&&this.fetchData.fetchQueue&&0==this.fetchData.fetchQueue.length&&!this.eventCounts.widget_shown&&(console.log("[INFO] You have not requested any recommendations using the LiftIgniter SDK. Do you not want to show recommendations on this page?"),n+=1),this.fetchData&&!this.fetchData.finalized&&this.fetchData.fetchQueue&&this.fetchData.fetchQueue.length>0&&(console.log("[INFO] You still have some pending requests for recommendations. Wait a few seconds and rerun runDiagnostics to get more accurate diagnostics!"),t+=1),this.eventCounts.widget_shown&&!this.eventCounts.widget_visible?(console.log("[INFO] You have rendered recommendation widgets on the page but no visibility events have fired for any widget. Scroll to the recommendation area and rerun runDiagnostics to check that the visibility event fires (which will make this INFO message go away)"),n+=1):this.eventCounts.widget_shown&&this.eventCounts.widget_visible&&this.eventCounts.widget_visible<this.eventCounts.widget_shown&&(console.log("[INFO] You have rendered recommendation widgets on the page and visibility events have fired; however, visibility events have not fired for all widgets. See the shown widget map and visible widget map in the DEBUG statements below to see which widgets have not had visibility events yet. You need to scroll to the widgets to make the visibility event fire and make this INFO message go away"),n+=1),this.eventCounts.widget_visible&&!this.eventCounts.widget_click&&(console.log("[INFO] No click events have fired on this page. To test click events, right-click on one of the tracked recommendation areas, then rerun runDiagnostics. If successful, this INFO message will go away"),n+=1),console.log("[DEBUG] fetchData",this.fetchData),console.log("[DEBUG] Startup times in milliseconds from start of page load",this.startupTimes),console.log("[DEBUG] Event counts sent on this page, grouped by event type",this.eventCounts),console.log("[DEBUG] Time in milliseconds since page load on this page, for the first event of each type",this.firstTsplByEventType),console.log("[DEBUG] Time in milliseconds since page load on this page, for the last event of each type",this.lastTsplByEventType),console.log("[DEBUG] Number of widget_shown events by source: ",this.shownSourceMap),console.log("[DEBUG] Response widget map (number of widget_response events by widget name): ",this.responseWidgetMap),console.log("[DEBUG] Shown widget map (number of widget_shown events by widget name): ",this.shownWidgetMap),console.log("[DEBUG] Visible widget map (number of widget_visible events by widget name): ",this.visibleWidgetMap),console.log("[DEBUG] Inventory data: ",this.inventoryData),window.performance&&console.log("[DEBUG] Performance data from browser: ",window.performance);var l=e+" errors, "+t+" warnings, "+n+" info messages printed";console.log(l),console.log("If including this data in email to support@liftigniter.com, please include everything that was printed in the console"),u.default.send("runDiagnostics",{})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(3),s=r(a),l=window,u=[];t.default={initializeTimers:function(){if(i.default.qOpt.sendTimer&&i.default.timers)for(var e in i.default.timers)this.sendLater(e,i.default.timers[e])},clearTimers:function(){for(var e=0;e<u.length;e++)l.clearTimeout(u[e])},sendLater:function(e,t){u.push(l.setTimeout(function(){var t={w:s.default.getURLParameter("li_medium"),source:s.default.getURLParameter("li_source")};l[i.default.pmVar]("send",e,t)},t))}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){t=t||{};var o=e.getAttribute(n)||e.getAttribute("data-"+n);return o?o:t.hasOwnProperty(n)?t[n]:r}function i(e,t,n){try{var r=n||"li",o=e.href;o.indexOf(r+"_")>=0&&(o=y.default.removeParam(o,r+"_source"),o=y.default.removeParam(o,r+"_medium")),e.href=o+(o.indexOf("?")>=0?"&":"?")+(t.source?r+"_source="+t.source:"")+(t.w?"&"+r+"_medium="+t.w:"")}catch(e){var i='Error tagging anchors when invoking the $p("track",...) function. This usually happens when were unable to find any anchors in the tracked area. It could be because you are tracking the incorrect area, or it could be because the content loads dynamically. Click tracking may still work but we won\'t be able to determine the click URL. Error:'+e;S.default.send("widget_tracking_error",b.default.mergeMap(t,{errs:""+e})),O.default&&O.default.errorMessagesByEventType&&(O.default.errorMessagesByEventType.widget_tracking_error=i),console.log(i)}}function a(e,t,n,r){if(!(L[e].numUnitsToTag<=0)){var o=Array.prototype.slice.call(t.querySelectorAll(n));o&&o.length>0&&L[e].numUnitsToTag-- >0&&o.forEach(function(e){i(e,r)})}}function s(e,t,n){var r=L[e].el,s=b.default.makeACopy(L[e].opts);if(!s.noCollectWidgetInfo){if(s["max-link"]=o(r,s,"max-link",t.maxLink),s["collect-link-selector"]=o(r,s,"collect-link-selector",t.collectLinkSelector),s["tag-unit-max"]=s["tag-unit-max"]||t.tagUnitMax||1e5,s["tag-unit-selector"]=s["tag-unit-selector"]||t.tagUnitSelector,s["tag-link-selector"]=o(r,s,"tag-link-selector",t.tagLinkSelector),s.noTag=s.noTag||t.noTag||h.default.noTag||!1,n=n||{},n.w=L[e].name,!s.noTag){var l=s["tag-link-selector"];s["tag-unit-selector"]?(L[e].numUnitsToTag=s["tag-unit-max"],Array.prototype.slice.call(r.querySelectorAll(s["tag-unit-selector"])).forEach(function(t){a(e,t,l,n)}),T.default.addEvent(r,"DOMNodeInserted",function(t){var r=document.createElement("div");r.innerHTML=t.target.outerHTML||"",r.querySelector(s["tag-unit-selector"])&&a(e,t.target,l,n)})):Array.prototype.slice.call(r.querySelectorAll(l)).forEach(function(e){i(e,n)})}var u=Array.prototype.slice.call(r.querySelectorAll(s["collect-link-selector"])).map(function(e){return e.href}).filter(function(e){return e}).slice(0,s["max-link"]);s.noClickTracking||(f(r,s,n,u),c(r,s,n,e));var d=b.default.mergeMap(n,{vi:JSON.stringify(u)});S.default.storeLatestVisibleItems(u),O.default&&O.default.shownSourceMap&&d&&d.source&&(O.default.shownSourceMap[d.source]?O.default.shownSourceMap[d.source]=O.default.shownSourceMap[d.source]+1:O.default.shownSourceMap[d.source]=1),S.default.send("widget_shown",d)}}function l(e,t,n,r){var o=b.default.mergeMap({clickUrl:h.default.trackingTransURL(e.href)},n);"function"==typeof h.default.sdk.widgetAnalysis&&(o=h.default.sdk.widgetAnalysis(e,o)),T.default.addEvent(e,"click",function(e){o.trigger="click",d(e,t,o,r)}),T.default.addEvent(e,"contextmenu",function(e){o.trigger="contextmenu",d(e,t,o,r)})}function u(e,t,n,r,o){if(!(L[e].numUnitsToTrack<=0)){var i=Array.prototype.slice.call(t.querySelectorAll(n));i&&i.length>0&&L[e].numUnitsToTrack-- >0&&i.forEach(function(e){l(e,r,o)})}}function c(e,t,n,r){var o=t["tag-link-selector"];t["tag-unit-selector"]?(L[r].numUnitsToTrack=t["tag-unit-max"],Array.prototype.slice.call(e.querySelectorAll(t["tag-unit-selector"])).forEach(function(e){u(r,e,o,t,n)}),T.default.addEvent(e,"DOMNodeInserted",function(e){var i=document.createElement("div");i.innerHTML=e.target.outerHTML||"",i.querySelector(t["tag-unit-selector"])&&u(r,e.target,o,t,n)})):Array.prototype.slice.call(e.querySelectorAll(o)).forEach(function(e){l(e,t,n)})}function d(e,t,n,r){var o=n.tType||"widget",i=n.w||"default-widget";try{var a=(n.clickUrl||"").split("?")[0].split("#")[0];if(O.default.clickUrls.indexOf(a)!=-1)return console.log("LI: A duplicate click event was detected for the url "+(n.clickUrl||"")+", after trimming: "+a+", when comparing against the list, hence not sending the duplicate click",O.default.clickUrls),void O.default.duplicatesDetected.push(o+"_click");O.default.clickUrls.push(a)}catch(e){console.log("LI: Encountered unexpected error when checking for duplicate click event, continuing anyway",e)}try{window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(O.default.timing.clickTimes[i]=0|window.performance.now(),n.tsv=(O.default.timing.clickTimes[i]||0)-(O.default.timing.visibleTimes[i]||0),n.tss=(O.default.timing.clickTimes[i]||0)-(O.default.timing.shownTimes[i]||0))}catch(e){console.log("LI: Encountered unexpected error when adding performance information to visible event: ",e)}r&&alert("click for "+n.w+":"+n.source),S.default.sendRobust(o+"_click",n)||(n=b.default.mergeMap(n,{method:"on_page"}),S.default.send(o+"_click",n),e.metaKey||e.shiftKey||"click"!=e.type||(e.preventDefault(),D.setTimeout(function(){D.location.href=n.clickUrl},100)))}function f(e,t,n,r){var i=function(){O.default&&O.default.visibleWidgetMap&&n.w&&(O.default.visibleWidgetMap[n.w]=(O.default.visibleWidgetMap[n.w]||0)+1),E.default.isElementVisible(e)&&!o(e,t,"visible",!1)&&(S.default.send("widget_visible",n),e.setAttribute("data-visible","1"),_.default.storeVisibleElements(r))};T.default.addEvent(U,"DOMContentLoaded",i),T.default.addEvent(U,"load",i),T.default.addEvent(U,"resize",i),T.default.addEvent(U,"scroll",i)}Object.defineProperty(t,"__esModule",{value:!0});var p=n(19),g=(r(p),n(2)),h=r(g),m=n(11),y=r(m),v=n(9),w=(r(v),n(3)),b=r(w),k=n(8),T=r(k),I=n(10),S=r(I),C=n(6),_=r(C),x=n(20),E=r(x),R=n(5),M=(r(R),n(16)),O=r(M),D=window,U=document,L={};t.default={widgets:L,collectWidgetInfo:s,tagAnchor:i,trackAnchor:l,onClick:d},e.exports=t.default},function(e,t,n){var r,o,i;/*!
	 * mustache.js - Logic-less {{mustache}} templates with JavaScript
	 * http://github.com/janl/mustache.js
	 */
!function(n,a){"object"==typeof t&&t&&"string"!=typeof t.nodeName?a(t):(o=[t],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i)))}(this,function(e){function t(e){return"function"==typeof e}function n(e){return h(e)?"array":typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,t){return null!=e&&"object"==typeof e&&t in e}function i(e,t){return m.call(e,t)}function a(e){return!i(y,e)}function s(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return v[e]})}function l(t,n){function o(){if(y&&!v)for(;m.length;)delete g[m.pop()];else m=[];y=!1,v=!1}function i(e){if("string"==typeof e&&(e=e.split(b,2)),!h(e)||2!==e.length)throw new Error("Invalid tags: "+e);s=new RegExp(r(e[0])+"\\s*"),l=new RegExp("\\s*"+r(e[1])),f=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var s,l,f,p=[],g=[],m=[],y=!1,v=!1;i(n||e.tags);for(var S,C,_,x,E,R,M=new d(t);!M.eos();){if(S=M.pos,_=M.scanUntil(s))for(var O=0,D=_.length;O<D;++O)x=_.charAt(O),a(x)?m.push(g.length):v=!0,g.push(["text",x,S,S+1]),S+=1,"\n"===x&&o();if(!M.scan(s))break;if(y=!0,C=M.scan(I)||"name",M.scan(w),"="===C?(_=M.scanUntil(k),M.scan(k),M.scanUntil(l)):"{"===C?(_=M.scanUntil(f),M.scan(T),M.scanUntil(l),C="&"):_=M.scanUntil(l),!M.scan(l))throw new Error("Unclosed tag at "+M.pos);if(E=[C,_,S,M.pos],g.push(E),"#"===C||"^"===C)p.push(E);else if("/"===C){if(R=p.pop(),!R)throw new Error('Unopened section "'+_+'" at '+S);if(R[1]!==_)throw new Error('Unclosed section "'+R[1]+'" at '+S)}else"name"===C||"{"===C||"&"===C?v=!0:"="===C&&i(_)}if(R=p.pop())throw new Error('Unclosed section "'+R[1]+'" at '+M.pos);return c(u(g))}function u(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o)t=e[o],t&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function c(e){for(var t,n,r=[],o=r,i=[],a=0,s=e.length;a<s;++a)switch(t=e[a],t[0]){case"#":case"^":o.push(t),i.push(t),o=t[4]=[];break;case"/":n=i.pop(),n[5]=t[2],o=i.length>0?i[i.length-1][4]:r;break;default:o.push(t)}return r}function d(e){this.string=e,this.tail=e,this.pos=0}function f(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function p(){this.cache={}}var g=Object.prototype.toString,h=Array.isArray||function(e){return"[object Array]"===g.call(e)},m=RegExp.prototype.test,y=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},w=/\s*/,b=/\s+/,k=/\s*=/,T=/\s*\}/,I=/#|\^|\/|>|\{|&|=|!/;d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},d.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},f.prototype.push=function(e){return new f(e,this)},f.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var i,a,s=this,l=!1;s;){if(e.indexOf(".")>0)for(n=s.view,i=e.split("."),a=0;null!=n&&a<i.length;)a===i.length-1&&(l=o(n,i[a])),n=n[i[a++]];else n=s.view[e],l=o(s.view,e);if(l)break;s=s.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=l(e,t)),r},p.prototype.render=function(e,t,n){var r=this.parse(e),o=t instanceof f?t:new f(t);return this.renderTokens(r,o,n,e)},p.prototype.renderTokens=function(e,t,n,r){for(var o,i,a,s="",l=0,u=e.length;l<u;++l)a=void 0,o=e[l],i=o[0],"#"===i?a=this.renderSection(o,t,n,r):"^"===i?a=this.renderInverted(o,t,n,r):">"===i?a=this.renderPartial(o,t,n,r):"&"===i?a=this.unescapedValue(o,t):"name"===i?a=this.escapedValue(o,t):"text"===i&&(a=this.rawValue(o)),void 0!==a&&(s+=a);return s},p.prototype.renderSection=function(e,n,r,o){function i(e){return a.render(e,n,r)}var a=this,s="",l=n.lookup(e[1]);if(l){if(h(l))for(var u=0,c=l.length;u<c;++u)s+=this.renderTokens(e[4],n.push(l[u]),r,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],n.push(l),r,o);else if(t(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,o.slice(e[3],e[5]),i),null!=l&&(s+=l)}else s+=this.renderTokens(e[4],n,r,o);return s}},p.prototype.renderInverted=function(e,t,n,r){var o=t.lookup(e[1]);if(!o||h(o)&&0===o.length)return this.renderTokens(e[4],t,n,r)},p.prototype.renderPartial=function(e,n,r){if(r){var o=t(r)?r(e[1]):r[e[1]];return null!=o?this.renderTokens(this.parse(o),n,r,o):void 0}},p.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},p.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},p.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var S=new p;return e.clearCache=function(){return S.clearCache()},e.parse=function(e,t){return S.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return S.render(e,t,r)},e.to_html=function(n,r,o,i){var a=e.render(n,r,o);return t(i)?void i(a):a},e.escape=s,e.Scanner=d,e.Context=f,e.Writer=p,e})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){f.default.refresh(),f.default.sdk.pushStateCallback(),v.default.refresh(),g.default.initializeCookies(),c.default.clearTimers(),c.default.initializeTimers(),m.default.send("pageview")}function i(){if(window.history){var e=window.history.pushState;window.history.pushState=function(t){return f.default.sdk.pushStateReset&&setTimeout(o,0),e.apply(window.history,arguments)};var t=window.history.replaceState;window.history.replaceState=function(e){return f.default.sdk.replaceStateReset&&setTimeout(o,0),t.apply(window.history,arguments)}}var n=window.onhashchange||function(){return!0};window.onhashchange=function(){return w&&setTimeout(o,0),n.apply(window,arguments)}}function a(e){w=e}function s(e){b=e}function l(e){var t=e.getBoundingClientRect(),n=window.innerWidth||doc.documentElement.clientWidth,r=window.innerHeight||doc.documentElement.clientHeight,o=function(e,t){return document.elementFromPoint(e,t)};return!(t.right<0||t.bottom<0||t.left>n||t.top>r)&&(e.contains(o(t.left,t.top))||e.contains(o(t.right,t.top))||e.contains(o(t.right,t.bottom))||e.contains(o(t.left,t.bottom)))}Object.defineProperty(t,"__esModule",{value:!0});var u=n(17),c=r(u),d=n(2),f=r(d),p=n(5),g=r(p),h=n(10),m=r(h),y=n(16),v=r(y),w=!0,b=f.default.sdk.pushStateReset||!1;f.default.sdk.replaceStateReset||!1;t.default={initializeNavigationEvents:i,setOnHashChangeReset:a,setPushStateReset:s,isElementVisible:l},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=a.default.inventory.collectOpenGraph?c.default.scrapeOpenGraph():{};if(a.default.inventory.collectOpenGraphOnly)for(var t=0;t<a.default.inventory.mandatoryOpenGraphFeatures.length;t++)if(void 0===e[a.default.inventory.mandatoryOpenGraphFeatures[t]])return void(a.default.debug&&console.log("LI: You are missing the following Open Graph feature for your metadata: "+a.default.inventory.mandatoryOpenGraphFeatures[t]));var n=a.default.inventory.features;if(n)for(var t=0;t<n.length;t++){var r=n[t],o=c.default.scrapeFeature(r);o&&o.length>0&&(e[r.name]=o)}e.title||(e.title=[c.default.getTitleFallback()]),e.url=[c.default.getCanonicalUrl()];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];(void 0===o||null===o||o.length<=0)&&delete e[i]}a.default.inventory.collectJSON&&(e=f.default.mergeMap(e,c.default.scrapeJSON()));for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];void 0!==o&&null!==o||delete e[i]}for(var t=0;t<a.default.inventory.mandatoryFeatures.length;t++)if(void 0===e[a.default.inventory.mandatoryFeatures[t]])return void(a.default.debug&&console.log("LI: You are missing the following feature for your metadata: "+a.default.inventory.mandatoryFeatures[t]));h.default&&h.default.inventoryData&&(h.default.inventoryData.scrapingFinished=!0,window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(h.default.inventoryData.timing.scrape=0|window.performance.now()));var s=a.default.inventory.jsVars;if(s)for(var i in s)e.hasOwnProperty(i)&&(e[i]=s[i]);return e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=r(i),s=n(11),l=r(s),u=n(13),c=r(u),d=n(3),f=r(d),p=n(10),g=(r(p),n(16)),h=r(g);t.default={collect:function(){var e=a.default.inventory.inventoryServer+"/"+a.default.inventory.inventoryApiVersion+"/__inventory.gif?"+l.default.basicParam(),t=o(),n=a.default.inventory.itemRegex,r=a.default.inventory.excludeRegex,i=a.default.inventory.filters;if(i&&t)for(var s=0;s<i.length;s++)if((t[i[s].name]||[]).indexOf(i[s].value)>=0){if("true"!=i[s].negate)return}else if("true"==i[s].negate)return;if(!(n&&t[a.default.inventory.id]&&t[a.default.inventory.id][0]&&null===t[a.default.inventory.id][0].match(n))&&!(r&&t[a.default.inventory.id]&&t[a.default.inventory.id][0]&&null!==t[a.default.inventory.id][0].match(r))&&void 0!==t&&Object.keys(t).length>1){e+="&item="+encodeURIComponent(JSON.stringify(t)),e+=void 0===a.default.inventory.version?"":"&ver="+a.default.inventory.version,e+="&ttl=0";var u=new Image;u.src=e,h.default&&h.default.inventoryData&&(h.default.inventoryData.inventorySent=!0,window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(h.default.inventoryData.timing.send=0|window.performance.now()))}},scrapeInventory:o},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return e&&t in e&&typeof e[t]==n?e[t]:void console.log("LI: Invalid or missing parameter: "+t)}function i(){return te.default.getWidgetData()}function a(e){return 0==Object.keys(e).length}function s(){return!a(i())}function l(e){var t=re.default.getObjectKeys(i().widgets);if(e&&"function"==typeof e)return e(t);if(e){var n=o(e,"callback","function");return n?n(t):t}return t}function u(e,t,n){return t in e?e[t]:n}function c(e){for(var t in e)e[t]||delete e[t];return re.default.djb2HashCode(JSON.stringify(e))}function d(e){if(e){var t=o(e,"max","number"),n=(o(e,"callback","function"),o(e,"widget","string")),r=i();if(t){if(r.widgets&&r.widgets[n]){var a=r.widgets[n].opts||{};e.opts=e.opts||{},e.opts=re.default.mergeMap(a,e.opts)}e.itemsToRank&&(e.opts=e.opts||{},e.opts.itemsToRank=JSON.stringify(e.itemsToRank),delete e.itemsToRank),e.optsKey=c(e.opts||{}),pe.default.fetchData.fetchQueue.push(e)}else;}}function f(e,t,n){var r=u(pe.default.fetchData.dedupQueue,n,[]),o=[],i=Y.default.sdk.iden;if(e.items)if(e.items.length)try{for(var a=0,s=0;a<e.items.length&&s<t;++a){var l=e.items[a][i]||"",c=re.default.djb2HashCode(l);if(1!=r[c]){""!=n&&(r[c]=1);var d=re.default.makeACopy(e.items[a]);d.rank=++s,o.push(d)}}}catch(e){}else console.log("LI: Query response received from LiftIgniter was either empty or not of the proper type. This could be due to a timeout, network error, or server error. If you see this error repeatedly, contact support@liftigniter.com with full context.");else console.log("LI: The query response received from LiftIgniter did not have any items. This could be due to a timeout, network error, or server error. If you see this error repeatedly, contact support@liftigniter.com with full context.");return""!=n&&(pe.default.fetchData.dedupQueue[n]=r),{items:o}}function p(e,t){var n={items:[]};try{n=f(pe.default.fetchData.recs[e.optsKey],e.max,t)}catch(e){console.log('[ERROR] Error returning deduplicated items in LiftIgniter fetch callback. Contact support@liftigniter.com with this error and also the results of $p("runDiagnostics") after running it in the console on this page',e)}var r=[];try{r=(n.items||[]).map(function(e){return e.url||""})}catch(e){console.log("[WARN] Error estimating visible items from response",e)}if(Y.default.sdk){var o=0,i=0;try{window.performance&&window.performance.memory&&window.performance.memory.usedJSHeapSize&&(o=window.performance.memory.usedJSHeapSize),window.performance&&window.performance.memory&&window.performance.memory.totalJSHeapSize&&(i=window.performance.memory.totalJSHeapSize)}catch(e){console.log("Unexpected error when running performance code",e)}pe.default&&pe.default.responseWidgetMap&&(pe.default.responseWidgetMap[e.widget||""]=(pe.default.responseWidgetMap[e.widget||""]||0)+1),se.default.send("widget_response",{fst:e.fetchStartTime||0,fstr:e.fetchStartTimeRelative||0,pt:e.preparationTime||0,cl:e.clientLatency||0,usedJS:o,totalJS:i,w:e.widget||"",source:"LI",vi:JSON.stringify(r)})}try{Y.default.customCallbackByWidget&&Y.default.customCallbackByWidget[e.widget||""]?Y.default.customCallbackByWidget[e.widget||""](n.items):Y.default.customCallback&&Y.default.customCallback(n.items)}catch(e){console.log("Exception when checking for or executing custom callback: ",e)}e.callback(n)}function g(e){Y.default.refresh(),pe.default.refresh(),ye.default.initializeCookies(),we.default.clearTimers(),we.default.initializeTimers(),se.default.send("pageview",e)}function h(){return{dedupGroups:{},max:0,fetchInfo:{}}}function m(){if(!pe.default.fetchData.finalized){var e=i(),t="backup_recs_"+Y.default.jsKey;Te[t]=function(t){var n=Math.max(pe.default.fetchData.startTime+pe.default.fetchData.timeout-re.default.getTime(),0);pe.default.fetchData.givenUp&&(n=Math.min(n,1e3)),console.log("Executing backup recs code after "+(re.default.getTime()-pe.default.fetchData.startTime)+" ms of fetch with remainingTime = "+n+" ms"),Te.setTimeout(function(){if(!pe.default.fetchData.finalized){pe.default.fetchData.finalized=!0,pe.default.fetchData.fetchQueue.forEach(function(n){e.widgets[n.widget]?n.callback(f(t,n.max,e.widgets[n.widget].dedupGid)):n.callback(f(t,n.max,n.dedupGid||"0"))});var n="no response";pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.widget_request_timeout?n=pe.default.errorMessagesByEventType.widget_request_timeout||"":pe.default.errorMessagesByEventType.widget_request_error&&(n=pe.default.errorMessagesByEventType.widget_request_error||"")),se.default.send("timeout",{method:"backupRec",interval:pe.default.fetchData.timeout,errs:n}),pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.timeout="Timed out after waiting for recommendations for "+pe.default.fetchData.timeout+" milliseconds. Check the Network Panel for more details and check the console for any related error messages")}},n)};var n="//cdn.petametrics.com/backup_recs/"+Y.default.jsKey,r=Ie.createElement("script");r.type="text/javascript",r.setAttribute("src",n),Ie.head.appendChild(r)}}function y(){if(!pe.default.fetchData.finalized){pe.default.fetchData.finalized=!0,pe.default.fetchData.fetchQueue.forEach(function(e){e.onTimeout&&"function"==typeof e.onTimeout&&e.onTimeout()});var e="no response";pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.widget_request_timeout?e=pe.default.errorMessagesByEventType.widget_request_timeout||"":pe.default.errorMessagesByEventType.widget_request_error&&(e=pe.default.errorMessagesByEventType.widget_request_error||"")),se.default.send("timeout",{method:"onTimeout",interval:pe.default.fetchData.timeout,errs:e}),pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.timeout="Timed out after waiting for recommendations for "+pe.default.fetchData.timeout+" milliseconds. Check the Network Panel for more details and check the console for any related error messages")}}function v(e){var t=(new Date).getTime(),n=0;try{window.performance&&window.performance.now&&(n=0|window.performance.now())}catch(e){console.log("Unexpected error when running performance code in fetch",e)}if("l4npme86811m9lj2"!==Y.default.jsKey&&"t75qi93gf85456b3"!==Y.default.jsKey&&"tjdqrtlcof1ros6t"!==Y.default.jsKey||Y.default.currentUrl!==window.location.href&&g(),Y.default.disabledCust[Y.default.jsKey])return void console.log("LI: Thank you for using LiftIgniter! If you are interested in re-activating our service, please contact us at support@liftigniter.com");if(!Y.default.jsKey)return void console.log("LI: Couldn't find your jsKey. Please initialize first.");if(Y.default.sdk.fetchCalled&&!Y.default.sdk.multiFetch)return void console.log("LI: fetch called before. Doing nothing");Y.default.sdk.fetchCalled=!0,pe.default.fetchData.finalized=!1,Y.default.sdk.multiFetch&&(pe.default.fetchData.dedupQueue=[]),pe.default.fetchData.startTime=re.default.getTime(),pe.default.fetchData.timeout=e&&e.timeout||pe.default.fetchData.timeout,pe.default.fetchData.fetchQueue&&pe.default.fetchData.fetchQueue.length>0&&(Y.default.sdk.enableBackup?Te.setTimeout(m,2500):Te.setTimeout(y,pe.default.fetchData.timeout),Y.default.sdk.retry&&Te.setTimeout(w,4300));var r=i(),o={},a={};Y.default.sdk.flipQueue&&(pe.default.fetchData.fetchQueue=pe.default.fetchData.fetchQueue.reverse()),pe.default.fetchData.fetchQueue.forEach(function(e){var i=o[e.optsKey]||h(),s=r.widgets||{},l=s[e.widget]||{},u=e.dedupGid||l.dedupGid||"0";u&&(a[u]=(a[u]||0)+(e.max||0),i.dedupGroups[u]=!0),i.max=Math.max(i.max,e.max),i.resultType=e.resultType,i.fetchInfo[e.widget]=e.max,i.opts=e.opts||{},i.dedupGid=e.dedupGid,i.fetchStartTime=t,i.fetchStartTimeRelative=n,o[e.optsKey]=i}),pe.default.fetchData.calls=o,pe.default.fetchData.dedupMax=a;for(var s in o)b(s,Y.default.sdk.queryServer)}function w(){var e=pe.default.fetchData.calls;for(var t in e)pe.default.fetchData.finalized||pe.default.fetchData.recs[t]||pe.default.fetchData.retried[t]||(console.log("LI: Recs have not been received for one of the keys, so we are retrying ",t),b(t,Y.default.sdk.backupQueryServer))}function b(e,t){var n=pe.default.fetchData.calls,r=pe.default.fetchData.dedupMax,o=i();if(n.hasOwnProperty(e)){var a=n[e],s=0;for(var l in a.dedupGroups)s+=r[l];if(Y.default.sdk.stabilize&&a.opts&&a.opts.itemsToRank&&ue.default.sessStorage.getItem(re.default.djb2HashCode(JSON.stringify(a.opts.itemsToRank.sort())))){var u=0;try{window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(u=0|window.performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}var c=JSON.parse(ue.default.sessStorage.getItem(re.default.djb2HashCode(JSON.stringify(a.opts.itemsToRank.sort()))));pe.default.fetchData.finalized||(c.items?(pe.default.fetchData.recs[e]=c,Se(pe.default.fetchData.recs)==Se(n)&&(pe.default.fetchData.finalized=!0,pe.default.fetchData.fetchQueue.forEach(function(e){e.fetchStartTime=a.fetchStartTime,e.preparationTime=u-a.fetchStartTimeRelative;var t=0;try{window.performance&&window.performance.now&&(t=0|window.performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}e.clientLatency=t-u,o.widgets[e.widget]?p(e,e.dedupGid||o.widgets[e.widget].dedupGid||""):p(e,"0")}),pe.default.fetchData.fetchQueue=[],pe.default.fetchData.recs={},pe.default.fetchData.dedupQueue=[])):console.log("LI: Response does not seem to make sense, so punting"))}else{var u=0;try{window.performance&&window.performance.now&&(u=0|window.performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}k({name:"default-widget",max:Math.max(a.max,s),resultType:a.resultType,opts:re.default.mergeMap(a.opts,{fetchInfo:JSON.stringify(a.fetchInfo)}),optsKey:e,serverName:t,callback:function(e,t){pe.default.fetchData.finalized||(e.items?(pe.default.fetchData.recs[t.optsKey]&&console.log("LI: We are overwriting previously fetched recommendations. As a general rule, this should not happen."),pe.default.fetchData.recs[t.optsKey]=e,Se(pe.default.fetchData.recs)==Se(n)&&(pe.default.fetchData.finalized=!0,Y.default.rankFiddling&&Y.default.rankFiddling(pe.default.fetchData.fetchQueue),pe.default.fetchData.fetchQueue.forEach(function(e){e.fetchStartTime=a.fetchStartTime,e.fetchStartTimeRelative=a.fetchStartTimeRelative,e.preparationTime=u-a.fetchStartTimeRelative;var t=0;try{window.performance&&window.performance.now&&"function"==typeof window.performance.now&&(t=0|window.performance.now())}catch(e){console.log("Unexpected error when running performance code",e)}e.clientLatency=t-u,o.widgets[e.widget]?p(e,o.widgets[e.widget].dedupGid||""):p(e,"0")}),pe.default.fetchData.fetchQueue=[],pe.default.fetchData.recs={},pe.default.fetchData.dedupQueue=[],Y.default.sdk.stabilize&&t.opts.itemsToRank&&ue.default.sessStorage.setItem(re.default.djb2HashCode(JSON.stringify(t.opts.itemsToRank.sort())),JSON.stringify(e)))):console.log("LI: Response does not seem to make sense, so punting"))}})}}}function k(e){var t=Y.default.frontPageBoost?"ModelQ":void 0,n=W();n=isNaN(n)?"":"&forcedHash="+n;var r=function(t){e.callback(t,e)},o=function(t,n){console.log("error code: "+t),console.log("error message: "+n),t>=500||0==t?(pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.widget_request_timeout="error code: "+t+"; error message: "+n),Y.default.sdk.retry&&!pe.default.fetchData.retried[e.optsKey]?(console.log("LI: Recs have not been received for one of the keys, so we are retrying",e.optsKey),pe.default.fetchData.retried[e.optsKey]=!0,b(e.optsKey,Y.default.sdk.backupQueryServer)):(pe.default.fetchData.givenUp=!0,Y.default.sdk.enableBackup?m():y())):t>=400&&(pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.widget_request_error="error code: "+t+"; error message: "+n),pe.default.fetchData.retried[e.optsKey]=!0,pe.default.fetchData.givenUp=!0,Y.default.sdk.enableBackup?m():y())},i=e.serverName+"/"+Y.default.sdk.queryApiVersion+"/model?"+Z.default.forCurrentExample(t);try{for(var a in Y.default.globalCtx)Y.default.globalCtx.hasOwnProperty(a)&&(i+="[object Array]"===Object.prototype.toString.call(Y.default.globalCtx[a])?"&"+a+"="+encodeURIComponent(JSON.stringify(Y.default.globalCtx[a])):"&"+a+"="+encodeURIComponent(Y.default.globalCtx[a]))}catch(e){console.log("Error adding global context when making model query, the query will still proceed fine")}i+=e.max?"&max="+encodeURIComponent(e.max):"",i+=e.name?"&w="+encodeURIComponent(e.name):"",i+=Y.default.sdk.requestFields?"&f="+encodeURIComponent(JSON.stringify(Y.default.sdk.requestFields)):"",i+=Y.default.sdk.arrayRequestFields?"&arf="+encodeURIComponent(JSON.stringify(Y.default.sdk.arrayRequestFields)):"",i+=Y.default.sdk.mandatoryRequestFields&&Y.default.sdk.mandatoryRequestFields.length>0?"&mf="+encodeURIComponent(JSON.stringify(Y.default.sdk.mandatoryRequestFields)):"",i+=Y.default.sdk.mandatoryArrayRequestFields&&Y.default.sdk.mandatoryArrayRequestFields.length>0?"&marf="+encodeURIComponent(JSON.stringify(Y.default.sdk.mandatoryArrayRequestFields)):"";try{ue.default.hasStorageEnabled()&&(Y.default.shown.active&&Y.default.longHist.active?i+="&exc="+JSON.stringify(JSON.parse(ue.default.getLongHist()).concat(JSON.parse(ue.default.getFrequent()))):Y.default.longHist.active?i+="&exc="+JSON.stringify(JSON.parse(ue.default.getLongHist())):Y.default.shown.active&&(i+="&exc="+JSON.stringify(JSON.parse(ue.default.getFrequent()))),Y.default.longHist.active||ue.default.removeItem(Y.default.longHistKey),Y.default.shown.active||ue.default.removeItem(Y.default.shown.freqCapKey))}catch(e){console.log("LI: Error when trying to add some storage data into query, continuing anyway. Contact support@liftigniter.com if you notice this, including information on your browser."),console.log("LI: Error details",e)}i+=Y.default.sdk.requestFieldsAON?"&fa="+encodeURIComponent(Y.default.sdk.requestFieldsAON):"",i+=Y.default.sdk.getQueryInfo?"&gqi="+encodeURIComponent(Y.default.sdk.getQueryInfo):"";for(var s in e.opts)e.opts.hasOwnProperty(s)&&(i+="object"==typeof e.opts[s]?"&"+s+"="+encodeURIComponent(JSON.stringify(e.opts[s])):"&"+s+"="+encodeURIComponent(e.opts[s]));i+=n,ke.default.thirdPartyFetchNoCookies(i,0,r,o)}function T(e,t){function n(e){13==e.which&&se.default.send("search_enter",{source:t,q:e.target.value})}var r=document.querySelector(e);r.addEventListener("keypress",n,!1)}function I(e){return[].concat.apply([],e.map(function(e){var t=Array.prototype.slice.call(e.querySelectorAll("a"));return"A"!=(e.tagName||e.nodeName||"")&&0!=t.length||t.push(e),t}))}function S(e,t){return I(e).map(function(e){return Y.default.trackingTransURL(e.href)}).filter(function(e){return t.test(e)}).slice(0,50)}function C(e,t,n,r,o,i){var a=o.type||"widget",s=(o.page||"",c(o)),l=function(){if(he.default.isElementVisible(e)&&!Ce[s]){try{if(window.performance&&window.performance.now){if(pe.default.timing.visibleTimes&&pe.default.timing.visibleTimes[t]&&(0|window.performance.now())-pe.default.timing.visibleTimes[t]<500)return void console.log("Duplicate widget_visible event detected for the widget "+t+" firing within "+((0|window.performance.now())-pe.default.timing.visibleTimes[t])+" ms of the original event");pe.default.timing.visibleTimes[t]=0|window.performance.now(),o.st=pe.default.timing.shownTimes[t]||0,o.tss=(pe.default.timing.visibleTimes[t]||0)-(pe.default.timing.shownTimes[t]||0)}}catch(e){console.log("Encountered unexpected error when adding performance information to visible event: ",e)}i&&alert("visible for "+t+":"+r.source),se.default.send(a+"_visible",re.default.mergeMap(re.default.mergeMap(r,o),{vi:JSON.stringify(n)})),Ce[s]=!0,Y.default&&Y.default.shown&&Y.default.shown.active&&ue.default.storeVisibleElements(n.slice(0,Y.default.shown.vizCap))}};l(),ie.default.addEvent(Ie,"DOMContentLoaded",x(l,250,!0)),ie.default.addEvent(Ie,"load",x(l,250,!0)),ie.default.addEvent(Ie,"resize",x(l,250,!0)),ie.default.addEvent(Ie,"scroll",x(l,250,!0)),setTimeout(l,500)}function _(e){if(e){e.name||(console.log("LI: specify the widget name on tracking function. Setting widget name to default-widget by default"),e.name="default-widget"),"function"==typeof Y.default.sdk.customTrackFunc&&Y.default.sdk.customTrackFunc(e);var t=e.params||{},n=o(e,"name","string"),r=o(e,"source","string"),a=e.opts||{};if(!r){var s="Error in calling LiftIgniter track function; no source parameter specified. The tracking will not be executed and the associated widget_shown, widget_vidible, and widget_click events will not fire";return se.default.send("widget_tracking_error",re.default.mergeMap(a,{errs:"source parameter not specified in track function, so not tracking this widget"})),console.log(s),void(pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.widget_tracking_error=s))}var l=e.elements;if(!(l&&l.length&&l.length>0)){var s="Error in calling LiftIgniter track function. There appear to be no elements to track";return se.default.send("widget_tracking_error",re.default.mergeMap(a,{errs:"No elements to track, so not executing the track function"})),console.log(s),void(pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.widget_tracking_error=s))}l=Array.prototype.slice.call(l);var u=i(),c=S(l,new RegExp(u.itemRegex)||/.*/),d=[];c.forEach(function(e){d.indexOf(e)<0&&d.push(Y.default.trackingTransURL(e))});var f=a.type||"widget";if(a.tType=f,a.source=r,a.w=n,1==d.length&&Y.default.sdk.checkIfVisibleItemsOnlyCurrentUrl){var p=(d[0]||"").split("?")[0].split("#")[0];if(p==Y.default.currentUrl.split("?")[0].split("#")[0]){var s="For the widget "+n+" and source "+r+", the only tracked href in the recommendation area is the same as the current url. This could mean either (a) a rendering error, where your links are pointing to the current page, namely "+Y.default.currentUrl+" rather than to the intended recommended pages. This is usually due to an error in your template; or (b) a use of on-click overrides. Our tracking function uses the actual hrefs, so in the case of on-click overrides, our track function will not work";se.default.send("current_item_tracked",re.default.mergeMap(a,{errs:"Only tracked visible item equals the current item. Tracking is likely incorrect"})),console.log(s),pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.widget_tracking_error=s)}}else if(Y.default.sdk.checkIfVisibleItemsIncludeCurrentUrl)try{var g=d.map(function(e){return e.split("?")[0].split("#")[0]});if(g.indexOf(Y.default.currentUrl.split("?")[0].split("#")[0])>-1){var s="For the widget "+n+" and source "+r+", the current url, namely "+Y.default.currentUrl+", is one of the tracked hrefs, but not the only one. For a typical implementation, it should not be among the tracked hrefs at all, because you don't want to recommend a page as a recommendation on itself! Please check your rendering and tracking logic to check that you are linking to the intended recommended item and not to the current url";se.default.send("current_item_tracked",re.default.mergeMap(a,{errs:"One of the tracked visible items equals the current item. Tracking is likely incorrect"})),console.log(s),pe.default&&pe.default.errorMessagesByEventType&&(pe.default.errorMessagesByEventType.widget_tracking_error=s)}}catch(e){console.log("Unexpected error when checking for visible items duplicating current item, but continuing: ",e)}try{window.performance&&window.performance.now&&(pe.default.timing.shownTimes[n]=0|window.performance.now(),a.st=pe.default.timing.shownTimes[n])}catch(e){console.log("Unexpected error when recording the current time",e)}"search"!=f?(pe.default&&pe.default.shownSourceMap&&r&&(pe.default.shownSourceMap[r]=(pe.default.shownSourceMap[r]||0)+1),pe.default&&pe.default.shownWidgetMap&&n&&(pe.default.shownWidgetMap[n]=(pe.default.shownWidgetMap[n]||0)+1),se.default.send(f+"_shown",re.default.mergeMap(a,{vi:JSON.stringify(d)}))):e.q&&(a.q=e.q),"widget"===f&&l[0]&&C(l[0],n,d,a,a,e._debug);var h=I(l),m=t.tagPrefix?t.tagPrefix:"li",y=t.noTag||Y.default.noTag||!1,v=t.noClick||!1;h.forEach(function(t){y||de.default.tagAnchor(t,a,m),v||de.default.trackAnchor(t,a,re.default.mergeMap(a,{vi:JSON.stringify(d)}),e._debug)}),_e[n]=!0}}function x(e,t,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}}function E(e){var t=re.default.djb2HashCode(Y.default.uid||0);if(!e||"function"!=typeof e){if(e){var n=o(e,"callback","function");return n?n(t):(elseTe,t)}return t}e(t)}function R(e,t,n,r){var o=r||["{{","}}"];V.default.parse(e,o);var i=V.default.render(e,t);return"function"==typeof n?n(i):i}function M(e){var t=i();"function"==typeof t.render?t.render(e):console.log("LI: Custom widget not defined.")}function O(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.requestFields=e:console.error("LI: Error setting request fields: input is not an array.")}function D(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.arrayRequestFields=e:console.error("LI: Error setting array request fields: input is not an array.")}function U(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.mandatoryRequestFields=e:console.error("LI: Error setting mandatory request fields: input is not an array.")}function L(e){"[object Array]"===Object.prototype.toString.call(e)?Y.default.sdk.mandatoryArrayRequestFields=e:console.error("LI: Error setting mandatory array request fields: input is not an array.")}function N(e){"boolean"==typeof e?Y.default.sdk.requestFieldsAON=e:console.error("LI: Error setting request fields all or nothing: input is not a boolean.")}function A(e){"boolean"==typeof e?Y.default.sdk.getQueryInfo=e:console.error("Error changing setting on getting query info: input is not a boolean.")}function q(e){"boolean"==typeof e?Y.default.noTag=e:console.error("Error setting noTag: input is not a boolean.")}function H(e,t){var n=Array.prototype.slice.call(Ie.querySelectorAll(e)),r=t||{st:0};return r.e=r.e||n.length,
n.slice(r.st,r.e)}function j(e,t,n,r,o){var i,a=o||{};if(a.fullRender){var s=Ie.querySelector(a.topLevelCss);s.innerHTML=V.default.render(r,{items:n}),i=H(e,a.replaceRange)}else{i=H(e,a.replaceRange);for(var l=Math.min(i.length,n.length),u=0;u<l;++u)if(a.outer){var c=Ie.createElement("div");c.innerHTML=V.default.render(r,n[u]),i[u].parentNode.replaceChild(c.firstChild,i[u])}else i[u].innerHTML=V.default.render(r,n[u]);a.outer&&(i=H(e,a.replaceRange))}_({elements:i,name:t,source:"LI",params:{tagPrefix:a.tagPrefix,noTag:a.noTag}}),a["on-load"]&&eval.call(Te,a["on-load"])}function P(e,t,n,r,o,i,a){i=i||{},d({max:e,widget:n,callback:function(e){function o(){i.preproc&&(l=Te[i.preproc](l)),j(t,n,l,r,i)}function s(){var e=i.fullRender?i.topLevelCss:t;return Ie.querySelectorAll(e).length>0}var l=e.items,u=a||s;ie.default.doWhenReady(u,o)},opts:o||{}})}function K(e,t,n,r){function o(){var t=i.fullRender?i.topLevelCss:e;return Ie.querySelectorAll(t).length>0}var i=n||{},a=r||o;ie.default.doWhenReady(a,function(){var n=H(e,i.replaceRange);_({elements:n,name:t,source:"base",params:{tagPrefix:i.tagPrefix,noTag:i.noTag}})})}function F(){if(Te.location.search.indexOf("igniter_abhash")!=-1){var e=parseInt(Z.default.getParam("igniter_abhash"));if(!isNaN(e)&&e<100&&e>=0)return e}return E()%100}function B(e){if(e){var t=o(e,"callback","function");if(t)return t(F())}}function W(){if(Te.location.search.indexOf("ig_exp_hash")!=-1){var e=parseInt(Z.default.getParam("ig_exp_hash"));if(!isNaN(e)&&e<100&&e>=0)return e}}function J(e){if(Y.default.inventory.collect)return void console.log("LI: Default scraping is turned on. Turn off automatic scraping");var t=e||{},n=Y.default.inventory.mandatoryFeatures,r=Y.default.inventory.inventoryServer+"/"+Y.default.inventory.inventoryApiVersion+"/__inventory.gif?"+Z.default.basicParam(),o=!1;for(var i in t)if(t.hasOwnProperty(i)){var a=typeof t[i];if("string"===a||"number"===a)t[i]=t[i];else if(void 0===t[i])console.log("LI: A field is undefined. Removing the field"),delete t[i];else{if(!(t[i].length>=0))throw"LI: LI only accepts String, Number, or array of Strings for object values";o=!0}}for(var s=0;s<n.length;s++)if(!t[n[s]])throw"LI: You are missing the following feature for your metadata: "+n[s];if(void 0!==t&&Object.keys(t).length>1){r+="&item="+encodeURIComponent(JSON.stringify(t)),r+=void 0===Y.default.inventory.version?"":"&ver="+Y.default.inventory.version;var l=new Image;l.src=r}}function G(e){return Y.default.sdk.manualHist?e instanceof Array?void(Y.default.sdk.manualHist=e):void console.log("LI: Given argument is not an array."):void console.log("LI: Turn off the automatic history tracking")}function z(e){Y.default.customContext=e}Object.defineProperty(t,"__esModule",{value:!0});var Q=n(19),V=r(Q),$=n(2),Y=r($),X=n(11),Z=r(X),ee=n(9),te=r(ee),ne=n(3),re=r(ne),oe=n(8),ie=r(oe),ae=n(10),se=r(ae),le=n(6),ue=r(le),ce=n(18),de=r(ce),fe=n(16),pe=r(fe),ge=n(20),he=r(ge),me=n(5),ye=r(me),ve=n(17),we=r(ve),be=n(23),ke=r(be),Te=window,Ie=document,Se=re.default.size,Ce={},_e={};t.default={getWidgetNames:l,register:d,fetch:v,resetPageview:g,monitorSearch:T,track:_,userHash:E,render:R,renderCustomWidget:M,setRequestFields:O,setArrayRequestFields:D,setMandatoryRequestFields:U,setMandatoryArrayRequestFields:L,setRequestFieldsAON:N,setGetQueryInfo:A,setNoTag:q,isActivated:s,addRecsHelper:P,userCallback:p,baseTrack:K,abSlice:F,abTestSlice:B,sendItem:J,setHist:G,setContext:z,debounce:x},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r){function o(e){var t=e.target;200===t.status?n(JSON.parse(t.responseText)):r(t.status,t.responseText)}function i(){r(-2,"client timeout")}function s(e){var t=e.target;r(t.status,"network error")}if("string"!=typeof e)throw Error("url must be string");if(null==t||!(t>=0))throw Error("Timeout must be non-negative number. 0 means no timeout.");if("function"!=typeof n)throw Error("Expected successCallback to be function");if("function"!=typeof r)throw Error("Expected errorCallback to be function");var l="undefined"==typeof XMLHttpRequest?null:new XMLHttpRequest;if(null==l||void 0===l.withCredentials){var u=function(){var o=document.createElement("script"),s="igniter_"+a.default.generateUUID().replace(/-/g,""),l=!1,u=0==t?null:setTimeout(function(){l||(l=!0,i())},t);return window[s]=function(e){l||(l=!0,null!=u&&clearTimeout(u),n(e)),o.parentNode.removeChild(o)},o.async=o.defer=!0,o.src=e+(e.indexOf("?")>=0?"&":"?")+"jsonp="+s,o.onerror=function(e){l||(l=!0,clearTimeout(u),r(-3,"Jsonp script failed to load")),o.parentNode.removeChild(o)},document.head.appendChild(o),{v:void 0}}();if("object"==typeof u)return u.v}l.open("GET",e,!0),l.onload=o,l.ontimeout=i,l.onerror=s,l.timeout=t;try{l.send()}catch(e){r(-1,e.name+": "+e.message+(null!=e.description?" "+e.description:""))}}Object.defineProperty(t,"__esModule",{value:!0}),t.thirdPartyFetchNoCookies=o;var i=n(3),a=r(i);t.default={thirdPartyFetchNoCookies:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(e,t){}var n=e.query||a.default.search.defaultQuery,r=a.default.jsKey,o=e.max||a.default.search.max,i=e.off||a.default.search.off,s=e.requestFields||a.default.search.requestFields,u=a.default.search.queryServer;if(!r)return void console.log("LI: Client isn't initialized. Load the JavaScript Key");var d=u+"/v1/search?";d+=l.default.forCurrentExample(),d+="&q="+encodeURIComponent(n),d+="&smx="+encodeURIComponent(o),d+="&sf="+encodeURIComponent(JSON.stringify(s)),d+="&sof="+encodeURIComponent(i);for(var f in e.opts)e.opts.hasOwnProperty(f)&&(d+="object"==typeof e.opts[f]?"&"+f+"="+encodeURIComponent(JSON.stringify(e.opts[f])):"&"+f+"="+encodeURIComponent(e.opts[f]));(0,c.thirdPartyFetchNoCookies)(d,0,function(t){return e.callback(t,e)},t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=r(i),s=n(11),l=r(s),u=n(3),c=(r(u),n(23));window;t.default={search:o},e.exports=t.default},function(e,t){"use strict";function n(e,t,n){d=t,f=n;var r={response:"success",message:"init",identifier:e.identifier||0,scrollWidth:document.body.scrollWidth,scrollHeight:document.body.scrollHeight,clientWidth:document.body.clientWidth,clientHeight:document.body.clientHeight,offsetWidth:document.body.offsetWidth,offsetHeight:document.body.offsetHeight};d.postMessage(r,f)}function r(e){var t=e.anchor,n=document.querySelector(t),r={response:"success",message:"anchor",identifier:e.identifier||0,scrollWidth:n.scrollWidth,scrollHeight:n.scrollHeight,clientWidth:n.clientWidth,clientHeight:n.clientHeight,offsetWidth:n.offsetWidth,offsetHeight:n.offsetHeight,html:n.innerHTML.toString()};d.postMessage(r,f)}function o(e){var t=e.anchor,n=document.querySelector(t),r=Object.assign({},n.style);Object.keys(e.style).forEach(function(t){console.log(t),n.style[t]=e.style[t]});var o={response:"success",message:"highlight",identifier:e.identifier||0,prevStyle:r};d.postMessage(o,f)}function i(e){var t={message:"listenEvent",identifier:p,selector:u(e.target),event:"mouseOver"};p+=1,d.postMessage(t,f)}function a(e){var t={message:"listenEvent",identifier:p,selector:u(e.target),event:"mouseOut"};p+=1,d.postMessage(t,f)}function s(e){var t={message:"listenEvent",identifier:p,selector:u(e.target),event:"onClick"};p+=1,d.postMessage(t,f)}function l(e){1==e.on?document.addEventListener?(p=0,document.addEventListener("mouseover",i,!0),document.addEventListener("mouseout",a,!0),document.addEventListener("click",s,!0)):document.attachEvent&&(p=0,document.attachEvent("mouseover",i),document.attachEvent("mouseout",a),document.attachEvent("click",s)):0==e.on&&(document.removeEventListener?(document.removeEventListener("mouseover",i,!0),document.removeEventListener("mouseout",a,!0),document.removeEventListener("click",s,!0)):document.detachEvent&&(document.detachEvent("mouseover",i),document.detachEvent("mouseout",a),document.detachEvent("click",s)));var t={response:"success",message:"listen",identifier:e.identifier||0};d.postMessage(t,f)}function u(e){for(var t,n,r,o,i,a,s,l,u=0,c=0,d="",f=[];e&&(i=0,t=e.nodeName.toLowerCase(),n=!!e.id&&"#"+e.id,r=e.className?"."+e.className.replace(/\s+/g,"."):"",n?o=t+n+r:r?o=t+r:(i=1,o=t),f.unshift(o),!n||u);)e=e.parentNode!==document&&e.parentNode;for(s=0;s<f.length;s++)if(d+=" "+f[s],c&&!f[s].match(/#/)&&!f[s].match(/^(html|body)$/)&&(!f[s].match(/\./)||$(d).length>1)){for(a=1,l=e;l.previousElementSibling;l=l.previousElementSibling,a++);d+=":nth-child("+a+")"}return d.replace(/^[ \t]+|[ \t]+$/,"")}function c(){var e=function(){function e(e){if(("http://console.liftigniter.com"===e.origin||"https://console.liftigniter.com"===e.origin)&&"message"in e.data)switch(e.data.message){case"init":n(e.data,e.source,e.origin);break;case"anchor":r(e.data);break;case"highlight":o(e.data);break;case"listen":l(e.data)}}try{window.addEventListener("message",e,!1)}catch(e){}};window.addEventListener?window.addEventListener("load",e):window.attachEvent("onload",e)}Object.defineProperty(t,"__esModule",{value:!0});var d,f,p;t.default={startTunnel:c},e.exports=t.default}]);