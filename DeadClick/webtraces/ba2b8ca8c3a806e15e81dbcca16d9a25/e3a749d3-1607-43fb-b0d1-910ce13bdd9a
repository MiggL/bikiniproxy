!function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=8)}([function(e,t,r){"use strict";e.exports={_mediaFileIsVPAID:!1,_VPAIDProxyTarget:null,_started:!1,_isSkipping:!1,_skip:!1,_skipdelay:0,_stopped:!1,_error:[],adLinear:!0,adWidth:0,adHeight:0,adExpanded:!1,adSkippableState:!1,adRemainingTime:0,adDuration:0,adVolume:0,adMuted:!1,adCompanions:"",adIcons:!1,protocol:"https",adChoice:null}},function(e,t,r){"use strict";for(var i=void 0,n=[window.location.href,document.currentScript?document.currentScript.src:""],o=0;o<n.length&&!(i=-1!==n[o].indexOf("vpaiddebug=1"));o+=1);var s={log:function(){},info:function(){},warn:function(){},error:function(){}};i&&["log","info","warn","error"].forEach(function(e){s[e]=function(){for(var t,r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];i.unshift("[com.rubiconproject.vpaid]"),(t=console)[e].apply(t,i)}}),e.exports=s},function(e,t,r){"use strict";e.exports={loaded:"AdLoaded",started:"AdStarted",stopped:"AdStopped",skipped:"AdSkipped",skippableStateChange:"AdSkippableStateChange",sizeChange:"AdSizeChange",linearChange:"AdLinearChange",durationChange:"AdDurationChange",expandedChange:"AdExpandedChange",remainingTimeChange:"AdRemainingTimeChange",volumeChange:"AdVolumeChange",impression:"AdImpression",videoStart:"AdVideoStart",videoFirstQuartile:"AdVideoFirstQuartile",videoMidpoint:"AdVideoMidpoint",videoThirdQuartile:"AdVideoThirdQuartile",videoComplete:"AdVideoComplete",clickThru:"AdClickThru",interaction:"AdInteraction",userAcceptInvitation:"AdUserAcceptInvitation",userAcceptInvitationLinear:"AdUserAcceptInvitationLinear",userMinimize:"AdUserMinimize",userClose:"AdUserClose",userCloseLinear:"AdUserCloseLinear",paused:"AdPaused",playing:"AdPlaying",log:"AdLog",_error:"@@__private:__internal_error__@@",error:"AdError"}},function(e,t,r){"use strict";var i=r(14).EventEmitter,n=r(1),o=new i;o.emit=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.log('<== "'+t[0]+'"',t.slice(1)),i.prototype.emit.apply(o,t)},e.exports=o},function(e,t,r){"use strict";function i(e,t){function r(){o.log('|+ tracker "'+t+'" successful: '+e.url),n[s]=!a}function i(r){r&&setTimeout(function(){o.error('|X tracker "'+t+'" failed: '+e.url,r)},0),n[s]=!a}if(""!==e.url){var s=n.length,a=!1;n[s]=a;var c=Image&&new Image;c.onload=r,c.onerror=i,c.onabort=i,o.log('|- tracker "'+t+'" fired: '+e.url),c.src=e.url}}var n=r(6),o=r(1);e.exports=i},function(e,t){function r(e,t,r,i,n){if(""===n.statusText){var o=f.XMLHttpRequest();o.onreadystatechange=function(){4===o.readyState&&(200===o.status?null!==o.responseXML?r(o.responseXML,t):i(o,t):404===o.status?(o.errorCode="401",i(o,t)):i(o,t))},o.open("GET",e,!0),f.onBeforeSend(e,t,o),o.withCredentials=!1,o.send(null)}else"OK"!==n.statusText?(n.errorCode="401",i(n,t)):i(n,t)}function i(e,t,i,n){var o=f.XMLHttpRequest();o.onreadystatechange=function(){4===o.readyState&&(200===o.status&&null!==o.responseXML?i(o.responseXML,t):r(e,t,i,n,o))},o.open("GET",e,!0),f.onBeforeSend(e,t,o),o.send(null)}function n(e,t,r,n){var o="Reached abort limit of ("+f.defaultVASTAbortLimit+") wrappers.";r=r||function(){};var s=(!n&&0===f.defaultVASTAbortLimit||n&&0===n.abortLimit)&&(r(new Error(o))||!0);s&&setTimeout(function(){"undefined"==typeof buster&&("warn"in console?console.warn(o):console.log(o))},0);return void(s||i(e,null,function(e){try{new a(e,t,r,n)}catch(e){console.error(e.toString());for(var i=e.stack.split(/\n/),o=0;o<i.length;o++){var s=i[o];s=s.replace("[arguments not available]",""),s=s.replace(/http:\/\/.*?resources\//,""),console.debug("\t"+s)}e&&void 0!==e&&e.errorCode&&void 0!==e.errorCode||(e.errorCode="403"),r(e,n)}},function(t){console.error("Failed to load VAST from '"+e+"':",t),t&&void 0!==t&&t.errorCode&&void 0!==t.errorCode||(t.errorCode="100"),r(t,n)}))}function o(e,t){var r;if(this.events={},this.ad=t,null!==e){if(t.impressions.length)for(r=0;r<t.impressions.length;r++)this.addImpressionTracking(t.impressions[r]);if(t.errors.length)for(r=0;r<t.errors.length;r++)this.addErrorTracking(t.errors[r]);if("TrackingEvents"!==e.tagName){if(e=e.getElementsByTagName("TrackingEvents"),1!==e.length)return;e=e.item(0)}var i=e.getElementsByTagName("Tracking");for(r=0;r<i.length;r++){var n=i[r].getAttribute("event");if(n){var o=null;"progress"===n&&(o=i[r].getAttribute("offset"),n+="-"+o),this.events[n]=this.events[n]||[];var s={url:i[r].textContent.replace(/\s/g,""),offset:o,event:n};this.events[n].push(s)}}}}function s(e,t,r){this.breaks=[];var s=this;i(e,null,function(e){for(var i=e.getElementsByTagNameNS(m,"AdBreak"),c=[],u=0;u<i.length;u++){var l=i.item(u),d=l.getAttribute("timeOffset");if(0!==d.indexOf("#")){var h={ad:null,breakId:l.getAttribute("breakId"),tracking:new o(l,null),position:d},p=t.bind(s,s.breaks.length,d),f=l.getElementsByTagNameNS(m,"VASTData");if(f)h.ad=new a(f.item(0).getElementByTagName(null,"VAST").item(0),p);else{var g=l.getElementsByTagNameNS(m,"AdTagURI");if(!g){console.error("No supported ad target for break #"+u);continue}var v;!function(e){v=function(t){e.ad=t,null!==t&&p(t)}}(h),n(g.item(0).textContent.replace(/\s/g,""),v)}s.breaks.push(h),c.push(h.position)}}"function"==typeof r&&r(c)},function(t,i){console.error("Failed to load VMAP from '"+e+"':",t),r([])})}function a(e,t,r,i){this.ads=[],this.onAdsAvailable=t,this.onAdsError=r,this.onReceivedErrorCounter=0;var o={};o.errorCode="101";var s=e.getElementsByTagNameNS("*","Ad"),a=this;if(0===s.length)return void r();for(var u=function(e,t){if(++a.onReceivedErrorCounter===s.length)return void r(e,t)},l=0;l<s.length;l++){var d=new c(this,s.item(l),i||null);if(d.isEmpty())u(o,i);else if(this.ads.push(d),!d.hasData()||d.hasSequence()&&!d.isNumber(1)){var h=s.item(l).getElementsByTagName("Wrapper").item(0),p=h.getElementsByTagName("VASTAdTagURI");if(0===p.length){u(o,i);continue}p=p.item(0).textContent.replace(/\s/g,"");var m,f="true"===h.getAttribute("allowMultipleAds");!function(e,t,r){m=function(i){if(e.onLoaded(i,t),r.onAdsAvailable){var n=r.onAdsAvailable;r.onAdsAvailable=null,n.call(r,r)}}}(d,f,a),n(p,m,u,d)}else if(t){var g=this.onAdsAvailable;this.onAdsAvailable=null,g.call(this,this)}}}function c(e,t,r,i){this.vast=e,this.pod=e,this.parentAd=r,this.onAdAvailable=i,this.abortLimit=r?r.abortLimit>0?r.abortLimit-1:r.abortLimit:f.defaultVASTAbortLimit,this.sequence=null,this.hasContent=!0,this.loaded=!0,this.linear=null,this.companions=[],this.companionsRequired="none",this.nonlinears=[],this.nonlinearsTracking=null,this.errors=[],this.impressions=[],this.extensions=[],this.currentPodAd=this,this.sentError=!1,this.sentImpression=!1,this.properties={};var n,s;if(null!==this.parentAd){var a=this.parentAd;if(this.companionsRequired=a.companionsRequired,this.linear=a.linear?a.linear.copy(this):null,a.companions.length)for(n=0;n<a.companions.length;n++)this.companions.push(a.companions[n].copy(this));if(a.extensions.length)for(n=0;n<a.extensions.length;n++)this.extensions.push(a.extensions[n]);if(a.nonlinears.length)for(n=0;n<a.nonlinears.length;n++)this.companions.push(a.nonlinears[n].copy(this));null!==a.nonlinearsTracking&&(this.nonlinearsTracking=a.nonlinearsTracking.copy(this));for(s in a.properties)a.properties.hasOwnProperty(s)&&(this.properties[s]=a.properties[s])}null===this.nonlinearsTracking&&(this.nonlinearsTracking=new o(null,this)),t.hasAttribute("sequence")&&(this.sequence=parseInt(t.getAttribute("sequence"),10));var c=t.getElementsByTagName("Extensions");if(0!==c.length){var u=c[0].getElementsByTagName("Extension");if(u.length)for(n=0;n<u.length;n++)if("com.rubiconproject.data"===u[n].getAttribute("name")&&"Value"===u[n].getAttribute("type")){var d=u[n].getElementsByTagName("ImpressionId");if(d.length){var m=d[0].childNodes.length&&d[0].childNodes[0].nodeValue;this.extensions.push({impressionId:m})}}}var g=t.getElementsByTagName("InLine");if(0===g.length&&(this.loaded=!1,g=t.getElementsByTagName("Wrapper"),0===g.length))return void(this.hasContent=!1);g=g.item(0);for(var v=g.firstChild;null!==v;){if(1===v.nodeType)switch(v.tagName){case"Creatives":case"InLine":case"Wrapper":case"Impression":case"VASTAdTagURI":case"Error":break;default:this.properties[v.tagName]=v.textContent.replace(/^\s*|\s*$/g,"")}v=v.nextSibling}this.parentAd&&this.parentAd.impressions.length&&(this.impressions=this.parentAd.impressions);var y=g.getElementsByTagName("Impression");for(n=0;n<y.length;n++)this.impressions.push(y.item(n).textContent.replace(/\s/g,""));this.parentAd&&this.parentAd.errors.length&&(this.errors=this.parentAd.errors);var b=g.getElementsByTagName("Error");for(n=0;n<b.length;n++)this.errors.push(b.item(n).textContent.replace(/\s/g,""));var A=g.getElementsByTagName("Creatives");if(0!==A.length)for(A=A.item(0).getElementsByTagName("Creative"),n=0;n<A.length;n++){for(var T=A.item(n).firstChild;null!==T&&3===T.nodeType;)T=T.nextSibling;if(null!==T){var k;switch(T.tagName){case"Linear":k=new l(this,T),this.linear?this.linear.augment(k):this.linear=k;break;case"CompanionAds":T.hasAttribute("required")&&(this.companionsRequired=T.getAttribute("required"));case"NonLinearAds":var w=T.tagName.replace("Ads",""),E="Companion"===w?h:p,C="Companion"===w?this.companions:this.nonlinears;if("NonLinear"===w){var _=new o(T,this);this.nonlinearsTracking.augment(_)}for(var x=C.length,S=T.getElementsByTagName(w),I=0;I<S.length;I++){for(k=new E(this,S.item(I)),s=0;s<x;s++){var L=C[s],P=L.attribute("id",k.attribute("id"))===k.attribute("id",L.attribute("id")),N=L.attribute("width",k.attribute("width"))===k.attribute("width",L.attribute("width")),V=L.attribute("height",k.attribute("height"))===k.attribute("height",L.attribute("height")),O=void 0!==L.attribute("id")&&void 0!==k.attribute("id"),R=void 0!==L.attribute("width")&&void 0!==k.attribute("width"),M=void 0!==L.attribute("height")&&void 0!==k.attribute("height");if(P&&N&&V&&(O||R||M)){L.augment(k),k=null;break}}null!==k&&C.push(k)}}}}}function u(e,t){this.root=t,this.clickThrough=null,"NonLinear"===t.tagName&&(t=t.parentNode),this.tracking=new o(t,e)}function l(e,t){u.call(this,e,t),this.mediaFiles=[],this.clickThrough=null,this.duration=null,this.adParameters=null,this.icons=[];var r,i=t.getElementsByTagName("VideoClicks");if(i.length){i=i.item(0);var n=i.getElementsByTagName("ClickThrough");for(n.length&&(this.clickThrough=n.item(0).textContent.replace(/\s/g,"")),n=i.getElementsByTagName("ClickTracking"),r=0;r<n.length;r++)this.tracking.addClickTracking(n.item(r).textContent.replace(/\s/g,""))}var o=t.getElementsByTagName("Duration");o.length&&(this.duration=this.timecodeFromString(o.item(0).textContent.replace(/\s/g,"")));var s=t.getElementsByTagName("AdParameters");s.length&&(this.adParameters=s.item(0).textContent);var a=t.getElementsByTagName("MediaFiles");if(a.length){for(a=a.item(0).getElementsByTagName("MediaFile"),r=0;r<a.length;r++){for(var c=a.item(r),l={},d=0;d<c.attributes.length;d++)l[c.attributes[d].name]=c.attributes[d].value;l.src=a.item(r).textContent.replace(/\s/g,""),this.mediaFiles.push(l)}var h=t.getElementsByTagName("Icons");if(void 0!=h&&h.length>0)for(h=h.item(0).getElementsByTagName("Icon"),r=0;r<h.length;r++){var p=h.item(r),m={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null};if(m.program=p.getAttribute("program"),m.height=void 0!=p.getAttribute("height")?parseInt(p.getAttribute("height"),10):0,m.width=void 0!=p.getAttribute("width")?parseInt(p.getAttribute("width"),10):0,m.xPosition=this.parseXPosition(p.getAttribute("xPosition")),m.yPosition=this.parseYPosition(p.getAttribute("yPosition")),m.apiFramework=p.getAttribute("apiFramework"),m.offset=this.parseDuration(p.getAttribute("offset")),m.duration=this.parseDuration(p.getAttribute("duration")),htmlElement=p.getElementsByTagName("HTMLResource"),void 0!=htmlElement&&htmlElement.length>0&&(m.type=void 0==htmlElement[0].getAttribute("creativeType")?"text/html":htmlElement[0].getAttribute("creativeType"),m.htmlResource=this.parseNodeText(htmlElement[0])),iframeElement=p.getElementsByTagName("IFrameResource"),void 0!=iframeElement&&iframeElement.length>0&&(m.type=void 0==iframeElement[0].getAttribute("creativeType")?"0":iframeElement[0].getAttribute("creativeType"),m.iframeResource=this.parseNodeText(iframeElement[0])),staticElement=p.getElementsByTagName("StaticResource"),void 0!=staticElement&&staticElement.length>0&&(m.type=void 0!=staticElement[0]&&void 0==staticElement[0].getAttribute("creativeType")?"0":staticElement[0].getAttribute("creativeType"),m.staticResource=this.parseNodeText(staticElement[0])),iconClickElements=p.getElementsByTagName("IconClicks"),iconClickElements&&iconClickElements.length>0){iconClickThroughElem=iconClickElements[0].getElementsByTagName("IconClickThrough"),m.iconClickThroughURLTemplate=this.parseNodeText(iconClickThroughElem[0]),iconClickTrackingElements=iconClickElements[0].getElementsByTagName("IconClickTracking");for(var f=0;f<iconClickTrackingElements.length;f++)m.iconClickTrackingURLTemplates.push(this.parseNodeText(iconClickTrackingElements[f]))}iconViewTrackingElement=p.getElementsByTagName("IconViewTracking"),m.iconViewTrackingURLTemplate=this.parseNodeText(iconViewTrackingElement[0]),this.icons.push(m)}}}function d(e,t){u.call(this,e,t),this.resources={iframe:null,html:null,images:{}};var r;r=t.getElementsByTagName("IFrameResource"),r.length>0&&(this.resources.iframe=r.item(0).textContent.replace(/\s/g,"")),r=t.getElementsByTagName("HTMLResource"),r.length>0&&(this.resources.html=r.item(0).textContent.replace(/\s/g,"")),r=t.getElementsByTagName("StaticResource");for(var i=0;i<r.length;i++)this.resources.images[r.item(i).getAttribute("creativeType")]=r.item(i).textContent.replace(/\s/g,"")}function h(e,t){d.call(this,e,t),this.altText="",d.prototype.extractClicks.call(this,"Companion");var r=t.getElementsByTagName("AltText");r.length&&(this.altText=r.item(0).textContent.replace(/\s/g,""))}function p(e,t){d.call(this,e,t),this.tracking=e.nonlinearsTracking,d.prototype.extractClicks.call(this,"NonLinear")}var a,c,l,p,h,m="http://www.iab.net/vmap-1.0",f={XMLHttpRequest:function(){return new XMLHttpRequest},onBeforeSend:function(e,t,r){},defaultVASTAbortLimit:-1};o.prototype.copy=function(e){var t=Object.create(o.prototype);t.events={};for(var r in this.events)this.events.hasOwnProperty(r)&&(t.events[r]=[].concat(this.events[r]));return t.ad=e,t},o.prototype.finger=function(e){if("object"==typeof window&&"undefined"!=typeof Image&&"undefined"==typeof buster){return void((new Image).src=e)}var t=f.XMLHttpRequest();t.open("get",e,!0),f.onBeforeSend(e,"tracking-pixel",t),t.send()},o.prototype.augment=function(e){for(var t in e.events)e.events.hasOwnProperty(t)&&(this.events[t]?this.events[t]=this.events[t].concat(e.events[t]):this.events[t]=e.events[t])},o.prototype.addClickTracking=function(e){var t={url:e,event:"click",offset:null};this.events.click?this.events.click.push(t):this.events.click=[t]},o.prototype.addImpressionTracking=function(e){if(e){var t={url:e,event:"impression",offset:null};this.events.impression?this.events.impression.push(t):this.events.impression=[t]}},o.prototype.addErrorTracking=function(e){if(e){var t={url:e,event:"error",offset:null};this.events.error?this.events.error.push(t):this.events.error=[t]}},o.prototype.getEventsOfTypes=function(e){var t=[],r=e.indexOf("progress")>-1;for(var i in this.events)this.events.hasOwnProperty(i)&&(e.indexOf(i)>-1||r&&0===i.indexOf("progress-"))&&(t=t.concat(this.events[i]));return t},o.prototype.track=function(e,t){if(this.events[e]&&0!==this.events[e].length){var r,i=[].concat(this.events[e]),n={};for(var o in t)t.hasOwnProperty(o)&&(n["["+o+"]"]=encodeURIComponent(t[o]));if("creativeView"===e){var s=this.ad;if(null!==s&&!s.hasSentImpression())for(s.impressionSent(),r=0;r<s.impressions.length;r++)i.push({url:s.impressions[r]})}var a=this;for(r=0;r<i.length;r++){for(var c=i[r],u=c.url,l=""+parseInt(99999999*Math.random(),10);8!==l.length;)l="0"+l;n["[CACHEBUSTING]"]=l;for(o in n)n.hasOwnProperty(o)&&(u=u.replace(o,n[o]));a.finger(u)}}},s.prototype.onBreakStart=function(e){return this.breaks[e].tracking.track("breakStart"),this.breaks[e].ad},s.prototype.onBreakEnd=function(e){this.breaks[e].tracking.track("breakEnd")},a.prototype.getAd=function(e){var t=null;if(e&&(t=this.getAdWithSequence(1))&&!t.current().isEmpty())return t.current();for(var r=0;r<this.ads.length;r++)if(!this.ads[r].hasSequence()&&!this.ads[r].current().isEmpty())return this.ads[r].current()},a.prototype.getAdWithSequence=function(e){for(var t=0;t<this.ads.length;t++)if(this.ads[t].isNumber(e))return this.ads[t];return null},c.prototype.getTag=function(e,t){return this.properties.hasOwnProperty(e)?this.properties[e]:t},c.prototype.onLoaded=function(e,t){this.pod=e,this.currentPodAd=e.getAd(t),this.currentPodAd.isEmpty()||(this.loaded=!0,this.onAdAvailable&&this.onAdAvailable.call(this,this))},c.prototype.hasSentImpression=function(){return this.sentImpression},c.prototype.impressionSent=function(){this.sentImpression=!0},c.prototype.hasSentError=function(){return this.sentError},c.prototype.errorSent=function(){this.sentError=!0},c.prototype.current=function(){return this.currentPodAd},c.prototype.isNumber=function(e){return this.sequence===e},c.prototype.hasSequence=function(){return null!==this.sequence},c.prototype.isEmpty=function(){return!this.hasContent},c.prototype.hasData=function(){return this.loaded},c.prototype.getNextAd=function(){return this.vast!==this.pod&&(this.currentPodAd=this.currentPodAd.getNextAd(),null!==this.currentPod)?this.currentPodAd.current():this.hasSequence()?this.vast.getAdWithSequence(this.sequence+1).current():null},c.prototype.getLinear=function(){return this.linear},c.prototype.getCompanions=function(){return this.companions},c.prototype.getCompanion=function(e){for(var t=0;t<this.companions.length;t++)if(this.companions[t].attribute("id")===e)return this.companions[t];return null},c.prototype.companionsRequired=function(){return this.companionsRequired},c.prototype.getNonLinears=function(){return this.nonlinears},u.prototype.track=function(e,t,r){this.tracking.track(e,{CONTENTPLAYHEAD:this.timecodeToString(t),ASSETURI:r})},u.prototype.timecodeToString=function(e){return("0"+parseInt(e/3600,10)+":0"+parseInt(e%3600/60,10)+":0"+e%60).replace(/(^|:|\.)0(\d{2})/g,"$1$2")},u.prototype.timecodeFromString=function(e){return-1===e.indexOf(":")?e:3600*parseInt(e.substr(0,2),10)+60*parseInt(e.substr(3,2),10)+parseInt(e.substr(6,2),10)},u.prototype.getClickThrough=function(){return this.clickThrough},u.prototype.attribute=function(e,t){if(!this.root.hasAttribute(e))return t;var r=this.root.getAttribute(e);switch(e){case"skipoffset":case"duration":case"offset":case"minSuggestedDuration":r=this.timecodeFromString(r)}return r},l.prototype=Object.create(u.prototype),l.prototype.parseDuration=function(e){return void 0==e||""==e?-1:!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):(durationComponents=e.split(":"),3!=durationComponents.length?-1:(secondsAndMS=durationComponents[2].split("."),seconds=parseInt(secondsAndMS[0],10),2==secondsAndMS.length&&(seconds+=parseFloat("0."+secondsAndMS[1])),minutes=parseInt(60*durationComponents[1],10),hours=parseInt(60*durationComponents[0]*60,10),isNaN(hours)||isNaN(minutes)||isNaN(seconds)||minutes>3600||seconds>60?-1:parseInt(hours,10)+parseInt(minutes,10)+parseInt(seconds,10)))},l.prototype.parseXPosition=function(e){return["left","right"].indexOf(e)>=0?e:void 0!=e?parseInt(e,10):0},l.prototype.parseYPosition=function(e){return["top","bottom"].indexOf(e)>=0?e:void 0!=e?parseInt(e,10):0},l.prototype.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},l.prototype.getDuration=function(){return this.duration},l.prototype.copy=function(e){var t=new l(e,this.root);return t.tracking.augment(this.tracking),t},l.prototype.augment=function(e){this.duration=e.duration||this.duration,this.adParameters=e.adParameters||this.adParameters,this.mediaFiles=e.mediaFiles.slice(0)||this.mediaFiles.slice(0),this.icons=e.icons||this.icons,this.tracking.augment(e.tracking),this.clickThrough=e.clickThrough||this.clickThrough},l.prototype.getAllMedias=function(){return this.mediaFiles},l.prototype.getBestMedia=function(e){for(var t=Number.POSITIVE_INFINITY,r=-1,i=0;i<this.mediaFiles.length;i++){var n=this.mediaFiles[i],o=Math.sqrt(Math.pow(e.width-n.width,2)+Math.pow(e.height-n.height,2));if(o<t)t=o,r=i;else if(o===t){var s=this.mediaFiles[r],a=s.bitrate||s.maxBitrate,c=n.bitrate||n.maxBitrate;c&&!a?r=i:e.bitrate&&a&&c?Math.abs(c-e.bitrate)<Math.abs(a-e.bitrate)&&(r=i):c>a&&(r=i)}}return-1===r?null:this.mediaFiles[r]};var g=["start","firstQuartile","midpoint","thirdQuartile","complete","progress","skip"];l.prototype.getTrackingPoints=function(){var e=this.tracking.getEventsOfTypes(g),t=[],r=null;void 0!==this.duration&&this.duration&&(r=this.duration);for(var i=0;i<e.length;i++){var n,o={event:e[i].event,offset:null,percentOffset:null};switch(e[i].event){case"start":o.percentOffset="0%",o.offset=0;break;case"firstQuartile":o.percentOffset="25%",r&&(o.offset=.25*r);break;case"midpoint":o.percentOffset="50%",r&&(o.offset=.5*r);break;case"thirdQuartile":o.percentOffset="75%",r&&(o.offset=.75*r);break;case"complete":o.percentOffset="100%",r&&(o.offset=r);break;case"skip":n=this.attribute("skipoffset",0),-1===n.indexOf("%")?(o.offset=u.prototype.timecodeFromString(n),r&&(o.percentOffset=o.offset/r*100+"%")):(o.percentOffset=n,r&&(o.offset=r*parseInt(o.percentOffset,10)/100));break;default:if(!(n=e[i].offset))continue;"start"===n&&(n="0%"),"end"===n&&(n="100%"),-1===n.indexOf("%")?(o.offset=u.prototype.timecodeFromString(n),r&&(o.percentOffset=o.offset/r*100+"%")):(o.percentOffset=n,r&&(o.offset=r*parseInt(o.percentOffset,10)/100))}t.push(o)}return t.sort(function(e,t){return e.offset&&t.offset?e.offset-t.offset:e.percentOffset&&t.percentOffset?parseInt(e.percentOffset,10)-parseInt(t.percentOffset,10):0}),t},d.prototype=Object.create(u.prototype),d.prototype.augment=function(e){this.tracking.augment(e.tracking),this.clickThrough=e.clickThrough||this.clickThrough,this.resources.iframe=e.resources.iframe||this.resources.iframe,this.resources.html=e.resources.html||this.resources.html;for(var t in e.resources.images)e.resources.images.hasOwnProperty(t)&&(this.resources.images[t]=e.resources.images[t])},d.prototype.getAllResources=function(){return this.resources},d.prototype.extractClicks=function(e){var t;t=this.root.getElementsByTagName(e+"ClickThrough"),t.length&&(this.clickThrough=t.item(0).textContent.replace(/\s/g,"")),t=this.root.getElementsByTagName(e+"ClickTracking"),t.length&&this.tracking.addClickTracking(t.item(0).textContent.replace(/\s/g,""))},h.prototype=Object.create(d.prototype),h.prototype.copy=function(e){return new h(e,this.root)},h.prototype.augment=function(e){d.prototype.augment.call(this,e),this.altText=e.altText||this.altText},h.prototype.getAltText=function(){return this.altText},p.prototype=Object.create(d.prototype),p.prototype.augment=function(e){d.prototype.augment.call(this,e)},p.prototype.copy=function(e){return new p(e,this.root)},t.VAST_VMAP_XHROptions=f,t.queryVAST=n},function(e,t,r){"use strict";e.exports=[]},function(e,t,r){"use strict";var i={createInvisibleIframe:function(e){var t=document.createElement("iframe");return t.id=e,t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src="about:self",t.style.display="none",t},appendElement:function(e,t){var r=t;try{r||(r=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0]),r.insertAdjacentHTML("beforeend",e.outerHTML)}catch(e){}},mergeObjects:function(){for(var e={},t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return r.forEach(function(t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}),e}};e.exports=i},function(e,t,r){e.exports=r(9)},function(e,t,r){"use strict";var i=r(10),n=r(11),o=r(12),s=r(5),a=s.VAST_VMAP_XHROptions;a.onBeforeSend=function(e,t,r){var i=[/^.*sneezy.*$/];try{console.log([n,": XHR - ",e].join(""))}catch(e){}var o=0;if("tracking-pixel"!==t){for(;o<i.length;o+=1)if(e.match(i[o]))return;r.withCredentials=!0}},a.defaultVASTAbortLimit=7,window[i]=function(){return new o}},function(e,t){e.exports="getVPAIDAd"},function(e,t){e.exports="com.rubiconproject.vpaid"},function(e,t,r){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(){}function o(){w.emit(E.volumeChange)}function s(){w.emit(E.sizeChange)}function a(){w.emit(E.paused)}function c(){w.emit(E.playing)}function u(e,t){var r=t;if(null!==e&&void 0!==e&&!e.hasSentError()){e.errorSent(),void 0===r&&(r="900");for(var i=0;i<e.errors.length;i+=1)e.errors[i]=e.errors[i].replace(/\[ERRORCODE\]/i,r),V({url:e.errors[i]},E._error)}}function l(e){var t=this.adParameters.query_parameters,r=[].concat(i(e),[t.account_id,t.site_id,t.zone_id,t.size_id]);try{var n=this.adParameters.stats_base_url,o=r.join("/"),s=n+o;q&&(s+=["/",q].join("")),V({url:s},"sassy "+r[0])}catch(e){}}function d(){if(this.adParameters&&this.adParameters.query_parameters){if(null!==this.adParameters.emily_accts&&this.adParameters.emily_accts.indexOf(this.adParameters.query_parameters.account_id)>-1){var e={accountId:this.adParameters.query_parameters.account_id,siteId:this.adParameters.query_parameters.site_id,emilyUrl:this.adParameters.emily_base_url};M.sync(B.mergeObjects(H,e))}l.call(this,["bridge-loaded","js"])}}function h(e){var t=1,r=100*Math.random();if(this.adParameters&&this.adParameters.whiteops_throttle&&(t=this.adParameters.whiteops_throttle),R.log("Whiteops random vs throttle:",r,t),r>=0&&r<=parseFloat(t)){var i=window.document.createElement("script"),n="";this.adParameters&&this.adParameters.query_parameters&&(n=["https://s.update.rubiconproject.com/2/873648/analytics.js","?di=",e.rf,"&dm=",this.adParameters.query_parameters.size_id,"&pi=",this.adParameters.query_parameters.zone_id,"&si=",this.adParameters.query_parameters.site_id,"&ti=",(new Date).getTime()+r,"&bt=","vpaid","&dt=8736481502993114177000"].join("")),i.src=n,i.async=!0,window.document.body.appendChild(i),R.log("Whiteops URL:",n)}}function p(e,t){n.prototype[t]=function(){for(var r=this,i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];R.log("==>",t+"()",n);try{var s;return T._VPAIDProxyTarget?(s=T._VPAIDProxyTarget)[t].apply(s,n):e.apply(this,n)}catch(e){setTimeout(function(){throw setTimeout(function(){T._error.push(e.toString()),r.stopAd()},0),e},0)}};try{Object.defineProperty&&"function"==typeof Object.defineProperty&&Object.defineProperty(n.prototype[t],"name",{value:t})}catch(e){}}function m(e,t,r){var i=O.report(e.videoSlot,window);T.report=i;var n=void 0;try{n=i.stack[i.needle].window.getComputedStyle(e.videoSlot)}catch(e){}n||(n={width:t,height:r});var o=T.adWidth,s=T.adHeight;if(void 0!==e)try{o=e.videoSlot.getAttribute("width"),s=e.videoSlot.getAttribute("height")}catch(e){R.log(e.toString())}var a={depth:i.depth,minWidth:i.minWidth,minHeight:i.minHeight,url:i.stack[i.highest].href,referrer:i.stack[i.highest].referer,playerWidth:parseInt(n.width||o,10),playerHeight:parseInt(n.height||s,10),adWidth:T.adWidth,adHeight:T.adHeight};R.log("__ENVIRONMENT_ATTRIBUTES__",a);var c="https:";return/^https:/.test(i.stack[i.needle].href)&&(c="https:"),/^http:/.test(i.stack[i.needle].href)&&(c="http:"),R.log("PAGE INFORMATION",{protocol:c,stack:i.stack.map(function(e){return Object.assign({},{width:e.width,height:e.height,referer:e.referer,href:e.href})}),needle:i.needle,href:i.stack[i.needle].href}),T.protocol=c,a}function f(e){var t=this,r={},i="",n="";return null!==this.adParameters.query_parameters&&(Object.keys(this.adParameters.query_parameters).forEach(function(e){r[e]=t.adParameters.query_parameters[e]}),i=r.rf||i,n=i,T._skip=!!this.adParameters.query_parameters["p_aso.video.ext.skip"],T._skipdelay=this.adParameters.query_parameters["p_aso.video.ext.skipdelay"],w.emit(E.skippableStateChange)),r["p_window.depth"]=e.depth,r.rf=encodeURIComponent(i||e.url),r["p_window.url"]=encodeURIComponent(e.referrer),r.rf=e.depth?r["p_window.url"]:r.rf,r.rf=n||r.rf,r["p_window.w"]=e.minWidth,r["p_window.h"]=e.minHeight,r["p_aso.video.ext.ad.w"]=T.adWidth,r["p_aso.video.ext.ad.h"]=T.adHeight,r.width=r.width||e.playerWidth,r.height=r.height||e.playerHeight,r["p_aso.video.api"]="2",r["p_aso.video.mimes"]="application/javascript,video/mp4",r.cb=1e16*Math.random(),r}function g(e){if(e.icons){e.icons.filter(function(e){return e&&e.program&&"adchoices"===e.program.toLowerCase()}).some(function(e){return e.height>0&&e.width>0&&(T.adChoice=e,!0)})}}function v(e){var t=this,r=!1,i=void 0;try{i=e.getAd();var n=i&&i.linear,o=n.clickThrough,s=n.mediaFiles;if(!n)return setTimeout(function(){throw setTimeout(function(){u(i,"401"),w.emit(E.error,"Unimplemented non-linear ad.")},0),new Error("Unimplemented non-linear ad.")},0);g(n),T.adObj=i,i.extensions&&i.extensions.length&&(q=i.extensions[0].impressionId||!1),T.linearAd=n,L(this,n.tracking),r=!0;var a=S(s,T,this.environmentVars.videoSlot);"VPAID"===a.apiFramework?(T._mediaFileIsVPAID=!0,P(this,a,i),R.log("mediaFile.apiFramework")):(D=function(){w.emit(E.clickThru,o,"",!0),t.pauseAd()},this.environmentVars.slot.addEventListener("click",D,!1),this.environmentVars.slot.style.cursor="pointer",this.environmentVars.videoSlot.src=a.src,T.adDuration=this.environmentVars.videoSlot.duration,T.adRemainingTime=this.environmentVars.videoSlot.duration-this.environmentVars.videoSlot.currentTime,w.emit(E.loaded))}catch(e){u(i,"403"),r?w.emit(E._error,e&&e.toString()):(T._error.push(e),this.stopAd())}}function y(e,t){var r="303";e&&e.errorCode&&(r=e.errorCode),u(t,r),T._error.push(e),this.stopAd()}var b=r(5),A=b.queryVAST,T=r(0),k=r(13),w=r(3),E=r(2),C=r(15),_=r(16),x=r(17),S=r(18),I=r(19),L=r(20),P=r(22),N=r(6),V=r(4),O=r(23),R=r(1),M=r(25),B=r(7),j=r(26),q=!1,F=function(){},D=void 0,W=function(){},U=function(){},H={syncEnabled:!0,syncDelay:0},Q={};Object.assign(Q,_),Object.assign(Q,x),Q.handshakeVersion=function(){return"2.0"},Q.subscribe=function(e,t,r){for(var i=0;i<k.length;i+=1)if(k[i].event===t&&k[i].key===e)return void R.log("Listener was already subscribed !");k.push({event:t,key:e,value:e.bind(r)}),w.on(t,k[k.length-1].value)},Q.unsubscribe=function(e,t){for(var r=0;r<k.length;r+=1)if(k[r].event===t&&k[r].key===e){w.removeListener(t,k[r].value);break}},Q.initAd=function(e,t,r,i,n,o){var s=this;T.desiredBitrate=i,T.viewMode=r,this.creativeData=n,this.adParameters=JSON.parse(n.AdParameters),d.call(this),this.environmentVars=o,this.environmentVars.videoSlot=this.environmentVars.videoSlot||function(){var e=document.createElement("video");return(o.slot.parentNode||o.slot).appendChild(e),e}(),T.adMuted=this.environmentVars.videoSlot.muted,T.adVolume=this.environmentVars.videoSlot.volume,this.resizeAd(e,t,r);var a=m(this.environmentVars,e,t),c=this.adParameters&&[T.protocol,"//",this.adParameters.host,this.adParameters.path,"?"].join(""),u=f.call(this,a),p=[],g={};Object.keys(u).forEach(function(e){var t=u[e];p.push(e+"="+t),g[e]=t}),c+=p.join("&");var b=w.emit;w.emit=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];return i===E.impression&&this.adParameters&&this.adParameters.query_parameters&&(l.call(this,["ias_sample"]),h.call(this,u)),i===E.stopped||i===E.error?setTimeout(function(){b.apply(w,t)},400):b.apply(w,t)}.bind(this),A(c,function(e){return v.call(s,e)},function(e,t){return y.call(s,e,t)})},Q.resizeAd=function(e,t,r){T.adWidth=e,T.adHeight=t,T.viewMode=r,"fullscreen"===r&&(T.adWidth=window.innerWidth,T.adHeight=window.innerHeight);try{this.environmentVars.videoSlot.setAttribute("height",T.adHeight),this.environmentVars.videoSlot.setAttribute("width",T.adWidth),this.environmentVars.videoSlot.style.height=T.adHeight+"px",this.environmentVars.videoSlot.style.width=T.adWidth+"px"}catch(e){w.emit(E.log,e.toString())}},Q.startAd=function(){var e=this,t=this.environmentVars.videoSlot,r=function r(){t.removeEventListener(C.play,r),t.addEventListener(C.play,c,!1),t.addEventListener(C.pause,a,!1),t.addEventListener(C.resize,s,!1),t.addEventListener(C.volumeChange,function(){T.adVolume!==t.volume&&(T.adVolume=t.volume),T.adMuted!==t.muted&&(T.adMuted=t.muted),o()},!1),W=function(){T.adDuration=t.duration,T.adRemainingTime=t.duration-t.currentTime,I(t.currentTime,t.duration),T._skip&&t.currentTime>=T._skipdelay&&(T._skip=!1,T.adSkippableState=!0,w.emit(E.skippableStateChange))}.bind(e),U=function(){w.emit(E.error,"Video ad content error (404)"),u(T.adObj,"401")}.bind(e),t.addEventListener(C.error,U,!1),t.addEventListener(C.timeUpdate,W,!1),F=function(){this.stopAd()}.bind(e),t.addEventListener(C.ended,F,!1),T._started=!0,w.emit(E.started);var i=T.adChoice;null!=i&&i.type&&j.addAdchoice(i,e),w.emit(E.impression),e.adParameters&&e.adParameters.query_parameters&&l.call(e,["vpaid_impression"])};T._mediaFileIsVPAID||(t.addEventListener(C.play,r,!1),setTimeout(function(){t.play()},0))},Q.stopAd=function(){function e(){var t=!N.length;try{for(var r=0;r<N.length&&(t=N[r]);r+=1);if(t){var i=E.stopped;T._error.length?i=E.error:T._isSkipping&&(i=E.skipped);var n=void 0;T._error[0]&&(n=T._error[0].toString()),w.emit(i,n),T._isSkipping&&w.emit(E.stopped)}else R.log("waiting for tracker to complete"),setTimeout(e,75)}catch(e){w.emit(E.error,e.toString())}}var t=this.environmentVars.videoSlot,r=this.environmentVars.slot;try{T._stopped=!0;var i=function(){};r.removeEventListener("click",D||i),t.removeEventListener(C.play,c),t.removeEventListener(C.pause,a),t.removeEventListener(C.resize,s),t.removeEventListener(C.volumeChange,o,!1),t.removeEventListener(C.timeUpdate,W),t.removeEventListener(C.error,U),t.removeEventListener(C.ended,F),t.ended||t.paused||function(){var e=N.length;try{N[e]=!1,t.addEventListener(C.pause,function r(){try{t.removeEventListener(C.pause,r),N[e]=!0}catch(e){w.emit(E.error,e.toString())}},!1),T._stopped||t.pause()}catch(e){w.emit(E.error,e.toString())}}(),e()}catch(e){w.emit(E.error,e.toString())}},Q.pauseAd=function(){this.environmentVars.videoSlot.pause()},Q.resumeAd=function(){this.environmentVars.videoSlot.play()},Q.expandAd=function(){w.emit(E.expandedChange)},Q.collapseAd=function(){w.emit(E.expandedChange)},Q.skipAd=function(){!T._stopped&&T.adSkippableState&&(T._isSkipping=!0,this.stopAd())},Object.keys(Q).forEach(function(e){p(Q[e],e)}),e.exports=n},function(e,t,r){"use strict";e.exports=[]},function(e,t,r){"use strict";function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"===(void 0===e?"undefined":c(e))&&null!==e}function a(e){return void 0===e}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,r,i,o,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(r=this._events[e],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(s(r))for(o=Array.prototype.slice.call(arguments,1),u=r.slice(),i=u.length,c=0;c<i;c++)u[c].apply(this,o);return!0},i.prototype.addListener=function(e,t){var r;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var r,i,o,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],o=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(r)){for(a=o;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){i=a;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";e.exports={play:"play",pause:"pause",volumeChange:"volumechange",timeUpdate:"timeupdate",resize:"resize",loadStart:"loadstart",progress:"progress",suspend:"suspend",abort:"abort",error:"error",emptied:"emptied",stalled:"stalled",loadedMetadata:"loadedmetadata",loadedData:"loadeddata",canPlay:"canplay",canPlayThrough:"canplaythrough",playing:"playing",waiting:"waiting",seeking:"seeking",seeked:"seeked",ended:"ended",durationChange:"durationchange",rateChange:"ratechange"}},function(e,t,r){"use strict";var i=r(0);e.exports={getAdLinear:function(){return!!i.adLinear},getAdWidth:function(){return i.adWidth},getAdHeight:function(){return i.adHeight},getAdExpanded:function(){return!!i.adExpanded},getAdSkippableState:function(){return!!i.adSkippableState},getAdRemainingTime:function(){return i.adRemainingTime},getAdDuration:function(){return i.adDuration},getAdVolume:function(){return i.adMuted?0:i.adVolume},getAdCompanions:function(){return i.adCompanions},getAdIcons:function(){return!!i.adIcons}}},function(e,t,r){"use strict";var i=r(0);e.exports={setAdVolume:function(e){var t=e;t=t>1?1:t,t=t<0?0:t,i.adVolume=t,this.environmentVars.videoSlot.volume=i.adVolume}}},function(e,t,r){"use strict";function i(e,t,r){return 0===e.length?null:e.sort(function(e,i){var n=s[r.canPlayType(e.type)],o=s[r.canPlayType(i.type)],a=n-o;return 0!==a?a:t.desiredBitrate>0&&(n=Math.abs(e.bitrate-t.desiredBitrate),o=Math.abs(i.bitrate-t.desiredBitrate),0!==(a=n-o))?a:(n=Math.pow(e.width-t.adWidth,2)+Math.pow(e.height-t.adHeight,2),o=Math.pow(i.width-t.adWidth,2)+Math.pow(i.height-t.adHeight,2),a=n-o)})[0]}function n(e,t,r){for(var n=void 0,s=[],c=[],u=0;u<e.length;u+=1)n=e[u],"VPAID"===n.apiFramework&&a[n.type]?c.push(n):r.canPlayType(n.type)&&s.push(n);if(!(n=c.length?c[0]:i(s,t,r)))throw new Error(o);return n}var o="No playable MediaFile found!",s={probably:1,maybe:2,"":10},a={"application/javascript":1,"text/javascript":1};e.exports=n},function(e,t,r){"use strict";var i=r(3),n=r(2),o=[{ev:n.videoComplete,pct:99},{ev:n.videoThirdQuartile,pct:75},{ev:n.videoMidpoint,pct:50},{ev:n.videoFirstQuartile,pct:25},{ev:n.videoStart,pct:0}];e.exports=function(e,t){var r=o[o.length-1];r&&100*e/t>=r.pct&&(i.emit(r.ev),o.pop())}},function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){h.log("VAST proxy event:",e)}function o(e,t){return function(){n(e),t.events[e].forEach(function(t){return d(t,e)})}}function s(e){for(var t=0;t<e.errors.length;t+=1){if(u._error&&u._error.length>0){var r="900";void 0!==u._error[0]&&""!==u._error[0]&&(r=u._error[0]),e.errors[t]=e.errors[t].replace(/\[ERRORCODE\]/i,r)}d({url:e.errors[t]},c._error)}}var a,c=r(2),u=r(0),l=r(21),d=r(4),h=r(1),p=(a={},i(a,c.videoStart,l.start),i(a,c.videoFirstQuartile,l.firstQuartile),i(a,c.videoMidpoint,l.midpoint),i(a,c.videoThirdQuartile,l.thirdQuartile),i(a,c.videoComplete,l.complete),i(a,c.skipped,l.skip),i(a,c.started,l.creativeView),i(a,c.userAcceptInvitation,l.acceptInvitation),i(a,c.userAcceptInvitationLinear,l.acceptInvitationLinear),i(a,c.userMinimize,l.collapse),i(a,c.userClose,l.close),i(a,c.userCloseLinear,l.closeLinear),i(a,c.paused,l.pause),i(a,c.playing,l.resume),i(a,c.clickThru,l.click),a);e.exports=function(e,t){e.subscribe(function(r){n(c._error);var i=t.ad;null===i||i.hasSentError()||(i.errorSent(),s(i)),u._error.push(r),e.stopAd()},c._error),Object.keys(p).forEach(function(r){var i=new o(p[r],t);e.subscribe(i,r)}),e.subscribe(function(){n(c.impression);var e=t.ad;if(null!==e&&!e.hasSentImpression()){e.impressionSent();for(var r=0;r<e.impressions.length;r+=1)d({url:e.impressions[r]},c.impression)}},c.impression),e.subscribe(function(){n(c.volumeChange);var r=0===e.getAdVolume()?l.mute:l.unmute;t.events[r].forEach(function(e){return d(e,r)})},c.volumeChange),e.subscribe(function(){n(c.expandedChange);var r=e.getAdExpanded()?l.expand:l.collapse;t.events[r].forEach(function(e){return d(e,r)})},c.expandedChange)}},function(e,t,r){"use strict";e.exports={start:"start",firstQuartile:"firstQuartile",midpoint:"midpoint",thirdQuartile:"thirdQuartile",complete:"complete",skip:"skip",click:"click",creativeView:"creativeView",acceptInvitation:"acceptInvitation",acceptInvitationLinear:"acceptInvitationLinear",expand:"expand",collapse:"collapse",close:"close",closeLinear:"closeLinear",pause:"pause",resume:"resume",mute:"mute",unmute:"unmute",error:"error"}},function(e,t,r){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){e.appendChild(t)}function o(e,t,r){var i=r||document,n=i.createElementNS?i.createElementNS("http://www.w3.org/1999/xhtml",e):i.createElement(e);return Object.keys(t).forEach(function(e){n.setAttribute(e,t[e])}),n}function s(){var e=void 0;try{e=window.parent.document}catch(t){e=window.document}return o("iframe",{width:"0px",height:"0px",scrolling:"no",frameborder:"0",marginwidth:"0",marginheight:"0",src:"about:blank",style:"margin:auto display:none;"},e)}var a=r(2),c=r(3),u=r(0);e.exports=function(e,t,r){(function(){var e=this,o=s();n(this.environmentVars.slot.parentNode||this.environmentVars.slot,o),o.contentWindow.document.open(),o.contentWindow.document.write(["<!doctype html>","<html>","<head>","</head>","<body>",'<script src="'+t.src+'">',"<\/script>","</body>","</html>"].join("\n")),o.contentWindow.document.addEventListener("DOMContentLoaded",function(){var t=o.contentWindow.getVPAIDAd();[a.started,a.skippableStateChange,a.sizeChange,a.linearChange,a.durationChange,a.expandedChange,a.remainingTimeChange,a.volumeChange,a.impression,a.videoStart,a.videoFirstQuartile,a.videoMidpoint,a.videoThirdQuartile,a.videoComplete,a.interaction,a.userAcceptInvitation,a.userAcceptInvitationLinear,a.userMinimize,a.userClose,a.userCloseLinear,a.paused,a.playing,a.log].forEach(function(e){t.subscribe(function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];c.emit.apply(c,i([e].concat(r)))},e)}),t.subscribe(function(e,t,i){if(i){var n=e||r&&r.linear&&r.linear.clickThrough;c.emit(a.clickThru,n,t,!!i)}else c.emit(a.clickThru)},a.clickThru),t.subscribe(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];try{o.parentNode.removeChild(o),o=null}catch(e){}u._error.push("303"),c.emit.apply(c,i([a._error].concat(t)))},a.error),t.subscribe(function(){try{u._VPAIDProxyTarget=null,o.parentNode.removeChild(o),o=null,e.stopAd()}catch(e){setTimeout(function(){throw e})}},a.stopped),t.subscribe(function(){try{u._VPAIDProxyTarget=null,o.parentNode.removeChild(o),o=null,u.adSkippableState=!0,e.skipAd()}catch(e){setTimeout(function(){throw e})}},a.skipped),t.subscribe(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];u._VPAIDProxyTarget=t,c.emit.apply(c,i([a.loaded].concat(r)))},a.loaded),t.handshakeVersion(e.version);var n={};n.AdParameters=r&&r.linear&&r.linear.adParameters||"",t.initAd(u.adWidth,u.adHeight,u.viewMode,u.desiredBitrate,n,e.environmentVars)},!1),o.contentWindow.document.close()}).call(e)}},function(e,t,r){"use strict";(function(r){var i,n,o,s,s,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){if("object"===a(t)&&void 0!==e)e.exports=r();else{n=[],i=r,void 0!==(o="function"==typeof i?i.apply(t,n):i)&&(e.exports=o)}}(function(){return function e(t,r,i){function n(a,c){if(!r[a]){if(!t[a]){var u="function"==typeof s&&s;if(!c&&u)return s(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=r[a]={exports:{}};t[a][0].call(d.exports,function(e){var r=t[a][1][e];return n(r||e)},d,d.exports,e,t,r,i)}return r[a].exports}for(var o="function"==typeof s&&s,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,i){(function(e){function r(e){var t=void 0;try{t=e.document}catch(e){}return!!t}function i(e,t){for(var r=t.document.getElementsByTagName(e.tagName),i=!1,n=0;n<r.length;++n)if(e===r[n]){i=!0;break}return i}function n(e,t,o,a){var c=r(e),u={window:e,accessible:c,width:-1,height:-1,referer:null,href:null};return t&&a<0&&(a=c&&i(t,e)?o.length:-1),c&&(u.referer=e.document.referrer,u.width=e.innerWidth,u.height=e.innerHeight,u.href=e.location.href),o.push(u),e===s?{stack:o,needle:a}:n(e.parent,t,o,a)}var o=void 0!==o?o.window:void 0!==e?e.window:null,s=o.top;t.exports={report:function(e,t){var r=n(t,e,[],-1),i=r.stack.length-1,o=2147483647,s=2147483647,a=0;for(-1===r.needle&&(r.needle=0);i>=r.needle&&!r.stack[i].accessible;--i,a++);for(r.highest=i,r.depth=a,i=r.needle;i<=r.highest;++i)o=o>r.stack[i].width?r.stack[i].width:o,s=s>r.stack[i].height?r.stack[i].height:s;return r.minWidth=o,r.minHeight=s,r}}}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(t,r(24))},function(e,t,r){"use strict";var i,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}e.exports=i},function(e,t,r){"use strict";function i(e){return[e.emilyUrl,"?rtb_ext=1&","pc=",e.accountId,"/",e.siteId].join("")}function n(e){var t="rp_vpaid_emily_"+Math.round(1e15*Math.random());o.appendElement(function(){var r=o.createInvisibleIframe(t);return r.src=i(e),r.class="rp-emily-iframe",r}())}var o=r(7),s={},a=!1;s.sync=function(e){!a&&e.syncEnabled&&(setTimeout(n(e),Number(e.syncDelay)),a=!0)},e.exports=s},function(e,t,r){"use strict";function i(e,t,r,i){var n=document.createElement("iframe");if(n.style.display="block",n.style.width=4*parseInt(e,10)+"px",n.style.height=2*parseInt(t,10)+"px",n.style.border="0px",n.style.margin="0px",n.style.overflow="hidden",n.scrolling="no",void 0===r)return n;r.appendChild(n);var o=n.contentWindow||n.contentDocument.document||n.contentDocument;return o.document.open(),o.document.write(i),o.document.close(),n}function n(e,t,r,i,n){return"x"===t?"left"===e?"left:0px;":"right"===e?"left:"+(parseInt(r,10)-parseInt(n.width,10))+"px;":"left:"+e+"px;":"y"===t?"top"===e?"top:0px;":"bottom"===e?"bottom:0px;":"top:"+e+"px;":void 0}function o(e,t){var r=document.createElement("div");if(u=null,l=null,d=null,(e.environmentVars.slot.parentNode||e.environmentVars.slot).appendChild(r),t.staticResource){if(t.type&&t.type.search("javascript")>-1)l='<script type="text/javascript" src="'+t.staticResource+'">',d=this.createIframeElement(t.width,t.height,r,l),u=d.contentWindow.document;else if(t.type&&t.type.search("image")>-1){var i=document.createElement("img");i.setAttribute("src",t.staticResource),i.setAttribute("width",t.width),i.setAttribute("height",t.height),i.setAttribute("id","adchoice-icon"),r.appendChild(i),u=r}}else if(t.htmlResource)l='<!DOCTYPE html><head></head><body style="margin:0px">'+t.htmlResource+"</body></html>",d=this.createIframeElement(t.width,t.height,r,l),u=d.contentWindow.document;else{if(!t.iframeResource)return!1;d=this.createIframeElement(t.width,t.height),d.src=t.iframeResource,r.appendChild(d),u=r}return r}function s(e,t){if(e){var r=this.createChoiceElement(t,e);if(r){var i=e.width,n=e.height;d&&(i=4*parseInt(i,10),n=2*parseInt(n,10));var o=a.adWidth,s=a.adHeight,l=["position:absolute;","visibility:hidden;","cursor:pointer;","overflow:visible;","width:",i,"px;","height:",n,"px;",this.getAdChoicePosition(e.yPosition,"y",o,s,e),this.getAdChoicePosition(e.xPosition,"x",o,s,e),";"].join("");if(r.setAttribute("style",l),u){var h=t;u.addEventListener("click",function(){if(h.pauseAd(),e.iconClickTrackingURLTemplates&&e.iconClickTrackingURLTemplates.length>=0)for(var t=0;t<e.iconClickTrackingURLTemplates.length;t+=1)c({url:e.iconClickTrackingURLTemplates[t]});window.open(e.iconClickThroughURLTemplate,"_blank")})}var p=0;e.offset&&e.offset>0&&(p=1e3*parseInt(e.offset,10)),setTimeout(function(){if(r.style.visibility="visible",e.iconViewTrackingURLTemplate&&c({url:e.iconViewTrackingURLTemplate}),e.duration&&e.duration>0){var t=1e3*parseInt(e.duration,10);setTimeout(function(){r.style.visibility="hidden"},t)}},p)}}}var a=r(0),c=r(4),u=void 0,l=void 0,d=void 0;e.exports={createIframeElement:i,getAdChoicePosition:n,createChoiceElement:o,addAdchoice:s}}]);