try {
(function(){
 'use strict'
 !function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=34)}([function(e,t,n){(function(t,i){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function o(e){W=e}function a(e){H=e}function s(){return void 0!==Y?function(){Y(l)}:u()}function u(){var e=setTimeout;return function(){return e(l,1)}}function l(){for(var e=0;e<q;e+=2){(0,Z[e])(Z[e+1]),Z[e]=void 0,Z[e+1]=void 0}q=0}function c(e,t){var n=arguments,i=this,r=new this.constructor(f);void 0===r[ee]&&x(r);var o=i._state;return o?function(){var e=n[o-1];H(function(){return P(o,r,e,i._result)})}():T(i,r,e,t),r}function d(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return b(n,e),n}function f(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(e){return re.error=e,re}}function v(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function y(e,t,n){H(function(e){var i=!1,r=v(n,t,function(n){i||(i=!0,t!==n?b(e,n):k(e,n))},function(t){i||(i=!0,E(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,E(e,r))},e)}function g(e,t){t._state===ne?k(e,t._result):t._state===ie?E(e,t._result):T(t,void 0,function(t){return b(e,t)},function(t){return E(e,t)})}function _(e,t,n){t.constructor===e.constructor&&n===c&&t.constructor.resolve===d?g(e,t):n===re?(E(e,re.error),re.error=null):void 0===n?k(e,t):r(n)?y(e,t,n):k(e,t)}function b(t,n){t===n?E(t,p()):e(n)?_(t,n,m(n)):k(t,n)}function w(e){e._onerror&&e._onerror(e._result),O(e)}function k(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&H(O,e))}function E(e,t){e._state===te&&(e._state=ie,e._result=t,H(w,e))}function T(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+ne]=n,r[o+ie]=i,0===o&&e._state&&H(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?P(n,i,r,o):r(o);e._subscribers.length=0}}function C(){this.error=null}function I(e,t){try{return e(t)}catch(e){return oe.error=e,oe}}function P(e,t,n,i){var o=r(n),a=void 0,s=void 0,u=void 0,l=void 0;if(o){if(a=I(n,i),a===oe?(l=!0,s=a.error,a.error=null):u=!0,t===a)return void E(t,h())}else a=i,u=!0;t._state!==te||(o&&u?b(t,a):l?E(t,s):e===ne?k(t,a):e===ie&&E(t,a))}function A(e,t){try{t(function(t){b(e,t)},function(t){E(e,t)})}catch(t){E(e,t)}}function L(){return ae++}function x(e){e[ee]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function R(e,t){this._instanceConstructor=e,this.promise=new e(f),this.promise[ee]||x(this.promise),z(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&k(this.promise,this._result))):E(this.promise,S())}function S(){return new Error("Array Methods must be provided an Array")}function j(e){return new R(this,e).promise}function M(e){var t=this;return new t(z(e)?function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function D(e){var t=this,n=new t(f);return E(n,e),n}function U(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this[ee]=L(),this._result=this._state=void 0,this._subscribers=[],f!==e&&("function"!=typeof e&&U(),this instanceof F?A(this,e):B())}function N(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=F}var V=void 0;V=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var z=V,q=0,Y=void 0,W=void 0,H=function(e,t){Z[q]=e,Z[q+1]=t,2===(q+=2)&&(W?W(l):X())},Q="undefined"!=typeof window?window:void 0,G=Q||{},J=G.MutationObserver||G.WebKitMutationObserver,$="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),K="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),X=void 0;X=$?function(){return function(){return t.nextTick(l)}}():J?function(){var e=0,t=new J(l),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():K?function(){var e=new MessageChannel;return e.port1.onmessage=l,function(){return e.port2.postMessage(0)}}():void 0===Q?function(){try{var e=n(33);return Y=e.runOnLoop||e.runOnContext,s()}catch(e){return u()}}():u();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,ie=2,re=new C,oe=new C,ae=0;return R.prototype._enumerate=function(e){for(var t=0;this._state===te&&t<e.length;t++)this._eachEntry(e[t],t)},R.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===d){var r=m(e);if(r===c&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===F){var o=new n(f);_(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},R.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===te&&(this._remaining--,e===ie?E(i,n):this._result[t]=n),0===this._remaining&&k(i,this._result)},R.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,function(e){return n._settledAt(ne,t,e)},function(e){return n._settledAt(ie,t,e)})},F.all=j,F.race=M,F.resolve=d,F.reject=D,F._setScheduler=o,F._setAsap=a,F._asap=H,F.prototype={constructor:F,then:c,catch:function(e){return this.then(null,e)}},F.polyfill=N,F.Promise=F,F})}).call(t,n(15),n(16))},function(e,t,n){"use strict";function i(e){return function(t){return Array.prototype.map.call(t,e)}}function r(e){return function(t){return Array.prototype.filter.call(t,e)}}function o(e,t){return function(n){return Array.prototype.reduce.call(n,e,t)}}function a(e){return function(t){return Array.prototype.concat.call(t,e)}}function s(e){return function(t){return Array.prototype.some.call(t,function(t){return t===e})}}function u(e){return function(t){return Array.prototype.filter.call(e,function(e){return!s(e)(t)})}}function l(e){return o(function(e,t){return p({},e,t)},{})(e)}function c(e){return o(function(e,t){return e.concat(Array.isArray(t)?c(t):t)},[])(e)}function d(e){return Array.prototype.slice.call(e)}function f(e,t){return o(function(e,t){return e&&e[t]?e[t]:null},t)(e)}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.map=i,t.filter=r,t.reduce=o,t.concat=a,t.includes=s,t.diff=u,t.flattenObject=l,t.flattenArray=c,t.toArray=d,t.objectSafeAccess=f},function(e,t,n){"use strict";function i(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}function r(){var e=i(),t=(0,u.default)(navigator.userAgent);return((e?"mobile":"desktop")+(t?"-webview":"")).toLowerCase()}function o(){return l||(l=(new Date).getSeconds()),l}function a(e,t){var n=t.createElement("link");n.setAttribute("rel","preconnect"),n.setAttribute("href",e),n.setAttribute("crossorigin",""),t.getElementsByTagName("head")[0].appendChild(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=void 0,t.getPlatform=r,t.getSessionSeconds=o,t.preconnect=a;var s=n(12),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=(t.isMobile=i(),void 0)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/(<([^>]+)>)/gi," ").replace(/\s\s+/g," ").trim()}function o(){return document.querySelector("link[rel='canonical']")?document.querySelector("link[rel='canonical']").getAttribute("href"):document.location.href}function a(e){return{answer:e.answer,id:e.id,options:(0,T.map)(function(e){return e.value})(e.options||[]),title:r((e.title||{}).value)}}function s(e){return/^http[s]?:\/\//gi.test(e)}function u(e,t,n){var i=""+n;return s(n)||(i=e+"//"+t+"/"+n),i}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":",t=arguments[1],n={},i=/.*:(.*)/gi,r=i.exec(e);if(r&&t){var o=r[1];switch(e){case"twitter:url":case"twitter:title":case"twitter:image":case"og:locale":case"og:description":case"article:tag":case"article:published_time":case"article:modified_time":case"article:expiration_time":case"article:author":case"article:section":case"og:title":case"og:image":case"og:url":t.length>0&&(n[o]=t)}}return n}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n={};if(t)switch(e){case"NEWS_KEYWORDS":case"news_keywords":case"keywords":n.tag=t;break;case"author":case"description":case"subject":case"topic":case"category":case"medium":n[e]=t}return n}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n={};if(t)switch(e){case"image_src":n.image=t;break;case"canonical":n.url=t}return n}function f(e){var t={};return e.title&&e.title.length>0&&(t.title=e.title),e.location.href&&(t.url=e.location.href),e.documentElement.lang&&(t.locale=e.documentElement.lang),t}function p(){var e=document.getElementsByTagName("link"),t=(0,T.map)(function(e){return d(e.getAttribute("rel"),e.getAttribute("href"))})(e);return(0,T.flattenObject)(t)}function h(){var e=document.getElementsByTagName("meta"),t=(0,T.map)(function(e){var t=e.getAttribute("property"),n=e.getAttribute("content"),i=e.getAttribute("name"),r=l(t,n),o=c(i,n);return E({},r,o)})(e);return(0,T.reduce)(function(e,t){return Object.keys(t).forEach(function(n){e[n]=e[n]?e[n]+","+t[n]:t[n]}),e},{})(t)}function m(){return f(window.document)}function v(){var e=h(),t=p(),n=m();return E({},n,e,t)}function y(e){var t={};if(e){var n=((0,T.map)(function(e){return a(e)})(e.data.slides),"");e.publishingOptions&&e.publishingOptions.endDate&&(n=e.publishingOptions.endDate),t={created:e.created,interactionId:e.interactionId,language:e.language,layout:e.layout.name,publisherId:e.publisherId,title:r(e.title),updated:e.updated,tags:e.tags||[],expires:n,sessionId:e.sessionId,userId:e.userId}}return t}function g(e){var t=(0,T.map)(function(t){var n=e.getElementsByTagName(t);return(0,T.toArray)(n)})(["interaction","apester-media"]);return(0,T.filter)(function(e){return e.length})(t)}function _(e){var t=(0,T.map)(function(t){var n=e.getElementsByClassName(t);return(0,T.toArray)(n)})(["apester-media"]);return(0,T.filter)(function(e){return e.length})(t)}function b(e){var t=g(e),n=_(e),i=(0,T.concat)(n)(t);return(0,T.flattenArray)(i)}function w(e){return document.querySelector(e)}Object.defineProperty(t,"__esModule",{value:!0});var k=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.stripTags=r,t.extractCanonicalUrl=o,t.getInteractionElements=b,t.findInjectionPoint=w;var T=n(1),O=(Object.prototype.hasOwnProperty,function(){function e(){i(this,e),this.canonicalUrl_=void 0,this.documentData_=null}return k(e,[{key:"exportMediaData",value:function(e){var t=y(e);this.media_=e;var n={mediaChannelId:t.publisherId,mediaUserId:t.userId,mediaTitle:r(t.title),mediaTags:t.tag,mediaCreationDate:t.created,mediaContext:t.slides,mediaUpdateDate:t.updated,mediaExpirationDate:t.expires,mediaLanguage:t.language,mediaLayoutEngine:t.layout},i=(0,T.objectSafeAccess)("data.size.height".split("."),e);return{metadata:n,properties:{interactionId:t.interactionId,mediaHeight:i?i.toString():void 0}}}},{key:"toAbsolutePathConverter",value:function(e){var t=void 0;return e&&(t=u(location.protocol,location.host,e)),t}},{key:"exportDocumentData",value:function(){var e=this.documentData,t={destinationLanguage:e.locale,destinationTitle:e.title,destinationDescription:e.description,destinationContext:e.tag,destinationPreview:this.toAbsolutePathConverter(e.image),destinationPublishDate:e.published_time,destinationUpdateDate:e.modified_time,destinationExpirationDate:e.expiration_time,destinationAuthor:e.author,destinationSection:e.section};return{properties:{destinationUri:this.toAbsolutePathConverter(e.url)},metadata:t}}},{key:"exportCompleteData",value:function(e){var t=this.exportDocumentData(),n=this.exportMediaData(e);return{metadata:E({},t.metadata,n.metadata),properties:E({},t.properties,n.properties)}}},{key:"documentData",get:function(){return this.documentData_||v()}},{key:"canonicalUrl",get:function(){return this.canonicalUrl_||o()}}]),e}());t.default=O},function(e,t,n){"use strict";function i(e){return{language:e.navigator.userLanguage||e.navigator.language,referrer:encodeURIComponent(e.document.location.href),screenHeight:""+e.screen.height,screenWidth:""+e.screen.width}}function r(e){e&&e.data&&"ape_sessionId"===e.data.type&&(w=e.data.sessionId,window.removeEventListener("message",r))}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i(window),r=arguments[3],o=arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:6,s=g({},t,{sdkVersion:"3.0.85",sdkType:"s",canonicalUrl:k}),u={sessionId:w,event:e,properties:s,metadata:n};return _.eventDispatcher.dispatch(u,r,o,a).catch(function(e){})}function a(){o("apester_sdk_loaded",{},void 0,!0)}function s(){o("apester_sdk_companion_created",{})}function u(e){o("apester_sdk_display_ready",{embedType:e.embedType,interactionId:e.interactionId,publisherId:e.publisherId,creatorId:e.userId,engine:e.layout.directive},void 0,!0)}function l(e){o("apester_sdk_media_seen",{interactionId:e.interactionId,publisherId:e.publisherId,embedType:e.embedType,iframeType:e.iframeType})}function c(e,t){var n={};t?(n.channelToken=e,n.embedType="playlist"):(n.interactionId=e,n.embedType="editorial"),o("apester_sdk_display_failed",n,void 0,!0)}function d(e){o("apester_sdk_extension_created",g({},e))}function f(e){o("apester_sdk_extension_ready",g({},e))}function p(e){o("apester_sdk_extension_failed",g({},e))}function h(e){o("apester_sdk_extension_active",g({},e))}function m(e){o("apester_sdk_extension_terminated",g({},e))}function v(e){o("recommendation_collected",e.properties||{},e.metadata,!0,!0)}function y(){o("article_exclude",{})}Object.defineProperty(t,"__esModule",{value:!0});var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.metadataFactory=i,t.sendLoadedEvent=a,t.sendCompanionEvent=s,t.sendDisplayReadyEvent=u,t.sendMediaSeen=l,t.sendDisplayFailedEvent=c,t.sendExtensionCreatedEvent=d,t.sendExtensionReadyEvent=f,t.sendExtensionFailedEvent=p,t.sendExtensionActiveEvent=h,t.sendExtensionTerminatedEvent=m,t.sendRecommendationCollectedEvent=v,t.sendArticeExclude=y;var _=n(8),b=n(3),w=void 0,k=(0,b.extractCanonicalUrl)();window.addEventListener("message",r)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a="undefined"==typeof Promise?n(0).Promise:Promise,s=function(){function e(t){i(this,e),this.events={READY_STATE_CHANGE:"readystatechange",LOAD_START:"loadstart",PROGRESS:"progress",ABORT:"abort",ERROR:"error",LOAD:"load",TIMEOUT:"timeout",LOAD_END:"loadend"},this.opts=t}return o(e,[{key:"send",value:function(e,t,n,i){var r=this;return new a(function(o,a){var s=new XMLHttpRequest,u=i||{},l=t||"GET";if(s.open(l,e),void 0!==u.disableContentType&&u.disableContentType||s.setRequestHeader("Content-Type",r.opts.contentType||"application/json;charset=UTF-8"),r.opts.headers)for(var c in r.opts.headers){var d=r.opts.headers[c];s.setRequestHeader(c,d)}r.opts.withCredentials&&(s.withCredentials=!0),n=n?r.parseData(n):null,s.addEventListener(r.events.LOAD,function(){if(200==s.status||0==s.status){var e="";s.responseText&&(e=r.opts.json?JSON.parse(s.responseText):s.responseText),o(e,s)}else a(r.reject(s))}),s.addEventListener(r.events.ABORT,function(){return a(r.reject(s))}),s.addEventListener(r.events.ERROR,function(){return a(r.reject(s))}),s.addEventListener(r.events.TIMEOUT,function(){return a(r.reject(s))}),n?s.send(n):s.send()})}},{key:"reject",value:function(e){var t="";return e.responseText&&(t=this.opts.json?JSON.parse(e.responseText):e.responseText),t}},{key:"parseData",value:function(e){if("application/json"==this.opts.contentType)return JSON.stringify(e);var t=[];if("string"==(void 0===e?"undefined":r(e)).toLowerCase()||"number"==(void 0===e?"undefined":r(e)).toLowerCase())t.push(e);else for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}},{key:"get",value:function(e,t){return this.send(e,"GET",null,t)}},{key:"post",value:function(e,t){return this.send(e,"POST",t)}},{key:"delete",value:function(e){return this.send(e,"DELETE")}},{key:"put",value:function(e,t){return this.send(e,"PUT",t)}}]),e}();t.xhr=new s({})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseElement=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a="undefined"==typeof Promise?n(0).Promise:Promise;t.BaseElement=function(){function e(t,n){i(this,e),this.layer=t,this.params=n,this.abstractType=n.type,this.type=n.provider.type,this.version=n.provider.version,this.options=n.provider.options,this.isMobile=o.isMobile,this.element=t.element,this.layoutWidth_=-1,this.inViewport_=!1,this.win=this.element.ownerDocument.defaultView,this.preconnect=null,this.config=null,this.resources_=null}return r(e,[{key:"getResources",value:function(){return this.resources_}},{key:"getLayoutWidth",value:function(){return this.layoutWidth_}},{key:"isInViewport",value:function(){return this.inViewport_}},{key:"createdCallback",value:function(){}},{key:"firstAttachedCallback",value:function(){this.parent=this.element.parentElement}},{key:"buildCallback",value:function(){}},{key:"preconnectCallback",value:function(e){return a.resolve()}},{key:"detachedCallback",value:function(){}},{key:"createPlaceholderCallback",value:function(){return null}},{key:"layoutCallback",value:function(){return a.resolve()}},{key:"firstLayoutCompleted",value:function(){this.togglePlaceholder(!1)}},{key:"viewportCallback",value:function(e){}},{key:"pauseCallback",value:function(){}},{key:"resumeCallback",value:function(){}},{key:"playCallback",value:function(){return a.resolve()}},{key:"engagementCallback",value:function(){return a.reject()}},{key:"unlayoutCallback",value:function(){return!1}},{key:"loadPromise",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return loadPromise(e,t)})},{key:"getPlaceholder",value:function(){return this.element.getPlaceholder()}},{key:"togglePlaceholder",value:function(e){}},{key:"getFallback",value:function(){return this.element.getFallback()}},{key:"toggleFallback",value:function(e){this.element.toggleFallback(e)}},{key:"registerEvent",value:function(e,t){}}]),e}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var n=u(e);return function(e){function n(e){return i(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return o(n,e),c(n,[{key:"elementName",value:function(){return t}}]),n}(n)}function s(e){var t=e.createElement("div");return t.classList.add("apester-layout-fill"),t.innerHTML='<div class="blobs">\n    <div class="blob"></div>\n    <div class="blob"></div>\n    <div class="apester"></div>\n  </div>\n\n  <svg version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <defs>\n      <filter id="goo">\n        <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10" />\n        <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />\n        <feBlend in2="goo" in="SourceGraphic" result="mix" />\n      </filter>\n    </defs>\n  </svg>',t}function u(e){if(e.APESTER.BaseCustomElementClass)return e.APESTER.BaseCustomElementClass;var t=function(){function t(n){i(this,t),this.params=n,this.element=e.document.createElement("apester-layer"),this.createdCallback()}return c(t,[{key:"createdCallback",value:function(){this.built_=!1,this.readyState="loading",this.resources_=null,this.layout_=null,this.layoutWidth_=-1,this.layoutCount_=0,this.isFirstLayoutCompleted_=!0,this.isInViewport_=!1,this.loadingState_=void 0,this.loadingContainer_=null,this.loadingElement_=null;var e=d[this.elementName()];this.implementation_=new e(this,this.params),this.implementation_.createdCallback(),this.actionQueue_=[]}},{key:"getAbstractType",value:function(){return this.implementation_.abstractType}},{key:"getType",value:function(){return this.implementation_.type}},{key:"getVersion",value:function(){return this.implementation_.version}},{key:"elementName",value:function(){}},{key:"getResources",value:function(){return this.resources_}},{key:"isBuilt",value:function(){return this.built_}},{key:"build",value:function(){if(!this.isBuilt()){try{this.implementation_.buildCallback(),this.preconnect(!1),this.built_=!0,this.element.classList.add("apester-layer")}catch(e){return}this.built_&&this.isInViewport_&&this.updateInViewport_(!0)}}},{key:"preconnect",value:function(e){e&&this.implementation_.preconnectCallback(e)}},{key:"updateLayoutBox",value:function(e){this.layoutWidth_=e.width,this.isLoadingEnabled_()&&(this.isInViewport_&&this.toggleLoading_(!0),this.prepareLoading_())}},{key:"connectedCallback",value:function(){this.implementation_.firstAttachedCallback()}},{key:"disconnectedCallback",value:function(){this.implementation_.detachedCallback()}},{key:"dispatchCustomEvent",value:function(e,t){var n=t||{},i=this.element.ownerDocument.defaultView,r=i.document.createEvent("Event");r.data=n,r.initEvent(e,!0,!0),this.element.dispatchEvent(r)}},{key:"createPlaceholder",value:function(){return this.implementation_.createPlaceholderCallback()}},{key:"getLayoutBox",value:function(){}},{key:"getResourceId",value:function(){}},{key:"layoutCallback",value:function(){var e=this;if(this.isBuilt()){var t=this.implementation_.layoutCallback();return this.preconnect(!0),this.element.classList.add("apester-layout"),t.then(function(){e.readyState="complete",e.layoutCount_++,e.toggleLoading_(!1,!0),e.isFirstLayoutCompleted_&&(e.implementation_.firstLayoutCompleted(),e.isFirstLayoutCompleted_=!1)},function(t){throw e.layoutCount_++,e.toggleLoading_(!1,!0),t})}}},{key:"viewportCallback",value:function(e){this.isInViewport_=e,0==this.layoutCount_&&(e||this.toggleLoading_(!1)),this.isBuilt()&&this.updateInViewport_(e)}},{key:"updateInViewport_",value:function(e){this.implementation_.inViewport_=e,this.implementation_.viewportCallback(e)}},{key:"pauseCallback",value:function(){this.isBuilt()&&this.implementation_.pauseCallback()}},{key:"resumeCallback",value:function(){this.isBuilt()&&this.implementation_.resumeCallback()}},{key:"playCallback",value:function(){return this.implementation_.playCallback()}},{key:"engagementCallback",value:function(){return this.implementation_.engagementCallback()}},{key:"unlayoutCallback",value:function(){if(!this.isBuilt())return!1;var e=this.implementation_.unlayoutCallback();return e&&(this.layoutCount_=0,this.isFirstLayoutCompleted_=!0),e}},{key:"unlayoutOnPause",value:function(){return this.implementation_.unlayoutOnPause()}},{key:"enqueAction",value:function(e){assertNotTemplate(this),this.isBuilt()?this.executionAction_(e,!1):dev().assert(this.actionQueue_).push(e)}},{key:"dequeueActions_",value:function(){var e=this;if(this.actionQueue_){var t=dev().assert(this.actionQueue_);this.actionQueue_=null,t.forEach(function(t){e.executionAction_(t,!0)})}}},{key:"executionAction_",value:function(e,t){try{this.implementation_.executeAction(e,t)}catch(t){rethrowAsync("Action execution failed:",t,e.target.tagName,e.method)}}},{key:"getPlaceholder",value:function(){return parent.lastElementChild}},{key:"togglePlaceholder",value:function(e){if(assertNotTemplate(this),e){var t=this.getPlaceholder();t&&t.classList.remove("apester-hidden")}else for(var n=dom.childElementsByAttr(this,"placeholder"),i=0;i<n.length;i++)n[i].classList.add("apester-hidden")}},{key:"isLoadingEnabled_",value:function(){return this.layoutWidth_<100||this.layoutCount_,!0}},{key:"prepareLoading_",value:function(){if(!this.loadingContainer_){var e=this.element.ownerDocument,t=e.createElement("div");t.classList.add("apester-loading-container");var n=s(e);t.appendChild(n),this.element.appendChild(t),this.loadingContainer_=t,this.loadingElement_=n}}},{key:"toggleLoading_",value:function(e,t){var n=this;if(this.loadingState_=e,e||this.loadingContainer_){if(e&&!this.isLoadingEnabled_())return void(this.loadingState_=!1);!function(){var e=n.loadingState_;if(e&&!n.isLoadingEnabled_()&&(e=!1),e&&n.prepareLoading_(),n.loadingContainer_&&(n.loadingContainer_.classList.toggle("apester-hidden",!e),n.loadingElement_.classList.toggle("apester-active",e),!e&&t)){n.loadingContainer_;n.loadingContainer_=null,n.loadingElement_=null}}()}}},{key:"registerEvent",value:function(e,t){this.implementation_.registerEvent(e,t)}}]),t}();return e.APESTER.BaseCustomElementClass=t,e.APESTER.BaseCustomElementClass}function l(e,t,n){d[t]=n;var i=a(e,t);window.APESTER[t]=i}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.registerElement=l;var d={}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return t&&null!=t&&void 0!==t&&0!=t.length&&"undefined"!==t?t:void 0}function o(e){return p.reject(e)}function a(e){e.metadata.referrer&&(e.metadata.referrer=decodeURIComponent(e.metadata.referrer));var t=JSON.stringify(e,r);return d.xhr.post("https://recommend-events.apester.com/event",t)}function s(e){var t=JSON.stringify(e,r);return d.xhr.post("https://events.apester.com/event",t)}function u(e,t){var n=s(e),i=t?a(e):p.resolve(),r=[n,i];return p.all(r)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n=(0,f.getSessionSeconds)();return!e||n%t==0}Object.defineProperty(t,"__esModule",{value:!0}),t.eventDispatcher=t.EventDispatcher=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.passThrottle=l;var d=n(5),f=n(2),p="undefined"==typeof Promise?n(0).Promise:Promise,h=t.EventDispatcher=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i(this,e),this.enabled_=t}return c(e,[{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,r=void 0;if(this.enabled_){r=l(t,i)?u(e,n):o("THROTTLE: event not send to save resources.")}return r}},{key:"enabled",get:function(){return this.enabled_},set:function(e){"boolean"==typeof e&&(this.enabled_=e)}}]),e}();t.eventDispatcher=new h},function(e,t,n){"use strict";function i(){var e=window.performance,t=-1;return e&&(t=e.now()),t}function r(e){return{event:"apester_sdk_perf_monitor",metadata:(0,a.metadataFactory)(window),properties:o({sdkVersion:"3.0.85",sdkType:"s"},e,{performanceTimestamp:""+i(),readyState:document.readyState,canonicalUrl:c})}}Object.defineProperty(t,"__esModule",{value:!0}),t.sendPerformanceLog=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(4),s=n(8),u=n(11),l=n(3),c=(0,l.extractCanonicalUrl)();t.sendPerformanceLog=function(){var e=(0,u.guid)(),t=function(){};return(0,s.passThrottle)(!0)&&(t=function(t,n){var i=r(o({logSessionId:e,action:t},n));return s.eventDispatcher.dispatch(i,!1).catch(function(e){})}),t}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){return 100*Math.random()<=100}function s(e){(0,d.registerElement)(e,"RENDERER",C)}Object.defineProperty(t,"__esModule",{value:!0}),t.renderer=t.rendererEventsNames=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.shouldReciveFIF=a,t.default=s;var c=n(6),d=n(7),f=n(3),p=n(5),h=n(9),m=n(1),v=n(2),y=n(12),g=function(e){return e&&e.__esModule?e:{default:e}}(y),_="undefined"==typeof Promise?n(0).Promise:Promise,b=(0,g.default)(navigator.userAgent),w=function(e){e.classList.add("fullscreen")},k=function(e){e.classList.remove("fullscreen")},E=function(e,t){e.setAttribute("height",t)},T=function(e,t){e.style["max-width"]=t+"px"},O=t.rendererEventsNames={SET_FULL_SCREEN:"fullscreen_on",REMOVE_FULL_SCREEN:"fullscreen_off",RESIZE_UNIT:"apester_resize_unit"},C=t.renderer=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"buildCallback",value:function(){var e=this;this.rendererBaseUrl_="https://renderer.apester.com",this.displayBaseUrl_="https://display.apester.com",this.interactionId_=this.options.interactionId,this.iframe_=null,this.iframePromise_=null,this.seen_=!1,this.ready_=!1,this.engaged_=!1,this.registerEvent(O.SET_FULL_SCREEN,function(t){b||e.interactionId_!==t.id||"596737045cc7ece51b3602fd"===t.id||"59bbba559debe10001a82451"===t.id||w(e.element)}),this.registerEvent(O.REMOVE_FULL_SCREEN,function(t){b||e.interactionId_!==t.id||"596737045cc7ece51b3602fd"===t.id||"59bbba559debe10001a82451"===t.id||k(e.element)}),this.registerEvent(O.RESIZE_UNIT,function(t){e.interactionId_===t.id&&t.height&&E(e.iframe_,t.height),e.interactionId_===t.id&&t.width&&T(e.iframe_,t.width)})}},{key:"createPerformanceLog",value:function(){return{interactionId:this.options.interactionId,publisherId:this.options.channelId,iframeType:this.options.iframeType}}},{key:"firstLayoutCompleted",value:function(){this.viewportCallback(this.isInViewport())}},{key:"constructUrlFromMedia_",value:function(e){var t=this.options.monetized?"&channelId="+this.options.channelId:"",n=this.options.type?"&type="+encodeURIComponent(this.options.type):"",i=this.options.iframeType?"&iframeType="+this.options.iframeType:"",r=this.options.isContextualMatch?"&isContextualMatch="+this.options.isContextualMatch:"",o="&platform="+(0,v.getPlatform)(),a=(0,f.extractCanonicalUrl)(),s=this.options.evergreen?"&evergreen=true":"";return this.rendererBaseUrl_+"/interaction/"+encodeURIComponent(e)+"?sdk=3.0.85s&canonicalUrl="+encodeURIComponent(a)+t+n+i+o+r+s}},{key:"constructIframe_",value:function(e,t){var n=this.element.ownerDocument.createElement("iframe");if(n.setAttribute("frameborder","0"),n.setAttribute("allowtransparency","true"),n.setAttribute("scrolling","no"),n.setAttribute("data-interaction-id",this.interactionId_),n.name=/wpcomwidgets/.test(document.location.href)?document.referrer:document.location.href,n.classList.add("apester-fill-content"),t){var i=e.split("?");n.originalUrlParams=i.length>1?"?"+i[1]:"",n.src="about:blank";var r=this.options.iosDeviceInfo;this.options.campaignData&&(n.extensionData=u({},this.options.campaignData,{iosDeviceInfo:r}))}else n.src=e;return n}},{key:"getFriendlyIframePromise_",value:function(e){var t=this;(0,h.sendPerformanceLog)("renderer_pending",this.createPerformanceLog());return function(){return t.params.provider.content?_.resolve(t.params.provider.content):p.xhr.send(e)}().then(function(e){return t.iframe_.contentWindow.document.open("text/html","replace"),t.iframe_.contentDocument.write(e),t.iframe_.contentDocument.close(),t.loadRenderer().then(function(){return t.ready_=!0,(0,h.sendPerformanceLog)("renderer_fulfilled",t.createPerformanceLog()),t.iframe_},function(){return _.reject(t.id)})},function(){return _.reject(t.id)})}},{key:"getIframePromise_",value:function(e){var t=this;return(0,h.sendPerformanceLog)("renderer_pending",this.createPerformanceLog()),this.loadRenderer().then(function(){return t.ready_=!0,(0,h.sendPerformanceLog)("renderer_fulfilled",t.createPerformanceLog()),t.iframe_},function(){return _.reject(t.id)})}},{key:"layoutCallback",value:function(){this.isFriendly_=a(),this.options.iframeType=this.isFriendly_?"friendlyIframe":"iframe";var e=this.constructUrlFromMedia_(this.interactionId_);return this.iframe_=this.constructIframe_(e,this.isFriendly_),this.element.appendChild(this.iframe_),this.iframePromise_=this.isFriendly_?this.getFriendlyIframePromise_(e):this.getIframePromise_(e),this.iframePromise_}},{key:"viewportCallback",value:function(e){e&&!this.seen_&&this.iframe_&&this.ready_&&(this.seen_=!0,this.iframe_.contentWindow.postMessage("interaction seen","*"))}},{key:"engagementCallback",value:function(){var e=this;return new _(function(t){e.engaged_&&t();var n=function(){document.activeElement===e.iframe_&&(e.engaged_=!0,t(),setTimeout(i,0))},i=function(){window.focus(),window.removeEventListener("blur",n)};window.addEventListener("blur",n)})}},{key:"loadRenderer",value:function(){return new _(function(e,t){var n=void 0,i=void 0,r=function(t){var n=!1;return"apester_interaction_loaded"===(0,m.objectSafeAccess)(["data","type"],t)&&(e(),n=!0),n};i=function(e){r(e)&&n()},n=function(){window.removeEventListener("message",i),i=null,r=null},window.addEventListener("message",i)})}},{key:"registerEvent",value:function(e,t){window.addEventListener("message",function(n){n.data.type===e&&t(n.data)})}}]),t}(c.BaseElement)},function(e,t,n){"use strict";function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function r(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}Object.defineProperty(t,"__esModule",{value:!0}),t.s4=i,t.guid=r},function(e,t,n){"use strict";function i(e){return!!e.match(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(wv|.0.0.0)","Linux; U; Android"],o=new RegExp("("+r.join("|")+")","ig")},function(e,t,n){"use strict";function i(e,t,n,i){var r=i||!1;return e.addEventListener(t,n,r),function(){e&&e.removeEventListener(t,n,r),n=null,e=null}}function r(e,t,n,i){var r=i||!1,o=void 0,a=function(e){n(e),o()};return o=function(){e&&e.removeEventListener(t,a,r),e=null,a=null,n=null},e.addEventListener(t,a,r),o}function o(e,t,n,i){var o=void 0;return l(new h(function(i,a){o=r(e,t,i,n)}),o,void 0,i)}function a(e){return e.complete||"complete"==e.readyState}function s(e,t){var n=void 0,i=void 0;if(a(e))return h.resolve(e);var o=new h(function(t,o){n=r(e,"load",t),i=r(e,"error",o)});return o=o.then(c,u),l(o,n,i,t)}function u(e){throw new Error("Failed HTTP request for "+e.target)}function l(e,t,n,i){var r=void 0;return r=void 0===i?e:f(i||0,e),t&&r.then(t,t),n&&r.then(n,n),r}function c(e){return e.target||e.testTarget}function d(e){return new h(function(t){setTimeout(t,e)})}function f(e,t){return h.race([t,d(e).then(function(){throw new Error("Operation timed out")})])}function p(e,t){var n=this;return new h(function(i,r){var o=e.document.createElement("script");o.src=t,o.onload=i.bind(n,o),o.onerror=r.bind(n,o),e.document.body.appendChild(o)})}Object.defineProperty(t,"__esModule",{value:!0}),t.listen=i,t.listenOnce=r,t.listenOncePromise=o,t.loadPromise=s,t.loadScript=p;var h="undefined"==typeof Promise?n(0).Promise:Promise},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n,i){return{left:e,top:t,width:n,height:i,bottom:t+i,right:e+n}}function a(e){return e.getAttribute("data-fallback")}function s(e){var t=e.getAttribute("data-tags");return t?t.split(",").map(function(e){return e.trim()})||[]:[]}function u(){var e=document.querySelectorAll("a.entry-tag");return(0,N.reduce)(function(e,t){return e.concat(t.text.trim())},[])(e)}function l(){var e=document.querySelectorAll("meta[property='article:tag']");return(0,N.reduce)(function(e,t){return e.concat(t.content.split(",").map(function(e){return e.trim()}))},[])(e)}function c(){return"undefined"!=typeof dcTags&&Array.isArray(dcTags)?(0,N.reduce)(function(e,t){return e.concat(t.split(",").map(function(e){return e.trim()}))},[])(dcTags):[]}function d(){var e=["meta[name=keywords]","meta[name=news_keywords]","meta[name=NEWS_KEYWORDS]"],t=[];return e.forEach(function(e){var n=document.querySelector(e);if(n){var i=n.getAttribute("content");if(i){var r=i.split(",").map(function(e){return e.trim()});t=t.concat(r)}}}),t}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,N.reduce)(function(e,t){var n=t()||[];return e.concat(n)},[])(e),n=(0,N.map)(function(e){return e.toLowerCase().trim()})(t);return(0,N.filter)(function(e,t,n){return n.indexOf(e)===t})(n)}function p(e,t){var n=e.idOrToken,i=e.playlist,r=e.inative,o=(e.campaignId,e.distributionChannelId),a=e.fallback,s=e.renderer,u=e.sendUrl,l=encodeURIComponent(n),c="",d="?";return r?n?(c="/inatives/"+n,d+=u?"url="+encodeURI(u)+"&":""):o&&(c="/channels/"+o+"/inatives",d+=u?"url="+encodeURI(u)+"&":""):i&&t?(t=t.map(function(e){return"tags="+encodeURIComponent(e.trim())}).join("&"),c="/tokens/"+l+"/interactions/random",d+=t?t+"&":"",d+="fallback="+!!a+"&",d+=u?"url="+encodeURI(u)+"&":""):i?(c="/tokens/"+l+"/interactions/random",d+=u?"url="+encodeURI(u)+"&":""):c="/interactions/"+l+"/display",d+="platform="+(0,W.getPlatform)(),d+=s?"&renderer=true":"","https://display.apester.com"+c+d}function h(e){return e.getAttribute("data-channel-token")||e.getAttribute("data-random")||e.getAttribute("data-token")}function m(e){return e.getAttribute("data-media-id")||e.getAttribute("id")}function v(e){return e.getAttribute("data-campaign-id")}function y(e){return e.getAttribute("data-channel-id")}function g(e){return e.getAttribute("data-distribution-url")}function _(e){return!!(e.getAttribute("data-channel-token")||e.getAttribute("data-random")||e.getAttribute("data-token"))}function b(e){return"true"===e.getAttribute("data-inative")}function w(e){return"auto"===e.getAttribute("data-embed-mode")}function k(e){var t=e.some(function(e){return!_(e)}),n=e.some(function(e){return _(e)}),i=e.some(function(e){return w(e)});return n&&(t||i)}function E(e){return e.filter(function(e){return!_(e)})}function T(e){e.filter(function(e){return _(e)}).forEach(function(e){e.parentNode.removeChild(e)})}function O(e,t){var n=JSON.parse(e),i=n.payload,r=void 0;return t?(r=Array.isArray(i)?i[Math.floor(Math.random()*i.length)]:i,r.embedType="playlist"):(r=i,r.embedType="editorial"),r}function C(e,t){if(e&&e.publisher){var n=e.publisher,i=n.publisherId,r=n.trackingPixel;return r&&r.affiliateId?{offer_id:2,aff_id:r.affiliateId,aff_sub:i,aff_sub2:t}:null}return null}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")}function P(e,t){return e=e||[],t=t||"",!!e.filter(function(e){return new RegExp("([\\s,\\.:!\\?\\-]|^)"+e+"([\\s,\\.:!\\?\\-]|$)","i").test(t)}).length}Object.defineProperty(t,"__esModule",{value:!0});var A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},L=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.layoutRectLtwh=o;var x=n(18),R=n(6),S=n(3),j=i(S),M=n(7),D=n(8),U=n(10),B=i(U),F=n(20),N=n(1),V=n(4),z=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(V),q=n(9),Y=n(24),W=n(2),H=n(5),Q="undefined"==typeof Promise?n(0).Promise:Promise,G=["Awards Spotlight","‘Mudbound’ Director Dee Rees","Best Actor: EW picks the best Oscar winners of all time"],J=function(){function e(t){r(this,e),this.interactionElements_=[],this.disableEvents=!1,this.win=t,this.eventProxy=D.eventDispatcher,this.unitsManagers_=[],this.crawler=new j.default,this.workQueue_=[],this.displayBaseUrl_="https://display.apester.com",this.registeredEvents=[]}return L(e,[{key:"Init",value:function(e){var t=this;(0,W.preconnect)("https://display.apester.com",document),(0,W.preconnect)("https://renderer.apester.com",document),e&&(D.eventDispatcher.enabled=e.disableEvents,this.params=e),z.sendLoadedEvent(),window.APESTER.reload=function(){t.load(),t.process()},window.APESTER.BaseElement=R.BaseElement,window.APESTER.registerElement=M.registerElement.bind(null,window),(0,B.default)(window),(0,F.installStreamRail)(window),this.load(),(0,x.getAutoPlacement)(this.crawler.canonicalUrl).then(function(e){if(e){var n=e.element,i=e.model,r=new Y.ResourceManager(n,A({},i,t.params));t.addInteractionLoadedPixel(i),t.initializeResourceManager(r),t.interactionElements_.push(n),T(t.interactionElements_)}}).catch(function(e){})}},{key:"initializeResourceManager",value:function(e){e&&(e.Initialize(),this.unitsManagers_.push(e),this.registeredEvents.forEach(function(t){e.registerEvent(t.name,t.callback)}))}},{key:"process",value:function(){var e=this;Q.all(this.workQueue_).then(function(t){(0,N.map)(function(t){e.initializeResourceManager(t)})(t)}),this.workQueue_=[]}},{key:"load",value:function(){var e=(0,S.getInteractionElements)(document),t=(0,N.diff)(e)(this.interactionElements_),n=k(e)?E(t):t;this.interactionElements_=(0,N.concat)(t)(this.interactionElements_);var i=this.render(n);this.workQueue_=(0,N.concat)(i)(this.workQueue_)}},{key:"loaded",value:function(){if(0===this.interactionElements_.length){var e=this.crawler.exportCompleteData();z.sendRecommendationCollectedEvent(e)}this.load(),this.process()}},{key:"connect_",value:function(e){var t=this,n=void 0,i={playlist:_(e),idOrToken:h(e)||m(e),inative:b(e),campaignId:v(e),distributionChannelId:y(e),renderer:!0,sendUrl:!(!g(e)||!this.crawler.canonicalUrl)&&this.crawler.canonicalUrl};i.playlist&&(n=s(e),i.fallback=!("false"===a(e)),n=n.concat(f([d,c,u,l])));var r=i.context&&i.tags&&!i.tags.length&&!i.fallback,o=p(i,n);(0,q.sendPerformanceLog)("display_pending",{interactionId:m(e),channelToken:h(e)});var w=i.playlist&&P(G,document.title);return w&&z.sendArticeExclude(),r||w?Q.resolve():H.xhr.get(o).then(function(n){(0,q.sendPerformanceLog)("display_fulfilled",{interactionId:m(e),channelToken:h(e)});var r=O(n,i.playlist),o=t.crawler.exportCompleteData(r);return z.sendRecommendationCollectedEvent(o),z.sendDisplayReadyEvent(r),r},z.sendDisplayFailedEvent.bind(this,i.idOrToken,i.playlist))}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,N.map)(function(t){return e.connect_(t).then(function(n){var i=void 0;return n&&(i=new Y.ResourceManager(t,A({},n,e.params)),e.addInteractionLoadedPixel(n)),i})})(t)}},{key:"addInteractionLoadedPixel",value:function(e){var t=C(e,window.location.hostname);if(t){var n=this.win.document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("src","https://apester.go2cloud.org/aff_i?"+I(t)),this.win.document.body.appendChild(n)}}},{key:"register",value:function(e,t){this.unitsManagers_.forEach(function(n){return n.registerEvent(e,t)}),this.registeredEvents.push({name:e,callback:t})}}]),e}();t.default=J},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):v=-1,h.length&&s())}function s(){if(!m){var e=r(a);m=!0;for(var t=h.length;t;){for(p=h,h=[];++v<t;)p&&p[v].run();v=-1,t=h.length}p=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,d,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var p,h=[],m=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||m||r(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function i(){window.APESTER.Init()}var r=n(14),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(9);if(n(27),n(30).polyfill(),!window.APESTER){(0,a.sendPerformanceLog)("sdk_loaded"),window.focus(),window.APESTER=window.APESTER||new o.default(window);!function(){return(0,a.sendPerformanceLog)("sdk_init"),window.apesterLoadCallback||i}()(),function(e){if("complete"===document.readyState)return void e();window.addEventListener("load",function(){e()},!1)}(function(){window.APESTER.loaded()}),function(e){if("loading"!==document.readyState)return void e();window.addEventListener("DOMContentLoaded",function(){e()},!1)}(function(){window.APESTER.load(),window.APESTER.process()})}},function(e,t,n){"use strict";function i(e,t){var n=(0,o.findInjectionPoint)(e.cssSelectors[t]);if(n){var i=document.createElement("apester-media");return i.setAttribute("data-media-id",e.unitId),i.setAttribute("data-embed-mode","auto"),e.style&&i.setAttribute("style",e.style),e.channelId&&i.setAttribute("data-channel-id",e.channelId._id),n.parentNode.insertBefore(i,n.nextSibling),i}return!1}function r(e){return new c(function(t,n){e||n(new Error("No URL was given"));var r=a.isMobile?"mobile":"desktop";d(e).then(function(e){var n=JSON.parse(e);if(n.payload&&n.payload.interactionId){var o=n.payload,a=o.injection;if((0,u.objectSafeAccess)(["cssSelectors",r],a)&&"active"===a.status)var s=0,c=setInterval(function(){var e=i(a,r);s+=1,(e||s>=6)&&(o.injection.injectionElement=e,o.embedType="injection",(0,l.sendDisplayReadyEvent)(o),clearInterval(c),t({element:e,model:o}))},1e3)}else t()}).catch(function(e){n(new Error("Error contacting the injected units: ",e))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.injectInteraction=i,t.getAutoPlacement=r;var o=n(3),a=n(2),s=n(5),u=n(1),l=n(4),c="undefined"==typeof Promise?n(0).Promise:Promise,d=function(e){var t=encodeURI(e);return s.xhr.get("https://display.apester.com/injected-units?url="+t+"&platform="+(a.isMobile?"mobile":"desktop"))}},function(e,t,n){"use strict";function i(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function r(){var e=document.createElement("div");return e.classList.add("apester-companion-container"),e}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0;if(e.publisher&&e.publisher.companion&&(t=t||e.publisher.companion,t=c.isMobile?t.mobile:t.desktop),e.companion&&(t=t||e.companion,t=c.isMobile?t.mobile:t.desktop),e.campaignData&&(t=e.campaignData.companionOptions),!t||!t.attributes)return t}function a(e,t){var n=void 0;if(e){var a=e.ownerDocument.defaultView,u=o(t),c=r();u&&(n=new l.default(a,u,t),n.init().then(function(e){c.appendChild(e),n.load()}),i(c,e),(0,s.sendCompanionEvent)())}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var s=n(4),u=n(21),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(2)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"buildCallback",value:function(){this.playerId_="player-"+Math.random().toString(36).substring(7),this.settings_=this.isMobile?this.options.mobile:this.options.desktop,this.settings_.macros={page_url:encodeURIComponent(document.location.href),width:this.parent.offsetWidth,height:this.parent.offsetHeight,cb:Math.random(),sr_format:"js",param1:this.options.mediaId,param2:this.options.channelId},this.muted_=this.settings_.muted,this.player_=this.constructPlayer()}},{key:"constructPlayer",value:function(){var e=this.element.ownerDocument.createElement("div");return e.classList.add("streamrail"),e.id=this.playerId_,e}},{key:"playCallback",value:function(){var e=this;return this.viewportCallback(this.isInViewport()),this.playLoop_(),new d(function(t,n){e.player_.on("AdSkipped",function(){e.played_=!0,t()}),e.player_.on("closeButtonClick",function(){e.played_=!0,t()}),e.player_.on("AdVolumeChange",function(e){}),e.player_.on("AdVideoComplete",function(){e.played_=!0,t()}),e.player_.on("waiting",function(){})})}},{key:"waitForReady",value:function(){return new d(function(e,t){window.srAsyncInit=function(){e()}})}},{key:"layoutCallback",value:function(){var e=this;return this.element.appendChild(this.player_),(0,c.loadScript)(this.win,"//sdk.streamrail.com/player/sr.ads.js").then(this.waitForReady).then(function(){return e.player_=SR(e.playerId_,e.settings_),e.playerHTMLElement_=e.player_.el()||"</div>",new d(function(t,n){window.player=e.player_,e.player_.on("AdImpression",function(t){e.player_.pause()}),e.player_.on("pause",function(){t()})})})}},{key:"unlayoutOnPause",value:function(){return!0}},{key:"viewportCallback",value:function(e){this.player_ instanceof HTMLElement||(this.muted_||this.toggleMute(e),!this.played_&&this.settings_.pauseOnExit&&this.togglePause(e))}},{key:"togglePause",value:function(e){e&&this.player_.paused()&&this.player_.play(),e||this.player_.paused()||this.player_.pause()}},{key:"toggleMute",value:function(e){this.player_.muted(!e),e?this.player_.volume(100):this.player_.volume(0)}},{key:"playLoop_",value:function(){var e=this,t=0,n=setInterval(function(){e.player_.paused()?e.player_.play():clearInterval(n),function(){10===(t+=1)&&clearInterval(n)}()},200)}}]),t}(u.BaseElement);(0,l.registerElement)(e,"STREAMRAIL",t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.installStreamRail=a;var u=n(6),l=n(7),c=n(13),d="undefined"==typeof Promise?n(0).Promise:Promise},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){var n=void 0;return function(){var i=(new Date).getTime();(!n||n-i<=t)&&(n=i,e())}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.sizeMapping();return(0,d.reduce)(function(e,t){return e.addSize(t.viewport,t.dimensions)},n)(t).build()}function a(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=i.slot,a=i.options,s=[];if(o){var u=e.defineSlot(o,[],t).defineSizeMapping(n).addService(e.pubads()).setTargeting("channel_id",[r]).setCollapseEmptyDiv(a.collapseEmpty,!0);s.push(u)}return s}function s(e,t,n,i){var r=e.googletag,s=n.mapping,u=n.settings,l=o(r,s),c=a(r,t,l,u,i);return r.enableServices(),c}function u(e){var t=document.createElement("div");return t.id=e,t.classList.add("apester-companion"),t}function l(e,t,n){e.addEventListener("message",function(e){e.data.type===t&&"function"==typeof n&&n(e.data)})}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=n(1),f=n(13),p=n(11),h="undefined"==typeof Promise?n(0).Promise:Promise,m="picked_answer",v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e),this.win=t,this.slots=null,this.model=r,this.channelId=r.publisher?r.publisher.publisherId:"",this.companionModel=n,this.id="apester-companion-"+(0,p.s4)(),this.refreshCallback=this.getRefreshCallback(),this.listeners=l(t,m,this.refreshCallback)}return c(e,[{key:"init",value:function(){var e=this,t=u(this.id),n=function(){return h.resolve()};return(this.win.googletag?n:f.loadScript)(this.win,"https://www.googletagservices.com/tag/js/gpt.js").then(function(){e.win.googletag=e.win.googletag||{};var n=e.win.googletag;n.cmd=n.cmd||[];var i=function(){e.slots=s(e.win,e.id,e.companionModel,e.channelId)};return n.cmd.push(i),t})}},{key:"load",value:function(){var e=this;this.win.googletag.cmd.push(function(){e.win.googletag.display(e.id),e.refreshSlot()})}},{key:"refreshSlot",value:function(){this.win.googletag.pubads().refresh(this.slots)}},{key:"refreshAll",value:function(){this.win.googletag.pubads().refresh()}},{key:"getRefreshCallback",value:function(){var e=this.companionModel.settings,t=void 0;if(e){var n=e.options,i=n.refreshOnClick,o=n.lockTime;"all"===i?t=this.refreshAll.bind(this):"apester"===i&&(t=this.refreshSlot.bind(this)),o&&(t=r(t,o).bind(this))}return t}}]),e}();t.default=v},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.Observable=function(){function e(){i(this,e),this.listeners_=[]}return r(e,[{key:"add",value:function(e){var t=this;return this.listeners_.push(e),function(){t.remove(e)}}},{key:"remove",value:function(e){var t=this.listeners_.indexOf(e);-1!=t&&this.listeners_.splice(t,1)}},{key:"fire",value:function(e){for(var t=0;t<this.listeners_.length;t++){this.listeners_[t].call(this,e)}}}]),e}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=t.ResourceState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(14),a="undefined"==typeof Promise?n(0).Promise:Promise,s=t.ResourceState={NOT_BUILT:0,NOT_LAID_OUT:1,READY_FOR_LAYOUT:2,LAYOUT_SCHEDULED:3,LAYOUT_COMPLETE:4,LAYOUT_FAILED:5};t.Resource=function(){function e(t,n,r,u){var l=this;i(this,e),this.id_=t,this.element=new n,this.parent=r,this.hostWin=this.element.element.ownerDocument.defaultView,this.resources_=u,this.owner_=void 0,this.state_=this.element.isBuilt()?s.NOT_LAID_OUT:s.NOT_BUILT,this.layoutCount_=0,this.layoutBox_=(0,o.layoutRectLtwh)(-1e4,-1e4,0,0),this.initialLayoutBox_=null,this.isMeasureRequested_=!1,this.isInViewport_=!1,this.layoutPromise_=null,this.loadedOnce_=!1,this.loadPromiseResolve_=null,this.loadPromise_=new a(function(e){l.loadPromiseResolve_=e}),this.paused_=!1,this.parent.appendChild(this.element.element),this.element.connectedCallback()}return r(e,[{key:"getId",value:function(){return this.id_}},{key:"getElementForResource",value:function(){return this.element}},{key:"getDOMElementForResource",value:function(){return this.element.element}},{key:"updateOwner",value:function(e){this.owner_=e}},{key:"getOwner",value:function(){return this.owner_}},{key:"hasOwner",value:function(){return!!this.getOwner()}},{key:"getState",value:function(){return this.state_}},{key:"build",value:function(){try{this.element.build()}catch(e){return}this.hasBeenMeasured()?this.state_=s.READY_FOR_LAYOUT:this.state_=s.NOT_LAID_OUT}},{key:"measure",value:function(){this.isMeasureRequested_=!1;var e=this.resources_.getLayoutRect(this.element.element);this.layoutBox_=e,this.state_!=s.NOT_BUILT&&this.state_==s.NOT_LAID_OUT&&(this.state_=s.READY_FOR_LAYOUT),this.hasBeenMeasured()||(this.initialLayoutBox_=e),this.element.updateLayoutBox(e)}},{key:"isMeasureRequested",value:function(){return this.isMeasureRequested_}},{key:"hasBeenMeasured",value:function(){return!!this.initialLayoutBox_}},{key:"requestMeasure",value:function(){this.state_!=s.NOT_BUILT&&(this.isMeasureRequested_=!0)}},{key:"getLayoutBox",value:function(){if(!this.isFixed_)return this.layoutBox_;var e=this.resources_.getViewport();return moveLayoutRect(this.layoutBox_,e.getScrollLeft(),e.getScrollTop())}},{key:"getInitialLayoutBox",value:function(){return this.initialLayoutBox_||this.layoutBox_}},{key:"isDisplayed",value:function(){return this.layoutBox_.height>0&&this.layoutBox_.width>0}},{key:"layoutScheduled",value:function(){this.state_=s.LAYOUT_SCHEDULED}},{key:"startLayout",value:function(){var e=this;if(this.layoutPromise_)return this.layoutPromise_;this.measure(),this.layoutCount_++,this.state_=s.LAYOUT_SCHEDULED;var t=void 0;try{t=this.element.layoutCallback()}catch(e){return a.reject(e)}return this.layoutPromise_=t.then(function(){return e.layoutComplete_(!0)},function(t){return e.layoutComplete_(!1,t)}),this.layoutPromise_}},{key:"layoutComplete_",value:function(e,t){if(this.loadPromiseResolve_&&(this.loadPromiseResolve_(),this.loadPromiseResolve_=null),this.layoutPromise_=null,this.loadedOnce_=!0,this.state_=e?s.LAYOUT_COMPLETE:s.LAYOUT_FAILED,!e)return a.reject(t)}},{key:"isLayoutPending",value:function(){return this.state_!=s.LAYOUT_COMPLETE&&this.state_!=s.LAYOUT_FAILED}},{key:"loadedOnce",value:function(){return this.loadPromise_}},{key:"hasLoadedOnce",value:function(){return this.loadedOnce_}},{key:"isInViewport",value:function(){return this.isInViewport_}},{key:"setInViewport",value:function(e){e!=this.isInViewport_&&(this.isInViewport_=e,this.element.viewportCallback(e))}},{key:"unlayout",value:function(){this.state_!=s.NOT_BUILT&&this.state_!=s.NOT_LAID_OUT&&(this.setInViewport(!1),this.element.unlayoutCallback()&&(this.element.togglePlaceholder(!0),this.state_=s.NOT_LAID_OUT,this.layoutCount_=0,this.layoutPromise_=null))}},{key:"pause",value:function(){this.state_==s.NOT_BUILT||this.paused_||(this.paused_=!0,this.setInViewport(!1),this.element.pauseCallback(),this.element.unlayoutOnPause()&&this.unlayout())}},{key:"pause",value:function(){this.state_==s.NOT_BUILT||this.paused_||(this.paused_=!0,this.setInViewport(!1),this.element.pauseCallback(),this.element.unlayoutOnPause()&&this.unlayout())}},{key:"pauseOnRemove",value:function(){this.state_!=s.NOT_BUILT&&(this.setInViewport(!1),this.paused_||(this.paused_=!0,this.element.pauseCallback()))}},{key:"resume",value:function(){this.state_!=s.NOT_BUILT&&this.paused_&&(this.paused_=!1,this.element.resumeCallback())}},{key:"play",value:function(){var e=void 0;try{e=this.element.playCallback()}catch(e){return a.reject(e)}return e}},{key:"engage",value:function(){var e=void 0;try{e=this.element.engagementCallback()}catch(e){return a.reject(e)}return e}},{key:"stop",value:function(){this.element.stopCallback()}},{key:"unload",value:function(){this.pause(),this.unlayout()}},{key:"registerEvent",value:function(e,t){this.element.registerEvent(e,t)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=this,n=arguments,i=!1,r=new _(function(r,o){e.then(function(){i||r.apply(t,n)},function(){i||o.apply(t,n)})});return r.cancel=function(){return i=!0},r}function a(e,t,n,i){return{left:e,top:t,width:n,height:i,bottom:t+i,right:e+n}}function s(e){var t=!!e.data.preResult,n=!!e.data.videoId;return(e.data.size||{}).height>0?t||n||e.data.updatedVersion>=7?(e.data.size||{}).height||338:(e.data.size||{}).height-40:338}function u(e){var t=e.getBoundingClientRect(),n=window.innerHeight-t.top,i=t.top>=0?n>=160:t.bottom>=160;return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)&&i}Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceManager=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=o,t.layoutRectLtwh=a;var d=n(23),f=n(25),p=i(f),h=n(19),m=i(h),v=n(4),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),g=(n(1),n(10)),_="undefined"==typeof Promise?n(0).Promise:Promise,b=function(e,t){e.style.height=t+"px"},w=function(e,t){e.style["max-width"]=t+"px"};t.ResourceManager=function(){function e(t,n){var i=this;r(this,e),this.element=t,this.element.style.height=s(n)+"px",this.model_=n,this.companions_=[],this.element.classList.add("apester-element"),this.resources_=[],this.pass_=null,this.toggled_=!1,this.resourceIdCounter_=0,this.addCount_=0,this.shouldToggle_=!1,this.master_=null,this.masterActive_=!0,this.slave_=null,this.seen_=!1,this.trigger_={},this.trigger_.options={};var o=void 0;this.model_.publisher&&(o=this.model_.publisher.trigger),this.trigger_=this.model_.trigger||o||this.trigger_,this.predicate_=function(){if(i.trigger_){var e=i.trigger_.options.duration||"4000",t=parseInt(e);return new _(function(e,n){setTimeout(function(){e()},t)})}return _.reject()},this.trigger_&&window.addEventListener("message",function(e){e&&("unit_engaged"===e.data.type&&setTimeout(function(){i.activePredicate_={triggerType:"unitEngaged",triggerFunction:"timer",triggerOptionDuration:"3000",triggerOptionForceViewability:""+(i.trigger_.options.forceViewability||!1)},i.updateView_()},3e3),"unit_complete"===e.data.type&&setTimeout(function(){i.activePredicate_={triggerType:"unitComplete",triggerFunction:"timer",triggerOptionDuration:"5000",triggerOptionForceViewability:""+(i.trigger_.options.forceViewability||!1)},i.updateView_()},5e3))}),this.viewport_=new p.default(window),this.isInViewport_=u(this.element),this.isInViewport_&&(this.seen_=!0,y.sendMediaSeen(l({},this.model_,{iframeType:this.master_&&this.master_.element.implementation_.isFriendly_?"friendlyIframe":"iframe"}))),this.viewport_.onChanged(function(){return requestAnimationFrame(function(){var e=u(i.element);i.isInViewport_=e;for(var t=0;t<i.resources_.length;t++){i.resources_[t].setInViewport(i.isInViewport_)}i.isInViewport_&&!i.seen_&&(i.seen_=!0,y.sendMediaSeen(l({},i.model_,{iframeType:i.master_&&i.master_.element.implementation_.isFriendly_?"friendlyIframe":"iframe"}))),e&&i.master_.getState()===d.ResourceState.LAYOUT_COMPLETE&&i.updateView_()})})}return c(e,[{key:"Initialize",value:function(){var e=(0,m.default)(this.element,this.model_);this.companions_.push(e);var t=void 0;this.model_.publisher&&(t=this.model_.publisher.extensions||[]),this.model_.publisherId=this.element.getAttribute("data-channel-id")||this.model_.publisherId;var n=this.model_.extensions||t||[],i=!!this.element.getAttribute("data-channel-id"),r=!!this.element.getAttribute("data-context")&&"true"===this.element.getAttribute("data-context");n.unshift({type:"interaction",provider:{type:"renderer",version:"0.1.0",options:{monetized:i},content:this.model_.renderer}});for(var o=0;o<n.length;o++){var a=n[o];a.provider.options.mediaId=this.model_.interactionId,a.provider.options.interactionId=this.model_.interactionId,a.provider.options.channelId=this.model_.publisherId,a.provider.options.type=this.getInteractionType(r),a.provider.options.campaignData=this.model_.campaignData,a.provider.options.isContextualMatch=this.model_.isContextualMatch,a.provider.options.evergreen=this.model_.evergreen,this.model_.iosDeviceInfo?a.provider.options.iosDeviceInfo=this.model_.iosDeviceInfo:a.provider.options.iosDeviceInfo={trackingEnabled:this.model_.dnt,advertisingId:this.model_.ifa,bundleId:this.model_.bundle_id,appName:this.model_.app_name,appStoreUrl:this.model_.app_store_url},this.add(a)}}},{key:"getInteractionType",value:function(e){var t="editorial";return this.isNonEditorialTag_(this.element)&&(t="playlist"),e&&(t="contextual playlist"),t}},{key:"isNonEditorialTag_",value:function(e){return!!(e.getAttribute("data-channel-token")||e.getAttribute("data-random")||e.getAttribute("data-token"))}},{key:"cycle_",value:function(){for(var e=(Date.now(),0);e<this.resources_.length;e++){var t=this.resources_[e];t.getState()==d.ResourceState.NOT_BUILT&&this.build_(t)}for(var n=0;n<this.resources_.length;n++){var i=this.resources_[n];i.getState()==d.ResourceState.NOT_BUILT||i.hasOwner()||(i.getState()==d.ResourceState.NOT_LAID_OUT||i.isMeasureRequested())&&i.measure()}for(var r=0;r<this.resources_.length;r++){var o=this.resources_[r];o.getState()!=d.ResourceState.READY_FOR_LAYOUT||o.hasOwner()||this.layout_(o)}}},{key:"add",value:function(e){var t=function(){return new(APESTER[e.provider.type.toUpperCase()])(e)};++this.addCount_;var n=new d.Resource(++this.resourceIdCounter_,t,this.element,this);n.getDOMElementForResource();if(1===this.resourceIdCounter_){this.master_=n,this.setActiveResource_(n);this.master_.getElementForResource()}else this.slave_=n,this.predicateToggle_(),this.setInactiveResource_(n);this.updateView_(),n.getDOMElementForResource().id||(n.getDOMElementForResource().id="APESTER_"+n.getId()),this.resources_.push(n);n.getElementForResource();this.cycle_()}},{key:"build_",value:function(e){var t=this;e.registerEvent(g.rendererEventsNames.RESIZE_UNIT,function(e){t.model_.interactionId===e.id&&e.height&&b(t.element,e.height),t.model_.interactionId===e.id&&e.width&&w(t.element,e.width)}),e.build()}},{key:"layout_",value:function(e){var t=this;e.startLayout().then(function(){e.setInViewport(t.isInViewport_),t.updateView_();e.getElementForResource()}).catch(function(t){e.getElementForResource()})}},{key:"updateView_",value:function(){this.slave_&&this.master_.getState()===d.ResourceState.LAYOUT_COMPLETE&&this.scheduleToggle_()}},{key:"setActiveResource_",value:function(e){var t=e.getDOMElementForResource();t.classList.add("apester-active"),t.classList.remove("apester-ready")}},{key:"setInactiveResource_",value:function(e){var t=e.getDOMElementForResource();t.classList.remove("apester-active"),t.classList.add("apester-ready")}},{key:"tryToggle",value:function(e){var t=this,n=setInterval(function(){if(!t.toggled_&&t.slave_){if(t.slave_.getState()===d.ResourceState.LAYOUT_COMPLETE){t.toggled_=!0,clearInterval(n),t.setActiveResource_(t.slave_),t.setInactiveResource_(t.master_);t.slave_.getElementForResource();return t.slave_.play().then(function(){t.setActiveResource_(t.master_),t.setInactiveResource_(t.slave_);t.slave_.getElementForResource()})}}else clearInterval(n)},200)}},{key:"predicateToggle_",value:function(){var e=this,t=o(this.predicate_()),n=o(this.master_.engage());t.then(function(){e.activePredicate_={triggerType:e.trigger_.type,triggerFunction:e.trigger_.function,triggerOptionDuration:""+e.trigger_.options.duration,triggerOptionForceViewability:""+(e.trigger_.options.forceViewability||!1),iframeType:e.master_&&e.master_.element.implementation_.isFriendly_?"friendlyIframe":"iframe"},e.updateView_()}),n.then(function(){t.cancel()})}},{key:"scheduleToggle_",value:function(){var e=this.activePredicate_;if(!this.toggling_&&e){var t=this.trigger_.options.forceViewability;!this.isInViewport_&&t||(this.toggling_=!0,this.tryToggle(e))}}},{key:"getLayoutRect",value:function(e){var t=e.getBoundingClientRect();return a(Math.round(t.left),Math.round(t.top),Math.round(t.width),Math.round(t.height))}},{key:"registerEvent",value:function(e,t){this.resources_.forEach(function(n){return n.registerEvent(e,t)})}}]),e}()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(22),a=function(){function e(t){var n=this;i(this,e),this.win=t,this.changeObservable_=new o.Observable,this.changeEventListener=function(){return n.changeObservable_.fire()},this.connect_()}return r(e,[{key:"onChanged",value:function(e){return this.changeObservable_.add(e)}},{key:"connect_",value:function(){for(var e=["DOMContentLoaded","load","scroll","resize"],t=0;t<e.length;t++)this.win.addEventListener(e[t],this.changeEventListener.bind(this),!1)}},{key:"disconnect_",value:function(e){for(var t=["DOMContentLoaded","load","scroll","resize"],n=0;n<t.length;n++)this.win.removeEventListener(t[n],this.changeEventListener.bind(this),!1)}}]),e}();t.default=a},function(e,t,n){t=e.exports=n(28)(),t.push([e.i,'.apester-hidden {\n  pointer-events: none;\n  -webkit-animation: apester-hide 1s ease-out forwards;\n  animation: apester-hide 1s ease-out forwards; }\n\n@-webkit-keyframes apester-hide {\n  from {\n    visibility: visible;\n    opacity: 1; }\n  to {\n    visibility: hidden;\n    opacity: 0; } }\n\n@keyframes apester-hide {\n  from {\n    visibility: visible;\n    opacity: 1; }\n  to {\n    visibility: hidden;\n    opacity: 0; } }\n\n.apester-loading-container {\n  position: absolute !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  z-index: 1 !important;\n  display: block;\n  background: #ffffff; }\n\n.apester-element {\n  display: block;\n  position: relative;\n  max-width: 600px;\n  width: 100%;\n  margin: 0 auto;\n  overflow: hidden; }\n\n.apester-video-component {\n  width: 100%;\n  margin: 0 auto; }\n\n.apester-layer-fill {\n  width: 100% !important;\n  height: 100% !important;\n  margin: 0 auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0; }\n\n.apester-active {\n  opacity: 1; }\n\n.apester-ready {\n  display: none !important;\n  opacity: 0;\n  pointer-events: none; }\n\n.apester-done {\n  opacity: 0;\n  pointer-events: none; }\n\n.apester-layer {\n  display: block;\n  overflow: hidden !important;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  transition: opacity 1s ease-out; }\n  .apester-layer.fullscreen {\n    background: rgba(34, 36, 38, 0.97) !important;\n    position: fixed !important;\n    width: 100vw;\n    height: 100%;\n    z-index: 2147483646 !important;\n    zoom: 1;\n    -webkit-overflow-scrolling: touch !important; }\n\n.apester-video-component {\n  background: black; }\n\n.apester-video-component .video-js {\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%); }\n\n.apester-fill-content {\n  display: block;\n  width: 1px;\n  min-width: 100%;\n  height: 100%;\n  margin: auto; }\n\n.apester-loading-container img {\n  position: absolute;\n  height: 100px;\n  width: 100px;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  margin-top: -22px; }\n\n.streamrail {\n  height: 100%;\n  background: black; }\n\n.blobs {\n  -webkit-filter: url("#goo");\n  filter: url("#goo");\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0; }\n\n.blob {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin: auto;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background-color: #ee2e3d; }\n\n.blob:nth-child(1) {\n  -webkit-animation: blob-left-anim cubic-bezier(0.77, 0, 0.175, 1) 2s infinite;\n  animation: blob-left-anim cubic-bezier(0.77, 0, 0.175, 1) 2s infinite; }\n\n.blob:nth-child(2) {\n  -webkit-animation: blob-right-anim cubic-bezier(0.77, 0, 0.175, 1) 2s infinite;\n  animation: blob-right-anim cubic-bezier(0.77, 0, 0.175, 1) 2s infinite; }\n\n@-webkit-keyframes blob-left-anim {\n  0% {\n    -webkit-transform: scale(1) translate(0, 0);\n    transform: scale(1) translate(0, 0); }\n  33% {\n    -webkit-transform: scale(0.55, 0.5) translate(80px, 0);\n    transform: scale(0.55, 0.5) translate(80px, 0); }\n  66% {\n    -webkit-transform: scale(0.8) translate(0, 0);\n    transform: scale(0.8) translate(0, 0); }\n  100% {\n    -webkit-transform: scale(1) translate(0, 0);\n    transform: scale(1) translate(0, 0); } }\n\n@keyframes blob-left-anim {\n  0% {\n    -webkit-transform: scale(1) translate(0, 0);\n    transform: scale(1) translate(0, 0); }\n  33% {\n    -webkit-transform: scale(0.55, 0.5) translate(80px, 0);\n    transform: scale(0.55, 0.5) translate(80px, 0); }\n  66% {\n    -webkit-transform: scale(0.8) translate(0, 0);\n    transform: scale(0.8) translate(0, 0); }\n  100% {\n    -webkit-transform: scale(1) translate(0, 0);\n    transform: scale(1) translate(0, 0); } }\n\n@-webkit-keyframes blob-right-anim {\n  0% {\n    -webkit-transform: scale(1) translate(0, 0);\n    transform: scale(1) translate(0, 0); }\n  33% {\n    -webkit-transform: scale(0.55, 0.5) translate(-80px, 0);\n    transform: scale(0.55, 0.5) translate(-80px, 0); }\n  66% {\n    -webkit-transform: scale(0.8) translate(0, 0);\n    transform: scale(0.8) translate(0, 0); }\n  100% {\n    -webkit-transform: scale(1) translate(0, 0);\n    transform: scale(1) translate(0, 0); } }\n\n@keyframes blob-right-anim {\n  0% {\n    -webkit-transform: scale(1) translate(0, 0);\n    transform: scale(1) translate(0, 0); }\n  33% {\n    -webkit-transform: scale(0.55, 0.5) translate(-80px, 0);\n    transform: scale(0.55, 0.5) translate(-80px, 0); }\n  66% {\n    -webkit-transform: scale(0.8) translate(0, 0);\n    transform: scale(0.8) translate(0, 0); }\n  100% {\n    -webkit-transform: scale(1) translate(0, 0);\n    transform: scale(1) translate(0, 0); } }\n\n@-webkit-keyframes apester {\n  0% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    opacity: 1; }\n  20% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    opacity: 0; }\n  40% {\n    -webkit-transform: scale(0.5);\n    transform: scale(0.5);\n    opacity: 0; }\n  66% {\n    -webkit-transform: scale(0.8);\n    transform: scale(0.8);\n    opacity: 1; }\n  100% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    opacity: 1; } }\n\n@keyframes apester {\n  0% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    opacity: 1; }\n  20% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    opacity: 0; }\n  40% {\n    -webkit-transform: scale(0.5);\n    transform: scale(0.5);\n    opacity: 0; }\n  66% {\n    -webkit-transform: scale(0.8);\n    transform: scale(0.8);\n    opacity: 1; }\n  100% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    opacity: 1; } }\n\n.apester {\n  background: url("https://static.apester.com/svg/sdk-loader.svg") no-repeat center;\n  position: absolute;\n  height: 28px;\n  width: 28px;\n  left: calc(50% - 14px);\n  top: calc(50% - 14px); }\n\n.apester svg {\n  height: 100%;\n  width: 100%; }\n\n.apester-companion-container {\n  display: block;\n  position: relative;\n  max-width: 600px;\n  width: 100%;\n  margin: 0 auto; }\n\n.apester-companion {\n  text-align: center;\n  margin: 10px auto; }\n  @media (max-width: 480px) {\n    .apester-companion {\n      margin: 20px auto; } }\n',""])},function(e,t,n){var i=n(26);"string"==typeof i&&(i=[[e.i,i,""]]);n(31)(i,{});i.locals&&(e.exports=i.locals)},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){(function(t){(function(){var n,i,r,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},i=t.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},o=n(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(15))},function(e,t,n){(function(t){for(var i=n(29),r="undefined"==typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=r["request"+a],u=r["cancel"+a]||r["cancelRequest"+a],l=0;!s&&l<o.length;l++)s=r[o[l]+"Request"+a],u=r[o[l]+"Cancel"+a]||r[o[l]+"CancelRequest"+a];if(!s||!u){var c=0,d=0,f=[];s=function(e){if(0===f.length){var t=i(),n=Math.max(0,1e3/60-(t-c));c=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},u=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){u.apply(r,arguments)},e.exports.polyfill=function(){r.requestAnimationFrame=s,r.cancelAnimationFrame=u}}).call(t,n(16))},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=h[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(c(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(c(i.parts[o],t));h[i.id]={id:i.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],a=r[1],s=r[2],u=r[3],l={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(l):t.push(n[o]={id:o,parts:[l]})}return t}function o(e,t){var n=v(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=_[_.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),_.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=_.indexOf(e);t>=0&&_.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),o(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),o(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,i,r;if(t.singleton){var o=g++;n=y||(y=s(t)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),i=p.bind(null,n,t),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=f.bind(null,n),r=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function d(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=b(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),v=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),y=null,g=0,_=[],b=n(32);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},void 0===t.singleton&&(t.singleton=m()),void 0===t.insertInto&&(t.insertInto="head"),void 0===t.insertAt&&(t.insertAt="bottom");var n=r(e);return i(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=h[s.id];u.refs--,o.push(u)}if(e){i(r(e),t)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete h[u.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var o;return o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t){},function(e,t,n){e.exports=n(17)}]);
})(); 
}
 catch(e) {  var xmlHttp = new XMLHttpRequest();xmlHttp.open("POST", "https://events.apester.com/event", true);xmlHttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");xmlHttp.send(JSON.stringify({event: "apester-sdk-error",properties: {referrer: encodeURIComponent(document.location.href)},metadata: {}}));console.error("ApesterSDK had critical error, please contact us with the following error message: ", e)}