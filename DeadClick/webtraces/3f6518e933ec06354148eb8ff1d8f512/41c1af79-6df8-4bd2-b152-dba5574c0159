!function(t,s,i){function e(s,i){this.element=s,this.settings=t.extend({},o,i),this._defaults=o,this._name=n,this.init()}var n="imageCredit",o={vertical:"bottom",horizontal:"right",insideBorder:!0,"class":"dam-credit",prefix:"",defaultStyles:!0,"show-default":"hover","show-touch":!0,"show-narrow":!1,narrow:768};t.extend(e.prototype,{init:function(){var t=this,i=this.buildCredit;"object"==typeof s.bN&&s.bN.set("amp-credit",1),"IMG"===this.element.tagName?"function"!=typeof s.imagesLoaded?(console&&console.warn&&console.warn("Building credits without imagesLoaded plugin; undesirable results will occur the first time a user sees an image."),i.call(t)):s.imagesLoaded(this.element,function(){i.call(t)}):console&&console.warn&&console.warn("$.imageCredit can only add credits to images.")},buildCredit:function(){var e=t(this.element),n=t("<div>"),o=e.data();for(var a in this.settings)if(this.settings.hasOwnProperty(a)){var r="credit"+a.substring(0,1).toUpperCase()+a.substring(1);o[r]&&(this.settings[a]=o[r])}e.css("display","block"),n.css({display:"inline-block",position:"relative"}),e.wrap(n);var h,c=e.data("credit");if(h=o.creditLinkBack?t("<a>",{"class":"link",href:o.creditLinkBack}).css({"text-decoration":"none"}):t("<div>"),h.addClass(this.settings["class"]).html(this.settings.prefix+c),this.settings.defaultStyles){var d=t("#dam-image-credit-styles");if(!d.length){var l="/* Image Credit Styles */\n",g="ontouchstart"in s||s.DocumentTouch&&i instanceof DocumentTouch?!0:!1,p="\n\n/* Hover behavior */\n."+this.settings["class"]+" {\n    opacity: 0;\n    -webkit-transition: opacity 0.2s;\n    -moz-transition: opacity 0.2s;\n    transition: opacity 0.2s;\n}\n\nimg[data-credit]:hover + ."+this.settings["class"]+",\n."+this.settings["class"]+":hover {\n    opacity: 1;\n}";g&&!this.settings["show-touch"]||!g&&!this.settings["show-default"]?l="."+this.settings["class"]+" {    display: none;}":(l="."+this.settings["class"]+" {\n    background: rgba(255, 255, 255, 0.8);\n    color: #333;\n    font-family: sans-serif;\n    font-size: 10px;\n    margin: 0;\n    overflow: hidden;\n    padding: 5px;\n}",(g&&"hover"===this.settings["show-touch"]||!g&&"hover"===this.settings["show-default"])&&(l+=p),l+="\n\n/* Narrow screens */\n@media (max-width: "+this.settings.narrow+"px) {\n","hover"===this.settings["show-narrow"]?l+="."+this.settings["class"]+"{\n"+p+"\n}":this.settings["show-narrow"]===!1?l+="."+this.settings["class"]+" { display: none; }\n":this.settings["show-narrow"]===!0&&(l+="."+this.settings["class"]+"{\n    display: block;\n    opacity: 1;\n}"),l+="}"),d=t('<style id="dam-image-credit-styles">'+l+"</style>").appendTo("head")}}var u=e.position(),f=e.outerHeight(),w=e.outerWidth(),m=w,v=f,b=u.top,y=u.left;if(this.settings.insideBorder){var x=e.css("border-"+this.settings.vertical+"-width");x=parseInt(x,10),"top"===this.settings.vertical?b+=x:f-=x,v-=x;var k=e.css("border-"+this.settings.horizontal+"-width");k=parseInt(k,10),"left"===this.settings.horizontal?y+=k:w-=k,m-=k;var z="top";"top"===this.settings.vertical&&(z="bottom"),v-=parseInt(e.css("border-"+z+"-width"),10);var C="left";"left"===this.settings.horizontal&&(C="right"),m-=parseInt(e.css("border-"+C+"-width"),10)}h.css({position:"absolute","max-height":v+"px","max-width":m+"px","box-sizing":"border-box"}),h.insertAfter(e),h.css(this.settings.vertical,0),h.css(this.settings.horizontal,0)}}),t.fn[n]=function(s){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new e(this,s))}),this}}(jQuery,window,document);