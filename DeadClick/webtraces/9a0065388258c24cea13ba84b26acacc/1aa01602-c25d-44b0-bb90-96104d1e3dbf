define(["jquery","domReady"],function(d,c){var a=false;var b=function(f){var e=this;e.moduleDef=f;e.currentPageType=d("body").data("page-type");e.loadHandleBarsModule().done(function(){e.initLoadedModule()}).fail(function(){if(a){console.warn("Module Load Failed")}})};b.prototype={isValidHandleBarsModule:function(){if(a){console.log("isValidHandleBarsModule")}if(!this.moduleDef.hasOwnProperty("template")){if(a){console.warn("Module Definition Error : --- template property not defined ---")}return false}if(!this.moduleDef.hasOwnProperty("loadParameters")){if(a){console.warn("Module Definition Error : --- loadParameters property not defined ---")}return false}if(!this.moduleDef.loadParameters.hasOwnProperty("pluginFN")){if(a){console.warn("Module Definition Error : --- pluginFN property not defined ---")}return false}if(!this.moduleDef.loadParameters.hasOwnProperty("requireModule")){if(a){console.warn("Module Definition Error : --- requireModule property not defined ---")}return false}if(this.moduleDef.loadParameters.hasOwnProperty("pageType")){if(this.moduleDef.loadParameters.pageType.replace(/ /g,"").split(",").indexOf(this.currentPageType)===-1){if(a){console.warn("Module Definition Error : --- pageType is not a match ---")}return false}}if(!this.moduleDef.loadParameters.hasOwnProperty("target")||d(this.moduleDef.loadParameters.target).length===0){if(a){console.warn("Module Definition Error : --- target property not defined or target element not present ---")}return false}return true},loadHandleBarsModule:function(){if(a){console.log("loadHandleBarsModule")}var e=d.Deferred();if(!this.isValidHandleBarsModule()){e.reject();return e.promise()}require([this.moduleDef.loadParameters.requireModule],function(){e.resolve()});return e.promise()},initLoadedModule:function(){if(a){console.log("initLoadedModule")}if(typeof d.fn[this.moduleDef.loadParameters.pluginFN]!=="undefined"){d(this.moduleDef.loadParameters.target)[this.moduleDef.loadParameters.pluginFN](this.moduleDef)}}};c(function(){var f={};if(typeof WCS_CONFIG!=="undefined"&&WCS_CONFIG.HandleBarsModules!=="undefined"){for(var e in WCS_CONFIG.HandleBarsModules){if(WCS_CONFIG.HandleBarsModules.hasOwnProperty(e)){f[e]=new b(WCS_CONFIG.HandleBarsModules[e])}}}if(typeof main!=="undefined"&&typeof main.handleBarsModulesInit==="undefined"){main.handleBarsModulesInit=function(g){return new b(g)}}})});