define(["vfdp-s7-viewer.helpers",],function(a){var b=function(){this.configCache=[];this.config={media:{sizes:["small","medium","large","xlarge"],set:{serverurl:SCENE7.SERVER_URL,videoserverurl:SCENE7.HOST+"is/content/",contenturl:SCENE7.HOST+"is/content/",asset:"",index:0}},i18n:{en:{"FullScreenButton.TOOLTIP_SELECTED":"Minimize","FullScreenButton.TOOLTIP_UNSELECTED":"Full Screen","PanLeftButton.TOOLTIP":"Pan left","PanRightButton.TOOLTIP":"Pan right","PlayPauseButton.TOOLTIP_SELECTED":"Play","PlayPauseButton.TOOLTIP_UNSELECTED":"Pause","PlayPauseButton.TOOLTIP_REPLAY":"Replay","ZoomInButton.TOOLTIP":"Zoom in","ZoomOutButton.TOOLTIP":"Zoom out","ZoomResetButton.TOOLTIP":"Reset zoom","MutableVolume.TOOLTIP_SELECTED":"Video volume","MutableVolume.TOOLTIP_UNSELECTED":"Video volume","VideoScrubber.TOOLTIP":"Seek Video","VideoTime.TOOLTIP":"Video time","ScrollUpButton.TOOLTIP":"Scroll up","ScrollDownButton.TOOLTIP":"Scroll down"}},small:{mode:{swatches:true,setIndicator:false},ControlBar:{fullscreen:false,modifiers:{}},Swatches:{position:"bottom",modifiers:{align:"center,center",iscommand:"$VFDP-VIEWER-THUMBNAIL$",pagemode:"1",}},Viewer:{type:{ECAT_SET:"",EMPTY:"",IMG:"ZoomView",IMAGE_SET:"",MEDIA_SET:"",SPIN_SET:"SpinView",VIDEO:"VideoPlayer",VIDEO_GROUP:"",VIDEO_SET:"VideoPlayer",},ZoomView:{ControlBar:{modifiers:{}},modifiers:{iscommand:"$VFDP-VIEWER-ZOOMVIEW-HERO$",}},TileView:{ControlBar:{modifiers:{}},modifiers:{iscommand:"$VFDP-VIEWER-ZOOMVIEW-HERO$",}},TileViewEnhanced:{ControlBar:{modifiers:{}},modifiers:{iscommand:"$VFDP-VIEWER-ZOOMVIEW-HERO$",}},FlyoutZoomView:{ControlBar:{modifiers:{}},modifiers:{iscommand:"$VFDP-VIEWER-FLYOUTZOOMVIEW-HERO$",}},VideoPlayer:{ControlBar:{modifiers:{}},modifiers:{}},SpinView:{ControlBar:{modifiers:{}},modifiers:{sensitivity:"3,2",}}}},medium:{ControlBar:{fullscreen:true,modifiers:{transition:"none,-1"}},Swatches:{position:"left",modifiers:{align:"center,top"}}}};return this};b.prototype={getConfig:function(f){if(s7sdk.Logger.traceLevel>=s7sdk.Logger.FINER){console.log("ViewerConfig.prototype.getConfig",f)}f=f||a.getScreenSize();if(this.configCache[f]){return this.configCache[f]}var d=this,e={},g=this.config.media.sizes.indexOf(f),c=this.config.media.sizes.slice(0,g+1);a.map(c,function(i,h){e=a.extend(e,d.config[i])});a.map(e.Viewer,function(i,h){if(typeof i==="object"){e.Viewer[h].ControlBar=a.extend({},e.ControlBar,i.ControlBar)}});this.configCache[f]=e;return e},setConfig:function(c,d){if(s7sdk.Logger.traceLevel>=s7sdk.Logger.FINER){console.log("ViewerConfig.prototype.setConfig",c,d)}var e=JSON.stringify(this.config);this.config=a.extend({},this.config,c,d);if(JSON.stringify(this.config)!==e){this.configCache=[];return true}return false},getSizes:function(){return this.config.media.sizes},getMode:function(c){return this.getConfig().mode[c]},getMediaSet:function(c){return typeof c==="undefined"?this.config.media.set:this.config.media.set[c]},getI18n:function(c){return this.config.i18n},};return b});