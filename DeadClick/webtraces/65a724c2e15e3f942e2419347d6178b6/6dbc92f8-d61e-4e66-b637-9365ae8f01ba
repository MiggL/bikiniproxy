/** 
 *------------------------------------------------------------------------------
 * @package       T3 Framework for Joomla!
 *------------------------------------------------------------------------------
 * @copyright     Copyright (C) 2004-2013 JoomlArt.com. All Rights Reserved.
 * @license       GNU General Public License version 2 or later; see LICENSE.txt
 * @authors       JoomlArt, JoomlaBamboo, (contribute to this project at github 
 *                & Google group to become co-author)
 * @Google group: https://groups.google.com/forum/#!forum/t3fw
 * @Link:         http://t3-framework.org 
 *------------------------------------------------------------------------------
 */
jQuery.noConflict();

jQuery(document).ready(function ($) {
	jQuery(".search_menu_icon").click(function ($) {
		if(jQuery(".menu_search").hasClass("active")){
			jQuery(".menu_search").removeClass("active");	
		}else{
			jQuery(".menu_search").addClass("active");
		}
		return false;
	});
	
	/* 
	jQuery("#t3-mainnav").on( "click",".t3-navbar-collapse .navbar-nav .dropdown > a .caret", function() {
		//alert("123");
		if(jQuery(this).parent().parent().hasClass("open")){
			jQuery(this).parent().parent().removeClass("open");
		}else{
			jQuery(this).parent().parent().addClass("open");
		}
		console.log("update class 123");
		return false;
	});
	*/
	
	/*
	jQuery("#t3-mainnav").on( "mouseover",".t3-navbar-collapse .navbar-nav .dropdown > a .caret", function() {
		//alert("456");
		if(jQuery(this).parent().parent().hasClass("open")){
			jQuery(this).parent().parent().removeClass("open");
		}else{
			jQuery(this).parent().parent().addClass("open");
		}
		console.log("update class 456");
		return false;
	}); 
	
	jQuery("#t3-mainnav").on( "mouseout",".t3-navbar-collapse .navbar-nav .dropdown > a .caret", function() {
		//alert("147");
		if(jQuery(this).parent().parent().hasClass("open")){
			jQuery(this).parent().parent().removeClass("open");
		}else{
			jQuery(this).parent().parent().addClass("open");
		}
		console.log("update class 147");
		return false;
	}); 
	*/
	
	
	 
	jQuery(".t3-megamenu .dropdown-menu .mega-nav li .separator").parent().addClass("menu_heading");
	
});


function customdropdown() {
	 
	if (jQuery(window).width() >= 780) {
		jQuery('.t3-megamenu ul.nav li.dropdown').hover(function() {
		  jQuery(this).find('.dropdown-menu').stop(true, true).delay(0).fadeIn();
		}, function() {
		  jQuery(this).find('.dropdown-menu').stop(true, true).delay(0).fadeOut();
		});
	}
	
	if (jQuery(window).width() >= 780) {
		jQuery('.side_menu ul.nav li.dropdown-submenu').hover(function() {
		  jQuery(this).find('.dropdown-menu').stop(true, true).delay(0).fadeIn();
		}, function() {
		  jQuery(this).find('.dropdown-menu').stop(true, true).delay(0).fadeOut();
		});
	}
}


// Bind event listener
jQuery(window).resize(dropdown);