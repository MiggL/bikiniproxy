if (self.CavalryLogger) { CavalryLogger.start_js(["y\/xML"]); }

__d("MaybeNativePromise",["Promise"],(function a(b,c,d,e,f,g){"use strict";var h=b.Promise||c("Promise");c("Promise").resolve();f.exports=h}),null);
__d("VideoAkamaiRequestHelper",["URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k){return k.toLowerCase().indexOf("akamai")!==-1}function i(k){var l=k.startByte,m=k.endByte;if(l!=undefined&&!(l===0&&m==undefined)){var n="bytes="+l+"-"+(m==undefined?"":m);return{Range:n}}return null}function j(k){var l=new(c("URI"))(k),m=l.getQueryData(),n=m.startByte,o=m.endByte;return i({baseUrl:k,startByte:n,endByte:o})}f.exports={isAkamai:h,getRequestHeaders:i,getRequestHeadersFromUrl:j}}),null);
__d("VideoPlayerShakaParsedContextualConfig",["EventEmitter","FBLogger","VideoPlayerShakaContextualConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(){"use strict";i.constructor.call(this);this.$VideoPlayerShakaParsedContextualConfig1=null;this.$VideoPlayerShakaParsedContextualConfig2={};this.parseConfig()}j.prototype.getGlobalConfig=function(){"use strict";return this.$VideoPlayerShakaParsedContextualConfig2};j.prototype.getStaticConfig=function(){"use strict";return c("VideoPlayerShakaContextualConfig").staticConfig};j.prototype.getRawContextualConfig=function(){"use strict";return this.$VideoPlayerShakaParsedContextualConfig1};j.prototype.parseConfig=function(){"use strict";this.$VideoPlayerShakaParsedContextualConfig3();this.$VideoPlayerShakaParsedContextualConfig4();this.emit("configChange")};j.prototype.$VideoPlayerShakaParsedContextualConfig3=function(){"use strict";if(!c("VideoPlayerShakaContextualConfig").rawContextualConfig)return;try{this.$VideoPlayerShakaParsedContextualConfig1=JSON.parse(c("VideoPlayerShakaContextualConfig").rawContextualConfig)}catch(k){c("FBLogger")("VideoPlayerShakaParsedContextualConfig").warn("Failed to parse raw config")}};j.prototype.$VideoPlayerShakaParsedContextualConfig4=function(){"use strict";this.$VideoPlayerShakaParsedContextualConfig2=Object.assign({},c("VideoPlayerShakaContextualConfig").staticConfig);if(this.$VideoPlayerShakaParsedContextualConfig1)this.$VideoPlayerShakaParsedContextualConfig1.defaults.forEach(function(k){return this.$VideoPlayerShakaParsedContextualConfig2[k.name]=k.value}.bind(this))};f.exports=new j()}),null);
__d("VideoPlayerShakaGlobalConfig",["VideoPlayerShakaParsedContextualConfig","VideoPlayerShakaExperiments"],(function a(b,c,d,e,f,g){__p&&__p();var h={getBool:function i(j,k){var l=c("VideoPlayerShakaParsedContextualConfig").getGlobalConfig();if(l&&l[j]!==undefined)return l[j]==="true"||l[j]===true;return typeof c("VideoPlayerShakaExperiments")[j]==="boolean"?c("VideoPlayerShakaExperiments")[j]:k},getNumber:function i(j,k){var l=c("VideoPlayerShakaParsedContextualConfig").getGlobalConfig();if(l&&l[j]!==undefined)return Number(l[j]);return typeof c("VideoPlayerShakaExperiments")[j]==="number"?c("VideoPlayerShakaExperiments")[j]:k},getString:function i(j,k){var l=c("VideoPlayerShakaParsedContextualConfig").getGlobalConfig();if(l&&l[j]!==undefined)return String(l[j]);return typeof c("VideoPlayerShakaExperiments")[j]==="string"?c("VideoPlayerShakaExperiments")[j]:k}};f.exports=h}),null);
__d("VideoPlayerShakaError",["VideoPlayerShakaGlobalConfig"],(function a(b,c,d,e,f,g){"use strict";var h={translateError:function i(j,k,l){var m=c("VideoPlayerShakaGlobalConfig").getBool("fix_shaka_xhr_error_status",true)?j.errorRawTransportStatus:j.errorCode,n={name:j.errorType,message:j.errorMsg,type:l,url:k,status:m};return n},createTimeoutError:function i(j){var k={name:"timeout",message:"timeout",type:"net",url:j,status:0};return k}};f.exports=h}),null);
__d("VideoDashPrefetchCache",["regeneratorRuntime","Deferred","Map","MaybeNativePromise","Run","URI","VideoAkamaiRequestHelper","VideoPlayerShakaError","VideoPlayerPrefetchExperiments","XHRRequest","getCrossOriginTransport","requireWeak"],(function a(b,c,d,e,f,g){__p&&__p();var h=null;c("requireWeak")("VideoPlayerShakaBandwidthEstimator",function(t){return h=t});var i=null;c("requireWeak")("VideoStreamingTaskQueueProvider",function(t){return i=t});function j(t){var u="aborted",v={status:0},w=new Error("Prefetch request aborted.");return Object.assign(w,{type:u,url:t,xhr:v})}function k(t){var u,v=t.getURI(),w=v.toString();if(c("VideoAkamaiRequestHelper").isAkamai(w))(function(){var x=c("VideoAkamaiRequestHelper").getRequestHeadersFromUrl(w),y=v.removeQueryData(["bytestart","byteend"]);t.setURI(y);if(x)Object.keys(x).forEach(function(z){t.setRequestHeader(z,x[z])})})();return t}var l=null,m=new(c("Map"))();function n(t){var u=new(c("URI"))(t),v=u.getDomain();return v.endsWith("fbcdn.net")&&!v.startsWith("interncache")&&!v.endsWith("ak.fbcdn.net")}function o(t){var u=arguments.length<=1||arguments[1]===undefined?false:arguments[1];return u&&n(t)?c("getCrossOriginTransport").withCredentials:c("getCrossOriginTransport")}function p(t){return n(t.url)}function q(t,u,v){return{response:t.slice(u.start+0,u.end+1),responseTime:v}}function r(t){__p&&__p();var u=new(c("URI"))(t);if(u.getDomain()){u=u.removeQueryData(["oh"]);u=u.removeQueryData("__gda__");for(var v=Object.keys(u.getQueryData()),w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y;if(z.startsWith("_nc"))u=u.removeQueryData(z)}return u.toString()}return t}function s(){"use strict";this.$VideoDashPrefetchCache1=new(c("Map"))();this.$VideoDashPrefetchCache2=[];this.$VideoDashPrefetchCache3=[];this.$VideoDashPrefetchCache4=0;this.$VideoDashPrefetchCache5=c("VideoPlayerPrefetchExperiments").maxPrefetchVideosNum;this.$VideoDashPrefetchCache6=c("VideoPlayerPrefetchExperiments").consolidateFragmentedPrefetchRequest}s.prototype.$VideoDashPrefetchCache8=function(t){__p&&__p();var u=arguments.length<=1||arguments[1]===undefined?false:arguments[1];"use strict";var v=t,w=new(c("XHRRequest"))(v).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(o(v,u));k(w);var x=new(c("MaybeNativePromise"))(function(y,z){__p&&__p();w.setErrorHandler(function(A){this.$VideoDashPrefetchCache9(w);z(c("VideoPlayerShakaError").translateError(A,v,"preload"))}.bind(this));w.setResponseHandler(function(A){w.response=A;this.$VideoDashPrefetchCache9(w);y(w)}.bind(this));w.setAbortHandler(function(){if(c("VideoPlayerPrefetchExperiments").fixPrefetchCacheAbort){this.$VideoDashPrefetchCache9(w);var A=j(t);z(A)}else z(x,new Error("Request promise aborted"))}.bind(this))}.bind(this));this.$VideoDashPrefetchCache10(t,x);this.$VideoDashPrefetchCache2.push(w);if(this.$VideoDashPrefetchCache7)this.$VideoDashPrefetchCache7.push(w);else w.send();return x};s.prototype.genPrefetchMpdNow=function t(u){__p&&__p();return c("regeneratorRuntime").async(function v(w){__p&&__p();while(1)switch(w.prev=w.next){case 0:"use strict";if(!this.has(u)){w.next=3;break}return w.abrupt("return",null);case 3:return w.abrupt("return",this.$VideoDashPrefetchCache8(u));case 4:case"end":return w.stop()}},null,this)};s.prototype.$VideoDashPrefetchCache11=function(t){var u=arguments.length<=1||arguments[1]===undefined?false:arguments[1];"use strict";var v=[];for(var w=0;w<t.length;w++){var x=s.createQueryStringURL(t[w]);if(!this.has(x))v.push(this.$VideoDashPrefetchCache8(x,u))}return v};s.prototype.$VideoDashPrefetchCache12=function(t){"use strict";__p&&__p();var u=s.getConsolidatedURL(t);if(u==null)return this.$VideoDashPrefetchCache11(t);var v=new(c("XHRRequest"))(u).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(o(u));k(v);var w=Date.now(),x=[];for(var y=0;y<t.length;y++){var z=s.createQueryStringURL(t[y]),A=new(c("Deferred"))();if(!this.has(z))this.$VideoDashPrefetchCache10(z,A.getPromise());x.push(A)}v.setErrorHandler(function(B){this.$VideoDashPrefetchCache9(v);for(var y=0;y<x.length;y++)x[y].reject(c("VideoPlayerShakaError").translateError(B,u,"preload"))}.bind(this));v.setResponseHandler(function(B){var C=Date.now()-w;for(var y=0;y<t.length;y++){var D=x[y],E=t[y];D.resolve(q(B,E,C))}this.$VideoDashPrefetchCache9(v)}.bind(this));v.setAbortHandler(function(){for(var y=0;y<t.length;y++){var B=x[y];B.reject(new Error("Request aborted."))}});this.$VideoDashPrefetchCache2.push(v);v.send();return x.map(function(B){return B.getPromise()})};s.prototype.$VideoDashPrefetchCache13=function(t){__p&&__p();var u,v=this;"use strict";var w=t.useCredentials;this.$VideoDashPrefetchCache4++;var x=this.$VideoDashPrefetchCache6&&!w;if(c("VideoPlayerPrefetchExperiments").enableGlobalSchedulerForPrefetch)this.$VideoDashPrefetchCache7=[];var y=x?this.$VideoDashPrefetchCache12(t.video):this.$VideoDashPrefetchCache11(t.video,w),z=x?this.$VideoDashPrefetchCache12(t.audio):this.$VideoDashPrefetchCache11(t.audio,w),A=this.$VideoDashPrefetchCache11(t.manifest,w),B=y.concat(z,A);if(this.$VideoDashPrefetchCache7)(function(){__p&&__p();var C=v.$VideoDashPrefetchCache7||[];v.$VideoDashPrefetchCache7=null;var D=""+t.videoID,E={name:"prefetch task, "+D,run:function F(){if(D)m["delete"](D);C.forEach(function(G){return G.send()});return c("MaybeNativePromise").all(B).then(function(){})["catch"](function(){})},cancel:function F(){}};if(i){if(c("VideoPlayerPrefetchExperiments").switchPrefetchTaskToHighPriWhenPlayed&&D)m.set(D,E);i.getQueue("video").enqueue(E,c("VideoPlayerPrefetchExperiments").prefetchPriority);v.$VideoDashPrefetchCache14()}else{E.run();c("MaybeNativePromise").all(B).then(function(){return this.$VideoDashPrefetchCache14()}.bind(v))["catch"](function(){return this.$VideoDashPrefetchCache14()}.bind(v))}})();else c("MaybeNativePromise").all(B).then(function(){return this.$VideoDashPrefetchCache14()}.bind(this))["catch"](function(){return this.$VideoDashPrefetchCache14()}.bind(this))};s.prototype.$VideoDashPrefetchCache10=function(t,u){"use strict";__p&&__p();t=r(t);if(this.$VideoDashPrefetchCache1.values().next().done)c("Run").onLeave(function(){for(var v=0;v<this.$VideoDashPrefetchCache2.length;v++)this.$VideoDashPrefetchCache2[v].abort();this.$VideoDashPrefetchCache2=[];this.$VideoDashPrefetchCache3=[];this.$VideoDashPrefetchCache4=0;this.$VideoDashPrefetchCache1.clear()}.bind(this));this.$VideoDashPrefetchCache1.set(t,u)};s.prototype.$VideoDashPrefetchCache9=function(t){"use strict";var u=this.$VideoDashPrefetchCache2.indexOf(t);if(u>-1)this.$VideoDashPrefetchCache2.splice(u,1)};s.prototype.$VideoDashPrefetchCache14=function(){"use strict";this.$VideoDashPrefetchCache4--;var t=this.$VideoDashPrefetchCache3.shift();if(t)this.$VideoDashPrefetchCache13(t)};s.prototype.has=function(t){"use strict";t=r(t);return this.$VideoDashPrefetchCache1.has(t)};s.prototype.getAndDelete=function(t){"use strict";t=r(t);var u=this.$VideoDashPrefetchCache1.get(t);this.$VideoDashPrefetchCache1["delete"](t);return u};s.prototype.$VideoDashPrefetchCache15=function(t){"use strict";t=r(t);var u=this.$VideoDashPrefetchCache1.get(t);return u};s.prototype.queueRequestBatch=function(t){"use strict";if(this.$VideoDashPrefetchCache5===0||this.$VideoDashPrefetchCache4<this.$VideoDashPrefetchCache5)this.$VideoDashPrefetchCache13(t);else this.$VideoDashPrefetchCache3.push(t)};s.getInstance=function(){"use strict";if(l===null)l=new s();return l};s.createQueryStringURL=function(t){"use strict";var u=t.url,v=t.start,w=t.end;if(v!==null&&v!==undefined&&w!==null&&w!==undefined)u=new(c("URI"))(u).addQueryData({bytestart:v,byteend:w});return u.toString()};s.getConsolidatedURL=function(t){"use strict";__p&&__p();var u="",v=Infinity,w=0;for(var x=0;x<t.length;x++){var y=t[x],z=y.url,A=y.start,B=y.end;if(z==null||A==null||B==null)return null;if(u==="")u=z;else if(u!==z)return null;v=Math.min(v,A);w=Math.max(w,B)}return s.createQueryStringURL({url:u,start:v,end:w})};s.loadVideo=function(t,u){"use strict";__p&&__p();u=!!u;if(h&&h.isAutoplayBandwidthRestrained())return;if(c("VideoPlayerPrefetchExperiments").disablePrefetchCache)return;var v=s.getInstance();if(!t.manifest)t.manifest=[];v.queueRequestBatch({manifest:t.manifest.filter(p),video:t.video.filter(p),audio:t.audio.filter(p),videoID:t.videoID,useCredentials:u})};s.getCacheValue=function(t){"use strict";return s.getInstance().getAndDelete(t)};s.hasCacheValue=function(t){"use strict";return s.getInstance().has(t)};s.getPrefetchTaskByID=function(t){"use strict";var u=m.get(t)||null;return u};f.exports=s}),null);
__d("VideoDisplayTimePlayButton",["CSS","DataStore","Event"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={},i="_spinner",j={getClicked:function k(l){return c("DataStore").get(l,"clicked",false)},register:function k(l,m){__p&&__p();var n=l.id;h[n]=c("Event").listen(l,"click",function(){if(m){c("CSS").hide(l);c("CSS").show(m)}c("DataStore").set(l,"clicked",true)});if(m)h[n+i]=c("Event").listen(m,"click",function(){if(m)c("CSS").hide(m);c("CSS").show(l);c("DataStore").set(l,"clicked",false)})},unregister:function k(l){var m=l.id;if(Object.prototype.hasOwnProperty.call(h,m))h[m].remove();var n=m+i;if(Object.prototype.hasOwnProperty.call(h,n))h[n].remove()}};f.exports=j}),null);
__d("VideosRenderingInstrumentation",["DataStore","VideoPlayerHTML5Experiments","performanceAbsoluteNow"],(function a(b,c,d,e,f,g){var h={storeRenderTime:function i(j){var k=c("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?c("performanceAbsoluteNow")():Date.now();c("DataStore").set(j,"videos_rendering_instrumentation",k);return k},retrieveRenderTime:function i(j){var k=c("DataStore").get(j,"videos_rendering_instrumentation",NaN);if(Number.isNaN(k))k=h.storeRenderTime(j);return k}};f.exports=h}),null);