(function(a,b){if(typeof define==="function"&&define.amd){define(["videojs"],function(c){return(a.Youtube=b(c))})}else{if(typeof module==="object"&&module.exports){module.exports=(a.Youtube=b(require("videojs")))}else{a.Youtube=b(a.videojs)}}}(this,function(c){var e=c.getComponent("Tech");var b=c.extend(e,{constructor:function(f,g){e.call(this,f,g);this.setPoster(f.poster);this.setSrc(this.options_.source,true);setTimeout(function(){this.el_.parentNode.className+=" vjs-youtube";if(b.isApiReady){this.initYTPlayer()}else{b.apiReadyQueue.push(this)}}.bind(this))},createEl:function(){if(!this.divWrapper){this.divWrapper=document.createElement("div");this.divWrapper.setAttribute("style","width:100%;height:100%;")}return this.divWrapper},initYTPlayer:function(){var g={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide!=="undefined"){g.autohide=this.options_.autohide}if(typeof this.options_.cc_load_policy!=="undefined"){g.cc_load_policy=this.options_.cc_load_policy}if(typeof this.options_.ytControls!=="undefined"){g.controls=this.options_.ytControls}if(typeof this.options_.disablekb!=="undefined"){g.disablekb=this.options_.disablekb}if(typeof this.options_.end!=="undefined"){g.end=this.options_.end}if(typeof this.options_.color!=="undefined"){g.color=this.options_.color}if(!g.controls){g.fs=0}else{if(typeof this.options_.fs!=="undefined"){g.fs=this.options_.fs}}if(typeof this.options_.end!=="undefined"){g.end=this.options_.end}if(typeof this.options_.hl!=="undefined"){g.hl=this.options_.hl}else{if(typeof this.options_.language!=="undefined"){g.hl=this.options_.language.substr(0,2)}}if(typeof this.options_.iv_load_policy!=="undefined"){g.iv_load_policy=this.options_.iv_load_policy}if(typeof this.options_.list!=="undefined"){g.list=this.options_.list}else{if(this.url&&typeof this.url.listId!=="undefined"){g.list=this.url.listId}}if(typeof this.options_.listType!=="undefined"){g.listType=this.options_.listType}if(typeof this.options_.modestbranding!=="undefined"){g.modestbranding=this.options_.modestbranding}if(typeof this.options_.playlist!=="undefined"){g.playlist=this.options_.playlist}if(typeof this.options_.playsinline!=="undefined"){g.playsinline=this.options_.playsinline}if(typeof this.options_.rel!=="undefined"){g.rel=this.options_.rel}if(typeof this.options_.showinfo!=="undefined"){g.showinfo=this.options_.showinfo}if(typeof this.options_.start!=="undefined"){g.start=this.options_.start}if(typeof this.options_.theme!=="undefined"){g.theme=this.options_.theme}this.parentPlayer().posterImage.el_.style.backgroundSize="cover";this.parentPlayer().on("mouseover",function(h){this.userActive(true)});var f=/iPad/.test(navigator.userAgent)&&!window.MSStream;if(f){g.controls=1;g.fs=this.options_.fs;this.parentPlayer().controlBar.dispose()}this.activeVideoId=this.url?this.url.videoId:null;this.activeList=g.list;this.ytPlayer=new YT.Player(this.divWrapper,{videoId:this.activeVideoId,playerVars:g,height:false,width:false,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onError:this.onPlayerError.bind(this)}})},onPlayerReady:function(){if(this.options_.muted){this.ytPlayer.mute()}this.playerReady_=true;this.triggerReady();if(this.playOnReady){this.play()}},onPlayerPlaybackQualityChange:function(){},onPlayerStateChange:function(g){var f=g.data;if(f===this.lastState){return}switch(f){case -1:this.trigger("loadedmetadata");this.trigger("durationchange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate");this.trigger("durationchange");this.trigger("playing");this.trigger("play");if(this.isSeeking){this.onSeeked()}break;case YT.PlayerState.PAUSED:this.trigger("canplay");if(this.isSeeking){this.onSeeked()}else{this.trigger("pause")}break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate");this.player_.trigger("waiting");break}this.lastState=f},onPlayerError:function(f){this.errorNumber=f.data;this.trigger("error");this.ytPlayer.stopVideo();this.ytPlayer.destroy();this.ytPlayer=null},error:function(){switch(this.errorNumber){case 2:return{code:"Unable to find the video"};case 5:return{code:"Error while trying to play the video"};case 100:return{code:"Unable to find the video"};case 101:case 150:return{code:"Playback on other Websites has been disabled by the video owner."}}return{code:"YouTube unknown error ("+this.errorNumber+")"}},src:function(){return this.source},poster:function(){return this.poster_},setPoster:function(f){this.poster_=f},setSrc:function(f){if(!f||!f.src){return}this.source=f;this.url=b.parseUrl(f.src);if(!this.options_.poster){if(this.url.videoId){this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg";this.checkHighResPoster()}}if(this.options_.autoplay&&!a){if(this.isReady_){this.play()}else{this.playOnReady=true}}},parentPlayer:function(){return c.getPlayers()[this.options_.playerId]},play:function(){if(!this.url||!this.url.videoId){return}if(this.isReady_){if(a&&!this.hasPlayed){if(this.parentPlayer().bigPlayButton){this.parentPlayer().bigPlayButton.hide()}if(this.parentPlayer().posterImage){this.parentPlayer().posterImage.hide()}this.hasPlayed=true;return}if(this.url.listId){if(this.activeList===this.url.listId){this.ytPlayer.playVideo()}else{this.ytPlayer.loadPlaylist(this.url.listId);this.activeList=this.url.listId}}if(this.activeVideoId===this.url.videoId){this.ytPlayer.playVideo()}else{this.ytPlayer.loadVideoById(this.url.videoId);this.activeVideoId=this.url.videoId}}else{this.trigger("waiting");this.playOnReady=true}},pause:function(){if(this.ytPlayer){this.ytPlayer.pauseVideo()}},paused:function(){return(this.ytPlayer)?(this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING):true},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(f){if(this.lastState===YT.PlayerState.PAUSED){this.timeBeforeSeek=this.currentTime()}if(!this.isSeeking){this.wasPausedBeforeSeek=this.paused()}this.ytPlayer.seekTo(f,true);this.trigger("timeupdate");this.trigger("seeking");this.isSeeking=true;if(this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==f){clearInterval(this.checkSeekedInPauseInterval);this.checkSeekedInPauseInterval=setInterval(function(){if(this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking){clearInterval(this.checkSeekedInPauseInterval)}else{if(this.currentTime()!==this.timeBeforeSeek){this.trigger("timeupdate");this.onSeeked()}}}.bind(this),250)}},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval);this.trigger("seeked");this.isSeeking=false;if(this.wasPausedBeforeSeek){this.pause()}},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(f){if(!this.ytPlayer){return}this.ytPlayer.setPlaybackRate(f);this.trigger("ratechange")},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source},ended:function(){return this.ytPlayer?(this.lastState===YT.PlayerState.ENDED):false},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(f){if(!this.ytPlayer){return}this.ytPlayer.setVolume(f*100);this.setTimeout(function(){this.trigger("volumechange")},50)},muted:function(){return this.ytPlayer?this.ytPlayer.isMuted():false},setMuted:function(f){if(!this.ytPlayer){return}else{this.muted(true)}if(f){this.ytPlayer.mute()}else{this.ytPlayer.unMute()}this.setTimeout(function(){this.trigger("volumechange")},50)},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction){return{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}}var f=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return{length:1,start:function(){return 0},end:function(){return f}}},supportsFullScreen:function(){return true},checkHighResPoster:function(){var f="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var h=new Image();h.onload=function(){if("naturalHeight" in this){if(this.naturalHeight<=90||this.naturalWidth<=120){this.onerror();return}}else{if(h.height<=90||h.width<=120){this.onerror();return}}this.poster_=f;this.trigger("posterchange")}.bind(this);h.onerror=function(){};h.src=f}catch(g){}}});b.isSupported=function(){return true};b.canPlaySource=function(f){return(f.type==="video/youtube")};var a=/(iPad|iPhone|iPod|Android)/g.test(navigator.userAgent);b.parseUrl=function(h){var f={videoId:null};var j=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;var g=h.match(j);if(g&&g[2].length===11){f.videoId=g[2]}var i=/[?&]list=([^#\&\?]+)/;g=h.match(i);if(g&&g[1]){f.listId=g[1]}return f};function d(){var f=document.createElement("script");f.src="https://www.youtube.com/iframe_api";var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(f,g)}b.apiReadyQueue=[];window.onYouTubeIframeAPIReady=function(){b.isApiReady=true;for(var f=0;f<b.apiReadyQueue.length;++f){b.apiReadyQueue[f].initYTPlayer()}};d();c.registerTech("Youtube",b)}));