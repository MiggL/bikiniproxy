!function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="../",n(n.s=13)}([function(e,n,t){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0!==(r=function(e){var n=t(1),r="__zmagsPatched",o=function(e,n){if(n[r])return n;var t=function(){return n.apply(this,[this].concat(Array.prototype.slice.call(arguments)))};return t[r]=e,t},a={sandbox:function(e,n){arguments.length&&"string"!=typeof e&&(n=e,e=null),n=n||window;var t=n.__zmags||(n.__zmags={});t.channels=t.channels||{};var r,i,o=t.channels;if(e)for(r=e.split("."),i=0;i<r.length;i++)if(o=o[r[i]],"function"==typeof o&&(o=o()),null==o)return;return o},isNative:function(e){return e&&!("prototype"in e)},int:function(e,n){return parseInt(e,10)||parseInt(n,10)||0},boolean:function(e){if(null==e)return!1;var n=void 0===e?"undefined":i(e);return"boolean"===n?e:"number"===n?0!==e:"true"===(e=e.toString())},time:function(e,n){var t;return null!=e&&(t=parseInt(e,10)),isNaN(t)&&(t=parseInt(n,10)||0),Math.abs(t)},trim:function(e){return"function"==typeof e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},camelCase:function(e){return a.trim(e).replace(/(-([a-z]){1})/g,function(){return arguments[2].toUpperCase()})},options:function(e,n,t){if("string"!=typeof e)return e||{};var r,i,o,s,l,c={};if(e)for(r=e.toString().split(n||";"),s=r.length,l=0;l<s;l++)i=r[l].split("=",2),1===s&&1===i.length&&t&&i.unshift(t),(o=a.camelCase(i[0]))&&(c[o]=i[1]);return c},patchOverriddenNativeFunctions:function(){var e,n,t,r,i,l,c=[];for(r in s)if(s.hasOwnProperty(r))for(e=s[r],n=e.type.prototype,l=0;l<e.functions.length;l++)i=e.functions[l],"string"==typeof i&&(i={name:i}),a.isNative(n[i.name])||(t=r+"."+i.name,i.patch&&(n[i.name]=o(t,i.patch),t+=":patched"),c.push(t));return c},now:Date.now||function(){return(new Date).getTime()},idx:function(e,n,t){if(e){if(a.isNative(e.indexOf)&&"function"==typeof e.indexOf)return e.indexOf(n,t||0);if("string"==typeof e&&n){var r,i=new RegExp(n.replace(/[-[\]\/{}()*+?.\\^$|]/g,"\\$&"),"g");if(t&&(i.lastIndex=t),r=i.exec(e))return r.index}else{var o;for(o=t||0;o<e.length;o++)if(e[o]===n)return o}}return-1},_deferMultiplier:1,deferMultiplier:function(e){return arguments.length&&(a._deferMultiplier=a._deferMultiplier*e||1),a._deferMultiplier},defer:function(e,n){return n=(n||0)*a._deferMultiplier,{timer:setTimeout(e,n),timeout:n,toString:function(){return""+n}}},clearDefer:function(e){e&&e.timer&&(clearTimeout(e.timer),delete e.timer)},one:function(e,t,r,i){i=i||1e4;var o,s,l=!1,c=!1;return i<0&&(c=!0,i=-i),s=function(){if(!l)switch(l=!0,s.clear(),arguments.length){case 0:return r();case 1:return r(arguments[0]);default:return r.apply(r,Array.prototype.slice.call(arguments))}},s.clear=function(){o&&(a.clearDefer(o),o=null)},o=a.defer(function(){l||(e.error("One-time function not called within ",o," ms: ",n.val(t),c?" -> calling it now!":""),c&&s())},i),s}},s={array:{type:Array,functions:[{name:"indexOf",patch:a.idx},"lastIndexOf","slice"]},string:{type:String,functions:[{name:"indexOf",patch:a.idx},"lastIndexOf","trim"]},function:{type:Function,functions:["bind"]}};return a}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";var r;void 0!==(r=function(){var e=function e(n){var t;if(void 0!==n){if(n.constructor&&!(t=n.constructor.name)){var r=/function ([^(]+)/.exec(n.constructor.toString());t=r&&r[1]}t||(t=n.name)}return(e[(t||"").toLowerCase()]||e.str)(n)};return e.json=function(){return"undefined"!=typeof JSON&&"function"==typeof JSON.parse&&"function"==typeof JSON.stringify&&JSON},e.snippet=function(n){var t="Snippet[id: "+e.val(n.configId)+"; mode: "+e.val(n.mode);return n._preview&&(t+="; preview: "+e.val(n._preview)),t+"]"},e.channel=function(n){var t,r="Channel[";return n.name&&(r+="name: "+e.val(n.name)+"; "),r+="state: "+n.state,n.origin&&(r+="/"+n.origin),r+="; restore-type: "+e.val(n._restoreType)+"; loading-indicator: "+e.val(n._loadingIndicator.options),n._selector?r+="; selector: "+e.val(n._selector):(t=n._dom.element)&&(r+="; in-place-element: "+e.element(t)),n.embedded&&(r+="; embedded: "+n.embedded.id),n._url&&(r+="; url: "+e.val(n._url)),r+"; content: "+e.content(n.content)+"]"},e.content=function(n){var t,r="Content[type: "+n.type;return"experience"===n.type?t=e.experience(n.data(!0)):"group"===n.type&&(t=e.group(n.data(!0))),t&&(r+="; data: "+t,"experience"===n.type&&(r+="; scene: "+n.scene.current)),r+"; state: "+n.state+"]"},e.viewerBridge=function(e){var n="ViewerBridge[",t=e.channel(),r=e._viewerProxy();return t&&(n+="channel-id: "+t.id),r&&(t&&(n+="; "),n+="viewer: "+r),n+"]"},e.experience=function(n){var t="Experience[id: "+e.val(n.id);return n.name&&(t+="; name: "+e.val(n.name)),t+"]"},e.group=function(n){var t=n.type?n.type:"Group";return t+="[id: "+e.val(n.id),n.name&&(t+="; name: "+e.val(n.name)),t+"]"},e.element=function(e){return e.tagName+"["+(e.id||e.name||e.className)+"]"},e.bounds=function(e){if(e){var n="(w:"+(e.width||0)+", h:"+(e.height||0);return void 0!==e.left&&(n+=", x:"+e.left),void 0!==e.top&&(n+=", y:"+e.top),n+")"}return"none"},e.match=function(n){var t="Match[element: <"+(n.element?n.element.tagName:"")+">; viewport: "+e.bounds(n.viewport);return n.elements.length&&(t+="; elements: "+n.elements.length),t+"]"},e.stringify=function(n){if(e.json)try{var t=e.json.stringify(n);if(void 0!==t)return t}catch(e){}return""+n},e.str=function(n){if("string"==typeof n)return n;if(void 0===n||null===n)return"";var t=n.toString();return"[object Object]"===t?e.stringify(n):t},e.val=function(e){return"'"+e+"'"},e}.call(n,t,n,e))&&(e.exports=r)},function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){"use strict";(function(r){var i;void 0!==(i=function(e){var n=t(20),r=t(9),i=t(22),o=t(23),a=t(4),s=t(0),l={adminApiBaseUrl:"https://creator-api.zmags.com",editorBaseUrl:"//creator.zmags.com",viewerBaseUrl:"//c.zmags.com",viewerApiBaseUrl:"//c.zmags.com",viewerAliasApiBaseUrl:"//creator.zmags.com",communityBaseUrl:"https://creatorcommunity.zmags.com",errorQueueUrl:"https://c.zmags.com/queue/error/",statsDUrl:"https://statsd.zmags.com/stats",salesEmail:"sales@zmags.com",supportEmail:"support@zmags.com",editorSegmentIOKey:"20jbiv8frx",piwikConfig:{trackingScriptUrl:"//c.zmags.com/a/p/p.js",trackerUrl:"//c.zmags.com/a/p/p.php",siteID:3},enableLogging:1,logId:null,trackErrors:!0,experienceId:null,groupId:null,scene:null,statsDBucket:"creator.prod",version:"jdokmu8t"},c={adminModeIdentifier:"zmagsCreatorAdminMode",logModeIdentifier:"zmagsLog"},u=function(e,n,t){var r=e.split("?",2),i=r[1];return r=r[0].split("#",2)[0],n=n||r,{href:r,real:n,type:t||"real",secure:/^https:/i.test(n),query:s.options(i,"&"),toString:function(){return"real"===this.type?this.href:this.href+" ("+this.type+": "+this.real+")"}}},d=window,f=d.navigator.userAgent,p=function(){var e=/(\w+)\.(?:googleusercontent|bingj)\.com|\d+\.\d+\.\d+\.\d+\/proxy.ashx?/,n=/^cache:(?:([^:]+):)?/,t=u(d.location.href),r=e.exec(t.href);if(r){var i=r[1],o="q",a=3;switch(i){case void 0:o="a",i="translate",a=10;break;case"translate":o="u";break;case"cc":i="webcache",a=5}try{var l,f,p=d.decodeURIComponent(t.query[o]||"unknown_url"),h=p.length-1;"webcache"===i&&(r=n.exec(p))&&(l=r[1],f=l&&0!==s.idx(l,"http")?r[0].length:6,"+"!==p.charAt(h)&&h++,p=p.substring(f,h));var m=t.query[c.logModeIdentifier];t=u(p,t.href,i),m&&(t.query[c.logModeIdentifier]=m),s.deferMultiplier(a)}catch(e){t.error=e,t.type=i}}return t}(),h={CONFIG:l,QUERY:c,win:d,loc:p,capabilities:n.detect(f),session:new r(new i(d.sessionStorage)),cookie:new r(new o(d.document,p.secure)),$:function(){var e=d.jQuery||d.$;return e&&e.fn&&e.fn.jquery?e:null},userAgent:f,json:function(){return"undefined"!=typeof JSON&&"function"==typeof JSON.parse&&"function"==typeof JSON.stringify&&JSON},sandbox:function(e){return s.sandbox(e,d)},config:function(e,n){var t=n&&n.toString()||"",r=144e5;return arguments.length>1?(a.config[e]=t,h.session.put({key:e,value:""===t?void 0:t,timeout:r})):void 0===(t=a.config[e])&&(t=h.loc.query[e]||h.session.get({key:e,timeout:r})||"",a.config[e]=t),t},defaultLogLevel:function(){return h.config(h.QUERY.logModeIdentifier)}};return h.capabilities.browser.desktop||s.deferMultiplier(2),h}.call(n,t,n,e))&&(e.exports=i)}).call(n,t(2))},function(e,n,t){"use strict";var r;void 0!==(r=function(){var e={copy:function(n){var t;for(t in n)"copy"!==t&&(e[t]=n[t]);return n},global:null,log:null,config:{},cache:null,snippets:[],start:null,admin:null,dom:null,preloadSandbox:null,scripts:{}};return e}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";(function(r){var i;void 0!==(i=function(e){function n(e){e.contentWindow&&(e=e.contentWindow);var t=this;this._id=c++,this.win=e,this.doc=e.document,this.embedded=function(){return e!==r.win},this.head=function(){return t.doc.head||t.doc.getElementsByTagName("head")[0]},this.body=function(){return t.doc&&(t.doc.body||t.doc.getElementsByTagName("body")[0])},this.contains=function(e){var n,r=t.body();if(r&&e){if(r.contains)return r.contains(e);if(r.all)for(n=r.all.length;n--;)if(r.all[n]===e)return!0}return!1},this.currentScript=function(){return t.doc.currentScript||!t.docLoaded&&function(){var e=t.doc.getElementsByTagName("script");return e[e.length-1]}()},this.currentElement=function(){var e=t.currentScript();return e?e.parentElement:null},this.docReady=function(r){var a=r.scope,s=a&&a.verbose?a:l.global(),c=function(){s.verbose("Dom ready callback: ",o.val(r.name),t),r.callback(r.args),a&&a[r.name]&&(a[r.name]=r.callback)};if(t.docLoaded)return void c();var u=i.one(s,r.name,c);n.on(s,t.doc,t.doc.addEventListener?"DOMContentLoaded":"readystatechange",u)&&n.on(s,e,"load",u)},this.selectElements=function(e){return e=n.escapeSelector(e),r.capabilities.isQuerySelectorSupported?t.doc.querySelectorAll(e):r.sandbox().sizzle(e,t.doc)},this.iframe=function(){var e=t.createElement("iframe",{src:"about:blank"});e.style.display="none";var n=t.body();return n&&n.appendChild(e),e},this.css=function(e){var n=t.doc.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.doc.createTextNode(e)),t.head().appendChild(n)},this.createElement=function(e,r,i){var o,a,s=t.doc.createElement(e);if(r)for(o in r)(a=r[o])&&s.setAttribute(o,a);return i&&n.addClass(s,i),s},this.bounds=function(e){var n={};if(e)e.getBoundingClientRect&&(n=e.getBoundingClientRect()||{}),void 0!==n.width&&void 0!==n.height||(n={width:e.offsetWidth||n.right-n.left,height:e.offsetHeight||n.bottom-n.top,top:n.top,left:n.left,bottom:n.bottom,right:n.right});else{n={top:0,left:0};var t,i,o,a=r.$();a&&(t=a(r.win),i=t.width(),o=t.height()),n.width=n.right=i||r.win.innerWidth,n.height=n.bottom=o||r.win.innerHeight}return n},this.calculateVerticalBounds=function(e){var n=this.bounds(),t=this.bounds(e);return n.top=this.body().scrollTop,s.computeVerticalBounds(t,n)},this.toString=function(){return"Dom[#"+t._id+"; ready: "+t.docLoaded+"]"},this.docLoaded=!1,t.docReady({name:"docLoaded",callback:function(){t.docLoaded=!0}})}var r=t(3),i=t(0),o=t(1),a=t(4),s=t(24),l=t(7),c=1;return n.of=function(e){return e=e||window,e===(a.dom&&a.dom.win)?a.dom:new n(e)},n.data=function(e,n,t){return n="data-"+n,2===arguments.length?t=e.getAttribute(n)||"":null===t?e.removeAttribute(n):e.setAttribute(n,""+t),t},n.style=function(e,n){var t=null;try{t=r.win.getComputedStyle(e).getPropertyValue(n)}catch(e){}return t},n.visibility=function(e,n){if(e&&n){var t="none"===n||"block"===n?"display":"visibility";e.style.cssText+="; "+t+": "+n+" !important"}},n.selectElements=function(e,t){return n.of(t).selectElements(e)},n.removeElement=function(e){var n=e&&e.parentNode;n&&n.removeChild(e)},n.addClass=function(e,n){e.classList?e.classList.add(n):e.className+=" "+n},n.escapeSelector=function(e){return e.replace(/([#.])(\d+)/g,function(e,n,t){for(var r=0;r<t.length;r++)n+="\\3"+t[r];return n+" "})},n.descendant=function(e,n){for(var t=n;t;){if(e===t)return!0;t=t.parentNode}return!1},n.on=function(e,n,t,r){var i=n.readyState;if("complete"===i)return r(),!1;var a;if(n.addEventListener)a=function(e){n.removeEventListener(t,a,!1),r(e)},n.addEventListener(t,a,!1);else if(n.attachEvent){var s="[object Window]"===n.toString();t="on"+t,a=function(l){("loaded"===(i=n.readyState)||"complete"===i||s)&&(n.detachEvent(t,a),s?e.verbose("Window ready"):e.verbose("<"+n.tagName||n.nodeName+"> ready: ",o.val(i),n),r(l||n.event))},n.attachEvent(t,a)}else e.error("Cannot add callback: ",o.val(n.tagName+"."+t),n);return!0},n.ready=function(e){var t=e.scope.verbose?e.scope:l.global(),r=i.one(t,e.name,function(n){t.verbose("<"+e.element.tagName+"> ready callback: ",o.val(e.name)),e.callback&&e.callback(e.args||n)});n.on(t,e.element,e.element.addEventListener?"load":"readystatechange",r)&&e.errback&&n.on(t,e.element,"error",function(n){r.clear(),e.errback(n)})},n}.call(n,t,n,e))&&(e.exports=i)}).call(n,t(2))},function(e,n,t){"use strict";(function(r){var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0!==(i=function(e){var n=t(3),r=t(5),i=t(7),a=t(0),s=t(1),l=t(4),c={url:function(e){var t,r=function(e){return/^http|^\/\//i.test(e)},i=function(e,n){if(r(n))return n;var t="/"===e.charAt(e.length-1),i="/"===n.charAt(0);return-1!==a.idx(n,e)?n:t?e+(i?n.substring(1):n):e+(i?n:"/"+n)};return t=void 0!==e.viewer?i(n.CONFIG.viewerApiBaseUrl,e.viewer):"string"==typeof e.url?e.url:e.url[n.loc.secure?"https":"http"],/^\/\//i.test(t)?t=(n.loc.secure?"https:":"http:")+t:n.loc.secure&&!/^https:/i.test(t)&&(t="https:"+t.substring(5)),t},script:function(e){var n,t,u=e.log||i.global(),d=c.url(e),f=l.scripts[d],p=a.now(),h=!0,m=function(e,n){var t,r,i=l.scripts[d],o=i&&i.options;if(o&&o.length)for(i.options=[],l.scripts[d].loaded=e,r=0;r<o.length;r++)(t=o[r][e])&&t(n)};if(f||(f={loaded:null,requested:!1,sandboxed:e.sandboxed,options:[]},l.scripts[d]=f,h=!1),f.options.push(e),f.loaded)return u.verbose("Script already loaded: ",s.val(d)),void m(f.loaded);for(t=0;t<f.options.length;t++)if(e=f.options[t],n=o(e.ready),"function"===n?e.ready():e.ready)return u.verbose("Script already ready: ",s.val(d)),void m("callback");if(h)return void u.verbose("Script already pending: ",s.val(d));f.requested=!0,u.verbose("Loading",e.sandboxed?" sandboxed ":" ","script: ",s.val(d),"...");var v=function(n){var t=n.createElement("script",{type:"text/javascript",src:d,id:e.id});r.ready({name:d,scope:u,element:t,callback:function(n){u.verbose("Script loaded in",e.sandboxed?" sandbox in ":" ",a.now()-p," ms: ",s.val(d)),m("callback",n)},errback:function(n){u.error("Cannot load script",e.sandboxed?" in sandbox: ":": ",s.val(d),n),m("errback",n)}});var i=function(){var e=n.head();if(!e)return!0;e.appendChild(t)};i()&&a.defer(i)},g=l.dom;if(e.sandboxed){if(!l.preloadSandbox)return void g.docReady({name:"sandboxed",scope:u,callback:function(){l.preloadSandbox=new r(g.iframe()),v(l.preloadSandbox)}});g=l.preloadSandbox}v(g)},json:function(e){var t=e.log||i.global(),r=c.url(e),o=n.$(),l=o&&o.ajax,u=a.now();return l?(e.available&&e.available(),t.verbose("Loading json: ",s.val(r),"..."),l(r,{dataType:"json",cache:!e.noCache}).done(function(n){t.verbose("Json loaded in ",a.now()-u," ms: ",s.val(r),n),e.callback&&e.callback(n)}).fail(function(n,i,o){t.error("Cannot load json: ",s.val(r)," -> status: ",n.readyState," error: ",o.stack||o),e.errback&&e.errback()}),!0):(t.verbose("Cannot load json, no jQuery available: ",s.val(r)),!1)}};return c}.call(n,t,n,e))&&(e.exports=i)}).call(n,t(2))},function(e,n,t){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0!==(r=function(e){function n(e){this.id=e||"Channels",this._level=a.ERROR,this._out=window.console;var n=this;this.level=function(e){if(arguments.length){"number"!=typeof e&&(e=o.int(e));var t=n._level;n._level=Math.min(a.VERBOSE,Math.abs(e)||a.OFF),t!==n._level&&n.info("Set new log level: ",r.val(n.id)," -> ",n._level)}return n._level},this.error=function(){return s.print(n,a.ERROR,arguments),n},this.info=function(){return s.print(n,a.LOG,arguments),n},this.verbose=function(){return s.print(n,a.VERBOSE,arguments),n},this.queue=function(e){var t=s._queue[n.id]||[];if(e)return t;var r,i,o=[];for(i=0;i<t.length;i++)r=t[i],r.formatted||s._format(n.id,r),o.push(r.formatted);return o}}var r=t(1),o=t(0),a={OFF:0,ERROR:1,LOG:2,VERBOSE:3},s={_queue:{},_global:null,setup:function(e,n){var t=e._level;return n=e.level(n),n>t&&s._dequeue(e),e},_enqueue:function(e,n,t){var r={level:n,msg:t,formatted:null,time:new Date,printed:!1},i=s._queue[e.id];return i||(i=[],s._queue[e.id]=i),i.push(r),r},_dequeue:function(e){var n,t=s._queue[e.id]||[];for(n=0;n<t.length;n++)s._out(e,t[n])},_out:function(e,n){var t=e._out;if(void 0!==t&&n.level<=e.level()&&!n.printed){var r=s._format(e.id,n);t[n.level===a.ERROR?"error":"info"](n.formatted),1===r.length?t.info(r[0]):r.length>1&&t.info(r),n.printed=!0}},_format:function(e,n){var t,a=[],s=":",l=" ->",c=function(){var e=s;s=l,l=e},u=function e(n,t){var l=void 0===n?"undefined":i(n);if("undefined"===l)n="undefined";else if("string"===l)-1!==o.idx(n,s)&&c();else if("object"===l)if(null===n)n="null";else if("number"==typeof n.length){var u,d=s+" [";for(u=0;u<n.length;u++)u&&(d+=", "),d+=e(n[u],!0);n=d+"]"}else a.push(n),n=r(n),t||(n=s+" "+n,c());return n};for(n.formatted="["+e+"] "+n.time.getHours()+":"+n.time.getMinutes()+":"+n.time.getSeconds()+":"+n.time.getMilliseconds()+" ",t=0;t<n.msg.length;t++)n.formatted+=u(n.msg[t]);return a},print:function(e,n,t){t&&t.length&&s._out(e,s._enqueue(e,n,t))}};return s._global=new n,s._timer=new n("Timer"),n.Levels=a,n.setup=s.setup,n.global=function(){return s._global},n.timer=function(){return s._timer},n}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";(function(r){var i;void 0!==(i=function(e){function n(e){var t=this,s=e.snippet;this.channel=function(){return e},this.contentLoaded=function(n){var r=t._viewerProxy();return!!r&&(r.contentLoaded("function"==typeof n?n():n,e.content.type),!0)},this.close=function(){try{var e=t._viewerWindow();if(e){var n=e.viewer;if(n)return n.close(),s.info("Closed viewer",t),!0;e.channel&&e.channel.callbacks.closed()}}catch(e){s.error("Cannot close viewer",t,e)}return!1},this._viewerWindow=function(){try{var n=e._dom.container;return n&&n.contentWindow}catch(e){return null}},this._viewerProxy=function(){try{return this._viewerWindow().viewer}catch(e){return null}},this._channelProxy=function(n){var c=e._createProxy();return c.channel=e,c.callbacks={content:function(n,t){if("string"==typeof n){var r=i.cache.get(n,t,e._cacheable).content;return r?r.data():null}e.contentLoaded(n,t)},shown:function(n,i){u.clearDefer(c._timer),e._stopLoadingIndicator();var d=e.content;d._shown=n,s.info("Experience shown: ",a.val(n),t);var f=3e4,p=e._cacheable>f&&r.capabilities.browser.desktop&&(d.state===l.LOCAL||d.state===l.CACHE);"group"===d.type?i&&e.contentLoaded(i,"experience"):i&&d.state!==l.LOADED&&(e.contentLoaded(i,"experience"),p=!1),o.data(e._dom.element,"experience",n),p&&(f=u.defer(e._fetchContent,f),s.verbose("Will refresh cached ",d.type," data in ",f," ms: ",a.val(d.id()),t))},error:function(n){u.clearDefer(c._timer),e._stopLoadingIndicator();var t=e.content;t._shown=null,t.state!==l.LOADED&&(t.state=l.FAILED,t.error=n),s.error("Viewer error for "+a.val(e.name)+": ",n||"unknown",t),e._removeContent("error")},closed:function(){u.clearDefer(c._timer)},events:n||{}},c.callbacks.events["viewer:scene:navigate"]=function(n,t,r){var i=e.content;i.scene=i.shown()===t?r:{target:null,current:1,previous:null}},c.await=function(){u.clearDefer(c._timer);var n=u.now();return c._timer=u.defer(function(){"destroyed"!==c.state()&&c.callbacks.error("not shown within "+c._timer+" ms (since "+n+")")},e._timeout),c},c},this.insert=function(r,i){var o=e.content,a=n.viewerHtml(e.snippet.baseUrl,o.id(),o.type,o.scene,s.logger.level(),i);try{var l=r.contentDocument,c=r.contentWindow;return l.open(),c.channel=t._channelProxy(e._events).await(),l.write(a),l.close(),e._startLoadingIndicator(),r}catch(e){return s.error("Cannot insert viewer into dom",e),null}},this.toString=function(){return a.viewerBridge(t)}}var r=t(3),i=t(4),o=t(5),a=t(1),s=t(6),l=t(10),c=t(29),u=t(0),d=t(30);return n.viewerHtml=function(e,n,t,r,i,o){n=n||"",t=t||"experience",r&&void 0!=r.current&&(r=r.current);var a="<!DOCTYPE html><html><head><meta charset='utf-8'><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><title>Zmags Creator</title><script>var startTime =Date.now();<\/script><meta name='description' content=''><meta name='viewport' content='width=device-width'></head><body><link rel='stylesheet' type='text/css' href='styles/viewer-main.jdokmu8t.css'><script>var CONFIG ={'adminApiBaseUrl':'https://creator-api.zmags.com','editorBaseUrl':'//creator.zmags.com','viewerBaseUrl':'//c.zmags.com','viewerApiBaseUrl':'//c.zmags.com','viewerAliasApiBaseUrl':'//creator.zmags.com','communityBaseUrl':'https://creatorcommunity.zmags.com','errorQueueUrl':'https://c.zmags.com/queue/error/','statsDUrl':'https://statsd.zmags.com/stats','salesEmail':'sales@zmags.com','supportEmail':'support@zmags.com','editorSegmentIOKey':'20jbiv8frx','piwikConfig':{'trackingScriptUrl':'//c.zmags.com/a/p/p.js','trackerUrl':'//c.zmags.com/a/p/p.php','siteID':3},'enableLogging':1,'logId':null,'trackErrors':true,'experienceId':null,'groupId':null,'scene':null,'statsDBucket':'creator.prod','version':'jdokmu8t'};<\/script><section id='viewer-main' class='experience-container'></section><script src='js/viewer-main.jdokmu8t.js'><\/script></body></html>".replace(/<head>/i,"<head><base href='"+e+"'>").replace("'"+t+"Id':null","'"+t+"Id':'"+n+"'").replace("'scene':null","'scene':"+r||1);return void 0!==i&&(a=a.replace(/'enableLogging':\d/,"'enableLogging':"+i)),o?a.replace("'logId':null","'logId':'"+o+"'"):a},n.preload=function(e){if(r.capabilities.isQuerySelectorSupported){var t,o=e.mode,l=e;o.is({viewer:d.HTML})&&(e._preloadViewer||(e._preloadViewer=u.now(),i.dom.docReady({name:"viewerPreload",scope:e,callback:function(){l.info("Preloading viewer html");try{var t=i.dom.iframe().contentDocument;t.open(),t.write(n.viewerHtml(e.baseUrl,null,null,null,l.logger.level(),"preload")),t.close()}catch(e){l.error("Cannot insert preloaded viewer into dom",e)}}}))),o.is({viewer:d.JS})&&(t=e.url("js/viewer-main"+(r.CONFIG.version?"."+r.CONFIG.version:"")+".js"),l.info("Preloading viewer js: ",a.val(t)),s.script({url:t,log:l,sandboxed:!0})),o.is({viewer:d.LIB})&&(t=c.TRACKING_SCRIPT)&&(l.info("Preloading viewer lib: ",a.val(t)),s.script({url:t,ready:function(){return!!r.win.Piwik},log:l}))}},n}.call(n,t,n,e))&&(e.exports=i)}).call(n,t(2))},function(e,n,t){"use strict";var r;void 0!==(r=function(e){var n=t(0),r=t(1).json(),i="zmags_channels:",o=function(e){var t=!!e,o=this;this.keys=function(r){var o,a,s=[];if(t)for(r=r?i+r:i,a=0;a<e.size();a++)o=e.key(a),0===n.idx(o,r)&&s.push(o);return s},this.clear=function(e){var n,t=o.keys(e);for(n=0;n<t.length;n++)o.put(t[n]);return t.length},this.get=function(n){var o;if(t)try{if("string"==typeof n&&(n={key:n}),o=e.get(i+n.key,n.timeout,n.args),n.json){if(!r||!o)return n.defaultValue;try{o=r.parse(o)}catch(e){return n.defaultValue}}}catch(e){}return null==o?n.defaultValue:o},this.put=function(n){if(t)try{"string"==typeof n&&(n={key:n});var o=i+n.key,a=n.value;if(void 0!==a){if(n.json){if(!r||!a)return;try{a=r.stringify(a)}catch(e){return}}return e.put(o,a,n.timeout),a}e.remove(o)}catch(e){t=!1}},this.enabled=function(){return arguments.length&&(t=t&&arguments[0]),t}};return o.KEY_PREFIX=i,o}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";var r;void 0!==(r=function(){return{NOT_LOADED:"notloaded",PENDING:"pending",CACHE:"cache",LOCAL:"local",LOADED:"loaded",FAILED:"failed"}}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";(function(r){var i;void 0!==(i=function(e){function n(e,n){var s=this;this._channel=e,this._log=e.snippet,this._options=n,this._start=null,this._dom={element:e._dom.container,parent:e._dom.container.parentNode,indicator:null},this._style={className:"zmags-loading-indicator-"+l++,style:t(33),fallback:t(34)},this._computeBackgroundColor=function(){for(var e=s._dom.parent,n=null,t=function(e){return"transparent"===e||"rgba(0, 0, 0, 0)"===e};e&&(!(n=o.style(e,"background-color"))||t(n));)e=e.parentNode;return n||"#fff"},this._css=function(){var e=s._style.fallback;r.capabilities.isCSSAnimationsSupported&&(e=s._style.style.replace(/@backgroundColor/g,s._options.backgroundColor||s._computeBackgroundColor()).replace(/@color/g,s._options.color||"#cdcdcd"));var n=s._channel.dom.calculateVerticalBounds(s._dom.parent),t=n.height>0?n.top+.5*n.height:0;return e.replace(/@className/g,s._style.className).replace(/@top/g,t)},this._createAndApplyCSSDeferred=function(){i.defer(function(){var e=a+s._css();s._channel.dom.css(e)})},this.start=function(){s._start=i.now(),s._log.info("Starting loading indicator",s);var e=s._channel.dom.createElement("div",null,s._style.className+"-bg"),n=s._channel.dom.createElement("div",null,s._style.className);o.visibility(s._dom.element,"hidden"),s._createAndApplyCSSDeferred(),o.visibility(e,"visible"),o.visibility(n,"visible"),s._dom.parent.appendChild(e),s._dom.parent.appendChild(n),s._dom.indicator={background:e,element:n}},this.end=function(){o.visibility(s._dom.element,"visible"),o.addClass(s._dom.element,"zmags-fade-in"),s._dom.indicator&&(o.removeElement(s._dom.indicator.background),o.removeElement(s._dom.indicator.element),s._dom.indicator=null);var e=i.now()-s._start;return s._start=null,s._log.info("Stopping loading indicator after ",e," ms",s),e},this.toString=function(){var e="Spinner[channel: "+s._channel.id;return s._start&&(e+="; start: "+s._start),e+"]"}}var r=t(3),i=t(0),o=t(5),a=t(32),s={None:"none",Spinner:"spinner"},l=1,c={};return c[s.None]=null,c[s.Spinner]=n,{TYPE:s,create:function(e,n){e=i.options(e,",","type");var t=e.type||s.None;if(c.hasOwnProperty(t)){var r=c[t];if(r)return new r(n,e)}else n.snippet.error("Unknown loading indicator type: "+t);return null}}}.call(n,t,n,e))&&(e.exports=i)}).call(n,t(2))},function(e,n,t){"use strict";var r;void 0!==(r=function(){return{AUTO:"auto",MANUAL:"manual",PRELOAD:"preload",ADMIN:"admin"}}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){t(14),e.exports=t(18)},function(e,n,t){"use strict";e.exports=t(15).polyfill()},function(e,n,t){(function(n,r){!function(n,t){e.exports=t()}(0,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function o(e){Z=e}function a(e){H=e}function s(){return function(){return n.nextTick(f)}}function l(){return void 0!==J?function(){J(f)}:d()}function c(){var e=0,n=new $(f),t=document.createTextNode("");return n.observe(t,{characterData:!0}),function(){t.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;e<W;e+=2){(0,te[e])(te[e+1]),te[e]=void 0,te[e+1]=void 0}W=0}function p(){try{var e=t(17);return J=e.runOnLoop||e.runOnContext,l()}catch(e){return d()}}function h(e,n){var t=arguments,r=this,i=new this.constructor(v);void 0===i[ie]&&T(i);var o=r._state;return o?function(){var e=t[o-1];H(function(){return L(o,i,e,r._result)})}():k(r,i,e,n),i}function m(e){var n=this;if(e&&"object"==typeof e&&e.constructor===n)return e;var t=new n(v);return C(t,e),t}function v(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(e){return le.error=e,le}}function _(e,n,t,r){try{e.call(n,t,r)}catch(e){return e}}function w(e,n,t){H(function(e){var r=!1,i=_(t,n,function(t){r||(r=!0,n!==t?C(e,t):E(e,t))},function(n){r||(r=!0,I(e,n))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,I(e,i))},e)}function A(e,n){n._state===ae?E(e,n._result):n._state===se?I(e,n._result):k(n,void 0,function(n){return C(e,n)},function(n){return I(e,n)})}function x(e,n,t){n.constructor===e.constructor&&t===h&&n.constructor.resolve===m?A(e,n):t===le?(I(e,le.error),le.error=null):void 0===t?E(e,n):i(t)?w(e,n,t):E(e,n)}function C(n,t){n===t?I(n,g()):e(t)?x(n,t,b(t)):E(n,t)}function S(e){e._onerror&&e._onerror(e._result),R(e)}function E(e,n){e._state===oe&&(e._result=n,e._state=ae,0!==e._subscribers.length&&H(R,e))}function I(e,n){e._state===oe&&(e._state=se,e._result=n,H(S,e))}function k(e,n,t,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=n,i[o+ae]=t,i[o+se]=r,0===o&&e._state&&H(R,e)}function R(e){var n=e._subscribers,t=e._state;if(0!==n.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<n.length;a+=3)r=n[a],i=n[a+t],r?L(t,r,i,o):i(o);e._subscribers.length=0}}function M(){this.error=null}function N(e,n){try{return e(n)}catch(e){return ce.error=e,ce}}function L(e,n,t,r){var o=i(t),a=void 0,s=void 0,l=void 0,c=void 0;if(o){if(a=N(t,r),a===ce?(c=!0,s=a.error,a.error=null):l=!0,n===a)return void I(n,y())}else a=r,l=!0;n._state!==oe||(o&&l?C(n,a):c?I(n,s):e===ae?E(n,a):e===se&&I(n,a))}function U(e,n){try{n(function(n){C(e,n)},function(n){I(e,n)})}catch(n){I(e,n)}}function B(){return ue++}function T(e){e[ie]=ue++,e._state=void 0,e._result=void 0,e._subscribers=[]}function O(e,n){this._instanceConstructor=e,this.promise=new e(v),this.promise[ie]||T(this.promise),q(n)?(this._input=n,this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):I(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function F(e){return new O(this,e).promise}function z(e){var n=this;return new n(q(e)?function(t,r){for(var i=e.length,o=0;o<i;o++)n.resolve(e[o]).then(t,r)}:function(e,n){return n(new TypeError("You must pass an array to race."))})}function Q(e){var n=this,t=new n(v);return I(t,e),t}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function G(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function P(e){this[ie]=B(),this._result=this._state=void 0,this._subscribers=[],v!==e&&("function"!=typeof e&&j(),this instanceof P?U(this,e):G())}function Y(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var t=null;try{t=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===t&&!n.cast)return}e.Promise=P}var V=void 0;V=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var q=V,W=0,J=void 0,Z=void 0,H=function(e,n){te[W]=e,te[W+1]=n,2===(W+=2)&&(Z?Z(f):re())},K="undefined"!=typeof window?window:void 0,X=K||{},$=X.MutationObserver||X.WebKitMutationObserver,ee="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),ne="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3),re=void 0;re=ee?s():$?c():ne?u():void 0===K?p():d();var ie=Math.random().toString(36).substring(16),oe=void 0,ae=1,se=2,le=new M,ce=new M,ue=0;return O.prototype._enumerate=function(){for(var e=this.length,n=this._input,t=0;this._state===oe&&t<e;t++)this._eachEntry(n[t],t)},O.prototype._eachEntry=function(e,n){var t=this._instanceConstructor,r=t.resolve;if(r===m){var i=b(e);if(i===h&&e._state!==oe)this._settledAt(e._state,n,e._result);else if("function"!=typeof i)this._remaining--,this._result[n]=e;else if(t===P){var o=new t(v);x(o,e,i),this._willSettleAt(o,n)}else this._willSettleAt(new t(function(n){return n(e)}),n)}else this._willSettleAt(r(e),n)},O.prototype._settledAt=function(e,n,t){var r=this.promise;r._state===oe&&(this._remaining--,e===se?I(r,t):this._result[n]=t),0===this._remaining&&E(r,this._result)},O.prototype._willSettleAt=function(e,n){var t=this;k(e,void 0,function(e){return t._settledAt(ae,n,e)},function(e){return t._settledAt(se,n,e)})},P.all=F,P.race=z,P.resolve=m,P.reject=Q,P._setScheduler=o,P._setAsap=a,P._asap=H,P.prototype={constructor:P,then:h,catch:function(e){return this.then(null,e)}},P.polyfill=Y,P.Promise=P,P})}).call(n,t(16),t(2))},function(e,n){function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(n){try{return u.call(null,e,0)}catch(n){return u.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(n){try{return d.call(null,e)}catch(n){return d.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):v=-1,h.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var n=h.length;n;){for(p=h,h=[];++v<n;)p&&p[v].run();v=-1,n=h.length}p=null,m=!1,o(e)}}function l(e,n){this.fun=e,this.array=n}function c(){}var u,d,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:t}catch(e){u=t}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,h=[],m=!1,v=-1;f.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];h.push(new l(e,n)),1!==h.length||m||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,n){},function(e,n,t){"use strict";!function(){new Promise(function(e){e()}).then(function(){var e=[t(19)];(function(e){e.start()}).apply(null,e)}).catch(t.oe)}()},function(e,n,t){"use strict";(function(r){var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0!==(i=function(e){function n(){var e=this,t=function(e){if(!r)return null;var n,t,i=[];for(n=0;n<u.snippets.length;n++)t=u.snippets[n],e.call(t,t),i.push(t.proxy());return i};this._state=function(){return u},this.log=function(){return u.log},this.init=function(t){if(!r)return!1;var i=r.sandbox();if(i.app&&i.app.constructor.toString()===n.toString())return e=i.app,u=u.copy(i.app._state()),u.log.error("Channel script included multiple times"),!1;u.start=s.now(),u.global=r,u.dom=new a(r.win),t=t||{},void 0!==t.storage&&e._enableStorage(t.storage);var o=r.CONFIG.version;o&&(e._version=o);var c=t.admin;void 0===c&&(c=r.config(r.QUERY.adminModeIdentifier)),c=s.boolean(c),c&&!r.capabilities.isSupported&&(u.log.error("Admin tried enabled in legacy browser"),c=!1),r.config(r.QUERY.adminModeIdentifier,c||null);var f=t.log;return void 0===f&&(f=r.config(r.QUERY.logModeIdentifier)),f=s.int(f),r.config(r.QUERY.logModeIdentifier,f||l.Levels.ERROR),u.log=l.setup(l.global(),r.defaultLogLevel()),l.setup(l.timer(),r.defaultLogLevel()),i.app=e,u.cache=new d(r.session),u.log.verbose("Started at ",u.start," with ",s.deferMultiplier()," x timeout"),delete e.init,!0},this._enableStorage=function(e){var n=void 0===e?"undefined":o(e);return"undefined"!==n&&("string"===n&&(e=!e||s.boolean(r.cookie.get({key:e,args:!0}))),r.session.enabled(e),r.cookie.enabled(e)),r.session.enabled()&&r.cookie.enabled()},this.start=function(n){if(!r)return[];e.init&&e.init(),u.snippets=e.find(arguments);var o,a;if(u.snippets.length)if(u.log.verbose("Channel snippet(s) for","real"!==r.loc.type?" *alternate* ":" ","url: ",c.val(r.loc)," -> ",u.snippets.length,u.snippets),a=u.admin)a.info("Channel snippet admin mode already initialised",a),o=r.sandbox().snippets;else if(a=e.admin()){a.mode=new f.Mode("admin"),u.admin=a,a.info("Channel snippet admin mode detected",a);var l=s.patchOverriddenNativeFunctions();l.length&&a.error("Native function(s) overridden",l),i.script({url:a.url("js/channels-admin-main.jdokmu8t.js"),log:a}),o=[a.proxy()]}else o=t(function(n){e._enableStorage(n.storage),n.mode.is("manual")?(n.mode.mode="auto",p.preload(n)):n.loadChannels(),n.wildcard()&&u.log.info("Snippet currently in wild-card mode",n)});else o=[],u.log.error("No channel snippet(s) found, cannot continue");return r.sandbox().snippets=o,o},this.stop=function(){return t(function(e){e.restoreChannels()})},this.snippet=function(n){var t=e.match(u.snippets,n);return t.existing&&t.existing.proxy()},this.match=function(e,n){var t={existing:null,snippet:f.of(n)};if(t.snippet&&e)for(var r,i=e.length;i--;)if(r=e[i],r.configId===t.snippet.configId){t.existing=r;break}return t},this.admin=function(){var e,n;for(e=0;e<u.snippets.length;e++)if(n=u.snippets[e],n.admin())return n;return null},this.find=function(n){return e._setup(n&&n.length?n:u.dom.doc.getElementsByTagName("script"))},this._setup=function(n){for(var t,r,i=[],o=n.length;o--;)t=n[o],r=e.match(u.snippets,t),r.snippet&&(e.match(i,r.snippet).existing?u.log.error("Ignoring duplicate snippet",r.snippet,t):i.push(r.existing||r.snippet));if((o=i.length)>1)for(;o--;)t=i[o],t._setupLog(new l("Channels:"+t.configId));else 1===o&&i[0]._setupLog(l.global());return i},this.add=function(n,t){var r;if(1===u.snippets.length)if(r=u.snippets[0],r.wildcard()){if(!t)return u.log.error("Snippet id required, cannot add channel(s)"),!1;r.wildcard(t)}else t||(t=r.configId);return(r=e.snippet(t))?r.add(n):(u.log.error("No such snippet, cannot add channel(s): '",t,"'"),!1)},this.destroy=function(){if(!e.init){e.stop();var n=r.sandbox();delete n.app,delete n.snippets}r=null}}var r=t(3),i=t(6),a=t(5),s=t(0),l=t(7),c=t(1),u=t(4),d=t(25),f=t(26),p=t(8);return t(37),new n}.call(n,t,n,e))&&(e.exports=i)}).call(n,t(2))},function(e,n,t){"use strict";var r;void 0!==(r=function(e){var n=t(21),r=[4],i=[12],o=[11],a=[9],s=[6],l=[6];return{detect:function(e,t){function c(){return!u()&&(d()||S.chrome||S.googlebot||f()||h()||p()||m()||v())}function u(){return t&&-1===e.indexOf("Windows")&&-1===e.indexOf("Mac OS X")}function d(){return S.iOS||S.android&&w(r,S.osVersion)}function f(){return S.firefox&&w(i,S.version)}function p(){return S.edge}function h(){return!!S.ie&&w(t?o:a,S.version)}function m(){return!(!S.safari||S.mobile)&&w(s,S.version)}function v(){return!(t||!S.safari||!S.mobile)&&w(l,S.version)}function g(){return"onclick"in document}function y(){var e="ontouchend"in document;return S.ie&&(e=e||"onmsgesturechange"in window),e}function b(){var e=!S.mobile&&!S.tablet,n=y();return n&&S.ie?n:e}function _(){return!S.iOS}function w(e,n){var t=void 0,r=void 0,i=void 0;for("number"==typeof e&&(e=[e]),"number"==typeof n&&(n=[n]),t=0;t<e.length;++t){if(r=n[t],i=e[t],!r)return!1;if(r<i)return!1;if(r>i)return!0}return!0}function A(){var e=S.version[0];return document.querySelectorAll&&(S.chrome||S.edge||S.firefox&&e>3||S.ie&&e>8||S.safari&&e>3||S.opera&&e>9)}function x(){var e=S.version[0];return!S.safari||!S.mobile||e>=7}function C(){return!S.ie}"boolean"==typeof e&&(t=e,e=null),e=e||window.navigator.userAgent;var S=n.detect(e);return{browser:S,isSecure:"https:"===window.location.protocol,isSupported:c(),isViewer:!t,isQuerySelectorSupported:A(),isBackForwardCacheSupported:x(),is3dAnimationsSupported:C(),isCSSAnimationsSupported:!(S.ie&&S.version[0]<10),isPointerEventsSupported:!S.ie||S.version[0]>=11,isWebFontsSupported:!S.googlebot,isResponsiveIframesSupported:!S.iOS,isEmbeddedWebFontsSupported:function(e){return!e||!S.webView&&!S.safari&&!S.iOS},isClicksSupported:g(),isTouchSupported:y(),isMouseEventsSupported:b(),isIframeScrollingSupported:_(),hasVersion:function(e){return w(e,S.version)}}}}}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";var r;void 0!==(r=function(){return{detect:function(e){function n(){return null!==v.exec(e)}function t(){return-1!==e.indexOf("Mac OS X")}function r(){return-1!==e.indexOf("Windows")}function i(){return o()||s()||a()}function o(){return null!==M.exec(e)}function a(){return null!==L.exec(e)}function s(){return null!==N.exec(e)}function l(){return null!==I.exec(e)}function c(){return null!==w.exec(e)}function u(){return null!==g.exec(e)&&!c()}function d(){return null!==U.exec(e)&&!c()}function f(){return null!==k.exec(e)}function p(){return n()&&u()?!f():null!==R.exec(e)||a()}function h(n,t){if(!n)return B;t||(t=1);var r=n.exec(e);if(r){for(var i=r[t].split("."),o=i.length;o--;)i[o]=parseInt(i[o],10);return i}return B}function m(){var o=null;if(n()?o=O.exec(e):i()?o=D.exec(e):r()?o=z.exec(e):t()&&(o=F.exec(e)),o&&2===o.length){var a=o[1].replace(/_/g,".").split("."),s=0;for(s=0;s<a.length;s++)a[s]=parseInt(a[s],10);return a}return T}e=e||window.navigator.userAgent;var v=/Android/,g=/(?:Chrome|CriOS)\/([0-9.]+)/,y=/Safari|(?:(?:iPad|iPhone).*AppleWebKit.*Mobile)/,b=/Version\/([0-9.]+)/,_=/Firefox\/([0-9.]+)/,w=/Edge/i,A=/Edge\/([0-9.]+)/,x=/Trident|MSIE/,C=/(?:MSIE |rv:)([0-9.]+)/,S=/Googlebot\/([0-9.]+)/,E=/Opera.*Version\/([0-9.]+)|OPR\/([0-9.]+)/,I=/FBAN|FB_IAB|FB4A|FBAV|Twitter|Instagram/,k=/Mobile/,R=/Tablet/,M=/iPod/,N=/iPhone/,L=/iPad/,U=/AppleWebKit/,B=[],T=[],O=/Android ([._\d]+)/,D=/OS ([._\d]+)/,F=/Mac OS X ([._\d]+)/,z=/Windows\s+NT\s+([\d.]+)/,Q={desktop:!1,tablet:p(),mobile:f(),android:n(),iOS:i(),macOS:t(),winOS:r(),osVersion:m(),webView:l(),webkit:d(),ie:!1,firefox:!1,safari:!1,chrome:!1,googlebot:!1,opera:!1,edge:!1,version:B};if(Q.desktop=!(Q.iOS||Q.android||Q.mobile||Q.tablet),null!==E.exec(e)){E.exec(e)[1]?Q.version=h(E,1):Q.version=h(E,2),Q.opera=!0}else c()?(Q.edge=!0,Q.version=h(A)):null!==x.exec(e)?(Q.ie=!0,Q.version=h(C)):null!==_.exec(e)?(Q.firefox=!0,Q.version=h(_)):u()?(Q.chrome=!0,Q.version=h(g)):null!==S.exec(e)?(Q.googlebot=!0,Q.version=h(S)):Q.android||null===y.exec(e)||(Q.safari=!0,Q.version=h(b));return Q}}}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";var r;void 0!==(r=function(e){var n=t(0),r="::::";return function(e){this.size=function(){return e?e.length:0},this.key=function(n){return e?e.key(n):null},this.get=function(t,i){var o,a,s;return e&&(o=e.getItem(t),o&&0===n.idx(o,r)&&(s=n.idx(o,r,r.length),a=n.int(o.substring(r.length,s)),o=o.substring(s+r.length)),a&&i&&n.now()-a>=i&&(e.removeItem(t),o=void 0)),o},this.put=function(t,i,o){e&&(o&&(i=r+n.now()+r+i),e.setItem(t,i))},this.remove=function(n){return e&&e.removeItem(n)}}}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";var r;void 0!==(r=function(e){var n=t(9),r=t(0),i=function(e){var t,i={index:r.options(e),keys:[],external:{}};for(t in i.index)0===r.idx(t,n.KEY_PREFIX)?i.keys.push(t):(i.external[t]=i.index[t],delete i.index[t]);return i};return function(e,n){var t=this,o=function(){return a||(a=i(e.cookie)),a},a=null;this.size=function(){return o().keys.length},this.key=function(e){return o().keys[e]},this.get=function(e){return o()[arguments[2]?"external":"index"][e]},this.put=function(t,i,o){var s="",l="; path=/";if(o){var c=r.now();c.setTime(c.getTime()+o),s="; expires="+c.toGMTString()}n&&(l+="; secure"),e.cookie=t+"="+i+s+l,a=null},this.remove=function(e){t.put(e,"",-1),a=null}}}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";var r;void 0!==(r=function(){var e={fpEqual:function(e,n,t){return Math.abs(e-n)<t},round:function(e,n){var t=Math.pow(10,n);return Math.round(e*t)/t},rotatePoint:function(e,n,t){var r=Math.PI/180*t;return{x:n.x+(e.x-n.x)*Math.cos(r)-(e.y-n.y)*Math.sin(r),y:n.y+(e.x-n.x)*Math.sin(r)+(e.y-n.y)*Math.cos(r)}},rotateRect:function(n,t,r){var i=n.x,o=n.y,a=n.width,s=n.height,l=e.rotatePoint({x:i,y:o},t,r),c=e.rotatePoint({x:i+a,y:o},t,r),u=e.rotatePoint({x:i,y:o+s},t,r),d=e.rotatePoint({x:i+a,y:o+s},t,r),f=[l.x,c.x,d.x,u.x],p=[l.y,c.y,d.y,u.y],h=Math.min.apply(Math,f),m=Math.min.apply(Math,p);return{x:h,y:m,width:Math.max.apply(Math,f)-h,height:Math.max.apply(Math,p)-m}},pointInsideRect:function(n,t){var r=t.x,i=t.y,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=e.rotatePoint({x:r,y:i},a||{x:n.x,y:n.y},o);return s.x>=n.x&&s.x<=n.x+n.width&&s.y>=n.y&&s.y<=n.y+n.height},getDistance:function(e,n){var t=n.left-e.left,r=n.top-e.top;return Math.sqrt(t*t+r*r)},getAngle:function(e,n){return Math.atan2(n.top-e.top,n.left-e.left)*(180/Math.PI)},between:function(e,n,t){return Math.max(Math.min(e,t),n)},overlapFraction:function(e,n,t,r){var i=r-t;if(0===i)return 1;var o=Math.max(e,t);return(Math.min(n,r)-o)/i},computeVerticalBounds:function(n,t){var r=t.height,i=t.top+r,o=n.height,a=n.top+t.top,s=a+o,l=e.overlapFraction(a,s,t.top,i);return{top:e.between(t.top-a,0,o),height:e.between(l*r,0,r)}}};return e}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";var r;void 0!==(r=function(e){function n(e){var t=this;this._content={},this._size=0,this.size=function(){return t._size},this.get=function(n,r,i){n=n.id||n;var o=t._content[n];if(o){if(o.type===r)return{content:o,source:"cache"}}else if(i>0&&e&&e.enabled()){var a=e.get({key:n,timeout:i});if(a)return{content:t.put(n,a,r,!1,0),source:"local"}}return{content:null,source:"miss"}},this.put=function(i,o,a,s,l){var c,u,d="string"!=typeof o;return d&&(i=n.cacheable(i,o,a)),i&&(u=t._content[i],u||(u={type:a},t._content[i]=u,t._size++),l>0&&e&&e.enabled()&&(c=e.put({key:i,value:o,json:d,timeout:l})),u._json=null,"string"==typeof c?u._data=c:"string"==typeof o?u._data=o:(u._data=r.stringify(o),s||(u._json=o)),u.data=function(e){u._json||(u._json=r.parse(u._data));var n=u._json;return e||(u._json=null),n},u.data.id=i),u},this.toString=function(){return"Cache[size: "+t._size+"]"}}var r=t(1).json(),i={experience:"scenes",group:"entries"};return n.cacheable=function(e,n,t){var o=i[t];return r&&o&&n&&void 0!==n[o]&&e===n.id&&e},n}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";(function(r){var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0!==(i=function(e){function n(e){var n=this;this.configId=e.configId,this._bundled=function(){var e=s.sandbox().configs,t=e&&e[n.configId];return n._config(t)},this._config=function(e){return e&&void 0!==e.length&&(e={channels:e}),e},this.wildcard=function(e){var t="*"===n.configId;return e&&t&&(n.configId=e,n._proxy&&(n._proxy.id=e),n._script&&i.data(n._script,"channel",e),n.info("Qualified wild-card snippet with id",n)),t},this._deduceMode=function(e){if(e=new u(e instanceof u?e.toString():e),n.wildcard())e.mode="manual";else{var t=n._bundled();t&&e.merge(t.mode)}return e},this.mode=n._deduceMode(e.mode),e.url?this.baseUrl=d.url({url:e.url.substring(0,e.url.lastIndexOf("/")+1)}):this.baseUrl=d.url({viewer:""}),this.restoreType=e.restoreType||"restore",this.loadingIndicator=e.loadingIndicator||l.TYPE.None,this.timeout=m.time(e.timeout,3e4),this.storage=e.storage,this.cacheable=m.time(e.cacheable,6e4),this._script=e.script,this._proxy=null,this._preview=m.int(e.preview),this._processed=0,this._total=0,this._sort=e.sort,this._process=e.process,this._channels=null,this._preloadViewer=0,this.cache=null,this.logger=null,this._level=e.log,this.error=null,this.info=null,this.verbose=null,this._setupLog=function(e,t){n.logger=c.setup(e,t||n._level||s.defaultLogLevel()),n.error=e.error,n.info=e.info,n.verbose=e.verbose},this.url=function(e){return n.baseUrl+e},this.admin=function(){return n.mode.is(f.ADMIN)||m.boolean(s.config(s.QUERY.adminModeIdentifier))},this._dequeueChannels=function(){var e=s.sandbox(),t=e.queue,r=0;return t&&(n.info("Dequeueing channels for",n,t),r=n._addChannels(t,"manual",n.admin()),t.length||delete e.queue),r},this._parseChannels=function(){p.dom.docReady({name:"_parseChannels",scope:n,callback:function(){n.verbose("Parsing dom for channels on url: ",a.val(s.loc));var e,t,r,o,l,c,u=p.dom.selectElements("[data-snippet='"+n.configId+"']"),d=[],h="experience";for(c=0;c<u.length;c++)r=u[c],(e=i.data(r,"channel"))&&(o=i.data(r,"group"),o?h="group":o=i.data(r,"experience"),o&&(t={id:e,element:r,origin:"dom"},t[h]={id:o},d.push(t)));l=n._addChannels(d),n.info("Found ",l," channel(s) in the dom",n);var m=function(e,n){return"dom"===e.origin?"dom"===n.origin?0:-1:"dom"===n.origin?1:0};n.mode.is(f.PRELOAD)?(n.mode.mode="auto",l&&n.sort(m)):n._populateChannels(l?m:null)}})},this.loadChannels=function(){if(n._channels)return void n._channelsReady();n._dequeueChannels(),v.preload(n);var e=n._bundled();if(e)return n.info("Using bundled configuration",n),void n._channelsReady(e.channels,"bundled");s.win["__zmagsChannels_"+n.configId]=function(e){n._channelsLoaded&&(n._channelsLoaded(n._config(e).channels),n._channelsLoaded=null)};var t="oading channel data";t=n.mode.is(f.PRELOAD)?"Prel"+t:"L"+t,n.info(t,n),g.timer(h.CHANNEL_CONFIG_TIMER),d.script({viewer:"/assets/channelConfigs/"+n.configId+".json",log:n,errback:function(){n.error("Cannot load channel config - exiting!")}})},this.size=function(){return n._channels&&n._channels.length},this.channel=function(e){var t,r,i,o;if(e&&n._channels){"string"==typeof e&&(e={id:e});e:for(o=0;o<n._channels.length;o++){t=n._channels[o];for(r in e)if(i=e[r],!("function"==typeof i?i(t,r):i instanceof RegExp?i.test(t[r]):t[r]==i))continue e;return t}}return null},this.each=function(e,t,r){var i,o,a;if(e&&n._channels)for("function"==typeof t&&(r=t,t=null),void 0===r&&(r=y),a=0;a<n._channels.length;a++)if(i=n._channels[a],(!r||r(i))&&void 0!==(o=e.call(t||e,i,a)))return o;return null},this.setChannels=function(e,t){n.restoreChannels(!0);var r=0;return t&&(r=n._dequeueChannels()),e&&(r+=n.addChannels(e,!n.admin())),r},this.addChannels=function(e,t){var r=n._addChannels(e,"manual");return r&&(void 0===t||t)&&n._channelsReady(),r},this._addChannels=function(e,t,i){if(!e)return 0;var a=void 0===e?"undefined":o(e);("string"===a||"object"===a&&"number"!=typeof e.length)&&(e=[e]),n._channels||(n._channels=[],n._processed=0);var s,l,c=0;for(l=0;l<e.length;l++)(s=r.of(n,e[l],n._process))&&(s.origin||(s.origin=t),n._channels.push(s),s.embedded||(n.info("Channel matching url",s),s.inPlace&&!p.dom.docLoaded&&s.loadContent()),c++,i||e.splice(l--,1));return c},this.sort=function(e){var t=-1;if(e&&n._channels){t=n._processed;var r=n._channels.length,i=t?n._channels.splice(0,t):null;n._channels.sort(e),n.info("Sorted unprocessed channels: ["+t+","+r+"]"),n.verbose("Sorted channel order",n._channels),i&&(n._channels=i.concat(n._channels))}return t},this._loadSizzle=function(){var e=n.mode.is(f.PRELOAD);if(s.sandbox().sizzle&&!e)return void("webcache"===s.loc.type?n._parseChannels():n._populateChannels());n.verbose("Native css selector not available,",e?" pre":" ","loading Sizzle",s.capabilities),d.script({url:n.url("js/vendor/sizzle.custom.jdokmu8t.js"),log:n,callback:function(){if(!s.sandbox().sizzle){var t="Cannot find Sizzle";throw n.error(t,n),new Error(t)}"webcache"===s.loc.type?(e&&n.verbose("Sizzle preloaded",a.snippet(n)),n._parseChannels()):e?(n.mode.mode="auto",n.verbose("Sizzle preloaded",a.snippet(n))):n._populateChannels()}})},this._channelsLoaded=function(e){g.timer(h.NETWORK_MEASUREMENT),e||(e=[]);var t=e.length;n.info(t," channel(s)",n.mode.is(f.PRELOAD)?" pre":" ","loaded: ",a.val(s.loc),n).verbose("Channel data",e),n._channelsReady(e,"loaded")},this._channelsReady=function(e,t){e&&n._addChannels(e,t);var r=n.mode.is(f.PRELOAD),i=n._channels.length;if(i){if(n._processed<i)if(s.capabilities.isBackForwardCacheSupported||r||(s.win.onpageshow=function(e){e.persisted&&(n.info("Reloading page due to bad cache hit: ",a.val(s.userAgent),s.capabilities),s.win.location.reload())}),s.capabilities.isQuerySelectorSupported)"webcache"===s.loc.type?n._parseChannels():r?n.mode.mode="auto":n._populateChannels();else{var o=s.$();o&&o.find&&(n.info("Native css selector not available, but found usable jQuery Sizzle: ",o),s.sandbox().sizzle=o.find),n._loadSizzle()}}else n.info("No channels matching url: ",a.val(s.loc)),"webcache"===s.loc.type&&n._parseChannels()},this.populateChannels=function(e){return this._populateChannels(e)},this.populateChannel=function(e,t){var r=m.idx(n._channels,e),i=!1;return-1!==r&&(r<n._processed?(i=e.ready())||(i=n._populateChannel(e,r))&&n._total++:(n._populateChannels(t),i=e.ready())),i},this._populateChannels=function(e){p.dom.docReady({name:"_populateChannels",scope:n,args:e,callback:function(e){if(n._channels){n._total=0;var t,r=0,i=n._processed;for(t=0;t<i;t++)n._channels[t].ready()&&n._total++;for(n.sort(e||n._sort);t<n._channels.length;t++)n._populateChannel(n._channels[t],n._total)&&(r++,n._total++);n._processed=t,n.info("Populated channels: ",r+"/"+n._total,n)}}})},this._populateChannel=function(e,t){return n.verbose("Populating channel",e),e.insert(t),e.ready()},this.restoreChannels=function(e){var t,r,i,o=0;if(n._channels){for(r=t=n._channels.length;t--;)i=n._channels[t],i.removeContent()&&o++,!e&&i.embedded&&(n.verbose("Removed embedded channel",i,n),n._channels.splice(t,1));n._total=0,n._processed=0,n.info("Restored channels: ",o,n),e&&(n._channels=null,n.info("Cleared channels: ",r,n))}return o},this.restoreChannel=function(e){return!("idle"===e.state||!e.removeContent())&&(n._total--,!0)},this.removeChannel=function(e){var t=m.idx(n._channels,e);-1!==t&&(n.restoreChannel(e),e.state="destroyed",n._channels.splice(t,1),t<=n._processed&&n._processed--,n.info("Removed channel: "+e,n))},this.proxy=function(){return n._proxy||(n._proxy={id:n.configId,add:function(e){return n.addChannels(e,!n.admin())},remove:function(e){return e.stop(!0)},start:n.loadChannels,stop:n.restoreChannels,channel:function(e){var t=n.channel(e);return t?t.proxy():null},options:function(e){s.session.enabled()&&(s.session.put({key:n.configId,value:e,json:!0}),n.info(e?"Setting":"Clearing"," snippet config for use on session reload",e||{},n))},log:function(){var e=o(arguments[0]),t=arguments[0];if("number"!==e)return n.logger.queue("undefined"===e||t);n._setupLog(n.logger,t)},toString:function(){return a.snippet(n)}}),n._proxy},this.toString=function(){return a.snippet(n)}}var r=t(27),i=t(5),a=t(1),s=t(3),l=t(11),c=t(7),u=t(35),d=t(6),f=t(12),p=t(4),h=t(36),m=t(0),v=t(8),g=new h(c.timer()),y=function(e){return!e.embedded};return n.of=function(e){var t,r;if(!e)return null;if(e instanceof n)return e;if(r=/script/i.test(""+e.tagName)?{configId:i.data(e,"channel"),url:e.src,mode:i.data(e,"mode"),restoreType:i.data(e,"restore-type"),preview:i.data(e,"preview"),loadingIndicator:i.data(e,"loading-indicator"),timeout:i.data(e,"timeout"),storage:i.data(e,"storage"),cacheable:i.data(e,"cacheable"),script:e}:"string"==typeof e?{configId:e}:e,r.configId&&(t=new n(r)),t&&(r={key:t.configId,json:!0},r=s.session.get(r)||s.cookie.get(r))){if(r.mode){var o=new u(r.mode);t.wildcard()?t.mode.viewer=o.viewer:t.mode=o}t.restoreType=r.restoreType||t.restoreType,t.loadingIndicator=r.loadingIndicator||t.loadingIndicator,t._preview=r.preview||t._preview,t._level=r.log||t._level,t.timeout=m.time(r.timeout,t.timeout),t.cacheable=m.time(r.cacheable,t.cacheable),t.storage=void 0!==r.storage?r.storage:t.storage,p.log.info("Updated snippet based on session configuration",r,t)}return t},n.Mode=u,n}.call(n,t,n,e))&&(e.exports=i)}).call(n,t(2))},function(e,n,t){"use strict";(function(r){var i;void 0!==(i=function(e){function n(){var e=this;this.element=null,this.elements=[],this.viewport=null,this.toString=function(){return u.match(e)}}function r(e,t){var i=this;this.snippet=e,this.dom=d.of(t.win),this.embedded=t.embedded,this.origin=t.origin||(i.embedded?"embed":"loaded"),this.content=f.of(t),this.type=function(){return i.content.type},this._selector=t.selector||"",this._dom={element:!i._selector&&t.element,container:null,viewport:null,visibility:null,position:null,id:null},this.inPlace=!!i._dom.element,this.name=t.name||i._selector||(i._dom.element&&i._dom.element.tagName||"current")+c.now(),this.id=t.id||t.cid||i.name,this._viewer=null,this.state="idle",this._proxy=null,this._url=t.urlPattern&&t.urlPattern.join("*")||t.url||"",this._restoreType=e.admin()?"restore":t.restoreType||e.restoreType,this._loadingIndicator={options:t.loadingIndicator||e.loadingIndicator,indicator:null},this._preload=function(){var n=c.int(t.preload);return n||(i.inPlace&&!i.embedded?10:e.mode.is({viewer:"data"})?1:0)},this._timeout=c.time(t.timeout,e.timeout),this._cacheable=c.time(t.cacheable,e.cacheable),this._channels=[],this.qualifiedName=function(){return e.configId+":"+i.id},this._dom.id="zmags_"+i.content.type+"_"+i.content.id()+"_"+i.qualifiedName(),this.valid=function(){return!(!i.content.id()&&!e.admin()||!i._selector&&!i._dom.element)},this.matchElements=function(){var t,o,s,l,f,p,m=new n;if(i._selector)try{t=i.dom.selectElements(i._selector)}catch(n){e.error("Cannot select elements, no elements will match channel",i,n)}else i.dom.contains(i._dom.element)&&(t=[i._dom.element]);if(t)e:for(p=0;p<t.length;p++){if(o=t[p],l=d.data(o,"channel-processed"),f=a.start+":"+i.qualifiedName(),l?(l=l.split(h),-1===c.idx(l,f)&&l.push(f),l.length>1&&e.info("Element already processed by other channel(s):",u.element(o)," -> ",f,l,o),l=l.join(h)):l=f,d.data(o,"channel-processed",l),!i.embedded){var v,g,y,b,_=d.selectElements("[data-snippet][data-channel]");for(b=0;b<_.length;b++)if(v=_[b],(s=r.fromElement(v))&&!s.embedded&&s!==i&&(o===v?(y="element",g="same"):d.descendant(o,v)?(y="element containing other element(s)",g="parent"):d.descendant(v,o)&&(y="element contained in other element",g="child"),y)){e.info("Ignoring "+y+" already matched by other channel(s)",s,i,o),s._channels.push({channel:i,type:g}),i._dom.used=s.id;continue e}}m.elements.push(o)}var w=m.elements.length;if(i._selector?e.verbose("Channel selector matched ",w," usable element(s)",i):e.verbose("Channel 'in-place' element is",w?" ":" not ","usable",i),w){var A=!1,x=0;for(p=0;p<w;p++)if(o=m.elements[p],"hidden"!==d.style(o,"visibility")){A=!0,x=p;break}m.element=m.elements[x],m.elements.splice(x,1);var C=i.dom.bounds(m.element);m.viewport=C;var S,E=C.width||0,I=C.height||0,k=C.right||NaN,R=C.bottom||NaN,M=!I||!E,N=k<0||R<0;N||(k=C.left||NaN,R=C.top||NaN,S=i.dom.bounds(),N=k>S.right||R>S.bottom),e.verbose("Channel uses",A?" visible":" *non-visible*",M?" and *zero-bounded*":"",N?" and *out-of-bounds-positioned*":""," element",i,m)}return m},this.loadContent=function(){var e=i.content,n=e.id();if(n&&"notloaded"===e.state){var t=a.cache.get(n,e.type,i._cacheable);t.content?this._contentLoaded(t.content.data,t.source):i._preload()>0&&o.capabilities.isQuerySelectorSupported&&i._fetchContent()}},this._fetchContent=function(){var n=i.content;return l.json({viewer:"/api/"+n.type+"s/"+n.id(),log:e,available:function(){i.content.state="pending"},callback:i._contentLoaded,errback:i._contentLoaded})},this._contentLoaded=function(e,n){i.contentLoaded(e,i.content.type,n,!1),i.viewer().contentLoaded(e)},this.contentLoaded=function(e,n,t,r){var o=i.content;o.type===n?e?(o.state=t||f.State.LOADED,o.state===f.State.LOCAL||o.state===f.State.CACHE?o.data=e:(o.data=a.cache.put(e.id,e,n,void 0===r||r,i._cacheable).data,o.data||(o.state=f.State.FAILED))):o.state=f.State.FAILED:e&&a.cache.put(e.id,e,n,!0,i._cacheable)},this.insert=function(e){var n=i.matchElements();return n.element&&i.insertContent(n,e),i.state},this.insertContent=function(e,n){return i.loadContent(),i._insertContent(e,n)},this._insertContent=function(n,t){var r=n.element,a=i.type();if(i._dom.element&&i._removeContent(a,r),i.state=i.content.id()?a:"match",i._tagElement(r,!0),i._prepareElements(n),i._expose(!0),"match"!==i.state){i.state=a;var s=i.dom.createElement("iframe",{src:"about:blank",frameborder:"0",allowFullscreen:"true",id:i._dom.id,"data-zmags-viewer":o.CONFIG.version+":"+i.snippet.configId});i._dom.container=s;var l=s.style;if(l.width="100%",l.height="100%",l.position="absolute",l.left="0",l.top="0",l.display="block",d.visibility(s,"visible"),r.appendChild(s),i.viewer().insert(s,t))return e.info("Channel initialised with "+a,i," -> viewer log postfix: "+u.val(t||"")),!0;e.info("Channel could not insert viewer with ",a,", removing channel again",i),i.removeContent()}else e.info("Channel dom match with no content",i,n);return!1},this.shown=function(){return i.ready()&&i.content.shown()},this.ready=function(){var e=i.state;return"experience"===e||"group"===e},this._startLoadingIndicator=function(){var n=p.create(i._loadingIndicator.options,i),t=i._dom.viewport;n&&(t.width&&t.height?(i._loadingIndicator.indicator=n,n.start()):e.info("Loading indicator not started, zero-bounded viewport: ",u.bounds(t),i))},this._stopLoadingIndicator=function(){var e=i._loadingIndicator.indicator;e&&(i._loadingIndicator.indicator=null,e.end())},this._tagElement=function(n,t){var r=i.content,o=r.id();d.data(n,"snippet",t?e.configId:null),d.data(n,"channel",t?i.id:null),o&&d.data(n,r.type,t?o:null),i.embedded&&d.data(n,"embedded",t?"":null),t||"group"!==r.type||d.data(n,"experience",null)},this._prepareElements=function(n){i._handleVisibility(n);var t=n.element,r=d.style(t,"position"),o=t.style;return"static"!==r&&r||(i._dom.position={position:r,left:o.left,top:o.top,right:o.right,bottom:o.bottom},o.position="relative",o.left="",o.top="",o.right="",o.bottom="",e.verbose("Setting target element position to relative for channel/"+i.type(),i,t)),t},this._handleVisibility=function(e){var n=e.element;i._dom.element=n,i._dom.viewport=e.viewport,i._dom.visibility=d.style(n,"visibility"),"match"!==i.state&&d.visibility(n,"hidden")},this.viewer=function(){return i._viewer||(i._viewer=new s(i)),i._viewer},this.removeContent=function(){return i._removeContent("idle")},this._removeContent=function(n,t){return i.state!==n&&i._dom.element!==t&&(t||(t=i._dom.element),i._expose(!1),i._viewer&&(i._viewer.close(),i._viewer=null),i._dom.container&&d.removeElement(i._dom.container),i._restoreElement(t),i._channels=[],e.each(function(e){for(var n=0;n<e._channels.length;n++)if(e._channels[n].channel===i)return void e._channels.splice(n,1)}),i._dom={id:i._dom.id,element:i._selector?null:t},i.state=n||"idle",e.info("Channel restored with ","hide"===i._restoreType?"hidden":"original"," content",i),!0)},this._restoreElement=function(n){if(n){d.visibility(n,i._dom.visibility),"hide"===i._restoreType&&d.visibility(n,"none");var t=i.type();i._tagElement(n),"group"===t&&d.data(n,"experience",null);var r=d.data(n,"channel-processed").split(h),o=c.idx(r,i.qualifiedName());r.splice(o,1),d.data(n,"channel-processed",r.length?r.join(h):null);var a,s=i._dom.position;if(s){for(a in s)n.style[a]=s[a];e.verbose("Resetting target element position for channel/"+t,i,n)}}},this._expose=function(e){var n=o.sandbox(),t=i.proxy(),r=c.idx(n.active,t);e?(n.active||(n.active=[]),-1===r&&n.active.push(t)):-1!==r&&(n.active.splice(r,1),n.active.length||delete n.active)},this.proxy=function(){return i._proxy||(i._proxy=i._createProxy()),i._proxy},this._createProxy=function(){return{name:i.name,snippet:e.proxy(),start:function(){return e.populateChannel(i)},stop:function(n){return n?e.removeChannel(i):e.restoreChannel(i)},id:i.shown,state:function(){return i.state},content:function(){return i.content},container:function(){return i._dom.container},element:function(){return i._dom.element},viewport:function(){return i._dom.viewport=i.dom.bounds(i._dom.element),i._dom.viewport},embedded:function(){return i.embedded&&i.embedded.proxy()},viewer:function(){return i.viewer()._viewerProxy()},toString:function(){return u.channel(i)}}},this.toString=function(){return u.channel(i)}}var i=t(28),o=t(3),a=t(4),s=t(8),l=t(6),c=t(0),u=t(1),d=t(5),f=t(31),p=t(11),h="_;_";return r.of=function(e,n,t){if(n&&("string"==typeof n&&(n={experience:{id:n},configId:e.configId,element:a.dom.currentElement()}),!n.configId||n.configId===e.configId)){var s=n.experience||n.group;if(s&&s.id){if("invalid"===s.state)return null;a.cache.put(s.id,s,n.experience?"experience":"group",!1,s.cacheable||e.cacheable)}if(i(n,o.loc.href)){var l=new r(e,n);if(l.valid())return t?t(l,n):l}}return null},r.fromElement=function(e){var n,t,r,i,o=d.data(e,"snippet");if(o)e:for(i=0;i<a.snippets.length;i++)if(n=a.snippets[i],n.configId===o){if(n._channels)for(o=d.data(e,"channel"),i=0;i<n._channels.length;i++)if(t=n._channels[i],t.id===o){if(r=t.content,r.id()===d.data(e,r.type))return t;break e}break}return null},r.Content=f,r.Match=n,r}.call(n,t,n,e))&&(e.exports=i)}).call(n,t(2))},function(e,n,t){"use strict";var r;void 0!==(r=function(e){var n=t(0);return function(e,t){var r=e.urlPattern;if(!r){if(!e.url)return!0;if(e.url=n.trim(e.url),!e.url)return!0;r=e.url.split("*")}if(0!==n.idx(t,r[0]))return!1;var i=r[0].length,o=r[r.length-1],a=t.length-o.length;if(a<0||t.lastIndexOf(o)!==a)return!1;for(var s=1;s<r.length-1;s++){if(-1===(i=n.idx(t,r[s],i))||i>a)return!1;i+=r[s].length}return!0}}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";(function(r){var i;void 0!==(i=function(e){var n=t(3),r=n.CONFIG.piwikConfig;return{TRACKING_SCRIPT:r&&r.trackingScriptUrl}}.call(n,t,n,e))&&(e.exports=i)}).call(n,t(2))},function(e,n,t){"use strict";var r;void 0!==(r=function(){return{HTML:"html",JS:"js",LIB:"lib",DATA:"data"}}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";var r;void 0!==(r=function(e){function n(e,n,t){var o=this;this.id=function(){return o.data.id},this.data=e||function(){},this.name=function(){var e,n=o.data(!0),t=n&&n.name;return t||(t=o.type.charAt(0).toUpperCase()+o.type.substr(1),e=o.id(),e?t+" "+e:t)},this.type=n,this.state=t||i.NOT_LOADED,this.scene={target:null,current:1,previous:null},this._shown=o.id(),this.shown=function(){return o._shown},this.toString=function(){return r.content(o)}}var r=t(1),i=t(10);return n.of=function(e){var t=function(t){var r,o=e[t],a=e[t+"Data"],s=a&&i.LOADED;if(o)return r=function(){return a||o},r.id=o.id,new n(r,t,s)};return t("experience")||t("group")||new n(null,"unknown")},n.State=i,n}.call(n,t,n,e))&&(e.exports=r)},function(e,n){e.exports=".zmags-fade-in {\n    -webkit-animation: zmags-fade-in-anim .5s;\n    -moz-animation: zmags-fade-in-anim .5s;\n    animation: zmagsFadein .5s\n}\n@keyframes zmags-fade.in-anim {\n    from {\n        opacity: 0\n    }\n    to {\n        opacity: 1\n    }\n}\n@-moz-keyframes zmags-fade-in-anim {\n    from {\n        opacity: 0\n    }\n    to {\n        opacity: 1\n    }\n}\n@-webkit-keyframes zmags-fade-in-anim {\n    from {\n        opacity: 0\n    }\n    to {\n        opacity: 1\n    }\n}\n"},function(e,n){e.exports=".@className {\n    position: absolute;\n    top: @toppx;\n    left: 50%;\n    width: 60px;\n    height: 60px;\n    margin-top: -30px;\n    margin-left: -30px;\n    border-radius: 50%;\n    background: @color;\n    background: -moz-linear-gradient(left, @color 10%, rgba(255, 255, 255, 0) 42%);\n    background: -webkit-linear-gradient(left, @color 10%, rgba(255, 255, 255, 0) 42%);\n    background: -o-linear-gradient(left, @color 10%, rgba(255, 255, 255, 0) 42%);\n    background: -ms-linear-gradient(left, @color 10%, rgba(255, 255, 255, 0) 42%);\n    background: linear-gradient(to right, @color 10%, rgba(255, 255, 255, 0) 42%);\n    text-indent: -9999em;\n    -webkit-animation: @className-anim .9s infinite linear;\n    animation: @className-anim .9s infinite linear\n}\n.@className-bg {\n    position: absolute;\n    top: @toppx;\n    left: 50%;\n    width: 80px;\n    height: 80px;\n    margin-top: -40px;\n    margin-left: -40px;\n    border-radius: 50%;\n    background: @backgroundColor\n}\n.@className:before {\n    width: 50%;\n    height: 50%;\n    background: @color;\n    border-radius: 100% 0 0;\n    position: absolute;\n    top: 0;\n    left: 0;\n    content: ''\n}\n.@className:after {\n    background: @backgroundColor;\n    width: 75%;\n    height: 75%;\n    border-radius: 50%;\n    content: '';\n    margin: auto;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0\n}\n@-webkit-keyframes @className-anim {\n    0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg)\n    }\n    100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg)\n    }\n}\n@keyframes @className-anim {\n    0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg)\n    }\n    100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg)\n    }\n}\n"},function(e,n){e.exports=".@className {\n    position: absolute;\n    width: 32px;\n    height: 32px;\n    top: 50%;\n    left: 50%;\n    margin: -16px 0 0 -16px;\n    background-image: url('data:image/gif;base64,R0lGODlhIAAgALMLADQ0NAEBARsbG8TExJeXl1RUVIGBgbq6utbW1uHh4bOzs////wAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUM1RUZDNzlBRUI1MTFFNDk2RkRFNTg0MERBRTVEMEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUM1RUZDN0FBRUI1MTFFNDk2RkRFNTg0MERBRTVEMEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1QzVFRkM3N0FFQjUxMUU0OTZGREU1ODQwREFFNUQwRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1QzVFRkM3OEFFQjUxMUU0OTZGREU1ODQwREFFNUQwRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUFAAsALAAAAAAgACAAAATncMlJKQmk6s2nCEKFJJ2mGFWgUoOilFQiCAWlBlPiHjA1Cy/JbXJwIXoTwwwwGS4QOyQFMEMtnC4FSSpR/EhDqGJAEW8XCgAgMylUNbpc0TghqAGF4EDA7rSyZBQFd3hHPVkKB2cUCoN3SGKGHXYAQT2SMAlWXJxciDsJAwQGpKWcnzulqptIqIqiq6ydsx2YMLa1dCWRSHOJi3JZPEh/LoETxYm3lgm+kmK/E1oaYsdPRWc6Cph/R1ldLsA92kHfT1Gcc4bmC+pcYsNoLjnsPXNn9X+eY4zzZeIdEtgqEo/WhmYAN0QAACH5BAUFAAsALAAAAAAgACAAAAQicMlJq7046827/2AojmRpnmiqrmzrvnAsz3Rt33iu77wcAQAh+QQFBQALACwAAAAAIAAgAAAE7nDJSakCqurNZwFFZWRdhRwVoFKFIJRUYoyUCkyKe8PTbCATW9Bl4E0OvuBqYdAZKYQZaiFMuASkSQKG8G2FTUGoFwgQtIoDcBKlVQiCgQReDhQlCIX+sF3I5B0DAHUBOxMDenoDfTCEWBsJB4lTMAZldx15Cms8BZwlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rC+ILmsfB3uPoC6++G+w48edZPK+M6hLJpRQ484enXIdQFSS1u6UhksENEQAAIfkEBQUACwAsBwAAABkAEQAABGlwybmGGTTrTQzJ37YkSGacGQCIioJNp0Gp4tIqCYxKhRpqiNZBJ1sQVIXa4tAqLWIS1UqZuEmgC1pGIFBQBk2NAuAccwViZ61wFiSVm/aU4oUbuXa4IZfv+zUBgYICP32ChwF/C4gBhBEAIfkEBQUACwAsDgAAABIAGAAABGUQEbSqvVgRvA7lCyFehGGA4Vgh5gmKW9UeKFwdLZrG7feOClOsQgAAUANDwlIwAoYgivOoq0wLtKr1qe16vxWBeEzVjc+CKloAUIC9Bl/XEAi4uvW6AIoE5ANlVQQCeXdadAFuEQAh+QQFBQALACwOAAAAEgAeAAAEgDCdtKq9+KiDB75KCBLEV4XKRaYmaimk14rLQJbm4i53foo2AqtyMBgQJsQQYTRyfAlC04DzTY8+y8CZxQy74CxgTC58P+Q0QKwuhN8WypsgEMDrdcA5WcAL3CYGATIKAHgmBQEBaxeGJgmKAVVdggF2bwKKBm8KkXAAinJhVCYRACH5BAUFAAsALA8AAQARAB8AAAR7cMm5UKIYD6WyT9zhZQeHjBQSohSnXGzFDSkHU/eSlCa7uTSUS3HIeVSKU0yiXDo9hqiUEIRKr6hrlPrsOhUAAMEZDheeZcCIIKAUymOKQSA4T8bqRWAvoQs6HnsBE3R5GYITAHQjiISLh3wTBY8YjS0eAgFtTgQBcUsRACH5BAUFAAsALAgADgAYABIAAARscMlJ61I4n2T7zODheSC2jWiKKio6GIbYWnCNzFRC1AYxK4DbAsGTLQYBQwcAqBxgwgUgECgsBFgJszkiUAMcrEBCYFo9AqrympUUmD4adSwRU7addCDOpk+YHVRcdW0TfBU7FQACgzgffioRACH5BAUFAAsALAIAEgAdAA4AAAR4cMlJq13oUlS0RYqSXUYQGB51hMqRUIpgmik1sMogAXMA6J6B4bVIrEKIkklAkCCYFoXB0JwgVgmCCTUpCAQogFgyNYwsxEnsuxsvDuXaBMBuAyaE6UG++N7tVnE1dAIKc24SeVwpXx2HfxMHZx6GFQUAjnxykDURACH5BAUFAAsALAAADwAZABEAAARnkIhA67o461t72GAmeV9onuiZGCkqCEQLAu8rZ0UtFCiibDXA7yLc+BSDjMKmAQAuhuhFQU2gnM9FlLU4Hk4FZ0wrvRyoiBDByYOWFwnqcJZ1cy8Dasip2WoQVmoaBAZjNxoDBkkbEQAh+QQFBQALACwBAAgAEQAYAAAEXFCFYJa9+JoZBMngAnABMIQYIZBotlFthlRxbd94ru8oAQC2Q+H3qxGBiJbvV7gkDCfQ73MhGAyKhWKLml0t22zoajiAuaAD+RIeX5NnsQuLaYMQcstBYb4lDgkRACH5BAUFAAsALAAAAgAOAB0AAARycMm5iKF4hgAy3oHiTcYmjJOwXSgBImlHAVuRCgIgLkPASgUcrgDzKADCE2qBIywXiedSUQBYr5mrVkahbrnS8A51MBgGI4R57bGsCVFM2UxASxTxhdpwoAwUCkUeCYBjHgeAghkIgH1kgHlGCnYoCYoRADs=')\n}\n.@className-bg {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 44px;\n    height: 44px;\n    margin-top: -22px;\n    margin-left: -22px;\n    border-radius: 50%;\n    background: white\n}\n"},function(e,n,t){"use strict";var r;void 0!==(r=function(e){var n=t(0),r=t(12);return function e(t){t=t||r.AUTO;var i=t,o="",a=i.indexOf(":");-1!==a&&(i=t.substr(0,a))!==r.ADMIN&&(o=t.substr(a+1)),this.mode=i,this.viewer=o,this.is=function(e){var t=void 0;return t=e.length?{mode:e}:e,(!t.mode||-1!==n.idx(t.mode,this.mode))&&(!t.viewer||-1!==n.idx(this.viewer,t.viewer))},this.merge=function(n){if(n){var t=new e(n);this.modeString=t.modeString,t.viewer&&(this.viewer?this.viewer+=":"+t.viewer:this.viewer=t.viewer)}return this},this.toString=function(){return this.viewer?this.mode+":"+this.viewer:this.mode}}}.call(n,t,n,e))&&(e.exports=r)},function(e,n,t){"use strict";var r;void 0!==(r=function(){function e(e){this._logger=e,this._time=0}return e.prototype={timer:function(e,n){var t=this._time;this._time=n||(new Date).getTime();var r=e+": "+this._time;t&&(r+=" "+(this._time-t)+" ms elapsed"),this._logger.info(r)},end:function(){this.timer("[End]")},reset:function(){this._time=0}},e.CHANNEL_SCRIPT_TIMER="Channel script fetch time",e.CHANNEL_CONFIG_TIMER="Channel config fetch time",e.EXPERIENCE_RENDER_TIMER="Experience render time",e.NETWORK_MEASUREMENT="[network]",e}.call(n,t,n,e))&&(e.exports=r)},function(e,n){}]);
//# sourceMappingURL=channels.js.map