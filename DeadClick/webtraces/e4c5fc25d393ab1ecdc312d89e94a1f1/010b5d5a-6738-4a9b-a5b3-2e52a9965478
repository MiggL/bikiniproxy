/*! updated; 02-13-2018 04:14 PM **/


Modulr.define("core.pages.category:config",["require","jquery","cdn"],function(require,$){var config={};return config.cdn=require("cdn"),config});
Modulr.define("core.pages.category:helper",["require","jquery","modernizr","cdn","core.base:utils/detector","akamai.time","akamai.geo","core.plugins:ImageLazyLoad"],function(require,$){var Time=require("akamai.time"),Geo=require("akamai.geo"),CDN=(require("modernizr"),require("cdn")),Detector=require("core.base:utils/detector"),Unveil=require("core.plugins:ImageLazyLoad"),Helper=function(){};return Helper.prototype.getCurrentView=Detector.current,Helper.prototype.getCurrentTime=function(){return Time.getCurrent()},Helper.prototype.log=function(){if(window.console){var args=Array.prototype.slice.call(arguments);args.unshift("[FOX.ARTICLES] ");try{return console.log.apply(console,args)}catch(err){console.log(args.join(" | "))}}},Helper.prototype.setLoader=function(items){for(var i=0;i<items.length;i++)!function(info){var target=info.target,clear=CDN.domain+"/static/orion/img/clear.gif",className="loader-"+info.module.replace(/[^A-Za-z0-9\-\_]/gi,"").toLowerCase();target.append('<img class="'+className+'" data-src="'+clear+'" src="'+clear+'" style="width: 1px; height: 1px;" />'),Unveil(target.find("img."+className+":first"),50,function(){require([info.module],function(mod){Helper.log("loaded module: "+info.module),"function"==typeof info.callback?info.callback():"object"==typeof mod&&"function"==typeof mod.init&&mod.init()}),$(this).remove()})}(items[i])},Helper.prototype.getSiteId=function(){return $('meta[name="prism.channel"]').attr("content")||"fnc"},Helper.prototype.isListPage=function(){return"list"===$('meta[name="prism.genre"]').attr("content")},Helper.prototype.execModules=function(modules){for(var i=0;i<modules.length;i++){var module=modules[i];"object"==typeof module&&"function"==typeof module.init&&module.init()}},Helper.prototype.getHeight=function(width){return 9*Math.round(width/16)},Helper.prototype.setModulePaths=function(prefix,arr){for(var i=0;i<arr.length;i++)arr[i]=[prefix,arr[i]].join("/").replace(/\/+/g,"/");return arr},Helper.prototype.isElementInViewport=function(el){var rect=el.get(0).getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)},Helper.prototype.cacheBuster=function(freq){freq=freq||!1;var date=new Date,str=date.getFullYear().toString()+(date.getMonth()+1).toString()+date.getDate().toString(),hr=date.getHours()+1,min=date.getMinutes();return str+=hr.toString()+(freq&&!isNaN(freq)?Math.floor(min/parseFloat(freq)).toString():"")},Helper.prototype.isFoxBusiness=function(){return"fbn"===$('meta[name="prism.channel"]').attr("content")},Helper.prototype.isAEMAuthor=function(){return!!/aem\-(|.+)author/.test(window.location.host)},Helper.prototype.geoInfo=function(){return Geo},Helper.prototype.getDomainHost=function(useProtocol,prod){var loc=window.location,host=loc.hostname,protocol=loc.protocol,arr=host.split("."),val=[];return useProtocol&&(val.push(protocol+"//"),!prod)?protocol+"//"+host:(host.indexOf("smallbusiness.")>-1?val.push("smallbusiness."):prod&&val.push("www."),val.join("")+arr[arr.length-2]+"."+arr[arr.length-1])},Helper.prototype.IEVersion=function(version,comparison){var isIE,cc="IE",b=document.createElement("B"),docElem=document.documentElement;return version&&(cc+=" "+version,comparison&&(cc=comparison+" "+cc)),b.innerHTML="\x3c!--[if "+cc+']><b id="iecctest"></b><![endif]--\x3e',docElem.appendChild(b),isIE=!!document.getElementById("iecctest"),docElem.removeChild(b),isIE},new Helper});
Modulr.define("core.pages.category:main",["require","jquery","helper","sites/router","core.components:auth","core.base:utils/page.reload"],function(require,$,Helper){var Router=require("sites/router"),Auth=require("core.components:auth");require("core.base:modules/header");if(Auth.initNew(),!Helper.isAEMAuthor()){require("core.base:utils/page.reload").set(10)}var MODULES_INIT=["@shared/video.modal","core.base:modules/header","core.base:modules/breaking-news"];$(".collection-medals")&&require(["@shared/olympics-count-2018"]);var App=function(){var Proto=this;Router.ready(),Proto.set=function(callback){Router.ready(callback)}};return MODULES_INIT.length>0&&require(MODULES_INIT,function(){var args=Array.prototype.slice.call(arguments);Helper.execModules(args)}),new App});
Modulr.define("core.pages.category:models/data",["require","jquery"],function(require,$){return new function(){this.getData=function(){return"sample data"}}});
Modulr.define("core.pages.category:shared/models/load-more",["require","jquery","lodash","akamai.time"],function(require,$,_,AKAMAI_TIME_HELPER){function getFeedUrl(config,lastPubDate){return[config.path,config.selectors,lastPubDate,config.extension].join(".")}function getPubDate(item){return item.find("meta[itemprop='datePublished']").attr("content")||AKAMAI_TIME_HELPER.getCurrent().getTime()}var section=$("meta[name='prism.section']").attr("content"),subsection=$("meta[name='prism.subsection1']").attr("content"),PREVENT_MULTI_CLICK=!1,LOADMORE_EVENTS=function(){for(var types=["loading","loaded"],events={},i=0;i<types.length;i++){var type=types[i],id=["CQ.LoadMoreEvent",type].join(":");events[type]=id}return events}();return function(target,config){function renderItems(markup){var html=$("<div></div>").append(markup||"").children();"fox-news-specials"!==subsection&&"fox-news-celebrates"!==section||window.loadDomEl(html),"personalities"===subsection&&html.hide(),html.length>0?"personalities"===subsection?(list.append(html.not("li:nth-child(4)")),html.show()):list.append(html):btn.hide(),btn.removeClass("loading")}function getFeed(callback){var url=getFeedUrl(config,_lastPubdate);$.ajax({url:url}).done(function(data){callback(data),triggerEvent("loaded",{config:config,lastPubDate:_lastPubdate,data:data}),PREVENT_MULTI_CLICK=!1}).fail(function(){btn.hide()})}function getLastItem(){return list.find(itemSelector).last()}function triggerEvent(type,data){var id=LOADMORE_EVENTS[type]||!1;id&&target.trigger(id,data)}var nextData=[];if(0===target.length)return!1;if(target.attr("data-init"))return!1;target.attr("data-init","1");var Proto=this,_lastPubdate=!1,IS_LOADING=!1;config=config||{},_.merge(config,{path:target.attr("data-path"),selectors:target.attr("data-selectors"),extension:target.attr("data-extension")||"html",size:config.size||target.attr("data-loadsize")||1});var btn=target.find(".js-load-more"),list=target.find(config.listSelector||".js-infinite-list"),itemSelector=config.itemSelector||"> li";Proto.loadNext=function(){if(IS_LOADING)return!1;IS_LOADING=!0,triggerEvent("loading"),btn.addClass("loading"),_lastPubdate=getPubDate(getLastItem()),$.ad&&$.ad.track&&!config.loadmore&&$.ad.track({"show-more":{}}),0===_.size(nextData)?getFeed(function(markup){IS_LOADING=!1,renderItems(markup),Proto.checkNext()}):(renderItems(nextData[nextData.length-1]),Proto.checkNext(),IS_LOADING=!1)},Proto.checkNext=function(){_lastPubdate=getPubDate(getLastItem()),getFeed(function(markup){if(void 0===markup||""===$.trim(markup))return void btn.hide();nextData.push(markup),btn.show()})},Proto.checkNext(),btn.unbind("click").bind("click",function(evt){return evt.preventDefault(),!PREVENT_MULTI_CLICK&&(PREVENT_MULTI_CLICK=!0,Proto.loadNext(),!1)}),list.find(itemSelector)}});
Modulr.define("core.pages.category:shared/modules/about-the-show",["require","jquery","lodash"],function(require,$,_){var promo=$(".promo-about"),more=promo.find(".more");more.on("click",function(evt){evt.preventDefault(),promo.find("span.hide").removeClass("hide"),more.addClass("hide")})});
Modulr.define("core.pages.category:shared/modules/image-slider",["require","jquery","lodash","jquery.slider"],function(require,$,_){var carousel=$(".nye-carousel"),slider=carousel.find(".slider");if(carousel.length<1)return!1;carousel.removeClass("hide"),slider.slick({arrows:!0,centerMode:!0,centerPadding:"12px",slidesToShow:3,responsive:[{breakpoint:768,settings:{arrows:!0,centerMode:!0,centerPadding:"0",slidesToShow:1}}]})});
Modulr.define("core.pages.category:shared/modules/load-more",["require","jquery","lodash","@models/load-more"],function(require,$,_,LoadMore){var container=$(".js-infinite-list-component");if(0===container.length)return!1;var config={listSelector:".js-infinite-list",itemSelector:"> article"};container.each(function(){new LoadMore($(this),config)})});
Modulr.define("core.pages.category:shared/modules/nye-countdown",["require","jquery","lodash","helper","core.plugins:CountdownTimer"],function(require,$,_){return new function(){var Helper=require("helper"),CountdownTimer=require("core.plugins:CountdownTimer"),Proto=this,header=$(".nye-header"),obj={};Proto.tick=function(target,info,endTime){obj={days:info.days,hours:info.hrs,minutes:info.mins,seconds:info.secs},_.each(obj,function(value,key){var holder=target.find(".countdown-"+key),first_digit=holder.find(".countdown-digit:first span"),second_digit=holder.find(".countdown-digit:last span");first_digit.text(value.charAt(0)),second_digit.text(value.charAt(1))})},Proto.done=function(target,info,endTime){var then=endTime.getTime();Helper.getCurrentTime().getTime()>=then+6e5&&target.find(".countdown").remove()},Proto.trigger=function(configuration){header.find(".nye-countdown").each(function(){var el=$(this),endTime=new Date("Mon Jan 1 2018 00:00:00 GMT-0500 (EST)"),countdown=new CountdownTimer({endTime:endTime});countdown.onTick(function(info){info.done?Proto.done(el,info,endTime):Proto.tick(el,info,endTime)}),countdown.onDone(function(info){Proto.done(el,info,endTime)})})},Proto.init=function(){if(header.length<1)return!1;Proto.trigger()}}});
Modulr.define("core.pages.category:shared/modules/olympics-count-2018",["require","jquery"],function(require,$){return new function(){$(document).ready(function(event){function initializeModal(data){showMore.attr("href").indexOf("www.foxsports.com/olympics/standings")<=-1&&showMore.on("click",function(e){e.preventDefault(),setUpRows(data,firstFiveRows)})}function setUpRows(data,firstFiveRows){for(var i=0;i<firstFiveRows.length;i++)data.page[i].record.totalMedals>0&&(firstFiveRows[i].find(".country").html(data.page[i].abbreviation),firstFiveRows[i].find(".gold").html(data.page[i].record.goldMedals),firstFiveRows[i].find(".silver").html(data.page[i].record.silverMedals),firstFiveRows[i].find(".bronze").html(data.page[i].record.bronzeMedals),firstFiveRows[i].find(".total").html(data.page[i].record.totalMedals),firstFiveRows[i].attr("class","results results-"+String(parseInt([i],10)+1)),addCountryAbbrev(data.page[i].abbreviation.toLowerCase(),firstFiveRows[i]),firstFiveRows[i].removeClass("hide"));data.page[i].record.totalMedals>0&&unavail.addClass("hide"),setTimeout(function(){showMore.html("View Full Medal Count"),showMore.attr("href",ssl+"//www.foxsports.com/olympics/standings"),showMore.on("click",function(e){e.preventDefault(),window.open(ssl+"//wintergames.ap.org/medals","_blank").focus()})},300)}function addCountryAbbrev(country,row){row.addClass(country)}var component=$(".collection-medals"),showMore=(component.find(".medal-list > li.results"),component.find(".button:eq(0) > a")),row1=component.find(".results.results-1"),row2=component.find(".results.results-2"),row3=component.find(".results.results-3"),row4=component.find(".results.results-4"),row5=component.find(".results.results-5"),ssl=["htt","ps:"].join(""),unavail=$(".unavailable"),firstFiveRows=[];firstFiveRows.push(row1,row2,row3,row4,row5);$.ajax({url:"http://apps.foxnews.com/rest-call/fox-sports/",dataType:"jsonp",jsonpCallback:"olympics",cache:!0}).done(function(data){data?initializeModal(data):console.log("data is invalid")})})}});
Modulr.define("core.pages.category:shared/modules/sample",["require","jquery","helper"],function(require,$,Helper){return console.log("example!"),new function(){this.init=function(){console.log("initialization method")}}});
Modulr.define("core.pages.category:shared/modules/video.modal",["require","jquery","helper","keymaster"],function(require,$,Helper,key){"mobile"!==Helper.getCurrentView()&&require(["core.components:modal"],function(Modal){function filter(){return!!/video\.fox(news|business)\.com\/v\/([0-9]+)\//.test($(this).attr("href")||"")}function set(items){items=items.filter(filter),0!==items.length&&items.on("click",function(evt){var videoId=getVideoId($(this)),domain=$(this).attr("href").match(/fox(news|business)/),config={domain:domain[0]?domain[0]:"foxnews"};return key.ctrl||key.command?(window.open($(this).attr("href"),"_blank"),!1):videoId?(evt.preventDefault(),trigger(videoId,config),!1):void 0})}function getVideoId(el){var match=(el.attr("href")||"").match(/video\.fox(news|business)\.com\/v\/([0-9]+)\//);return match&&match[2]?match[2]:null}function trigger(videoId,config){if(!Instance){Instance=Modal.video(null)}Instance.set(videoId,config,function(VideoInstance){})}var Instance=null;!function(container){set(container.find('.content > .article a[href*="video.fox"]'))}($(".collection-article-list")),function(container){set(container.find('.content > .article a[href*="video.fox"]'))}($(".collection-multi"))})});
Modulr.define("core.pages.category:sites/fbn/breaking.news",["require","jquery","lodash"],function(require,$,_){return new function(){function set(target,templatePath){require(["core.base:modules/breaking-news","core.templates:controls/api"],function(BreakingNews,Template){Template.get(templatePath,function(template){BreakingNews.loadBanner(target,{feed:target.hasClass("fn-home")?"//global.fncstatic.com/static/managed/breaking-news/fnc.js":null,template:template,normalize:function(info){return info.title=info.title.toUpperCase(),info.headline=info.headline.toUpperCase(),info.isWatchLive="livecoverage"===info.type.toLowerCase(),info},callback:function(info){target.attr("id",info.id)}})})})}this.init=function(templatePath){var target=$(".alert:first");if(0===target.length)return!1;templatePath=templatePath||"/static/orion/scripts/core/templates/app/breaking.news.html",set(target,templatePath)}}});
Modulr.define("core.pages.category:sites/fbn/init",["require","jquery","helper"],function(require,$,Helper){var MODULE_LIST=["@shared/sample","@fbn/breaking.news"],MODULE_LAZYLOAD_LIST=[];return new function(){function execCallbacks(){for(;CALLBACK_QUEUE.length>0;){var fn=CALLBACK_QUEUE.shift();"function"==typeof fn&&fn()}}var Proto=this,INITIALIZED=!1,CALLBACK_QUEUE=[];Helper.setLoader(MODULE_LAZYLOAD_LIST),require(MODULE_LIST,function(){var args=Array.prototype.slice.call(arguments);Helper.execModules(args),INITIALIZED=!0,execCallbacks()}),Proto.ready=function(callback){INITIALIZED?callback():CALLBACK_QUEUE.push(callback)}}});
Modulr.define("core.pages.category:sites/fnc/breaking.news",["require","jquery","lodash"],function(require,$,_){return new function(){function set(target,templatePath){require(["core.base:modules/breaking-news","core.templates:controls/api"],function(BreakingNews,Template){Template.get(templatePath,function(template){BreakingNews.loadBanner(target,{feed:target.hasClass("fn-home")?"//global.fncstatic.com/static/managed/breaking-news/fnc.js":null,template:template,normalize:function(info){return info.title=info.title.toUpperCase(),info.headline=info.headline.toUpperCase(),info.isWatchLive="livecoverage"===info.type.toLowerCase(),info},callback:function(info){target.attr("id",info.id)}})})})}this.init=function(templatePath){var target=$(".alert:first");if(0===target.length)return!1;templatePath=templatePath||"/static/orion/scripts/core/templates/app/breaking.news.html",set(target,templatePath)}}});
Modulr.define("core.pages.category:sites/fnc/init",["require","jquery","helper"],function(require,$,Helper){var MODULE_LIST=["@shared/sample","@fnc/breaking.news","@shared/about-the-show","@shared/load-more","@shared/nye-countdown","@shared/image-slider"],MODULE_LAZYLOAD_LIST=[];return new function(){function execCallbacks(){for(;CALLBACK_QUEUE.length>0;){var fn=CALLBACK_QUEUE.shift();"function"==typeof fn&&fn()}}var Proto=this,INITIALIZED=!1,CALLBACK_QUEUE=[];Helper.setLoader(MODULE_LAZYLOAD_LIST),require(MODULE_LIST,function(){var args=Array.prototype.slice.call(arguments);Helper.execModules(args),INITIALIZED=!0,execCallbacks()}),Proto.ready=function(callback){INITIALIZED?callback():CALLBACK_QUEUE.push(callback)}}});
Modulr.define("core.pages.category:sites/router",["require","jquery","helper"],function(require,$,Helper){return new function(){function isFN(){return"function"==typeof callback}function initialized(){if(CALLBACK_QUEUE.length>0)for(;CALLBACK_QUEUE.length>0;){var callback=CALLBACK_QUEUE.shift();callback()}INITIALIZED=!0}var Proto=this,SITE_INIT=["sites",Helper.getSiteId(),"init"].join("/"),INITIALIZED=!1,REQUIRE_REQUESTED=!1,CALLBACK_QUEUE=[];Proto.ready=function(callback){INITIALIZED?isFN()&&callback():isFN()&&CALLBACK_QUEUE.push(callback),REQUIRE_REQUESTED||(REQUIRE_REQUESTED=!0,require([SITE_INIT],function(App){App.ready(function(){initialized()})}))}}});
!function(Modulr,FNC){if(Modulr.getInstance("core.pages.category"))return!1;var config={instance:"core.pages.category",baseDomain:FNC.CDN.domain,baseUrl:"/static/orion/scripts/core/pages/category/app",masterFile:"/static/orion/scripts/core/utils/modulr/master.js",paths:{"@shared":"shared/modules","@models":"shared/models","@fnc":"sites/fnc","@fbn":"sites/fbn"},packages:["core.plugins","core.components","core.video","core.base","core.templates"],shim:{jquery:{src:"/static/orion/scripts/core/utils/jquery/core.js",exports:"jQuery"},lodash:{src:"/static/orion/scripts/core/utils/lodash.js",exports:"_"},"akamai.time":{src:"//global.fncstatic.com/static/v/all/js/geo.js",exports:"AKAMAI_TIME_HELPER"},"akamai.geo":{src:"//global.fncstatic.com/static/v/all/js/geo.js",exports:"CONST_Akamai_GEO"},modernizr:{src:"/static/orion/scripts/core/utils/modernizr.js",exports:"Modernizr"},keymaster:{src:"/static/orion/scripts/core/utils/keymaster.js",exports:"key"},"jquery.slider":{src:"/static/orion/scripts/core/utils/jquery/plugins/slick.js",exports:"jQuery.fn.slick"}}},Instance=Modulr.config(config);Instance.define("cdn",function(){return FNC.CDN}),Instance.define("ISA",function(){return FNC.ISA}),Instance.require(["main"])}(window.Modulr,window.FNC);