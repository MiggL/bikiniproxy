(function lzWorkerFunction(){var e=this;e.compress=function(e){if(null==e)return"";var t,n,i,r={},o={},s="",a="",u="",c=2,l=3,d=2,f=[],p=0,m=0,h=String.fromCharCode,g=function(e){return h(e+32)};for(i=0;i<e.length;i+=1)if(s=e.charAt(i),Object.prototype.hasOwnProperty.call(r,s)||(r[s]=l++,o[s]=!0),a=u+s,Object.prototype.hasOwnProperty.call(r,a))u=a;else{if(Object.prototype.hasOwnProperty.call(o,u)){if(u.charCodeAt(0)<256){for(t=0;t<d;t++)p<<=1,14==m?(m=0,f.push(g(p)),p=0):m++;for(n=u.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&n,14==m?(m=0,f.push(g(p)),p=0):m++,n>>=1}else{for(n=1,t=0;t<d;t++)p=p<<1|n,14==m?(m=0,f.push(g(p)),p=0):m++,n=0;for(n=u.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&n,14==m?(m=0,f.push(g(p)),p=0):m++,n>>=1}0==--c&&(c=Math.pow(2,d),d++),delete o[u]}else for(n=r[u],t=0;t<d;t++)p=p<<1|1&n,14==m?(m=0,f.push(g(p)),p=0):m++,n>>=1;0==--c&&(c=Math.pow(2,d),d++),r[a]=l++,u=String(s)}if(""!==u){if(Object.prototype.hasOwnProperty.call(o,u)){if(u.charCodeAt(0)<256){for(t=0;t<d;t++)p<<=1,14==m?(m=0,f.push(g(p)),p=0):m++;for(n=u.charCodeAt(0),t=0;t<8;t++)p=p<<1|1&n,14==m?(m=0,f.push(g(p)),p=0):m++,n>>=1}else{for(n=1,t=0;t<d;t++)p=p<<1|n,14==m?(m=0,f.push(g(p)),p=0):m++,n=0;for(n=u.charCodeAt(0),t=0;t<16;t++)p=p<<1|1&n,14==m?(m=0,f.push(g(p)),p=0):m++,n>>=1}0==--c&&(c=Math.pow(2,d),d++),delete o[u]}else for(n=r[u],t=0;t<d;t++)p=p<<1|1&n,14==m?(m=0,f.push(g(p)),p=0):m++,n>>=1;0==--c&&(c=Math.pow(2,d),d++)}for(n=2,t=0;t<d;t++)p=p<<1|1&n,14==m?(m=0,f.push(g(p)),p=0):m++,n>>=1;for(;;){if(p<<=1,14==m){f.push(g(p));break}m++}return f.join("")+" "},e.decompress=function(e){if(null==e)return"";if(""==e)return null;var t,n,i,r,o,s,a,u=e.length,c=function(t){return e.charCodeAt(t)-32},l=[],d=4,f=4,p=3,m="",h=[],g={val:c(0),position:16384,index:1},v=String.fromCharCode;for(t=0;t<3;t+=1)l[t]=t;for(i=0,o=Math.pow(2,2),s=1;s!=o;)r=g.val&g.position,g.position>>=1,0==g.position&&(g.position=16384,g.val=c(g.index++)),i|=(r>0?1:0)*s,s<<=1;switch(i){case 0:for(i=0,o=Math.pow(2,8),s=1;s!=o;)r=g.val&g.position,g.position>>=1,0==g.position&&(g.position=16384,g.val=c(g.index++)),i|=(r>0?1:0)*s,s<<=1;a=v(i);break;case 1:for(i=0,o=Math.pow(2,16),s=1;s!=o;)r=g.val&g.position,g.position>>=1,0==g.position&&(g.position=16384,g.val=c(g.index++)),i|=(r>0?1:0)*s,s<<=1;a=v(i);break;case 2:return""}for(l[3]=a,n=a,h.push(a);;){if(g.index>u)return"";for(i=0,o=Math.pow(2,p),s=1;s!=o;)r=g.val&g.position,g.position>>=1,0==g.position&&(g.position=16384,g.val=c(g.index++)),i|=(r>0?1:0)*s,s<<=1;switch(a=i){case 0:for(i=0,o=Math.pow(2,8),s=1;s!=o;)r=g.val&g.position,g.position>>=1,0==g.position&&(g.position=16384,g.val=c(g.index++)),i|=(r>0?1:0)*s,s<<=1;l[f++]=v(i),a=f-1,d--;break;case 1:for(i=0,o=Math.pow(2,16),s=1;s!=o;)r=g.val&g.position,g.position>>=1,0==g.position&&(g.position=16384,g.val=c(g.index++)),i|=(r>0?1:0)*s,s<<=1;l[f++]=v(i),a=f-1,d--;break;case 2:return h.join("")}if(0==d&&(d=Math.pow(2,p),p++),l[a])m=l[a];else{if(a!==f)return null;m=n+n.charAt(0)}h.push(m),l[f++]=n+m.charAt(0),n=m,0==--d&&(d=Math.pow(2,p),p++)}},e.onmessage=function(t){"compress"===t.data.type?e.postMessage({type:"compressed",result:e.compress(t.data.value)}):"decompress"===t.data.type&&e.postMessage({type:"decompressed",result:e.decompress(t.data.value)})}})();