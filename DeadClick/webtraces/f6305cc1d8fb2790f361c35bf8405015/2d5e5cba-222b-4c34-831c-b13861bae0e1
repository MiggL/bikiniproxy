var juiceservice = ('https:' == document.location.protocol ? 'https:' : 'http:') +'//aps.hearstnp.com/';/* PageID: 42406 */ var APSpageID = 42406;var APSGenerationID='';var APSResponsiveDesign = true;var aps = aps || {};var definedTags = {"networkCode":"36117602","adUnit":"hnp-sfgate.com/Entertainment","kvps":[{"key":"WcmID","value":"{window.omni_bizObjectId;}"}],"ads":[{"width":1,"height":4,"code":"Video_MOS_Multi","kvps":[{"key":"topic","value":"music"},{"key":"video_player","value":"mos"}],"rm":false,"interstitial":false,"oop":false,"sizeMappings":["001x400x300","001x640x480","001x001x004"],"video":true,"companion_units":null},{"width":728,"height":90,"code":"A728","kvps":[{"key":"position","value":"ATF"},{"key":"topic","value":"music"}],"rm":false,"interstitial":false,"oop":false,"sizeMappings":["1312x970x90","1312x728x90","1312x003x003","1312x003x001","0996x970x90","0996x728x90","0996x468x60","0996x003x001","0996x003x003","0654x468x60","0654x003x001","0654x003x003","0001x000x000"],"video":false,"companion_units":null},{"width":950,"height":30,"code":"A951","kvps":[{"key":"position","value":"ATF"},{"key":"topic","value":"music"}],"rm":false,"interstitial":false,"oop":false,"sizeMappings":["1312x002x001","1312x1200x300","1312x980x40","1312x971x90","1312x970x415","1312x970x250","1312x970x90","1312x970x168","1312x960x150","1312x950x30","0996x002x001","0996x980x40","0996x971x90","0996x970x415","0996x970x250","0996x970x168","0996x970x90","0996x960x300","0996x960x150","0996x950x30","0654x002x001","0654x704x300","0001x000x000"],"video":false,"companion_units":null},{"width":300,"height":250,"code":"A300","kvps":[{"key":"position","value":"ATF"},{"key":"topic","value":"music"}],"rm":false,"interstitial":false,"oop":false,"sizeMappings":["1312x300x1050","1312x300x600","1312x300x250","1312x004x001","0996x300x600","0996x300x250","0996x004x001","0654x300x600","0654x300x250","0654x004x001","0001x300x250","0001x004x001"],"video":false,"companion_units":null},{"width":300,"height":250,"code":"B300","kvps":[{"key":"position","value":"BTF"},{"key":"topic","value":"music"}],"rm":false,"interstitial":false,"oop":false,"sizeMappings":["1312x300x600","1312x300x250","1312x005x001","0996x300x600","0996x300x250","0996x005x001","0654x300x600","0654x300x250","0001x300x250","0654x005x001","0001x005x001"],"video":false,"companion_units":null},{"width":300,"height":250,"code":"S300","kvps":[{"key":"position","value":"STF"},{"key":"topic","value":"music"}],"rm":false,"interstitial":false,"oop":false,"sizeMappings":["1312x300x600","1312x300x250","1312x160x600","0996x300x600","0996x300x250","0996x160x600","0654x300x600","0654x300x250","0654x160x600","0001x300x250"],"video":false,"companion_units":null},{"width":300,"height":250,"code":"TMP300_3","kvps":[{"key":"position","value":"BTF"}],"rm":false,"interstitial":false,"oop":false,"sizeMappings":["1312x300x250","0996x300x250","0654x300x250","001x300x250"],"video":false,"companion_units":null},{"width":728,"height":90,"code":"B728","kvps":[{"key":"position","value":"BTF"},{"key":"topic","value":"music"}],"rm":false,"interstitial":false,"oop":false,"sizeMappings":["1312x970x90","1312x728x90","1312x003x003","0996x970x90","0996x728x90","0996x468x60","0996x003x003","0654x728x90","0654x468x60","0654x003x003","0001x000x000"],"video":false,"companion_units":null},{"width":1,"height":1,"code":"OOP","kvps":[{"key":"position","value":"OOP"},{"key":"topic","value":"music"}],"rm":false,"interstitial":false,"oop":false,"sizeMappings":["1312x001x001","0996x001x001","0654x001x001","0001x001x001"],"video":false,"companion_units":null},{"width":300,"height":250,"code":"GO300","kvps":[{"key":"page_type","value":"article_slideshow_overlay"},{"key":"position","value":"ATF"},{"key":"topic","value":"music"}],"rm":false,"interstitial":false,"oop":false,"sizeMappings":["1312x300x250","0996x300x250","0654x300x250","0001x300x250"],"video":false,"companion_units":null}],"responsiveMappings":95,"singleRequestMode":false};aps.scriptHash='0xBFA555691BC21D7585B18BEE164AE0618E7FF346';aps.loadedModules=[{"name":"logs_and_events","description":"functions pertaining to logging and our event structure"},{"name":"common","description":"functions common to sync and async"},{"name":"domain_variables","description":"setup domain name variables for other modules"},{"name":"googlePubTagAsync","description":"google asynchronous page"},{"name":"initialUpdatePageLevelKVPS patch","description":"temporary patch to fix third party headers"},{"name":"sha256","description":"sha 256 hash implementation"},{"name":"wat_variables_patch","description":"patch which allows waiting on variables"},{"name":"PageUrl And Referrer","description":"PageUrl"},{"name":"page_type and divid","description":"page_type2 page_type3 and divid"},{"name":"Were-You-Seen kvp","description":"Adds a kvp type=seen when matched pathnamer"},{"name":"juice console loader","description":"loads juice console when query string present"},{"name":"SelectiveAdLoading","description":"allows selective ad loading"},{"name":"SelectiveThirdPartyLoading","description":"selective third party loader"},{"name":"Joice KVP Override jo","description":"allows setting a kvp"},{"name":"adRenderCallback","description":"ad callback for analytics or debug"},{"name":"whitespacePatch","description":"addresses dfp delivering empty iframes"},{"name":"interstitial","description":"support for interstitial ad types by code"},{"name":"news10-interstitial","description":"news10-interstitial"},{"name":"LoggedIn User KVP","description":"Set a KVP for DFP when user is authenticated"},{"name":"BadScriptLogger","description":"function called by our custom firefox"},{"name":"ICrossing URL hash","description":"ICrossing URL hash"},{"name":"GoogleUrlFilter","description":"addresses security violations"},{"name":"proximic","description":"sets kvp named prox_other using on page pxSegmentIDs variable"},{"name":"lotame","description":"lotame macys"},{"name":"blueconic segments","description":"blueconic segments"},{"name":"PublisherProvidedId","description":"call dfp with publisher id provided by blueconic"},{"name":"nlp categories","description":"nlp categories"},{"name":"perf_sec KVP","description":"Top-level section KVP"},{"name":"prebid.js","description":"Main script"},{"name":"AB Testing","description":"ab kvp module"},{"name":"A9","description":"working with prebid"},{"name":"AudienceNetwork","description":"prebid version"},{"name":"AppNexus","description":"prebid version"},{"name":"OpenX","description":"prebid version"},{"name":"Rubicon","description":"prebid version"},{"name":"IndexExchange","description":"prebid version"},{"name":"Kargo","description":"prebid version"},{"name":"Aardvark","description":"prebid version"},{"name":"Prebid Config","description":"prebid config"},{"name":"Browsi","description":null},{"name":"end of loading marker","description":"end of loading marker"}];var aps=aps||{};
aps.juiceLog=[];
aps.modules={};
aps.events=[];
aps.event={};
aps.app_events={};
aps.logtype={};
aps.implementSRA=true;
aps.prebid=true;
aps.logToConsole=(window.location.search.indexOf("console=1")!==-1)?true:false;
aps.disableHeaderBidderOnMobile=false;
if(window.location.search.indexOf("pb=0")!==-1){aps.prebid=false
}if(window.location.search.indexOf("sramode=no")!==-1){aps.implementSRA=false
}aps.adPerformanceMetrics={};
aps.performanceMetrics={adUnit:"",networkCode:0,JuiceScriptLoading:0,JuiceScriptDoneLoading:0,GoogleLoaded:0,TotalThirdPartyScripts:0,ThirdPartyScriptsLoaded:0,DefineTags:0,page_type2:"",matchedUrl:"",ThirdParty:{},iCrossing_userid:"",urlHash:""};
aps.event.on_dom_loaded=10;
aps.event.on_update_page_level_targeting=20;
aps.event.on_begin_define_tags=40;
aps.event.on_end_define_tags=50;
aps.event.on_ad_rendered=60;
aps.event.on_ad_impression_viewable=65;
aps.event.on_dynamic_ad_rendered=80;
aps.event.on_before_enable_google_services=100;
aps.event.on_set_dynamic_ad_targeting=110;
aps.event.on_before_display_ad=120;
aps.event.on_script_loaded=130;
aps.event.on_before_refresh_ad=140;
aps.event.on_before_refresh_ads=150;
aps.event.on_init_ad_definition=160;
aps.event.on_third_party_complete=170;
aps.event.on_hearst_place_ad=180;
aps.logtype.info=0;
aps.logtype.warning=1;
aps.logtype.error=2;
aps.registerEvent=function(b,a){var c=aps.events[b];
aps.events[b]=function(d){c&&c(d);
a(d)
}
};
aps.registerAppEvent=function(b,a){var c=aps.app_events[b];
aps.app_events[b]=function(d){c&&c(d);
a(d)
}
};
aps.fireEvent=function(a,b){aps.events[a]&&aps.events[a](b)
};
function onHearstAdEvent(){var a=arguments[0],b;
b=(arguments.length==2)?arguments[1]:null;
aps.app_events[a]&&aps.app_events[a](b)
}aps.logInfo=function(a){aps.logEvent(new Date(),a,aps.logtype.info);
if(aps.logToConsole){console.log(a)
}};
aps.topLogInfo=function(b){try{top.aps.logInfo(b)
}catch(a){}};
aps.toplogException=function(b,a){try{top.aps.logException(b)
}catch(a){}};
aps.logWarning=function(a){aps.logEvent(new Date(),a,aps.logtype.warning)
};
aps.logError=function(a){aps.logEvent(new Date(),a,aps.logtype.error)
};
aps.logException=function(b,a){if(typeof a!="undefined"){if(typeof a.message!="undefined"){aps.logEvent(new Date(),b+a.message);
return
}}aps.logEvent(new Date(),b,aps.logtype.error)
};
if(typeof(window.performance)=="undefined"){aps.logEvent=function(c,a,b){aps.juiceLog.push({d:c,m:a,t:b})
};
aps.getTimeElapsed=function(){return -1
};
aps.getTimeStamp=function(){return 0
};
aps.getTimeElapsedFromStamp=function(a){return"0.00"
}
}else{aps.logEvent=function(c,a,b){aps.juiceLog.push({d:c,pt:window.performance.now(),m:a,t:b})
};
aps.getTimeElapsed=function(c,a,b){var d=(performance.timing.navigationStart+window.performance.now())-performance.timing.domLoading;
return d.toFixed(2)
};
aps.getTimeStamp=function(){return window.performance.now()
};
aps.getTimeElapsedFromStamp=function(a){return(window.performance.now()-a).toFixed(2)
}
}aps.dumpLogWindow=function(){var c=aps.juiceLog;
var a="";
for(var b=0;
b<c.length;
b++){var e="msg";
var f="";
if(typeof(c[b].pt)!="undefined"){f=(performance.timing.navigationStart+c[b].pt)-performance.timing.domLoading;
f=f.toFixed(2)
}else{f=aps.formatDateTime(c[b].d)
}if(typeof(c[b].t)!="undefined"){if(c[b].t==aps.logtype.warning){e+=" warning"
}if(c[b].t==aps.logtype.error){e+=" error"
}}var d='<div class="'+e+'">'+f+" : "+c[b].m+"</div>";
a+=d
}var g=window.open("","wnd");
g.document.body.innerHTML=a
};
aps.formatDateTime=function(e){var a=(e.getHours()<10?"0":"")+e.getHours();
var b=(e.getMinutes()<10?"0":"")+e.getMinutes();
var d=(e.getSeconds()<10?"0":"")+e.getSeconds();
var c=e.getMilliseconds();
return a+":"+b+":"+d+": "+c
};
aps.getAdMetrics=function(a){var b=aps.adPerformanceMetrics[a];
if(typeof(b)=="undefined"){b={lineItemId:0,creativeId:0,DomId:a,hearstPlaceAd:0,googleDisplay:0,rendered:0,impressionViewable:0,refreshCalled:0,isEmpty:true,size:"",totalRenders:0,totalImpressions:0,pageInfo:aps.performanceMetrics};
aps.adPerformanceMetrics[a]=b
}return b
};
aps.registerModule=function(a){aps.modules[a]={};
return aps.modules[a]
};
aps.getThirdPartyMetrics=function(b){var a=aps.performanceMetrics.ThirdParty[b];
if(typeof(a)=="undefined"){a={start:0,stop:0,runtime:0,refresh_start:0,refresh_stop:0,refresh_runtime:0};
aps.performanceMetrics.ThirdParty[b]=a
}return a
};
aps.startThirdParty=function(a){aps.getThirdPartyMetrics(a).start=aps.getTimeElapsed()
};
aps.stopThirdParty=function(b){var a=aps.getThirdPartyMetrics(b);
a.stop=aps.getTimeElapsed();
a.runtime=(a.stop-a.start).toFixed(2)
};
aps.startThirdPartyRefresh=function(a){aps.getThirdPartyMetrics(a).refresh_start=aps.getTimeElapsed()
};
aps.stopThirdPartyRefresh=function(b){var a=aps.getThirdPartyMetrics(b);
a.refresh_stop=aps.getTimeElapsed();
a.refresh_runtime=(a.refresh_stop-a.refresh_start).toFixed(2)
};
aps.performanceMetrics.JuiceScriptLoading=aps.getTimeElapsed();
aps.performanceMetrics.SRA=aps.implementSRA?"true":"false";
aps.logInfo("start of juice script loading");aps.refreshAvailable=false;
aps.pageKVPsByDomID=[];
aps.hearstPlaceAdHasUpdatedKVPS=false;
aps.current_page_kvps={};
aps.adScripts=aps.adScripts||{};
aps.queuedWaitCount=aps.queuedWaitCount||0;
aps.queuedScriptCount=aps.queuedScriptCount||0;
aps.adScriptsLoaded=false;
aps.queryStringObj=null;
aps.serveAds=true;
aps.slotsSetup=false;
aps.faceBookInstantArticle=(JuicePageUrl.indexOf("juicemode=fbinstant")!==-1);
aps.shouldPlaceAd=function(a){return true
};
aps.shouldRunThirdParty=function(a){return true
};
aps.loadGoogleService=function(a){if(a){window.onJuiceEvent_LoadingGPT&&window.onJuiceEvent_LoadingGPT();
if(!aps.googleLoaded){var b=document.createElement("script");
b.async=true;
b.type="text/javascript";
var e="https:"==document.location.protocol;
b.src=(e?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";
var c=document.getElementsByTagName("script")[0];
c.parentNode.insertBefore(b,c)
}}else{window.onJuiceEvent_LoadingGPT&&window.onJuiceEvent_LoadingGPT();
var e="https:"==document.location.protocol;
var d=(e?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";
document.write("<scr"+'ipt src="'+d+'"></scr'+"ipt>")
}};
aps.gcontext={};
aps.gcontext._setTargeting=function(a,b){if(a!=""){aps.current_page_kvps[a]=b;
googletag.pubads().setTargeting(a,b)
}};
aps.gcontext.pubads=function(){this.setTargeting=function(a,b,c){c=c||null;
if(aps.slotsSetup){aps.gcontext._setTargeting(a,b);
if(c!=null){aps.logInfo(c)
}}else{aps.registerEvent(aps.event.on_end_define_tags,function(d){aps.gcontext._setTargeting(a,b);
if(c!=null){aps.logInfo(c)
}})
}};
this.clearTargeting=function(a){aps.current_page_kvps[a]=null;
googletag.pubads().clearTargeting(a)
};
return this
};
aps.runWhenSlotsReady=function(a){if(aps.slotsSetup){a()
}else{aps.registerEvent(aps.event.on_end_define_tags,function(b){a()
})
}};
aps.getQueryParameterByName=function(a){if(aps.qeueryStringObj==null){aps.qeueryStringObj=aps.queryStringToJSON()
}var c=aps.qeueryStringObj;
var b=a.replace("[]","");
if(!c.hasOwnProperty(b)){return null
}if(a.indexOf("[]")==-1){return c[b]
}if(typeof c[b]==="string"){var d=[];
d.push(c[b]);
return d
}return c[b]
};
aps.queryStringToJSON=function(){var c=location.search.slice(1);
var a=c.split("&");
var b={};
a.forEach(function(e){e=e.split("=");
var d=e[0];
var f=e[1];
if(d.length){if(b[d]!==undefined){if(!b[d].push){b[d]=[b[d]]
}b[d].push(f||"")
}else{b[d]=f||""
}}});
return(b)
};
aps.initialUpdatePageLevelKVPS=function(a){if(!aps.hearstPlaceAdHasUpdatedKVPS){aps.hearstPlaceAdHasUpdatedKVPS=true;
aps.logInfo("calling updatePageLevelKVPS from hpa");
top.aps.updatePageLevelKVPS(a)
}};
aps.updatePageLevelKVPS=function(apsContext){for(var i=0;
i<aps.page_kvps.length;
i++){var kvp=aps.page_kvps[i];
var kvp_value=kvp.value;
try{if(kvp_value.substring(0,1)=="{"){kvp_value=window.eval(kvp_value.replace("{","").replace("}",""));
if(typeof(kvp_value)=="undefined"){aps.logWarning("Undefined value for page Level KVP: "+kvp.key);
continue
}}aps.logInfo("kvp: "+kvp.key+" = "+kvp_value);
apsContext.pubads().setTargeting(kvp.key,kvp_value)
}catch(e){aps.logWarning("Exception setting page Level KVP: "+kvp.key+" message: "+e.message)
}}};
aps.setupResponsiveMappings=function(c,a){var b=aps.generateSizeMappings(a);
c.defineSizeMapping(b)
};
aps.generateSizeMappings=function(a){var e=[];
if(a.sizeMappings!=undefined&&a.sizeMappings.length>0){var c=[];
var f=[];
var m={};
for(var g=0;
g<a.sizeMappings.length;
g++){var d=a.sizeMappings[g].split("x");
var b=[parseInt(d[1],10),parseInt(d[2],10)];
var j=parseInt(d[0],10);
var h=m[d[0]];
if(h==undefined){h=c.length;
c[h]=new Array();
m[d[0]]=h;
f.push(d[0])
}if(b[0]!=0&&b[1]!=0){c[h].push(b)
}}for(g=0;
g<f.length;
g++){var l=[parseInt(f[g],10),100];
var h=m[f[g]];
var k=c[h];
if(k.length==1){e.push([l,k[0]])
}else{e.push([l,k])
}}}else{e.push([[0,0],[a.width,a.height]])
}return e
};
function hearstSetAdPageType(e){if(aps.adSlots.length>0){for(var c=0;
c<aps.adSlots.length;
c++){var b=false;
var a=page.ads[c];
var f=aps.adSlots[c];
for(var d=0;
d<a.kvps.length;
d++){if(a.kvps[d].key=="page_type"){b=true;
a.kvps[d].value=e;
break
}}if(!b){a.kvps.push({key:"page_type",value:e})
}setDFPSlotTargeting(a,f,true)
}}}function setDFPSlotTargeting(a,e,b){if(b){e.clearTargeting()
}for(var c=0;
c<a.kvps.length;
c++){var d=a.kvps[c];
e.setTargeting(d.key,d.value)
}e.setTargeting("DIV_ID",a.code)
}aps.getAdDefinitionByCode=function(a){return aps.adsByCode[a]
};
aps._initAdDefinitionByCode=function(){for(var b=0;
b<definedTags.ads.length;
b++){var a=definedTags.ads[b];
a.refreshable=false;
a.isDynamic=false;
a.renderCount=1;
a.isLoading=false;
a.googleFrame=null;
a.impressionViewable=false;
a.trackScrollPosition=true;
aps.adsByCode[a.code]=a;
aps.fireEvent(aps.event.on_init_ad_definition,{adDefinition:a})
}};
aps.getNextDynamicAdDivID=function(b){var a=aps.getAdDefinitionByCode(b);
return b+"-"+aps.divIDPostfix+"-"+a.renderCount
};
aps.getLastDynamicAdDivID=function(b){var a=aps.getAdDefinitionByCode(b);
return b+"-"+aps.divIDPostfix+"-"+(a.renderCount-1)
};
function hearstGetNextDynamicAdDivID(a){return aps.getNextDynamicAdDivID(a)
}function hearstGetLastDynamicAdDivID(a){return aps.getLastDynamicAdDivID(a)
}aps.MarkDivIDAsUnique=function(){var b=arguments[0];
var a=(arguments.length>=2)?arguments[1]:b;
aps.codesByDomID[b]=a
};
aps.isDivIDUniqueForAdPlacement=function(b,a){if(typeof(aps.codesByDomID[a])!="undefined"){if(aps.codesByDomID[a]=="passthrough"){return true
}aps.logWarning("A duplicate div id was specified ("+a+") for "+b+".  The call was ignored.");
return false
}return true
};
aps.logPageKVPsforDiv=function(a){aps.pageKVPsByDomID[a]={};
var d=aps.current_page_kvps;
var b=aps.pageKVPsByDomID[a];
for(var c in d){if(!d.hasOwnProperty(c)){continue
}b[c]=d[c]
}};
function setDfpSearchValues(a){if(typeof(aps)!="undefined"&&aps!=null){aps.key=aps.key||"";
aps.values=aps.values||"";
try{a.pubads().setTargeting(aps.key,aps.values)
}catch(b){}}}aps.run_once=function(b,a){var c;
return function(){if(b){c=b.apply(a||this,arguments);
b=null
}return c
}
};
aps.contentLoaded=function(m,f){var c=false,l=true,b=m.document,k=b.documentElement,a=b.addEventListener?"addEventListener":"attachEvent",j=b.addEventListener?"removeEventListener":"detachEvent",i=b.addEventListener?"":"on",g=function(n){if(n.type=="readystatechange"&&b.readyState!="complete"){return
}(n.type=="load"?m:b)[j](i+n.type,g,false);
if(!c&&(c=true)){f.call(m,n.type||n)
}},h=function(){try{k.doScroll("left")
}catch(n){setTimeout(h,50);
return
}g("poll")
};
if(b.readyState=="complete"){f.call(m,"lazy")
}else{if(b.createEventObject&&k.doScroll){try{l=!m.frameElement
}catch(d){}if(l){h()
}}b[a](i+"DOMContentLoaded",g,false);
b[a](i+"readystatechange",g,false);
m[a](i+"load",g,false)
}};
aps.getChildElementByNameAndTag=function(a,c,f){var e=a.childNodes;
for(var b=0;
b<e.length;
b++){var d=e[b];
if(typeof(d.name)!="undefined"){if(d.name.indexOf(c)!=-1){if(d.tagName==f){return d
}}}}return null
};
aps.clearAdSlotFrameContent=function(b){try{b.parentNode.removeChild(b)
}catch(a){}};
aps.findAdSlotFrame=function(b){var c=document.getElementById(b);
if(c!=null){var a=aps.getChildElementByNameAndTag(c,"google_ads_iframe_","DIV");
if(a!=null){return aps.getChildElementByNameAndTag(a,"google_ads_iframe_","IFRAME")
}}return null
};
aps.setAdSize=function(a){var c=["320x50","300x250","300x600","728x90","970x90","970x250"];
var f=[];
var h=30000;
for(var d=0;
d<a.sizeMappings.length;
d++){var e=a.sizeMappings[d].split("x");
var g=parseInt(e);
if(g>aps.topWindow.innerWidth){continue
}if(h==30000){h=g
}if(h==g){var b=e[1]+"x"+e[2];
if(c.indexOf(b)>-1){f.push([e[1],e[2]])
}}}return f
};(function(){var b=this;
b.getHostName=function(d){var c=d.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);
if(c!=null&&c.length>2&&typeof c[2]==="string"&&c[2].length>0){return c[2]
}else{return null
}};
b.getDomain=function(f){var d=b.getHostName(f);
var c=d;
if(d!=null){var e=d.split(".").reverse();
if(e!=null&&e.length>1){c=e[1]+"."+e[0];
if(e.length>2&&e[2].toLowerCase()=="m"){c="m."+c
}}}return c
};
if(typeof(aps.current_domain)=="undefined"){try{aps.current_domain=b.getDomain(document.URL)
}catch(a){aps.logException("unable to resolve domain name",a);
aps.current_domain="undefined"
}}})();var googletag=googletag||{};
googletag.cmd=googletag.cmd||[];
var aps=aps||{};
window.HDN=window.HDN||{};
window.HDN.dataLayer=window.HDN.dataLayer||{};
window.HDN.dataLayer.ads=window.HDN.dataLayer.ads||{};
aps.divIDPostfix="ju1c3-TWFobmEgTWFobmE=";
aps.scriptName="googleAsync";
aps.leaderboardLineItemID=null;
aps.page=null;
aps.adSlots=[];
aps.slotsByDivID=[];
aps.interstitialAdDefs=[];
aps.adsByCode=[];
aps.codesByDomID=[];
aps.domIsLoaded=false;
aps.dynamicSlots=[];
aps.enableGoogleServicesRan=false;
aps.refreshableSlots=[];
aps.normalAdSlots=[];
aps.dynamicAdSlots=[];
aps.dfpInititalization=false;
aps.callsByDomID=[];
aps.renderInfo=[];
aps.isIFrameDynamicPage=(top!=self);
aps.refreshWaitCounter=0;
aps.refreshWaitScripts={};
aps.disabledWaitScripts={};
aps.refreshViewableOnly=false;
aps.videoAdTag=null;
aps.test=true;
aps.loadAsynchronously=false;
aps.removeMissingDivs=true;
aps.perf_sec="video";
if(aps.prebid){googletag.cmd.push(function(){googletag.pubads().disableInitialLoad()
})
}aps.cmd=[];
aps.unQueueCommands=function(){for(var a=0;
a<aps.cmd.length;
a++){googletag.cmd.push(aps.cmd[a])
}aps.cmd=googletag.cmd
};
aps.domLoaded=function(){aps.logInfo("domLoaded");
aps.domIsLoaded=true;
aps.fireEvent(aps.event.on_dom_loaded)
};
aps.increaseRefreshTimer=function(a){if(typeof aps.disabledWaitScripts[a]!="undefined"){return false
}aps.refreshWaitScripts[a]=true;
aps.refreshWaitCounter++;
return true
};
aps.decreaseRefreshTimer=function(a){aps.refreshWaitScripts[a]=false;
aps.refreshWaitCounter--
};
aps.disableFailedWaitScripts=function(){for(var a in aps.refreshWaitScripts){if(aps.refreshWaitScripts.hasOwnProperty(a)){if(aps.refreshWaitScripts[a]==true){aps.disabledWaitScripts[a]=true
}}}};
aps.enableGoogleServices=function(a){if(aps.adSlots.length>0){}googletag.enableServices();
aps.logInfo("googleServices done")
};
if(aps.prebid){aps.enableGoogleServices=function(a){if(!aps.domIsLoaded){aps.logInfo("Waiting for DomLoaded");
aps.registerEvent(aps.event.on_dom_loaded,function(){aps.enableGoogleServices(0)
});
return
}if(aps.enableGoogleServicesRan){aps.logInfo("enableGoogleServices already ran");
return
}if(!aps.removeMissingDivs){aps.enableGoogleServicesRan=true
}else{if(aps.adSlots.length>0){if(googletag.slot_manager_instance.l.A300!=null&&document.getElementById("A300")==null&&a<20){aps.logInfo("waiting for div A300 - "+a++);
setTimeout(function(e){aps.enableGoogleServices(a)
},10);
return
}aps.enableGoogleServicesRan=true;
var d=0;
var g=[];
var f="";
for(var c in googletag.slot_manager_instance.l){if(c.hasOwnProperty){var h=googletag.slot_manager_instance.l[c];
var b=document.getElementById(c);
if(b==null){g.push(h);
f=(f=="")?c:f+", "+c
}d++
}}if(g.length>0&&g.length<aps.adSlots.length){aps.logInfo("Div(s) "+f+" not on page : destroyed");
googletag.destroySlots(g)
}}}aps.logInfo("prebid set targeting");
pbjs.setTargetingForGPTAsync();
aps.logInfo("Calling DFP");
aps.fireEvent(aps.event.on_before_enable_google_services);
googletag.pubads().refresh();
aps.logInfo("googleServices done")
}
}function defineTags(a){if(!aps.serveAds){return
}aps.logInfo("defineTags");
aps.logInfo("loading async google");
aps.loadGoogleService(true);
googletag.cmd.push(function(){aps.logInfo("google ready");
aps.performanceMetrics.GoogleLoaded=aps.getTimeElapsed();
aps.performanceMetrics.matchedUrl=aps.juiceMatchedUrl
});
aps.loadAsyncScripts();
aps.page=a;
aps.page_kvps=a.kvps;
aps._initAdDefinitionByCode();
googletag.cmd.push(function(){window.onJuiceEvent_StartDefineTags&&window.onJuiceEvent_StartDefineTags();
aps.fireEvent(aps.event.on_begin_define_tags);
aps.logInfo("defining tags started");
aps.performanceMetrics.DefineTags=aps.getTimeElapsed();
aps.performanceMetrics.adUnit=a.adUnit;
aps.performanceMetrics.networkCode=a.networkCode;
for(var c=0;
c<a.ads.length;
c++){var b=a.ads[c];
if(b.video){continue
}b.oldDivID=b.code;
b.newDivID=b.code;
if(b.isDynamic){b.newDivID=aps.getNextDynamicAdDivID(b.code);
document.getElementById(b.code).id=b.newDivID
}if(b.interstitial){aps.interstitialAdDefs[b.code]=b;
continue
}var d=null;
if(b.code=="OOP"){d=googletag.defineOutOfPageSlot("/"+a.networkCode+"/"+a.adUnit,b.code);
b.adSizeDefined=[0,0];
aps.logInfo("OOP slot rendered")
}else{d=googletag.defineSlot("/"+a.networkCode+"/"+a.adUnit,[b.width,b.height],b.newDivID);
b.adSizeDefined=[b.width,b.height]
}aps.normalAdSlots[b.code]=d;
aps.adSlots.push(d);
aps.slotsByDivID[b.newDivID]=d;
if(APSResponsiveDesign==true&&!b.oop){aps.setupResponsiveMappings(d,b)
}d.addService(googletag.pubads());
setDFPSlotTargeting(b,d,false)
}setDfpSearchValues(aps.gcontext);
googletag.pubads().collapseEmptyDivs();
googletag.pubads().addEventListener("slotRenderEnded",function(e){if(typeof e.slot.getSlotId!="undefined"){if(typeof e.slot.getSlotId().getDomId!="undefined"){hearstUpdateSlotRenderInfo(e.slot,e.slot.getSlotId().getDomId(),e.lineItemId,e.creativeId,e.isEmpty,e.size);
aps.adRenderCallback&&aps.adRenderCallback(e)
}}});
googletag.pubads().addEventListener("impressionViewable",function(g){if(typeof g.slot.getSlotId!="undefined"){var f=g.slot.getSlotId().getDomId();
if(typeof(f)!="undefined"){aps.logInfo("impression viewable: "+f);
var e=aps.getAdMetrics(f);
e.impressionViewable=aps.getTimeElapsed();
e.totalImpressions++;
if(e.totalRenders>1){e.impressionViewable=aps.getTimeElapsedFromStamp(e.refreshCalled)
}else{e.impressionViewable=aps.getTimeElapsed()
}aps.fireEvent(aps.event.on_ad_impression_viewable,{code:f})
}}});
aps.fireEvent(aps.event.on_update_page_level_targeting);
aps.logInfo("defining tags ended : enabling google services");
aps.fireEvent(aps.event.on_before_enable_google_services);
googletag.enableServices();
aps.slotsSetup=true;
window.onJuiceEvent_endDefineTags&&window.onJuiceEvent_endDefineTags();
aps.fireEvent(aps.event.on_end_define_tags);
aps.refreshAvailable=true;
window.onJuiceRefreshable&&window.onJuiceRefreshable()
})
}if(aps.implementSRA){aps.logInfo("Implementing SRA MODE");
window.defineTags=function(a){if(!aps.serveAds){return
}aps.logInfo("defineTags");
aps.logInfo("loading async google");
aps.loadGoogleService(true);
googletag.cmd.push(function(){aps.logInfo("google ready");
aps.performanceMetrics.GoogleLoaded=aps.getTimeElapsed();
aps.performanceMetrics.matchedUrl=aps.juiceMatchedUrl
});
aps.loadAsyncScripts();
aps.page=a;
aps.page_kvps=a.kvps;
aps._initAdDefinitionByCode();
googletag.cmd.push(function(){window.onJuiceEvent_StartDefineTags&&window.onJuiceEvent_StartDefineTags();
aps.fireEvent(aps.event.on_begin_define_tags);
aps.logInfo("defining tags started");
aps.performanceMetrics.DefineTags=aps.getTimeElapsed();
aps.performanceMetrics.adUnit=a.adUnit;
aps.performanceMetrics.networkCode=a.networkCode;
for(var c=0;
c<a.ads.length;
c++){var b=a.ads[c];
if(!aps.shouldPlaceAd(b.code)){continue
}if(b.hasOwnProperty("video")){if(b.video){aps.videoAdTag=b;
continue
}}b.oldDivID=b.code;
b.newDivID=b.code;
if(b.isDynamic){b.newDivID=aps.getNextDynamicAdDivID(b.code);
document.getElementById(b.code).id=b.newDivID
}if(b.interstitial){aps.interstitialAdDefs[b.code]=b;
continue
}var d=null;
if(b.code=="OOP"){d=googletag.defineOutOfPageSlot("/"+a.networkCode+"/"+a.adUnit,b.code);
b.adSizeDefined=[0,0];
aps.logInfo("OOP slot defined")
}else{d=googletag.defineSlot("/"+a.networkCode+"/"+a.adUnit,[b.width,b.height],b.newDivID);
b.adSizeDefined=[b.width,b.height];
aps.logInfo(b.code+" slot defined")
}aps.normalAdSlots[b.code]=d;
aps.adSlots.push(d);
aps.slotsByDivID[b.newDivID]=d;
if(APSResponsiveDesign==true&&!b.oop){aps.setupResponsiveMappings(d,b)
}d.addService(googletag.pubads());
setDFPSlotTargeting(b,d,false)
}setDfpSearchValues(aps.gcontext);
googletag.pubads().collapseEmptyDivs();
googletag.pubads().addEventListener("slotRenderEnded",function(e){if(typeof e.slot.getSlotId!="undefined"){if(typeof e.slot.getSlotId().getDomId!="undefined"){hearstUpdateSlotRenderInfo(e.slot,e.slot.getSlotId().getDomId(),e.lineItemId,e.creativeId,e.isEmpty,e.size);
aps.adRenderCallback&&aps.adRenderCallback(e)
}}});
googletag.pubads().addEventListener("impressionViewable",function(h){if(typeof h.slot.getSlotId!="undefined"){var g=h.slot.getSlotId().getDomId();
if(typeof(g)!="undefined"){aps.logInfo("impression viewable: "+g);
var f=aps.getAdMetrics(g);
var e=aps.getAdDefinitionByCode(g);
f.impressionViewable=aps.getTimeElapsed();
f.totalImpressions++;
if(f.totalRenders>1){f.impressionViewable=aps.getTimeElapsedFromStamp(f.refreshCalled)
}else{f.impressionViewable=aps.getTimeElapsed()
}e.impressionViewable=true;
aps.fireEvent(aps.event.on_ad_impression_viewable,{code:g})
}}});
aps.fireEvent(aps.event.on_update_page_level_targeting);
aps.logInfo("defining tags ended : enabling google services");
googletag.pubads().enableSingleRequest();
if(aps.prebid){googletag.enableServices()
}else{if(!aps.adScriptsLoaded){aps.registerEvent(aps.event.on_third_party_complete,function(e){googletag.cmd.push(function(){aps.logInfo("enableServices - waited for scripts to load");
aps.fireEvent(aps.event.on_before_enable_google_services);
aps.enableGoogleServices(0)
})
})
}else{aps.logInfo("enableServices - scripts already loaded");
aps.fireEvent(aps.event.on_before_enable_google_services);
aps.enableGoogleServices(0)
}}aps.slotsSetup=true;
window.onJuiceEvent_endDefineTags&&window.onJuiceEvent_endDefineTags();
aps.fireEvent(aps.event.on_end_define_tags);
aps.refreshAvailable=true;
window.onJuiceRefreshable&&window.onJuiceRefreshable()
})
}
}function hearstUpdateSlotRenderInfo(l,m,i,d,g,b){var c=aps.getAdMetrics(m);
c.lineItemId=i;
c.creativeId=d;
c.isEmpty=g;
c.totalRenders++;
if(c.totalRenders>1){c.rendered=aps.getTimeElapsedFromStamp(c.refreshCalled)
}else{c.rendered=aps.getTimeElapsed()
}if(b!=null){c.size=b[0]+" x "+b[1]
}var a=aps.getAdDefinitionByCode(aps.codesByDomID[m]);
a.renderCount++;
a.isLoading=false;
aps.logInfo(a.code+" rendered into div "+m);
try{a.creativeURL=l.getContentUrl()
}catch(f){a.creativeURL=""
}aps.fireEvent(aps.event.on_ad_rendered,{adDefinition:a,newid:m,lineitem:i,size:b,isEmpty:g});
if(b!=null&&aps.leaderboardLineItemID==null){if(b[0]==300){aps.leaderboardLineItemID=i
}}aps.renderInfo[m]={lineItem:i,creative:d,isEmpty:g,size:b};
if(a.isDynamic==true){var k=a.oldDivID;
var j=a.newDivID;
var n=(b!=null)?b[0]:0;
var h=(b!=null)?b[1]:0;
setTimeout(function(){aps.fireEvent(aps.event.on_dynamic_ad_rendered,{oldid:k,newid:j,cx:n,cy:h});
window.onJuiceEvent_DynamicAdRendered&&window.onJuiceEvent_DynamicAdRendered(k,j,n,h)
},5)
}}function hearstGetVideoAdTagSize(a){var e="";
if(a.sizeMappings!=undefined&&a.sizeMappings.length>0){var d=[];
for(var c=0;
c<a.sizeMappings.length;
c++){var b=a.sizeMappings[c].split("x");
d.push(parseInt(b[1],10)+"x"+parseInt(b[2],10))
}e="?sz="+d.join("%7C")
}else{e="?sz="+encodeURIComponent(a.width+"x"+a.height)
}return e
}function hearstGetVideoAdTag(b){if(aps.videoAdTag==null){aps.logInfo("hearstGetVideoAdTag called with no video tag defined : ignoring ");
return null
}var a=aps.videoAdTag;
if(typeof(a)=="undefined"){aps.logInfo("hearstGetVideoAdTag called with non-defined ad slot "+b+" : ignoring ");
return null
}if(a.video==false){aps.logInfo("hearstGetVideoAdTag called non video defined ad slot "+b);
return null
}aps.fireEvent(aps.event.on_hearst_place_ad,{adDefinition:a});
var f=hearstGetVideoAdTagSize(a);
var g="https://pubads.g.doubleclick.net/gampad/ads";
g+=f;
g+="&iu="+encodeURIComponent(definedTags.networkCode+"/"+definedTags.adUnit);
g+="&url="+encodeURIComponent(top.location.protocol+"//"+JuicePageUrl);
g+="&impl=s";
g+="&gdfp_req=1";
g+="&env=vp";
g+="&output=xml_vast3";
g+="&page_type="+aps.page_type2;
g+="&unviewed_position_start=1";
g+="&description_url="+encodeURIComponent(top.location.protocol+"//"+JuicePageUrl);
g+="&vpos=preroll";
if(a.companion_units!=null&&a.companion_units!=""){g+="&ciu_szs="+encodeURIComponent(a.companion_units)
}else{g+="&ciu_szs="
}var c="";
c+="distributor_domain=";
if(aps.current_domain.indexOf("m.")==0){c+=aps.current_domain.substr(2)
}else{c+=aps.current_domain
}c+="&perf_sec="+aps.perf_sec;
c+="&page_type2="+aps.page_type2;
c+="&page_type3="+(encodeURIComponent(aps.getVideoTagPageType3(b)));
c+="&pageurl="+encodeURIComponent(top.location.protocol+"//"+JuicePageUrl);
c+="&referrer="+encodeURIComponent(document.referrer);
c+="&urlhash="+aps.performanceMetrics.urlHash;
for(var d=0;
d<a.kvps.length;
d++){var e=a.kvps[d];
c+=(c.length>0?"&":"");
c+=e.key+"="+e.value
}if(c.length>0){g+="&cust_params="+encodeURIComponent(c)
}g+="&correlator="+new Date().getTime();
aps.logInfo("hearstGetVideoAdTag:"+g);
return g
}aps.getVideoTagPageType3=function(a){var c="";
if(typeof(aps.topWindow.omni_SSVariant)!="undefined"){c="_"+aps.topWindow.omni_SSVariant
}try{aps.page_type2=self.getOmniContentType()
}catch(b){}return a+"_"+aps.page_type2+c
};
aps.placeDynamicDuringPageLoad=function(b){var a=aps.getAdDefinitionByCode(b);
a.isDynamic=true;
hearstPlaceAd(b)
};
function hearstPlaceDynamicAd(){var b=arguments[0],d;
var a=aps.getAdDefinitionByCode(b);
if(typeof(a)=="undefined"){aps.logWarning("hearstPlaceDynamicAd called with non-defined ad slot "+b+" : ignoring ");
return
}if(!aps.shouldPlaceAd(b)){a.refreshable=false;
return
}if(arguments.length==1){d=aps.getNextDynamicAdDivID(b);
a.oldDivID=b;
a.newDivID=d;
document.getElementById(b).id=d;
aps.callsByDomID[a.newDivID]=1;
aps.logInfo("hearstPlaceDynamicAd called with one parameter "+b+" : new dom id "+d)
}else{d=arguments[1];
if(!aps.isDivIDUniqueForAdPlacement("hearstPlaceDynamicAd",d)){return
}if(document.getElementById(arguments[1])==null){var c=(arguments.length==3)?arguments[2]:0;
d=arguments[1];
if(c<10){c++;
setTimeout(function(){aps.logWarning("Div "+b+" did not exist - retrying : "+c);
hearstPlaceDynamicAd(b,d,c)
},100)
}return
}a.oldDivID=d;
a.newDivID=d;
aps.callsByDomID[a.newDivID]=2
}aps.logInfo("hearstPlaceDynamicAd "+b+"into a div id of "+a.newDivID);
aps.MarkDivIDAsUnique(a.newDivID,a.code);
a.isDynamic=true;
aps.cmd.push(function(){aps.waitForScriptsToLoad();
var e=definedTags;
var f=googletag.defineSlot("/"+e.networkCode+"/"+e.adUnit,[a.width,a.height],a.newDivID);
aps.setupResponsiveMappings(f,a);
f.addService(googletag.pubads());
setDFPSlotTargeting(a,f,false);
aps.fireEvent(aps.event.on_update_page_level_targeting);
f.setTargeting("scroll_position",a.renderCount);
aps.slotsByDivID[a.newDivID]=f;
aps.dynamicAdSlots[a.newDivID]=f;
a.renderCount++;
aps.fireEvent(aps.event.on_set_dynamic_ad_targeting,{slot:f,adDefinition:a});
aps.dynamicSlots.push(f);
aps.logPageKVPsforDiv(a.newDivID);
aps.fireEvent(aps.event.on_before_display_ad,{adDefinition:a,slot:aps.slotsByDivID[a.newDivID]});
googletag.display(a.newDivID);
aps.getAdMetrics(a.newDivID).googleDisplay=aps.getTimeElapsed();
aps.markInterstitialAsRefreshable(b);
if(aps.prebid){googletag.pubads().refresh([f])
}})
}function _hearstPlaceAd(){var b=arguments[0];
var d=false;
var a=aps.getAdDefinitionByCode(b);
divID=(arguments.length==2)?arguments[1]:null;
if(typeof(a)=="undefined"){aps.logInfo("hearstPlaceAd called with non-defined ad slot "+b+" : ignoring ");
return
}aps.getAdMetrics(b).hearstPlaceAd=aps.getTimeElapsed();
if(!aps.shouldPlaceAd(b)){a.refreshable=false;
return
}if(a.code=="OOP"){a.oop=true
}else{a.oop=false
}aps.fireEvent(aps.event.on_hearst_place_ad,{adDefinition:a});
if(a.interstitial){aps.logInfo("hearstPlaceAd "+b);
return
}if(!a.interstitial&&!a.rm){if(divID!=null){aps.logInfo("hearstPlaceAd calling hearstPlaceDynamicAd "+b+" divid "+divID);
hearstPlaceDynamicAd(b,divID);
return
}else{if(!a.oop){d=true
}}}if(!aps.isDivIDUniqueForAdPlacement("hearstPlaceAd",b)){return
}aps.logInfo("hearstPlaceAd "+b);
aps.MarkDivIDAsUnique(b);
aps.callsByDomID[b]=0;
if(document.getElementById(b)==null){aps.logInfo("hearstPlaceAd called with div not on page: "+b)
}if(d){aps.refreshableSlots.push(b)
}if(document.getElementById(b)!=null){try{aps.cmd.push(function(){aps.waitForScriptsToLoad();
aps.initialUpdatePageLevelKVPS(aps.gcontext);
aps.logPageKVPsforDiv(b);
aps.fireEvent(aps.event.on_before_display_ad,{adDefinition:a,slot:aps.slotsByDivID[a.newDivID]});
googletag.display(b);
aps.getAdMetrics(b).googleDisplay=aps.getTimeElapsed()
})
}catch(c){aps.logException("hearstPlaceAd exception for "+b,c)
}}}if(!aps.loadAsynchronously){window.hearstPlaceAd=_hearstPlaceAd
}aps.markInterstitialAsRefreshable=function(b){if(b=="GO300"){return
}if(aps.isAdCodeRefreshable(b)){return
}var a=aps.getAdDefinitionByCode(b);
if(!a.interstitial){return
}aps.refreshableSlots.push(b)
};
aps.isAdCodeRefreshable=function(a){for(var b=0;
b<aps.refreshableSlots.length;
b++){if(aps.refreshableSlots[b]==a){return true
}}return false
};
aps.refreshSlotsWithWaitCounter=function(c,b){if(aps.refreshWaitCounter>0){var a=0;
self.refreshCheck=setInterval(function(){if(a>50){if(a>50){aps.logError("hearstRefreshAds wait -  timed out waiting for a script");
aps.disableFailedWaitScripts()
}aps.refreshWaitCounter=0
}if(aps.refreshWaitCounter<=0){window.clearInterval(self.refreshCheck);
aps.logInfo("hearstRefreshAds wait complete : "+a+" iterations");
aps.logInfo(b);
googletag.cmd.push(function(){if(aps.prebid){aps.enableGoogleServicesRan=true;
pbjs.setTargetingForGPTAsync()
}googletag.pubads().refresh(c)
})
}a++
},50)
}else{aps.logInfo(b);
googletag.cmd.push(function(){googletag.pubads().refresh(c)
})
}};
function hearstRefreshAds(){var a=(arguments.length==1)?arguments[0]:aps.refreshableSlots;
var j=[];
var h=this;
var g="";
var e=[];
var f=[];
var d=0;
if(!aps.refreshAvailable){aps.logInfo("hearstRefreshAds called premature : rejected");
return
}for(var c=0;
c<a.length;
c++){var b=aps.getAdDefinitionByCode(a[c]);
if(b.isLoading==true){aps.logInfo("skipping refresh of "+b.code+" .  It has not completed last request.");
d++
}else{if(b.renderCount<=1){aps.logInfo("skipping refresh of "+b.code+" .  It has never rendered.")
}else{if(aps.refreshViewableOnly&&!b.impressionViewable){aps.logInfo("skipping refresh of "+b.code+" .  It is not viewable.")
}else{b.impressionViewable=false;
e.push(b.code)
}}}}if(e.length<=0){aps.logInfo("No ads are in refreshable state - skipping refresh");
return
}if(aps.refreshWaitCounter>0){aps.logInfo("Skipping refresh as we are still waiting on third parties to return.");
return
}aps.refreshWaitCounter=0;
aps.updatePageLevelKVPS(aps.gcontext);
aps.fireEvent(aps.event.on_update_page_level_targeting);
aps.fireEvent(aps.event.on_before_refresh_ads);
a=e;
for(c=0;
c<a.length;
c++){var b=aps.getAdDefinitionByCode(a[c]);
if(aps.isAdCodeRefreshable(a[c])){var k=aps.normalAdSlots[a[c]];
if(typeof(k)=="undefined"){k=aps.dynamicAdSlots[a[c]]
}if(typeof(k)=="undefined"){continue
}j.push(k);
f.push(b);
aps.fireEvent(aps.event.on_before_refresh_ad,{slot:k});
aps.logPageKVPsforDiv(a[c]);
aps.getAdMetrics(a[c]).refreshCalled=aps.getTimeStamp();
b.isLoading=true
}}g="refreshing ad slots "+e.join(", ");
if(j.length>0){aps.refreshSlotsWithWaitCounter(j,g)
}}function _hearstRefreshInterstitialAds(a){var e=[];
var b=[];
aps.logInfo("hearstRefreshInterstitialAds called: "+a.join(", "));
if(!aps.refreshAvailable){aps.logInfo("hearstRefreshInterstitialAds called premature : rejected");
return false
}for(var d=0;
d<a.length;
d++){var c=aps.interstitialAdDefs[a[d]];
if(typeof(c)=="undefined"){if(typeof(aps.getAdDefinitionByCode(a[d]))=="undefined"){aps.logWarning("hearstRefreshInterstitialAds called with "+a[d]+", which is not defined on this page - ignoring")
}else{aps.logWarning("hearstRefreshInterstitialAds called with "+a[d]+", which is not an interstitial ad - ignoring")
}continue
}if(aps.getAdMetrics(a[d]).hearstPlaceAd==0){aps.logWarning("hearstRefreshInterstitialAds called with "+a[d]+", which was never placed on the page using hearstPlaceAd - skipping");
continue
}if(!c.interstitial){aps.logWarning("skipping "+a[d]+" is not an interstitial ad");
continue
}if(c.isLoading==true){aps.logInfo("skipping refresh of "+c.code+" .  It has not completed last request.");
continue
}c.isLoading=true;
var f=aps.dynamicAdSlots[a[d]];
if(typeof(f)=="undefined"){aps.logInfo("( juice is about to call hearstPlaceDynamicAd ) : "+c.code);
aps.MarkDivIDAsUnique(c.code,"passthrough");
hearstPlaceDynamicAd(c.code,c.code)
}else{if(aps.refreshViewableOnly&&!c.impressionViewable){aps.logInfo("skipping refresh of interstitial "+c.code+" .  It is not viewable.")
}else{c.impressionViewable=false;
b.push(c.code);
e.push(f)
}}}if(e.length>0){aps.refreshSlotsWithWaitCounter(e,b.join(", "))
}}if(!aps.loadAsynchronously){window.hearstRefreshInterstitialAds=_hearstRefreshInterstitialAds
}aps.contentLoaded(window,aps.domLoaded);aps.topWindow=(aps.scriptName=="googleAsync")?window:top;
aps.topAps=aps.topWindow.aps;
aps.initialUpdatePageLevelKVPS=function(a){if(!aps.hearstPlaceAdHasUpdatedKVPS){aps.hearstPlaceAdHasUpdatedKVPS=true;
aps.logInfo("calling updatePageLevelKVPS from hpa");
aps.topAps.updatePageLevelKVPS(a)
}};
aps.getCookie=function(d){var f=d+"=";
var b=document.cookie.split(";");
for(var e=0;
e<b.length;
e++){var a=b[e];
while(a.charAt(0)==" "){a=a.substring(1)
}if(a.indexOf(f)==0){return a.substring(f.length,a.length)
}}return""
};aps.hash=aps.hash||{};
aps.codec=aps.codec||{};
aps.bitArray={bitSlice:function(b,d,c){b=aps.bitArray._shiftRight(b.slice(d/32),32-(d&31)).slice(1);
return(c===undefined)?b:aps.bitArray.clamp(b,c-d)
},extract:function(b,d,c){var f,e=Math.floor((-d-c)&31);
if((d+c-1^d)&-32){f=(b[d/32|0]<<(32-e))^(b[d/32+1|0]>>>e)
}else{f=b[d/32|0]>>>e
}return f&((1<<c)-1)
},concat:function(a,b){if(a.length===0||b.length===0){return a.concat(b)
}var c=a[a.length-1],d=aps.bitArray.getPartial(c);
if(d===32){return a.concat(b)
}else{return aps.bitArray._shiftRight(b,d,c|0,a.slice(0,a.length-1))
}},bitLength:function(b){var c=b.length,d;
if(c===0){return 0
}d=b[c-1];
return(c-1)*32+aps.bitArray.getPartial(d)
},clamp:function(b,d){if(b.length*32<d){return b
}b=b.slice(0,Math.ceil(d/32));
var c=b.length;
d=d&31;
if(c>0&&d){b[c-1]=aps.bitArray.partial(d,b[c-1]&2147483648>>(d-1),1)
}return b
},partial:function(b,c,a){if(b===32){return c
}return(a?c|0:c<<(32-b))+b*1099511627776
},getPartial:function(a){return Math.round(a/1099511627776)||32
},equal:function(c,d){if(aps.bitArray.bitLength(c)!==aps.bitArray.bitLength(d)){return false
}var f=0,e;
for(e=0;
e<c.length;
e++){f|=c[e]^d[e]
}return(f===0)
},_shiftRight:function(b,g,c,f){var d,e=0,h;
if(f===undefined){f=[]
}for(;
g>=32;
g-=32){f.push(c);
c=0
}if(g===0){return f.concat(b)
}for(d=0;
d<b.length;
d++){f.push(c|b[d]>>>g);
c=b[d]<<(32-g)
}e=b.length?b[b.length-1]:0;
h=aps.bitArray.getPartial(e);
f.push(aps.bitArray.partial(g+h&31,(g+h>32)?c:f.pop(),1));
return f
},_xor4:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]
},byteswapM:function(b){var c,e,d=65280;
for(c=0;
c<b.length;
++c){e=b[c];
b[c]=(e>>>24)|((e>>>8)&d)|((e&d)<<8)|(e<<24)
}return b
}};
aps.codec.hex={fromBits:function(a){var c="",b;
for(b=0;
b<a.length;
b++){c+=((a[b]|0)+263882790666240).toString(16).substr(4)
}return c.substr(0,aps.bitArray.bitLength(a)/4)
},toBits:function(d){var a,c=[],b;
d=d.replace(/\s|0x/g,"");
b=d.length;
d=d+"00000000";
for(a=0;
a<d.length;
a+=8){c.push(parseInt(d.substr(a,8),16)^0)
}return aps.bitArray.clamp(c,b*4)
}};
aps.hash.sha256=function(a){if(!this._key[0]){this._precompute()
}if(a){this._h=a._h.slice(0);
this._buffer=a._buffer.slice(0);
this._length=a._length
}else{this.reset()
}};
aps.codec.utf8String={fromBits:function(a){var d="",b=aps.bitArray.bitLength(a),c,e;
for(c=0;
c<b/8;
c++){if((c&3)===0){e=a[c/4]
}d+=String.fromCharCode(e>>>8>>>8>>>8);
e<<=8
}return decodeURIComponent(escape(d))
},toBits:function(c){c=unescape(encodeURIComponent(c));
var b=[],a,d=0;
for(a=0;
a<c.length;
a++){d=d<<8|c.charCodeAt(a);
if((a&3)===3){b.push(d);
d=0
}}if(a&3){b.push(aps.bitArray.partial(8*(a&3),d))
}return b
}};
aps.hash.sha256.hash=function(a){return(new aps.hash.sha256()).update(a).finalize()
};
aps.hash.sha256.prototype={blockSize:512,reset:function(){this._h=this._init.slice(0);
this._buffer=[];
this._length=0;
return this
},update:function(e){if(typeof e==="string"){e=aps.codec.utf8String.toBits(e)
}var f,a=this._buffer=aps.bitArray.concat(this._buffer,e),k=this._length,h=this._length=k+aps.bitArray.bitLength(e);
if(h>9007199254740991){throw ("Cannot hash more than 2^53 - 1 bits")
}if(typeof Uint32Array!=="undefined"){var d=new Uint32Array(a);
var g=0;
for(f=512+k-((512+k)&511);
f<=h;
f+=512){this._block(d.subarray(16*g,16*(g+1)));
g+=1
}a.splice(0,16*g)
}else{for(f=512+k-((512+k)&511);
f<=h;
f+=512){this._block(a.splice(0,16))
}}return this
},finalize:function(){var d,a=this._buffer,c=this._h;
a=aps.bitArray.concat(a,[aps.bitArray.partial(1,1)]);
for(d=a.length+2;
d&15;
d++){a.push(0)
}a.push(Math.floor(this._length/4294967296));
a.push(this._length|0);
while(a.length){this._block(a.splice(0,16))
}this.reset();
return c
},_init:[],_key:[],_precompute:function(){var c=0,e=2,a,d;
function b(f){return(f-Math.floor(f))*4294967296|0
}for(;
c<64;
e++){d=true;
for(a=2;
a*a<=e;
a++){if(e%a===0){d=false;
break
}}if(d){if(c<8){this._init[c]=b(Math.pow(e,1/2))
}this._key[c]=b(Math.pow(e,1/3));
c++
}}},_block:function(t){var q,s,c,d,e=this._h,r=this._key,f=e[0],g=e[1],j=e[2],l=e[3],m=e[4],n=e[5],o=e[6],p=e[7];
for(q=0;
q<64;
q++){if(q<16){s=t[q]
}else{c=t[(q+1)&15];
d=t[(q+14)&15];
s=t[q&15]=((c>>>7^c>>>18^c>>>3^c<<25^c<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+t[q&15]+t[(q+9)&15])|0
}s=(s+p+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(o^m&(n^o))+r[q]);
p=o;
o=n;
n=m;
m=l+s|0;
l=j;
j=g;
g=f;
f=(s+((g&j)^(l&(g^j)))+(g>>>2^g>>>13^g>>>22^g<<30^g<<19^g<<10))|0
}e[0]=e[0]+f|0;
e[1]=e[1]+g|0;
e[2]=e[2]+j|0;
e[3]=e[3]+l|0;
e[4]=e[4]+m|0;
e[5]=e[5]+n|0;
e[6]=e[6]+o|0;
e[7]=e[7]+p|0
}};aps.waitForScriptsToLoad=function(){};
aps.scriptLoaderStarted=false;
aps.requiredGPTScriptCount=aps.requiredGPTScriptCount||0;
aps.loadAsyncScripts=function(){if(aps.topWindow!=self){return
}aps.logInfo("loadingAsyncScripts: "+aps.queuedScriptCount);
aps.performanceMetrics.TotalThirdPartyScripts=aps.queuedScriptCount;
for(var a in aps.adScripts){if(aps.adScripts.hasOwnProperty(a)){aps.queueAsyncScript(aps.adScripts[a])
}}aps.scriptLoaderStarted=true;
aps.testAsyncWaitFunctions();
aps.initializeScriptLoadChecking()
};
aps.queueAsyncScript=function(a){a.loadstart=new Date();
if(a.testFunction!=null){return
}var b=a;
a.callback=function(){if(!b.complete){b.loadend=new Date();
b.complete=true;
aps.logInfo(b.name+" loaded  : "+(b.loadend-b.loadstart));
aps.fireEvent(aps.event.on_script_loaded,{scriptDetails:b})
}};
aps._loadScript2(a)
};
aps.testAsyncWaitFunctions=function(){for(var b in aps.adScripts){if(aps.adScripts.hasOwnProperty(b)){if(aps.adScripts[b].testFunction!=null&&aps.adScripts[b].complete==false){if(aps.adScripts[b].testFunction()===true){var a=aps.adScripts[b];
a.loadend=new Date();
a.complete=true;
aps.logInfo(a.name+" loaded  : "+(a.loadend-a.loadstart));
aps.fireEvent(aps.event.on_script_loaded,{scriptDetails:aps.adScripts[b]})
}}}}};
aps._testAsyncStatus=function(){var a=aps.adScripts;
aps.testAsyncWaitFunctions();
var c=0;
for(var b in aps.adScripts){if(aps.adScripts.hasOwnProperty(b)){if(aps.adScripts[b].complete&&aps.adScripts[b].requiredForGPT){c++
}}}if(c==aps.requiredGPTScriptCount){aps.adScriptsLoaded=true
}return aps.adScriptsLoaded
};
aps.initializeScriptLoadChecking=function(){var c=this;
var b=0;
var a=aps.adScripts;
aps.adScriptsLoaded=false;
aps.logInfo("initializeScriptLoadChecking");
c.loadCheck=function(){if(b>50){aps.logError("ScriptLoadChecking timed out waiting for a script");
aps.adScriptsLoaded=true
}else{aps._testAsyncStatus()
}if(aps.adScriptsLoaded==true){aps.logInfo("ScriptLoadChecking complete : "+b+" iterations");
aps.performanceMetrics.ThirdPartyScriptsLoaded=aps.getTimeElapsed();
window.clearInterval(c.loadCheck);
aps.fireEvent(aps.event.on_third_party_complete);
googletag.cmd.push(function(){aps.unQueueCommands()
})
}else{b++;
setTimeout(c.loadCheck,50)
}};
setTimeout(c.loadCheck,50)
};
aps.queueScriptAsync=function(d,e,c,a){var b={name:d,scriptID:null,path:e,testFunction:null,complete:false,loadstart:null,loadend:null,appCallback:a,requiredForGPT:c};
aps.adScripts[d]=b;
aps.queuedScriptCount++;
aps.queuedWaitCount++;
if(c){aps.requiredGPTScriptCount++
}if(aps.scriptLoaderStarted){aps.queueAsyncScript(b)
}return b
};
aps.queueScriptAsyncID=function(e,c,f,d,a){var b={name:e,scriptID:c,path:f,testFunction:null,complete:false,loadstart:null,loadend:null,appCallback:a,requiredForGPT:d};
aps.adScripts[e]=b;
aps.queuedScriptCount++;
aps.queuedWaitCount++;
if(d){aps.requiredGPTScriptCount++
}if(aps.scriptLoaderStarted){aps.queueAsyncScript(b)
}return b
};
aps.queueWaitFunction=function(b,c){var a={name:b,scriptID:null,path:null,testFunction:c,complete:false,loadstart:null,loadend:null,appCallback:null,requiredForGPT:true};
aps.adScripts[b]=a;
aps.queuedWaitCount++;
aps.requiredGPTScriptCount++;
if(aps.scriptLoaderStarted){aps.queueAsyncScript(a)
}return a
};
aps._loadScript2=function(a){var c=a.path;
if(!c||!(typeof c==="string")){return
}var b=document.createElement("script");
b.type="text/javascript";
b.async=true;
if(a.scriptID!=null){b.id=a.scriptID
}if(b.addEventListener){b.addEventListener("load",function(){try{a.callback.apply(a)
}catch(d){aps.logException("_loadScript2",d)
}if(a.appCallback!=null){a.appCallback.apply(a)
}},false)
}else{b.onreadystatechange=function(){if(b.readyState in {loaded:1,complete:1}){b.onreadystatechange=null;
console.log(oCallback);
try{a.callback.apply(a)
}catch(d){aps.logException("_loadScript2",d)
}if(a.appCallback!=null){a.appCallback.apply(a)
}}}
}b.src=c;
document.getElementsByTagName("head")[0].appendChild(b)
};(function(){var b=this;
b.StripAndPreserveQuerystringVars=function(e,d){if(typeof(e)=="undefined"){return""
}var c=e.split("&");
var f=[];
c.forEach(function(g){g=g.split("=");
if(d.indexOf(g[0])!=-1){f.push(g[0]+"="+g[1])
}});
if(f.length>0){return"?"+f.join("&")
}return""
};
b.setPageTargettedUrl=function(d,c,f){var g=c.split("?");
var e="";
if(f.length==0){e=g[0]
}else{e=g[0]+b.StripAndPreserveQuerystringVars(g[1],f)
}aps.gcontext.pubads().setTargeting(d,e);
aps.logInfo("page kvp: "+d+"="+e)
};
b.setPageTargettedUrl("PageUrl",JuicePageUrl,["Testpage","Cmpid","Ipid"]);
var a=document.referrer.replace(/^(http(?:s)?:\/\/)/,"").split("/")[0];
b.setPageTargettedUrl("referrer",a,[])
})();(function(){var b=this;
b.aps=aps;
b.refreshed=[];
b.codeFromSlot=function(d){for(var c in aps.slotsByDivID){if(aps.slotsByDivID.hasOwnProperty(c)){if(aps.slotsByDivID[c]==d){return aps.codesByDomID[c]
}}}return"undefined"
};
b.setSlotTargeting=function(h,c){var g=(typeof(b.refreshed[c])=="undefined")?"":"_R";
var f="";
if(aps.faceBookInstantArticle){aps.page_type2="instant article"
}else{if(typeof(aps.topWindow.omni_SSVariant)!="undefined"){f="_"+aps.topWindow.omni_SSVariant
}try{aps.page_type2=b.getOmniContentType()
}catch(d){}}h.setTargeting("page_type2",aps.page_type2);
h.setTargeting("page_type3",c+"_"+aps.page_type2+f+g);
b.refreshed[c]=true
};
aps.registerEvent(aps.event.on_before_display_ad,function(d){if(aps.isIFrameDynamicPage&&aps.scriptName=="googleSync"){b.setSlotTargeting(aps.adSlots[0],b.codeFromSlot(aps.adSlots[0]))
}else{var c=d.adDefinition;
var e=d.slot;
if(typeof(d.slot)!="undefined"){b.setSlotTargeting(e,c.code)
}}});
aps.registerEvent(aps.event.on_before_refresh_ad,function(c){b.setSlotTargeting(c.slot,b.codeFromSlot(c.slot))
});
b.getOmniContentType=function(){if(typeof(aps.topWindow.s)!="undefined"){if(typeof(aps.topWindow.s.prop24)!="undefined"){return aps.topWindow.s.prop24
}}if(typeof(aps.topWindow.ess)!="undefined"){if(typeof(aps.topWindow.ess.prop24)!="undefined"){return aps.topWindow.ess.prop24
}}if(typeof(top.aps.awOmniContentType)=="undefined"){if(typeof(top.omni_blogname)!="undefined"){top.aps.awOmniContentType=b._getBlogOmniType()
}else{top.aps.awOmniContentType=b._getWCMOmniContentType()
}}return top.aps.awOmniContentType
};
b.getQueryParam=function(c){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");
var d=new RegExp("[\\?&]"+c+"=([^&#]*)"),e=d.exec(top.location.search);
return e==null?"":decodeURIComponent(e[1].replace(/\+/g," "))
};
b._getWCMOmniContentType=function(){if(window.location.href.indexOf("cmfThirdParty")<0){b.awOmniPagename="";
b.awOmniPagetitle="";
b.awOmniChannel;
b.awOmniHier1;
b.awOmniServer=top.document.location.host;
b.awOmniSSL1;
b.awOmniSSL2;
b.awOmniSSL3;
b.awOmniSSL4;
b.awOmniNumResults;
b.awOmniSearchTerms;
b.awOmniPrintContent="online";
b.awOmniAuthorTitle="";
b.awOmniPubDate;
b.awOmniTitle="";
b.awOmniID="";
b.awOmniContentType="";
b.awOmniAuthor="";
b.awOmniDaysSincePub;
b.awOmniQuery="";
b.awOmniDomain;
b.awOmniHeadline="";
b.awOmniPageNumber="";
b.awOmniPremiumStatus="";
b.awOmniPremiumAuthStatus="";
b.awOmniPremiumEndDate="";
b.awOmniPubSource="";
b.awOmniBoolPremiumEvent=false;
b.awOmniFullURL=top.document.URL.toLowerCase();
b.awStrRelativePath;
b.awStrPageURL="";
b.awStrChannelPath;
b.awStrPageFile;
b.awStrVertical;
b.awControllerName=getQueryParam("controllerName").toLowerCase();
b.awStrGAAcct2="";
b.awBoolIs404=false;
b.awGetDomainName=function(f){var e=f.match(/:\/\/(.[^/]+)/)[1].replace("www.","").split(".");
return e[0]
};
b.awParseURL=function(){var j=awOmniFullURL;
var i;
var f;
var g=j.indexOf("?")+1;
var h=j.indexOf(".com")+5;
var e=new Array;
awOmniDomain=j.substr(0,h);
if(g>0){awOmniQuery=j.substring(g);
awStrRelativePath=j.substring(0,g-1)
}else{awStrRelativePath=j
}awStrPageURL=awStrRelativePath;
awStrRelativePath=awStrRelativePath.substr(h);
if(typeof b.s_mainDomain=="undefined"){if(location.hostname.split(".").length>2){b.s_mainDomain=top.location.protocol+"//www."+location.hostname.split(".")[1]+"."+location.hostname.split(".")[2]+"/"
}else{b.s_mainDomain=top.location.protocol+"//"+top.location.hostname+"/"
}}i=awGetDomainName(awOmniDomain);
if(i!==awGetDomainName(s_mainDomain)){awStrRelativePath=i+"/"+awStrRelativePath
}f=awStrRelativePath.indexOf(".")==-1;
if(f){if(i!=="29-95"||awStrRelativePath.indexOf("/comic/")==-1&&awStrRelativePath.indexOf("/story/")==-1&&awStrRelativePath.indexOf("/photo/")==-1){if(awStrRelativePath.charAt(awStrRelativePath.length-1)!=="/"){awStrRelativePath+="/"
}if(awOmniDomain==s_mainDomain&&(awStrRelativePath=="home/"||awStrRelativePath.length==1)){awStrRelativePath="home"
}else{awStrRelativePath+="index"
}}}e=awStrRelativePath.split("/");
awStrChannelPath=e[0];
if(awStrChannelPath.indexOf(".")!==-1){awStrChannelPath="home"
}for(z=0;
z<e.length;
z++){if(awOmniPagename!=""){awOmniPagename=awOmniPagename+":"+e[z];
if(z<e.length-1){awStrChannelPath=awStrChannelPath+" :: "+e[z]
}}else{awOmniPagename=e[z]
}}awStrPageFile=e[e.length-1];
if(awStrPageFile=="index"&&e.length>1){awStrPageFile=e[e.length-2]+":"+awStrPageFile
}awOmniPagename=awOmniPagename=="home"?"HomePage":awOmniPagename;
awOmniPagetitle=awOmniPagename=="HomePage"?"HomePage":awStrPageFile;
return awOmniPagename
};
b.omni_categorize=function(h){if(typeof h!="undefined"){var g,f;
var e=new Array;
h=h.toLowerCase();
e=h.split(" :: ");
f=e.length;
awOmniSSL1=awOmniChannel=awOmniSSL2=awOmniSSL3=awOmniSSL4=e[0];
if(f>1){awOmniSSL2=awOmniSSL3=awOmniSSL4=awOmniSSL1+":"+e[1]
}if(f>2){awOmniSSL3=awOmniSSL4=awOmniSSL2+":"+e[2]
}if(f>3){awOmniSSL4=awOmniSSL3+":"+e[3]
}awOmniHier1=awOmniSSL4.replace(/:/g,",");
if(f>4){for(g=4;
g<f;
g++){awOmniSSL4=awOmniSSL4+" - "+e[g]
}}}};
b.toProperCase=function(e){if(e!="undefined"){if(e.length>1){return e.toLowerCase().replace(/^(.)|\s(.)/g,function(f){return f.toUpperCase()
})
}}};
b.processByLine=function(f){var e=f;
if(e.length>2){if(e.substr(0,3).toUpperCase()=="BY "){e=e.substr(3)
}}return toProperCase(e)
};
b.linkTrack=function(h,e,f){try{s_hdn.linkTrackVars="campaign";
s_hdn.campaign=e;
if(typeof f=="undefined"){s_hdn.tl(h,"o")
}else{s_hdn.tl(h,"o",f)
}}catch(g){if(b.console!=undefined){console.log(g)
}}};
awParseURL();
if(typeof omni_bizObjectId!="undefined"){awOmniID=omni_bizObjectId
}if(typeof omni_authorName!="undefined"){awOmniAuthor=processByLine(omni_authorName)
}if(typeof omni_authorTitle!="undefined"){awOmniAuthorTitle=omni_authorTitle.toLowerCase().indexOf("associated press")>-1?"AP":omni_authorTitle
}if(typeof omni_publicationDate!="undefined"){awOmniPubDate=omni_publicationDate;
var d=new Date;
var c=new Date(awOmniPubDate.replace(/-/g,"/"));
awOmniDaysSincePub=Math.ceil((d.getTime()-c.getTime())/(1000*60*60*24))
}if(typeof omni_title!="undefined"){awOmniTitle=omni_title
}else{if(typeof omni_blogposttitle!="undefined"){awOmniTitle=omni_blogposttitle
}else{if(awOmniPagetitle.length>0){awOmniTitle=awOmniPagetitle
}}}if(typeof omni_breakingNewsFlag!="undefined"&&typeof omni_localNewsFlag!="undefined"){if(omni_breakingNewsFlag!="1"&&omni_localNewsFlag=="1"){awOmniPrintContent="print"
}}if(typeof omni_channelPath!="undefined"){awStrChannelPath=omni_channelPath.toLowerCase();
if(awStrChannelPath=="local :: sound publishing"){awStrGAAcct2="UA-52608-55"
}}if(typeof omni_className!="undefined"){awOmniContentType=omni_className
}else{if(awControllerName.length>0){awOmniContentType=awControllerName
}else{if(awOmniTitle.toLowerCase()=="page not found"){awOmniContentType="page not found"
}else{if(awOmniQuery.substring(0,2)=="s\x3d"){awOmniContentType="search"
}}}}if(typeof omni_premiumStatus!="undefined"){awOmniPremiumStatus=omni_premiumStatus;
awOmniBoolPremiumEvent=true
}if(typeof omni_premiumEndDate!="undefined"){awOmniPremiumEndDate=omni_premiumEndDate
}if(typeof omni_sourceSite!="undefined"){awOmniPubSource=omni_sourceSite
}if(typeof omni_paywallSite!="undefined"){awOmniPremiumAuthStatus="Logged Out";
if(typeof edbTokens!=="undefined"&&edbTokens.productToken!==null){awOmniPremiumAuthStatus="Logged In"
}}switch(awOmniContentType){case"article":if(awOmniFullURL.toLowerCase().indexOf("articlegallery")!==-1){awOmniPageNumber="article slideshow photo:1";
awOmniContentType="article slideshow"
}awOmniHeadline=awOmniTitle+(awOmniAuthorTitle.length>0?" - "+awOmniAuthorTitle:"");
break;
case"slideshow":awStrChannelPath=awStrChannelPath.length>0?awStrChannelPath+" :: "+awOmniContentType:awOmniContentType;
break;
case"collection":awStrChannelPath=awStrChannelPath.length>0?awStrChannelPath+" :: "+awOmniContentType:awOmniContentType;
break;
case"search":awOmniNumResults=0;
awOmniSearchTerms=Bootstrapper.getQueryParam("query");
if(!awOmniSearchTerms){awOmniSearchTerms=Bootstrapper.getQueryParam("s")
}if(awOmniSearchTerms){awOmniSearchTerms="searchbox:kwd:"+awOmniSearchTerms
}awStrChannelPath="search";
if(Bootstrapper.getQueryParam("channel").length>1){awStrChannelPath+=" :: "+(Bootstrapper.getQueryParam("inlineLink")=="1"?"inline":"searchbox")+" :: "+Bootstrapper.getQueryParam("channel")
}break;
case"video":awStrChannelPath=awStrChannelPath.length>0?awStrChannelPath+" :: "+awOmniContentType:awOmniContentType;
break;
case"page not found":awOmniDaysSincePub="";
awBoolIs404=true;
break;
case"channel":awOmniDaysSincePub="";
if(awOmniPagename=="HomePage"){awOmniContentType="home page"
}break;
default:awOmniContentType="other"
}return awOmniContentType
}else{return"undefined"
}};
b._getBlogOmniType=function(){var p;
var i;
var n;
var r=document.location.host;
var s;
var t;
var u;
var v;
var h;
var w="";
var o="";
var j="Blogs";
var e="";
var q="";
var k;
var g="";
var m="";
var l=document.URL.toLowerCase();
var f="";
var c=new Object;
c.SuperCategory="";
c.Category="";
c.AuthorType="reader";
c.Usage="blog";
c.Section="";
c.Voice="";
var B;
var A="";
var x;
var y;
var d=false;
this.toProperCase=function C(D){if(D!="undefined"){if(D.length>1){return D.toLowerCase().replace(/^(.)|\s(.)/g,function(E){return E.toUpperCase()
})
}}};
if(typeof(omni_blogID)!="undefined"){o=omni_blogID
}if(typeof(omni_blogauthor)!="undefined"){e=C(omni_blogauthor)
}if(typeof(omni_blogauthortype)!="undefined"){c.AuthorType=omni_blogauthortype
}if(typeof(omni_blogposttitle)!="undefined"){d=(omni_blogposttitle.toLowerCase()=="page not found");
w=omni_blogposttitle;
if(w.charAt(w.length-1)==" "){w=w.substr(0,w.length-1)
}}if(typeof(omni_blogname)!="undefined"){g=omni_blogname
}if(typeof(omni_blogcategory2)!="undefined"){c.Category=omni_blogcategory2
}if(c.Category.length>0){if(typeof(omni_blogcategory)!="undefined"){c.SuperCategory=omni_blogcategory
}}else{if(typeof(omni_blogcategory)!="undefined"){c.Category=omni_blogcategory
}}if(typeof(omni_blogusage)!="undefined"){c.Usage=omni_blogusage
}if(typeof(omni_section)!="undefined"){c.Section=omni_section
}if(typeof(omni_voices)!="undefined"){c.Voice=omni_voices
}this.abParseURL=function(){var G=l;
if(G.indexOf("#")>-1){G=G.split("#")[0]
}var E=G.indexOf("?")+1;
var F=G.indexOf(".com")+5;
k=G.substr(0,F);
if(E>0){q=G.substring(E);
B=G.substring(0,E-1)
}else{B=G
}A=B;
B=B.substr(F);
if(B.charAt(B.length-1)=="/"){B=B.substr(0,B.length-1)
}var D=new Array();
D=B.split("/");
x=D[0];
y=D[D.length-1];
if(x==y){y="index"
}if(top.document.location.hostname=="insidescoopsf.sfgate.com"){x="insidescoop"
}return x+":"+y
};
this.abAssignSections=function(){if(c.SuperCategory.length>0){i=c.SuperCategory;
s=c.SuperCategory;
t=s+":"+c.Category;
u=t+":blogs";
v=u+":"+g.toLowerCase()
}else{i=c.Category;
s=c.Category;
t=s+":blogs";
u=t+":"+g.toLowerCase();
v=u;
if(c.Voice.length>0){v=v+":"+c.Voice.toLowerCase()
}}n=v.replace(/:/g,",")
};
p="Blogs-"+abParseURL();
if(c.Category==""){abCategorizeBlog(x,c)
}abAssignSections();
if(w==""||w==g){w="Blog index page"
}if(c.Section.length>0){g=g+":"+c.Section
}w=g+":"+w;
o=g+"--"+o;
h=c.AuthorType;
g=g+"("+c.AuthorType+")";
w=w+"("+c.AuthorType+")";
w=w.replace(/'/g,"");
m=w;
if(e){if(e.indexOf(",")!=-1){e=e.substring(0,e.indexOf(","))
}}if(d){return"undefined"
}else{return j
}};
aps.page_type2="undefined";
if(aps.faceBookInstantArticle){aps.page_type2="instant article"
}else{try{aps.page_type2=b.getOmniContentType()
}catch(a){}}aps.performanceMetrics.page_type2=aps.page_type2;
aps.logInfo("page_type2: "+aps.page_type2)
})();(function(){if(document.location.pathname.toLowerCase().indexOf("were-you-seen")>-1){aps.gcontext.pubads().setTargeting("type","seen");
aps.logInfo("page kvp: type: seen")
}})();(function(){aps.registerEvent(aps.event.on_dom_loaded,function(a){var b=aps.getQueryParameterByName("juiceconsole");
if(b!=null){setTimeout(function(){var c=document.createElement("script");
c.src="//mis.hearstnp.com/juice/Bookmarklets/debug.js"+"?bustcache="+new Date().getTime();
document.body.appendChild(c)
},parseInt(b,10))
}})
})();aps.specifiedAdSlots={};
aps.usingSelectiveAdSlotLoading=false;
aps.selectiveAdSlotCookieName="Ju13ceSelectiveAdsList";
aps.shouldPlaceAd=function(a){if(!aps.usingSelectiveAdSlotLoading){return true
}return(typeof(aps.specifiedAdSlots[a])!="undefined")
};
aps.saveSelectiveLoadingAdSlotList=function(){var a=[aps.selectiveAdSlotCookieName,"=",JSON.stringify(aps.specifiedAdSlots),"; domain=.",window.location.host.toString(),"; path=/;"].join("");
document.cookie=a
};
aps.clearSelectiveLoadingAdSlots=function(){aps.specifiedAdSlots={};
aps.saveSelectiveLoadingAdSlotList()
};
aps.addSlotToSelectiveLoadingList=function(a){aps.specifiedAdSlots[a]=true;
aps.saveSelectiveLoadingAdSlotList()
};
aps.removeSlotFromSelectiveLoadingList=function(a){if(typeof(aps.specifiedAdSlots[a])!="undefined"){delete aps.specifiedAdSlots[a];
aps.saveSelectiveLoadingAdSlotList()
}};
(function(){var b=aps.getQueryParameterByName("sadslot[]");
if(b!=null){aps.usingSelectiveAdSlotLoading=true;
for(var a=0;
a<b.length;
a++){aps.specifiedAdSlots[b[a]]=true
}}else{}})();aps.specified3rdParties={};
aps.usingSelective3rdLoading=false;
aps.shouldRunThirdParty=function(a){if(aps.faceBookInstantArticle){return false
}if(!aps.usingSelective3rdLoading){return true
}return(typeof(aps.specified3rdParties[a])!="undefined")
};
aps.add3rdToSelectiveLoadingList=function(a){aps.specified3rdParties[a]=true
};
(function(){var a=aps.getQueryParameterByName("sad3rd[]");
if(a!=null){aps.usingSelective3rdLoading=true;
for(var b=0;
b<a.length;
b++){aps.specified3rdParties[a[b]]=true
}}})();(function(){var a=aps.getQueryParameterByName("jo");
if(a!=null){var b=decodeURIComponent(a).split(":");
if(b.length==2){aps.registerEvent(aps.event.on_before_enable_google_services,function(c){googletag.cmd.push(function(){aps.logInfo("jo "+b[0]+" = "+b[1]);
googletag.pubads().setTargeting(b[0],b[1])
})
})
}}})();(function(){var a=window;
aps.adRenderCallback=function(d){try{var b={DomId:d.slot.getSlotId().getDomId(),lineItemId:d.lineItemId,creativeId:d.creativeId,isEmpty:d.isEmpty,targetingKeys:{},width:0,height:0};
if(!d.isEmpty){b.width=(d.size!=null)?d.size[0]:0;
b.height=(d.size!=null)?d.size[1]:0;
var j=d.slot.getTargetingKeys();
for(var f=0;
f<j.length;
f++){var g=j[f];
var h=d.slot.getTargeting(g);
b.targetingKeys[g]=h
}}a.onJuiceEvent_SlotRendered&&a.onJuiceEvent_SlotRendered(b)
}catch(c){aps.logException("aps.adRenderCallback",c)
}}
})();(function(){var a=aps.adRenderCallback;
aps.adRenderCallback=function(f){try{var c=f.slot.getSlotId().getDomId();
if(c=="A951"){if(f.isEmpty){document.getElementById(c).style.display="none"
}else{document.getElementById(c).style.display="block"
}}else{if(c=="RM"||c=="OOP"){var h=(f.size!=null)?f.size[0]:0;
var g=(f.size!=null)?f.size[1]:0;
if(h>1&&g>1){document.getElementById(c).style.display="block"
}else{document.getElementById(c).removeAttribute("style")
}}}}catch(d){aps.logException("aps.adRenderCallback2",d)
}a(f)
};
var b=document.createElement("style");
b.setAttribute("media","all");
b.setAttribute("id","Pixel1CollapseStyles");
b.appendChild(document.createTextNode("#RM{display:none}#OOP{display:none}#A951{display:none}"));
document.head.appendChild(b)
})();(function(){var a=null;
aps.registerEvent(aps.event.on_init_ad_definition,function(b){if(a===null){a=(aps.juiceMatchedUrl.substring(0,2)==="m.")||(aps.juiceMatchedUrl.substring(0,4)==="app.");
if(a){aps.logInfo("Mobile site detected")
}else{aps.logInfo("Desktop site detected")
}}if(a){switch(b.adDefinition.code){case"S300":case"B728":case"LA300":case"MW728_2":case"GO300":b.adDefinition.interstitial=true;
aps.logInfo(b.adDefinition.code+" marked as interstitial");
break
}}else{switch(b.adDefinition.code){case"GO300":b.adDefinition.interstitial=true;
aps.logInfo(b.adDefinition.code+" marked as interstitial");
break
}}})
})();(function(){var b=function(){var e=document.querySelectorAll("meta[name='generator']");
for(var d=0;
d<e.length;
d++){if(e[d].content=="news-one"){return true
}}return false
};
var a=function(d,e,g){var f=d.length;
while(f--){if(d[f]&&d[f].hasOwnProperty(e)&&(arguments.length>2&&d[f][e]===g)){return true
}}return false
};
var c=function(d,e,g){var f=d.length;
while(f--){if(d[f]&&d[f].hasOwnProperty(e)&&(arguments.length>2&&d[f][e]===g)){d.splice(f,1)
}}return d
};
if(!a(definedTags.kvps,"key","news10")){if(!b()){return
}else{aps.logInfo("news 1.0 detected via meta tag")
}}else{aps.logInfo("news 1.0 detected via kvp")
}aps.registerEvent(aps.event.on_init_ad_definition,function(d){switch(d.adDefinition.code){case"OOP":case"MAD":case"A300":case"B300":case"S300":d.adDefinition.interstitial=true;
aps.logInfo(d.adDefinition.code+" marked as interstitial");
break
}})
})();(function(){aps.registerEvent(aps.event.on_before_enable_google_services,function(c){var a=!1;
if(aps.current_domain=="expressnews.com"||aps.current_domain=="houstonchronicle.com"){try{if(GetCookie("hrstctok")!=null){a=1
}}catch(b){}}else{if(aps.current_domain=="sfchronicle.com"){try{if(JSON.parse(sessionStorage.getItem("sync-subscriberPlans-status"))["hasActivePlans"]==true){a=1
}}catch(b){}}}if(a){googletag.cmd.push(function(){aps.logInfo("user authenticated");
googletag.pubads().setTargeting("category","premuser")
})
}})
})();window.onHearstLogBadScript=function(c,a){window.bad_scripts=window.bad_scripts||[];
var b=c.split(" ")[0];
window.bad_scripts.push(b);
console.log("Script with a problem: "+b);
console.log("line nuember: "+a)
};!function(){var b=function(Q,S){function U(c,d){return c<<d|c>>>32-d
}function W(h,i){var j,k,l,m,n;
return l=2147483648&h,m=2147483648&i,j=1073741824&h,k=1073741824&i,n=(1073741823&h)+(1073741823&i),j&k?2147483648^n^l^m:j|k?1073741824&n?3221225472^n^l^m:1073741824^n^l^m:n^l^m
}function Y(d,e,f){return d&e|~d&f
}function aa(d,e,f){return d&f|e&~f
}function ac(d,e,f){return d^e^f
}function ae(d,e,f){return e^(d|~f)
}function ag(c,d,e,k,l,m,n){return c=W(c,W(W(Y(d,e,k),l),n)),W(U(c,m),d)
}function ai(c,d,f,k,l,m,n){return c=W(c,W(W(aa(d,f,k),l),n)),W(U(c,m),d)
}function ak(c,d,g,k,l,m,n){return c=W(c,W(W(ac(d,g,k),l),n)),W(U(c,m),d)
}function am(c,d,h,k,l,m,n){return c=W(c,W(W(ae(d,h,k),l),n)),W(U(c,m),d)
}function ao(j){for(var k,l=j.length,m=l+8,n=(m-m%64)/64,o=16*(n+1),p=Array(o-1),q=0,r=0;
l>r;
){k=(r-r%4)/4,q=r%4*8,p[k]=p[k]|j.charCodeAt(r)<<q,r++
}return k=(r-r%4)/4,q=r%4*8,p[k]=p[k]|128<<q,p[o-2]=l<<3,p[o-1]=l>>>29,p
}function aq(f){var g,h,i="",j="";
for(h=0;
3>=h;
h++){g=f>>>8*h&255,j="0"+g.toString(16),i+=j.substr(j.length-2,2)
}return i
}function at(e){e=e.replace(/\r\n/g,"\n");
for(var f="",g=0;
g<e.length;
g++){var h=e.charCodeAt(g);
128>h?f+=String.fromCharCode(h):h>127&&2048>h?(f+=String.fromCharCode(h>>6|192),f+=String.fromCharCode(63&h|128)):(f+=String.fromCharCode(h>>12|224),f+=String.fromCharCode(h>>6&63|128),f+=String.fromCharCode(63&h|128))
}return f
}void 0===S&&(S=""),void 0===Q&&(Q=10000000000*Math.random()+"||"+window.location.href+"||"+(new Date).getTime()+"||"+S);
var av,ax,ay,az,aA,aB,aC,aD,aE,aF=Array(),aG=7,R=12,T=17,V=22,X=5,Z=9,ab=14,ad=20,af=4,ah=11,aj=16,al=23,an=6,ap=10,ar=15,au=21;
for(Q=at(Q),aF=ao(Q),aB=1732584193,aC=4023233417,aD=2562383102,aE=271733878,av=0;
av<aF.length;
av+=16){ax=aB,ay=aC,az=aD,aA=aE,aB=ag(aB,aC,aD,aE,aF[av+0],aG,3614090360),aE=ag(aE,aB,aC,aD,aF[av+1],R,3905402710),aD=ag(aD,aE,aB,aC,aF[av+2],T,606105819),aC=ag(aC,aD,aE,aB,aF[av+3],V,3250441966),aB=ag(aB,aC,aD,aE,aF[av+4],aG,4118548399),aE=ag(aE,aB,aC,aD,aF[av+5],R,1200080426),aD=ag(aD,aE,aB,aC,aF[av+6],T,2821735955),aC=ag(aC,aD,aE,aB,aF[av+7],V,4249261313),aB=ag(aB,aC,aD,aE,aF[av+8],aG,1770035416),aE=ag(aE,aB,aC,aD,aF[av+9],R,2336552879),aD=ag(aD,aE,aB,aC,aF[av+10],T,4294925233),aC=ag(aC,aD,aE,aB,aF[av+11],V,2304563134),aB=ag(aB,aC,aD,aE,aF[av+12],aG,1804603682),aE=ag(aE,aB,aC,aD,aF[av+13],R,4254626195),aD=ag(aD,aE,aB,aC,aF[av+14],T,2792965006),aC=ag(aC,aD,aE,aB,aF[av+15],V,1236535329),aB=ai(aB,aC,aD,aE,aF[av+1],X,4129170786),aE=ai(aE,aB,aC,aD,aF[av+6],Z,3225465664),aD=ai(aD,aE,aB,aC,aF[av+11],ab,643717713),aC=ai(aC,aD,aE,aB,aF[av+0],ad,3921069994),aB=ai(aB,aC,aD,aE,aF[av+5],X,3593408605),aE=ai(aE,aB,aC,aD,aF[av+10],Z,38016083),aD=ai(aD,aE,aB,aC,aF[av+15],ab,3634488961),aC=ai(aC,aD,aE,aB,aF[av+4],ad,3889429448),aB=ai(aB,aC,aD,aE,aF[av+9],X,568446438),aE=ai(aE,aB,aC,aD,aF[av+14],Z,3275163606),aD=ai(aD,aE,aB,aC,aF[av+3],ab,4107603335),aC=ai(aC,aD,aE,aB,aF[av+8],ad,1163531501),aB=ai(aB,aC,aD,aE,aF[av+13],X,2850285829),aE=ai(aE,aB,aC,aD,aF[av+2],Z,4243563512),aD=ai(aD,aE,aB,aC,aF[av+7],ab,1735328473),aC=ai(aC,aD,aE,aB,aF[av+12],ad,2368359562),aB=ak(aB,aC,aD,aE,aF[av+5],af,4294588738),aE=ak(aE,aB,aC,aD,aF[av+8],ah,2272392833),aD=ak(aD,aE,aB,aC,aF[av+11],aj,1839030562),aC=ak(aC,aD,aE,aB,aF[av+14],al,4259657740),aB=ak(aB,aC,aD,aE,aF[av+1],af,2763975236),aE=ak(aE,aB,aC,aD,aF[av+4],ah,1272893353),aD=ak(aD,aE,aB,aC,aF[av+7],aj,4139469664),aC=ak(aC,aD,aE,aB,aF[av+10],al,3200236656),aB=ak(aB,aC,aD,aE,aF[av+13],af,681279174),aE=ak(aE,aB,aC,aD,aF[av+0],ah,3936430074),aD=ak(aD,aE,aB,aC,aF[av+3],aj,3572445317),aC=ak(aC,aD,aE,aB,aF[av+6],al,76029189),aB=ak(aB,aC,aD,aE,aF[av+9],af,3654602809),aE=ak(aE,aB,aC,aD,aF[av+12],ah,3873151461),aD=ak(aD,aE,aB,aC,aF[av+15],aj,530742520),aC=ak(aC,aD,aE,aB,aF[av+2],al,3299628645),aB=am(aB,aC,aD,aE,aF[av+0],an,4096336452),aE=am(aE,aB,aC,aD,aF[av+7],ap,1126891415),aD=am(aD,aE,aB,aC,aF[av+14],ar,2878612391),aC=am(aC,aD,aE,aB,aF[av+5],au,4237533241),aB=am(aB,aC,aD,aE,aF[av+12],an,1700485571),aE=am(aE,aB,aC,aD,aF[av+3],ap,2399980690),aD=am(aD,aE,aB,aC,aF[av+10],ar,4293915773),aC=am(aC,aD,aE,aB,aF[av+1],au,2240044497),aB=am(aB,aC,aD,aE,aF[av+8],an,1873313359),aE=am(aE,aB,aC,aD,aF[av+15],ap,4264355552),aD=am(aD,aE,aB,aC,aF[av+6],ar,2734768916),aC=am(aC,aD,aE,aB,aF[av+13],au,1309151649),aB=am(aB,aC,aD,aE,aF[av+4],an,4149444226),aE=am(aE,aB,aC,aD,aF[av+11],ap,3174756917),aD=am(aD,aE,aB,aC,aF[av+2],ar,718787259),aC=am(aC,aD,aE,aB,aF[av+9],au,3951481745),aB=W(aB,ax),aC=W(aC,ay),aD=W(aD,az),aE=W(aE,aA)
}var aw=aq(aB)+aq(aC)+aq(aD)+aq(aE);
return aw.toLowerCase()
};
try{juiceMdHash=window.Bootstrapper&&window.Bootstrapper.mdHash?Bootstrapper.mdHash:b();
aps.gcontext.pubads().setTargeting("urlhash",juiceMdHash,"juiceMdHash kvp:"+juiceMdHash);
aps.performanceMetrics.urlHash=juiceMdHash
}catch(b){console.warn("Error Generating Unique Hash")
}}();(function(){var a=this;
a.disableAdServingBasedOnQueryStringValues=function(d,f){if(typeof(d)=="undefined"){return false
}var c=d.split("&");
var e=false;
c.forEach(function(g){g=g.split("=");
if(f.indexOf(g[0])!=-1){e=true
}});
if(e){aps.logInfo("setting serve ads to false");
aps.serveAds=false
}};
var b=window.location.href.split("?");
a.disableAdServingBasedOnQueryStringValues(b[1],["username","password","testinggooglefilter","email","client_id","loginID","error","e","parameter","email_id","emailaddress","bc_em","cm_lm"]);
if(window.location.href.indexOf("#cluid")!==-1){aps.logInfo("setting serve ads to false");
aps.serveAds=false
}})();if(aps.shouldRunThirdParty("proximic")){(function(){aps.registerEvent(aps.event.on_update_page_level_targeting,function(a){if(typeof aps.topWindow.pxSegmentIDs!=="undefined"){aps.logInfo("setProximicTags : "+aps.topWindow.pxSegmentIDs);
aps.gcontext.pubads().setTargeting("prox_other",aps.topWindow.pxSegmentIDs)
}})
})()
};if(aps.shouldRunThirdParty("lotame")){aps.lotame={};
(function(){var e=aps.lotame;
var a="";
var f=document.location.hostname.toLowerCase();
var d="10662";
var b=d;
var c=false;
e.get_cc_extr_url=function(h,i){var k=".crwdcntrl.net";
var n=true;
var o=document.cookie.indexOf("_cc_domain");
if(o>-1){var r=document.cookie.indexOf("=",o);
if(r>0){n=false;
r++;
var p=document.cookie.indexOf(";",r);
p=p>0?p:document.cookie.length;
k=document.cookie.slice(r,p)
}}var m=false,l;
if(n){o=document.cookie.indexOf("_cc_id");
if(o>-1){var s=document.cookie.indexOf("=",o);
if(s>0){m=true;
s++;
var q=document.cookie.indexOf(";",s);
q=q>0?q:document.cookie.length;
l=document.cookie.slice(s,q)
}}}var j="//ad"+k;
j=j+"/5/c="+h+"/pe=y/callback="+i;
if(m){j=j+"/pid="+l
}aps.logInfo("lotame url: "+j);
return j
};
if(b!==""){aps.startThirdParty("lotame");
window.extractPid=function(h){var i=h.Profile.pid;
aps.logInfo("lotame extractPid: "+h.Profile.pid);
googletag.cmd.push(function(){aps.gcontext.pubads().setTargeting("lpid",i)
});
getAudId=function(m,k,l){if(!m){return
}for(var j=0;
j<m.length;
j++){if(typeof m[j]==="undefined"){continue
}var n=m[j].id;
if(typeof n==="undefined"){continue
}aps.logInfo("lotame: "+n);
googletag.cmd.push(function(){aps.gcontext.pubads().setTargeting("lotame",n)
});
if(j>l){break
}}};
getAudId(h.Profile.Audiences.Audience,"lotame",100);
getAudId(h.Profile.Audiences.ThirdPartyAudience,"lotame",100);
aps.stopThirdParty("lotame")
};
var g=e.get_cc_extr_url(b,"extractPid");
aps.queueScriptAsync("lotame ",g,true,null)
}})()
};if(aps.shouldRunThirdParty("blueconic")){(function(){var a=this;
aps.registerEvent(aps.event.on_update_page_level_targeting,function(d){if(typeof localStorage.bcDFPTargetingParams!=="undefined"){aps.logInfo("Blueconic segments detected");
try{var b=window.JSON.parse(localStorage.bcDFPTargetingParams);
if(b[0]["key"]=="audiences"&&b[0]["value"].length>0){aps.gcontext.pubads().setTargeting("bc_audiences",b[0]["value"]);
aps.logInfo("Blueconic data: "+localStorage.bcDFPTargetingParams)
}else{aps.logInfo("Empty blueconic segment detected")
}}catch(c){aps.logInfo("error parsing blueconic data")
}}else{aps.logInfo("Blueconic segments not detected")
}})
})()
};if(aps.shouldRunThirdParty("PublisherProvidedId")){(function(){googletag.cmd.push(function(){var d="; "+document.cookie;
var c=d.split("; BCSessionID=");
if(c.length==2){var b=c.pop().split(";").shift();
var a=aps.codec.hex.fromBits(aps.hash.sha256.hash(b));
aps.logInfo("PublisherProvidedId: "+b+" hash: "+a);
googletag.pubads().setPublisherProvidedId(a)
}else{aps.logInfo("PublisherProvidedId: BCSessionID not detected")
}})
})()
};if(aps.shouldRunThirdParty("nlp_categories")){(function(){googletag.cmd.push(function(){try{var c="";
var g=[];
var b=[];
c=unescape(document.querySelector("meta[name='nlpCategories']").getAttribute("content")).split("+").join(" ");
var a=c.split("+").join(" ").split(",");
for(var f=0;
f<a.length;
f++){var b=a[f].split("/");
for(var e=1;
e<b.length&&e<4;
e++){if(g.indexOf(b[e])==-1){g.push(b[e])
}}}if(g.length==0){aps.logInfo("nlp_categories: empty");
return
}aps.logInfo("nlp_categories: "+g);
aps.gcontext.pubads().setTargeting("nlp",g)
}catch(d){aps.logInfo("nlp_categories: exception")
}})
})()
};if(aps.shouldRunThirdParty("perf_sec")){(function(){var a=this;
a.getWCMPath=function(){if(typeof window.omni_channelPath=="undefined"){return null
}var c=window.omni_channelPath.toLowerCase();
c=c.replace(new RegExp(" :: ","g"),":");
var b=(window.location.search.indexOf("articleComments")!==-1);
if(omni_className=="article"||omni_className=="slideshow"){c=c+":"+omni_className;
if(b){c=c+" comments"
}}return c
};
a.getGSAPath=function(){if(window.location.search.indexOf("/search/")!==-1){return"search"
}return null
};
a.getWordpressPath=function(){if(typeof window.omni_blogname=="undefined"){return null
}var b=window.omni_blogcategory.toLowerCase();
if(typeof window.omni_blogcategory2!="undefined"){if(window.omni_blogcategory2!=""){b=b+":blog:"+window.omni_blogcategory2
}}b=b+":"+window.omni_blogname;
return b
};
aps.startThirdParty("perf_sec");
aps.queueWaitFunction("perf_sec_check",function(){var b=null;
b=a.getWCMPath();
b=(b!=null)?b:a.getGSAPath();
b=(b!=null)?b:a.getWordpressPath();
if(b!=null){googletag.cmd.push(function(){aps.logInfo("perf_sec: "+b);
googletag.pubads().setTargeting("perf_sec",b)
});
aps.stopThirdParty("perf_sec")
}return(b!=null)
})
})()
};/* prebid.js v0.34.2
Updated : 2018-01-30 */
!(function(e){function n(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t=window.pbjsChunk;window.pbjsChunk=function(r,o,a){for(var s,d,u,c=0,f=[];c<r.length;c++)d=r[c],i[d]&&f.push(i[d][0]),i[d]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);for(t&&t(r,o,a);f.length;)f.shift()();if(a)for(c=0;c<a.length;c++)u=n(n.s=a[c]);return u};var r={},i={123:0};n.e=function(e){},n.m=e,n.c=r,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n.oe=function(e){throw console.error(e),e},n(n.s=342)})({0:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(){return S()+Math.random().toString(16).substr(2)}function o(e){if(n.isArray(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e[0]+"x"+e[1]}function a(){return window.console&&window.console.log}function s(){return window.console&&window.console.error}function d(e,n,t){return t.indexOf(e)===n}function u(e,n){return e.concat(n)}function c(e){return Object.keys(e)}function f(e,n){return e[n]}Object.defineProperty(n,"__esModule",{value:!0});var l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.parseSizesInput=function(e){var n=[];if("string"==typeof e){var t=e.split(","),r=/^(\d)+x(\d)+$/i;if(t)for(var i in t)A(t,i)&&t[i].match(r)&&n.push(t[i])}else if("object"===(void 0===e?"undefined":p(e))){var a=e.length;if(a>0)if(2===a&&"number"==typeof e[0]&&"number"==typeof e[1])n.push(o(e));else for(var s=0;s<a;s++)n.push(o(e[s]))}return n},n.parseGPTSingleSizeArray=o,n.uniques=d,n.flatten=u,n.getBidRequest=function(e){return pbjs._bidsRequested.map((function(n){return n.bids.find((function(n){return n.bidId===e}))})).find((function(e){return e}))},n.getKeys=c,n.getValue=f,n.getBidderCodes=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(u,[])})).reduce(u).filter(d)},n.isGptPubadsDefined=function(){if(window.googletag&&n.isFn(window.googletag.pubads)&&n.isFn(window.googletag.pubads().getSlots))return!0},n.getHighestCpm=function(e,n){return e.cpm===n.cpm?e.timeToRespond>n.timeToRespond?n:e:e.cpm<n.cpm?n:e},n.shuffle=function(e){for(var n=e.length;n>0;){var t=Math.floor(Math.random()*n),r=e[--n];e[n]=e[t],e[t]=r}return e},n.adUnitsFilter=function(e,n){return e.includes(n&&n.placementCode||n&&n.adUnitCode)},n.isSrcdocSupported=function(e){return e.defaultView&&e.defaultView.frameElement&&"srcdoc"in e.defaultView.frameElement&&!/firefox/i.test(navigator.userAgent)},n.deepClone=function(e){return(0,b.default)(e)},n.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},n.isSafariBrowser=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},n.replaceAuctionPrice=function(e,n){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,n)},n.getBidderRequestAllAdUnits=function(e){return pbjs._bidsRequested.find((function(n){return n.bidderCode===e}))},n.getBidderRequest=function(e,n){return pbjs._bidsRequested.find((function(t){return t.bids.filter((function(t){return t.bidder===e&&t.placementCode===n})).length>0}))||{start:null,requestId:null}},n.cookiesAreEnabled=function(){return!(!window.navigator.cookieEnabled&&!document.cookie.length)||(window.document.cookie="prebid.cookieTest",-1!=window.document.cookie.indexOf("prebid.cookieTest"))},n.delayExecution=function(e,n){if(n<1)throw new Error("numRequiredCalls must be a positive number. Got "+n);var t=0;return function(){++t===n&&e.apply(null,arguments)}},n.groupBy=function(e,n){return e.reduce((function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e}),{})},n.deepAccess=function(e,n){n=String(n).split(".");for(var t=0;t<n.length;t++)if(void 0===(e=e[n[t]]))return;return e},n.createContentToExecuteExtScriptInFriendlyFrame=function(e){return e?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><base target="_top" /><script>inDapIF=true;<\/script></head><body>\x3c!--PRE_SCRIPT_TAG_MACRO--\x3e<script src="'+e+'"><\/script>\x3c!--POST_SCRIPT_TAG_MACRO--\x3e</body></html>':""},n.getDefinedParams=function(e,n){return n.filter((function(n){return e[n]})).reduce((function(n,t){return l(n,r({},t,e[t]))}),{})},n.isValidMediaTypes=function(e){var n=["banner","native","video"],t=["instream","outstream"];return!!Object.keys(e).every((function(e){return n.includes(e)}))&&(!e.video||!e.video.context||t.includes(e.video.context))},n.unsupportedBidderMessage=function(e,n){var t=e.mediaType||Object.keys(e.mediaTypes).join(", "),r=1===n.length?"This bidder":"These bidders";return"\n    "+e.code+" is a "+t+" ad unit\n    containing bidders that don't support "+t+": "+n.join(", ")+".\n    "+r+" won't fetch demand.\n  "};var g=t(9),b=(function(e){return e&&e.__esModule?e:{default:e}})(t(46)),v=t(4),y=!1,m=Object.prototype.toString,h=null;try{h=console.info.bind(window.console)}catch(e){}n.replaceTokenInString=function(e,n,t){return this._each(n,(function(n,r){n=void 0===n?"":n;var i=t+r.toUpperCase()+t,o=new RegExp(i,"g");e=e.replace(o,n)})),e};var S=(function(){var e=0;return function(){return++e}})();n.getUniqueIdentifierStr=i,n.generateUUID=function e(n){return n?(n^16*Math.random()>>n/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},n.getBidIdParameter=function(e,n){return n&&n[e]?n[e]:""},n.tryAppendQueryString=function(e,n,t){return t?e+=n+"="+encodeURIComponent(t)+"&":e},n.parseQueryStringParameters=function(e){var n="";for(var t in e)e.hasOwnProperty(t)&&(n+=t+"="+encodeURIComponent(e[t])+"&");return n},n.transformAdServerTargetingObj=function(e){return e&&Object.getOwnPropertyNames(e).length>0?c(e).map((function(n){return n+"="+encodeURIComponent(f(e,n))})).join("&"):""},n.getTopWindowLocation=function(){var e=void 0;try{window.top.location.toString(),e=window.top.location}catch(n){e=window.location}return e},n.getTopWindowUrl=function(){var e=void 0;try{e=this.getTopWindowLocation().href}catch(n){e=""}return e},n.getTopWindowReferrer=function(){try{return window.top.document.referrer}catch(e){return document.referrer}},n.logWarn=function(e){E()&&console.warn&&console.warn("WARNING: "+e)},n.logInfo=function(e,n){E()&&a()&&h&&(n&&0!==n.length||(n=""),h("INFO: "+e+(""===n?"":" : params : "),n))},n.logMessage=function(e){E()&&a()&&console.log("MESSAGE: "+e)},n.hasConsoleLogger=a;var E=function(){if(!1===g.config.getConfig("debug")&&!1===y){var e="TRUE"===T(v.DEBUG_MODE).toUpperCase();g.config.setConfig({debug:e}),y=!0}return!!g.config.getConfig("debug")};n.debugTurnedOn=E,n.logError=function(){E()&&s()&&console.error.apply(console,arguments)},n.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=i(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e};var T=function(e){var n="[\\?&]"+e+"=([^&#]*)",t=new RegExp(n).exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))};n.getParameterByName=T,n.hasValidBidRequest=function(e,n,t){for(var r=!1,i=0;i<n.length;i++)if(r=!1,this._each(e,(function(e,t){t===n[i]&&(r=!0)})),!r)return this.logError("Params are missing for bid request. One of these required paramaters are missing: "+n,t),!1;return!0},n.addEventHandler=function(e,n,t){e.addEventListener?e.addEventListener(n,t,!0):e.attachEvent&&e.attachEvent("on"+n,t)},n.isA=function(e,n){return m.call(e)==="[object "+n+"]"},n.isFn=function(e){return this.isA(e,"Function")},n.isStr=function(e){return this.isA(e,"String")},n.isArray=function(e){return this.isA(e,"Array")},n.isNumber=function(e){return this.isA(e,"Number")},n.isEmpty=function(e){if(!e)return!0;if(n.isArray(e)||n.isStr(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},n.isEmptyStr=function(e){return this.isStr(e)&&(!e||0===e.length)},n._each=function(e,n){if(!this.isEmpty(e)){if(this.isFn(e.forEach))return e.forEach(n,this);var t=0,r=e.length;if(r>0)for(;t<r;t++)n(e[t],t,e);else for(t in e)hasOwnProperty.call(e,t)&&n.call(this,e[t],t)}},n.contains=function(e,n){if(this.isEmpty(e))return!1;if(this.isFn(e.indexOf))return-1!==e.indexOf(n);for(var t=e.length;t--;)if(e[t]===n)return!0;return!1},n.indexOf=(function(){if(Array.prototype.indexOf)return Array.prototype.indexOf})(),n._map=function(e,n){if(this.isEmpty(e))return[];if(this.isFn(e.map))return e.map(n);var t=[];return this._each(e,(function(r,i){t.push(n(r,i,e))})),t};var A=function(e,n){return e.hasOwnProperty?e.hasOwnProperty(n):void 0!==e[n]&&e.constructor.prototype[n]!==e[n]};n.insertElement=function(e,n,t){n=n||document;var r=void 0;r=t?n.getElementsByTagName(t):n.getElementsByTagName("head");try{(r=r.length?r:n.getElementsByTagName("body")).length&&(r=r[0]).insertBefore(e,r.firstChild)}catch(e){}},n.triggerPixel=function(e){(new Image).src=e},n.insertUserSyncIframe=function(e){var t=this.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),r=document.createElement("div");r.innerHTML=t;var i=r.firstChild;n.insertElement(i)},n.createTrackPixelHtml=function(e){if(!e)return"";var n='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return n+='<img src="'+encodeURI(e)+'"></div>'},n.createTrackPixelIframeHtml=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),r&&(r='sandbox="'+r+'"'),"<iframe "+r+' id="'+n.getUniqueIdentifierStr()+'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0p;width:0p;display:none;"\n      scrolling="no"\n      src="'+e+'">\n    </iframe>'):""},n.getIframeDocument=function(e){if(e){var n=void 0;try{n=e.contentWindow?e.contentWindow.document:e.contentDocument.document?e.contentDocument.document:e.contentDocument}catch(e){this.logError("Cannot get iframe document",e)}return n}},n.getValueString=function(e,n,t){return void 0===n||null===n?t:this.isStr(n)?n:this.isNumber(n)?n.toString():void this.logWarn("Unsuported type for param: "+e+" required type: String")}},1:function(e,n,t){"use strict";function r(e){var n=e.bidderCode,t=e.requestId,r=e.bidderRequestId;return e.adUnits.map((function(e){return e.bids.filter((function(e){return e.bidder===n})).map((function(n){var i=e.sizes;if(e.sizeMapping){var o=(0,d.mapSizes)(e);if(""===o)return"";i=o}e.mediaTypes&&(f.isValidMediaTypes(e.mediaTypes)?n=a({},n,{mediaTypes:e.mediaTypes}):f.logError("mediaTypes is not correctly configured for adunit "+e.code));var c=e.nativeParams||f.deepAccess(e,"mediaTypes.native");return c&&(n=a({},n,{nativeParams:(0,u.processNativeAdUnitParams)(c)})),n=a({},n,(0,s.getDefinedParams)(e,["mediaType","renderer"])),a({},n,{placementCode:e.code,transactionId:e.transactionId,sizes:i,bidId:n.bid_id||f.getUniqueIdentifierStr(),bidderRequestId:r,requestId:t})}))})).reduce(s.flatten,[]).filter((function(e){return""!==e}))}function i(e){var n=[];return f.parseSizesInput(e.sizes).forEach((function(e){var t=e.split("x"),r={w:parseInt(t[0]),h:parseInt(t[1])};n.push(r)})),n}function o(e){var t=[];return n.videoAdapters.includes(e)&&t.push("video"),u.nativeAdapters.includes(e)&&t.push("native"),t}var a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=t(0),d=t(47),u=t(15),c=t(6),f=t(0),l=t(4),p=t(11),g=void 0,b={};n.bidderRegistry=b;var v={endpoint:l.S2S.DEFAULT_ENDPOINT,adapter:l.S2S.ADAPTER,syncEndpoint:l.S2S.SYNC_ENDPOINT},y={};y.random=!0,y.fixed=!0;var m={},h="random";n.callBids=function(e){var n=e.adUnits,t=e.cbTimeout,o=f.generateUUID(),a=Date.now(),u={timestamp:a,requestId:o,timeout:t};p.emit(l.EVENTS.AUCTION_INIT,u);var c=(0,s.getBidderCodes)(n);"random"===h&&(c=(0,s.shuffle)(c));var y=b[v.adapter];y&&(y.setConfig(v),y.queueSync({bidderCodes:c}));var m=[],S=!1;if(v.enabled){(S=v.testing&&void 0!==g)&&(m=g.getSourceBidderMap(n)[g.CLIENT]);var E=v.bidders;c=c.filter((function(e){return!E.includes(e)||m.includes(e)}));var T=f.deepClone(n);T.forEach((function(e){e.sizeMapping&&(e.sizes=(0,d.mapSizes)(e),delete e.sizeMapping),e.sizes=i(e),e.bids=e.bids.filter((function(e){return E.includes(e.bidder)&&(!S||e.finalSource!==g.CLIENT)})).map((function(e){return e.bid_id=f.getUniqueIdentifierStr(),e}))})),T=T.filter((function(e){return 0!==e.bids.length}));var A=f.generateUUID();E.forEach((function(e){var n=f.getUniqueIdentifierStr(),t={bidderCode:e,requestId:o,bidderRequestId:n,tid:A,bids:r({bidderCode:e,requestId:o,bidderRequestId:n,adUnits:T}),start:(new Date).getTime(),auctionStart:a,timeout:v.timeout,src:l.S2S.SRC};0!==t.bids.length&&(pbjs._bidsRequested.push(t),p.emit(l.EVENTS.BID_REQUESTED,t))}));var _={tid:A,ad_units:T};f.logMessage("CALLING S2S HEADER BIDDERS ==== "+E.join(",")),_.ad_units.length&&y.callBids(_)}var I=[],w=f.deepClone(n);w.forEach((function(e){e.bids=e.bids.filter((function(e){return!S||e.finalSource!==g.SERVER}))})),w=w.filter((function(e){return 0!==e.bids.length})),c.forEach((function(e){if(b[e]){var n=f.getUniqueIdentifierStr(),i={bidderCode:e,requestId:o,bidderRequestId:n,bids:r({bidderCode:e,requestId:o,bidderRequestId:n,adUnits:w}),auctionStart:a,timeout:t};i.bids&&0!==i.bids.length&&(pbjs._bidsRequested.push(i),I.push(i))}else f.logError("Adapter trying to be called which does not exist: "+e+" adaptermanager.callBids")})),I.forEach((function(e){e.start=(new Date).getTime();var n=b[e.bidderCode];e.bids&&0!==e.bids.length&&(f.logMessage("CALLING BIDDER ======= "+e.bidderCode),p.emit(l.EVENTS.BID_REQUESTED,e),n.callBids(e))}))},n.videoAdapters=[],n.registerBidAdapter=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,i=void 0===r?[]:r;e&&t?"function"==typeof e.callBids?(b[t]=e,i.includes("video")&&n.videoAdapters.push(t),i.includes("native")&&u.nativeAdapters.push(t)):f.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):f.logError("bidAdaptor or bidderCode not specified")},n.aliasBidAdapter=function(e,n){if(void 0===b[n]){var t=b[e];if(void 0===t)f.logError('bidderCode "'+e+'" is not an existing bidder.',"adaptermanager.aliasBidAdapter");else try{var r=void 0,i=o(e);if(t.constructor.prototype!=Object.prototype)(r=new t.constructor).setBidderCode(n);else{var s=t.getSpec();r=(0,c.newBidder)(a({},s,{code:n}))}this.registerBidAdapter(r,n,{supportedMediaTypes:i})}catch(n){f.logError(e+" bidder does not currently support aliasing.","adaptermanager.aliasBidAdapter")}}else f.logMessage('alias name "'+n+'" has been already specified.')},n.registerAnalyticsAdapter=function(e){var n=e.adapter,t=e.code;n&&t?"function"==typeof n.enableAnalytics?(n.code=t,m[t]=n):f.logError('Prebid Error: Analytics adaptor error for analytics "'+t+'"\n        analytics adapter must implement an enableAnalytics() function'):f.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},n.enableAnalytics=function(e){f.isArray(e)||(e=[e]),f._each(e,(function(e){var n=m[e.provider];n?n.enableAnalytics(e):f.logError("Prebid Error: no analytics adapter found in registry for\n        "+e.provider+".")}))},n.setBidderSequence=function(e){y[e]?h=e:f.logWarn("Invalid order: "+e+". Bidder Sequence was not set.")},n.getBidAdapter=function(e){return b[e]},n.setS2SConfig=function(e){v=e},n.setS2STestingModule=function(e){g=e}},11:function(e,n,t){"use strict";var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i=t(0),o=t(4),a=Array.prototype.slice,s=Array.prototype.push,d=i._map(o.EVENTS,(function(e){return e})),u=o.EVENT_ID_PATHS,c=[];e.exports=(function(){function e(e,n){i.logMessage("Emitting event for: "+e);var r=n[0]||{},o=r[u[e]],a=t[e]||{que:[]},d=i._map(a,(function(e,n){return n})),f=[];c.push({eventType:e,args:r,id:o}),o&&i.contains(d,o)&&s.apply(f,a[o].que),s.apply(f,a.que),i._each(f,(function(e){if(e)try{e.apply(null,n)}catch(e){i.logError("Error executing handler:","events.js",e)}}))}function n(e){return i.contains(d,e)}var t={},o={};return o.on=function(e,r,o){if(n(e)){var a=t[e]||{que:[]};o?(a[o]=a[o]||{que:[]},a[o].que.push(r)):a.que.push(r),t[e]=a}else i.logError("Wrong event name : "+e+" Valid event names :"+d)},o.emit=function(n){e(n,a.call(arguments,1))},o.off=function(e,n,r){var o=t[e];i.isEmpty(o)||i.isEmpty(o.que)&&i.isEmpty(o[r])||r&&(i.isEmpty(o[r])||i.isEmpty(o[r].que))||(r?i._each(o[r].que,(function(e){var t=o[r].que;e===n&&t.splice(i.indexOf.call(t,e),1)})):i._each(o.que,(function(e){var t=o.que;e===n&&t.splice(i.indexOf.call(t,e),1)})),t[e]=o)},o.get=function(){return t},o.getEvents=function(){var e=[];return i._each(c,(function(n){var t=r({},n);e.push(t)})),e},o})()},12:function(e,n,t){"use strict";function r(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,n){var t=n.split("="),r=o(t,2),i=r[0],a=r[1];return/\[\]$/.test(i)?(e[i=i.replace("[]","")]=e[i]||[],e[i].push(a)):e[i]=a||"",e}),{}):{}}function i(e){return Object.keys(e).map((function(n){return Array.isArray(e[n])?e[n].map((function(e){return n+"[]="+e})).join("&"):n+"="+e[n]})).join("&")}Object.defineProperty(n,"__esModule",{value:!0});var o=(function(){function e(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();n.parseQS=r,n.formatQS=i,n.parse=function(e,n){var t=document.createElement("a");return n&&"noDecodeWholeURL"in n&&n.noDecodeWholeURL?t.href=e:t.href=decodeURIComponent(e),{protocol:(t.protocol||"").replace(/:$/,""),hostname:t.hostname,port:+t.port,pathname:t.pathname.replace(/^(?!\/)/,"/"),search:r(t.search||""),hash:(t.hash||"").replace(/^#/,""),host:t.host||window.location.host}},n.format=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+i(e.search||""):"")+(e.hash?"#"+e.hash:"")}},13:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.NATIVE="native",n.VIDEO="video",n.BANNER="banner"},14:function(e,n){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)},15:function(e,n,t){"use strict";function r(e){return!(!e||!Object.keys(d).includes(e))||((0,o.logError)(e+" nativeParam is not supported"),!1)}Object.defineProperty(n,"__esModule",{value:!0}),n.hasNonNativeBidder=n.nativeBidder=n.nativeAdUnit=n.NATIVE_TARGETING_KEYS=n.NATIVE_KEYS=n.nativeAdapters=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.processNativeAdUnitParams=function(e){return e&&e.type&&r(e.type)?d[e.type]:e},n.nativeBidIsValid=function(e){var n=(0,o.getBidRequest)(e.adId);if(!n)return!1;if(!(0,o.deepAccess)(e,"native.clickUrl"))return!1;var t=n.nativeParams;if(!t)return!0;var r=Object.keys(t).filter((function(e){return t[e].required})),i=Object.keys(e.native).filter((function(n){return e.native[n]}));return r.every((function(e){return i.includes(e)}))},n.fireNativeTrackers=function(e,n){(("click"===e.action?n.native&&n.native.clickTrackers:n.native&&n.native.impressionTrackers)||[]).forEach(o.triggerPixel)},n.getNativeTargeting=function(e){var n={};return Object.keys(e.native).forEach((function(t){var r=s[t],o=e.native[t];"object"===(void 0===o?"undefined":i(o))&&o.url&&(o=o.url),r&&(n[r]=o)})),n};var o=t(0),a=n.nativeAdapters=[],s=n.NATIVE_KEYS={title:"hb_native_title",body:"hb_native_body",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",cta:"hb_native_cta"},d=(n.NATIVE_TARGETING_KEYS=Object.keys(s).map((function(e){return s[e]})),{image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}}),u=(n.nativeAdUnit=function(e){var n="native"===e.mediaType,t=(0,o.deepAccess)(e,"mediaTypes.native");return n||t},n.nativeBidder=function(e){return a.includes(e.bidder)});n.hasNonNativeBidder=function(e){return e.bids.filter((function(e){return!u(e)})).length}},16:function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},17:function(e,n,t){"use strict";function r(e){var n=this,t=e.url,r=e.config,a=e.id,s=e.callback,d=e.loaded;this.url=t,this.config=r,this.handlers={},this.id=a,this.loaded=d,this.cmd=[],this.push=function(e){"function"==typeof e?n.loaded?e.call():n.cmd.push(e):o.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=s||function(){n.loaded=!0,n.process()},(0,i.loadScript)(t,this.callback,!0)}Object.defineProperty(n,"__esModule",{value:!0}),n.Renderer=r;var i=t(5),o=(function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n})(t(0));r.install=function(e){return new r({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},r.prototype.getConfig=function(){return this.config},r.prototype.setRender=function(e){this.render=e},r.prototype.setEventHandlers=function(e){this.handlers=e},r.prototype.handleVideoEvent=function(e){var n=e.id,t=e.eventName;"function"==typeof this.handlers[t]&&this.handlers[t](),o.logMessage("Prebid Renderer event for id "+n+" type "+t)},r.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){o.logError("Error processing Renderer command: ",e)}}},18:function(e,n,t){"use strict";function r(e){function n(){return{image:[],iframe:[]}}function t(){if(g.syncEnabled&&e.browserSupportsCookies&&!l){try{r(),d()}catch(e){return a.logError("Error firing user syncs",e)}f=n(),l=!0}}function r(){g.pixelEnabled&&a.shuffle(f.image).forEach((function(e){var n=i(e,2),t=n[0],r=n[1];a.logMessage("Invoking image pixel user sync for bidder: "+t),a.triggerPixel(r)}))}function d(){g.iframeEnabled&&a.shuffle(f.iframe).forEach((function(e){var n=i(e,2),t=n[0],r=n[1];a.logMessage("Invoking iframe user sync for bidder: "+t),a.insertUserSyncIframe(r)}))}function u(e,n){return e[n]?e[n]+=1:e[n]=1,e}var c={},f=n(),l=!1,p={},g=e.config;return s.config.getConfig("userSync",(function(e){g=o(g,e.userSync)})),c.registerSync=function(e,n,t){return g.syncEnabled&&a.isArray(f[e])?n?Number(p[n])>=g.syncsPerBidder?a.logWarn('Number of user syncs exceeded for "{$bidder}"'):g.enabledBidders&&g.enabledBidders.length&&g.enabledBidders.indexOf(n)<0?a.logWarn('Bidder "'+n+'" not supported'):(f[e].push([n,t]),void(p=u(p,n))):a.logWarn("Bidder is required for registering sync"):a.logWarn('User sync type "'+e+'" not supported')},c.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return window.setTimeout(t,Number(e));t()},c.triggerUserSyncs=function(){g.enableOverride&&c.syncUsers()},c}Object.defineProperty(n,"__esModule",{value:!0}),n.userSync=void 0;var i=(function(){function e(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};n.newUserSync=r;var a=(function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n})(t(0)),s=t(9);s.config.setDefaults({userSync:{syncEnabled:!0,pixelEnabled:!0,syncsPerBidder:5,syncDelay:3e3}});var d=!a.isSafariBrowser()&&a.cookiesAreEnabled();n.userSync=r({config:s.config.getConfig("userSync"),browserSupportsCookies:d})},19:function(e,n,t){var r=t(16),i=t(14),o=t(22),a=t(353),s=t(33),d=function(e,n,t){var u,c,f,l,p=e&d.F,g=e&d.G,b=e&d.S,v=e&d.P,y=e&d.B,m=g?r:b?r[n]||(r[n]={}):(r[n]||{}).prototype,h=g?i:i[n]||(i[n]={}),S=h.prototype||(h.prototype={});g&&(t=n);for(u in t)f=((c=!p&&m&&void 0!==m[u])?m:t)[u],l=y&&c?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,m&&a(m,u,f,e&d.U),h[u]!=f&&o(h,u,l),v&&S[u]!=f&&(S[u]=f)};r.core=i,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},2:function(e,n,t){"use strict";function r(){return(new Date).getTime()}function i(e){return e.bidderCode}function o(e){return e.bidder}function a(e){var n=this;return pbjs._bidsRequested.map((function(t){return t.bids.filter(_.adUnitsFilter.bind(n,pbjs._adUnitCodes)).filter((function(n){return n.placementCode===e}))})).reduce(_.flatten,[]).map((function(e){return"indexExchange"===e.bidder?e.sizes.length:1})).reduce(s,0)===pbjs._bidsReceived.filter((function(n){return n.adUnitCode===e})).length}function s(e,n){return e+n}function d(){return pbjs._bidsRequested.map((function(e){return e.bids})).reduce(_.flatten,[]).filter(_.adUnitsFilter.bind(this,pbjs._adUnitCodes)).map((function(e){return"indexExchange"===e.bidder?e.sizes.length:1})).reduce((function(e,n){return e+n}),0)===pbjs._bidsReceived.filter(_.adUnitsFilter.bind(this,pbjs._adUnitCodes)).length}function u(e,n){function t(n){return"Invalid bid from "+e.bidderCode+". Ignoring bid: "+n}return e?n?(0,_.getBidderRequest)(e.bidderCode,n).start?"native"!==e.mediaType||(0,w.nativeBidIsValid)(e)?"video"!==e.mediaType||(0,C.isValidVideoBid)(e)?!("banner"===e.mediaType&&!c(e,n))||(R.logError(t("Banner bids require a width and height")),!1):(R.logError(t("Video bid does not have required vastUrl or renderer property")),!1):(R.logError(t("Native bid missing some required properties.")),!1):(R.logError(t("Cannot find valid matching bid request.")),!1):(R.logError(t("No adUnitCode was supplied to addBidResponse.")),!1):(R.logError("Some adapter tried to add an undefined bid for "+n+"."),!1)}function c(e,n){if((e.width||0===e.width)&&(e.height||0===e.height))return!0;var t=(0,_.getBidderRequest)(e.bidderCode,n),r=t&&t.bids&&t.bids[0]&&t.bids[0].sizes,i=R.parseSizesInput(r);if(1===i.length){var o=i[0].split("x"),a=A(o,2),s=a[0],d=a[1];return e.width=s,e.height=d,!0}return!1}function f(e,n){var t=(0,_.getBidderRequest)(e.bidderCode,n);T(e,{requestId:t.requestId,responseTimestamp:r(),requestTimestamp:t.start,cpm:parseFloat(e.cpm)||0,bidder:e.bidderCode,adUnitCode:n}),e.timeToRespond=e.responseTimestamp-e.requestTimestamp,k.emit(N.EVENTS.BID_ADJUSTMENT,e);var i=t.bids&&t.bids[0]&&t.bids[0].renderer;i&&(e.renderer=O.Renderer.install({url:i.url}),e.renderer.setRender(i.render));var o=(0,I.getPriceBucketString)(e.cpm,B.config.getConfig("customPriceBucket"),B.config.getConfig("currency.granularityMultiplier"));e.pbLg=o.low,e.pbMg=o.med,e.pbHg=o.high,e.pbAg=o.auto,e.pbDg=o.dense,e.pbCg=o.custom;var a;e.bidderCode&&(e.cpm>0||e.dealId)&&(a=b(e.bidderCode,e)),e.adserverTargeting=T(e.adserverTargeting||{},a)}function l(e){if(e.timeToRespond>pbjs.cbTimeout+pbjs.timeoutBuffer){n.executeCallback(!0)}}function p(e){k.emit(N.EVENTS.BID_RESPONSE,e),pbjs._bidsReceived.push(e),e.adUnitCode&&a(e.adUnitCode)&&y(e.adUnitCode),d()&&n.executeCallback()}function g(e){B.config.getConfig("usePrebidCache")?(0,j.store)([e],(function(n,t){n?R.logWarn("Failed to save to the video cache: "+n+". Video bid must be discarded."):(e.videoCacheKey=t[0].uuid,e.vastUrl||(e.vastUrl=(0,j.getCacheUrl)(e.videoCacheKey)),p(e)),l(e)})):(p(e),l(e))}function b(e,n){var t={},r=pbjs.bidderSettings;return n&&r&&v(t,E(),n),e&&n&&r&&r[e]&&r[e][N.JSON_MAPPING.ADSERVER_TARGETING]?(v(t,r[e],n),n.alwaysUseBid=r[e].alwaysUseBid,n.sendStandardTargeting=r[e].sendStandardTargeting):x[e]&&(v(t,x[e],n),n.alwaysUseBid=x[e].alwaysUseBid,n.sendStandardTargeting=x[e].sendStandardTargeting),n.native&&(t=T({},t,(0,w.getNativeTargeting)(n))),t}function v(e,n,t){var r=n[N.JSON_MAPPING.ADSERVER_TARGETING];return t.size=t.getSize(),R._each(r,(function(r){var i=r.key,o=r.val;if(e[i]&&R.logWarn("The key: "+i+" is getting ovewritten"),R.isFn(o))try{o=o(t)}catch(e){R.logError("bidmanager","ERROR",e)}(void 0===n.suppressEmptyKeys||!0!==n.suppressEmptyKeys)&&"hb_deal"!==i||!R.isEmptyStr(o)&&null!==o&&void 0!==o?e[i]=o:R.logInfo("suppressing empty key '"+i+"' from adserver targeting")})),e}function y(e){var n=[e];m(D.byAdUnit,n)}function m(e,n){var t=this;R.isArray(e)&&e.forEach((function(e){var r=n||pbjs._adUnitCodes,i=[pbjs._bidsReceived.filter(_.adUnitsFilter.bind(t,r)).reduce(h,{})];e.apply(pbjs,i)}))}function h(e,n){return e[n.adUnitCode]||(e[n.adUnitCode]={bids:[]}),e[n.adUnitCode].bids.push(n),e}function S(e){var n=e.bidderCode,t=e.cpm,r=void 0;if(pbjs.bidderSettings&&(n&&pbjs.bidderSettings[n]&&"function"==typeof pbjs.bidderSettings[n].bidCpmAdjustment?r=pbjs.bidderSettings[n].bidCpmAdjustment:pbjs.bidderSettings[N.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[N.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(r=pbjs.bidderSettings[N.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),r))try{t=r(e.cpm,T({},e))}catch(e){R.logError("Error during bid adjustment","bidmanager.js",e)}t>=0&&(e.cpm=t)}function E(){var e=B.config.getConfig("priceGranularity"),n=pbjs.bidderSettings;return n[N.JSON_MAPPING.BD_SETTING_STANDARD]||(n[N.JSON_MAPPING.BD_SETTING_STANDARD]={}),n[N.JSON_MAPPING.BD_SETTING_STANDARD][N.JSON_MAPPING.ADSERVER_TARGETING]||(n[N.JSON_MAPPING.BD_SETTING_STANDARD][N.JSON_MAPPING.ADSERVER_TARGETING]=[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(n){return e===N.GRANULARITY_OPTIONS.AUTO?n.pbAg:e===N.GRANULARITY_OPTIONS.DENSE?n.pbDg:e===N.GRANULARITY_OPTIONS.LOW?n.pbLg:e===N.GRANULARITY_OPTIONS.MEDIUM?n.pbMg:e===N.GRANULARITY_OPTIONS.HIGH?n.pbHg:e===N.GRANULARITY_OPTIONS.CUSTOM?n.pbCg:void 0}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_deal",val:function(e){return e.dealId}}]),n[N.JSON_MAPPING.BD_SETTING_STANDARD]}var T=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},A=(function(){function e(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),_=t(0),I=t(28),w=t(15),C=t(29),j=t(48),O=t(17),B=t(9),U=t(49),N=t(4),P=N.EVENTS.AUCTION_END,R=t(0),k=t(11),D={byAdUnit:[],all:[],oneTime:null,timer:!1},x={};n.getTimedOutBidders=function(){return pbjs._bidsRequested.map(i).filter(_.uniques).filter((function(e){return pbjs._bidsReceived.map(o).filter(_.uniques).indexOf(e)<0}))},n.bidsBackAll=function(){return d()},n.addBidResponse=(0,U.createHook)("asyncSeries",(function(e,n){u(n,e)&&(f(n,e),"video"===n.mediaType?g(n):(p(n),l(n)))})),n.getKeyValueTargetingPairs=function(){return b.apply(void 0,arguments)},n.registerDefaultBidderSetting=function(e,n){x[e]=n},n.executeCallback=function(e){if(!e&&D.timer&&clearTimeout(D.timer),!0!==D.all.called&&(m(D.all),D.all.called=!0,e)){var t=n.getTimedOutBidders();t.length&&k.emit(N.EVENTS.BID_TIMEOUT,t)}if(D.oneTime){k.emit(P);try{m([D.oneTime])}catch(e){R.logError("Error executing bidsBackHandler",null,e)}finally{D.oneTime=null,D.timer=!1,pbjs.clearAuction()}}},n.externalCallbackReset=function(){D.all.called=!1},n.addOneTimeCallback=function(e,n){D.oneTime=e,D.timer=n},n.addCallback=function(e,n,t){n.id=e,N.CB.TYPE.ALL_BIDS_BACK===t?D.all.push(n):N.CB.TYPE.AD_UNIT_BIDS_BACK===t&&D.byAdUnit.push(n)},k.on(N.EVENTS.BID_ADJUSTMENT,(function(e){S(e)})),n.adjustBids=function(){return S.apply(void 0,arguments)},n.getStandardBidderAdServerTargeting=function(){return E()[N.JSON_MAPPING.ADSERVER_TARGETING]}},20:function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},21:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){return"string"==typeof e?[e]:b.isArray(e)?e:pbjs._adUnitCodes||[]}function o(e){var n=y.getWinningBids(e),t=a();return n=n.map((function(e){return r({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(n){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===t.indexOf(n)})).map((function(n){return r({},n.substring(0,20),[e.adserverTargeting[n]])})))}))}function a(){return g.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(v.TARGETING_KEYS).filter(f.uniques)}function s(e){var n=a();return pbjs._bidsReceived.filter(f.adUnitsFilter.bind(this,e)).map((function(e){if(e.alwaysUseBid)return r({},e.adUnitCode,Object.keys(e.adserverTargeting).map((function(t){if(!(n.indexOf(t)>-1))return r({},t.substring(0,20),[e.adserverTargeting[t]])})).filter((function(e){return e})))})).filter((function(e){return e}))}function d(e){var n=v.TARGETING_KEYS.concat(p.NATIVE_TARGETING_KEYS),t=[],i=(0,f.groupBy)(pbjs._bidsReceived,"adUnitCode");return Object.keys(i).forEach((function(e){var n=(0,f.groupBy)(i[e],"bidderCode");Object.keys(n).forEach((function(e){return t.push(n[e].reduce(f.getHighestCpm,c()))}))})),t.map((function(e){if(e.adserverTargeting)return r({},e.adUnitCode,u(e,n.filter((function(n){return void 0!==e.adserverTargeting[n]}))))})).filter((function(e){return e}))}function u(e,n){return n.map((function(n){return r({},(n+"_"+e.bidderCode).substring(0,20),[e.adserverTargeting[n]])}))}function c(e){return{adUnitCode:e,cpm:0,adserverTargeting:{},timeToRespond:0}}var f=t(0),l=t(9),p=t(15),g=t(2),b=t(0),v=t(4),y=n,m=[];y.resetPresetTargeting=function(e){if((0,f.isGptPubadsDefined)()){var n=i(e),t=pbjs.adUnits.filter((function(e){return n.includes(e.code)}));window.googletag.pubads().getSlots().forEach((function(e){m.forEach((function(n){t.forEach((function(t){t.code!==e.getAdUnitPath()&&t.code!==e.getSlotElementId()||e.setTargeting(n,null)}))}))}))}},y.getAllTargeting=function(e){var n=i(e),t=o(n).concat(s(n)).concat(l.config.getConfig("enableSendAllBids")?d():[]);return t.map((function(e){Object.keys(e).map((function(n){e[n].map((function(e){-1===m.indexOf(Object.keys(e)[0])&&(m=Object.keys(e).concat(m))}))}))})),t},y.setTargeting=function(e){window.googletag.pubads().getSlots().forEach((function(n){e.filter((function(e){return Object.keys(e)[0]===n.getAdUnitPath()||Object.keys(e)[0]===n.getSlotElementId()})).forEach((function(e){return e[Object.keys(e)[0]].forEach((function(e){e[Object.keys(e)[0]].map((function(t){return b.logMessage("Attempting to set key value for slot: "+n.getSlotElementId()+" key: "+Object.keys(e)[0]+" value: "+t),t})).forEach((function(t){n.setTargeting(Object.keys(e)[0],t)}))}))}))}))},y.getWinningBids=function(e){var n=i(e);return pbjs._bidsReceived.filter((function(e){return n.includes(e.adUnitCode)})).filter((function(e){return e.cpm>0})).map((function(e){return e.adUnitCode})).filter(f.uniques).map((function(e){return pbjs._bidsReceived.filter((function(n){return n.adUnitCode===e?n:null})).reduce(f.getHighestCpm,c(e))}))},y.setTargetingForAst=function(){var e=pbjs.getAdserverTargeting();Object.keys(e).forEach((function(n){return Object.keys(e[n]).forEach((function(t){if(b.logMessage("Attempting to set targeting for targetId: "+n+" key: "+t+" value: "+e[n][t]),b.isStr(e[n][t])||b.isArray(e[n][t])){var r={};r["hb_adid"===t.substring(0,"hb_adid".length)?t.toUpperCase():t]=e[n][t],window.apntag.setKeywords(n,r)}}))}))},y.isApntagDefined=function(){if(window.apntag&&b.isFn(window.apntag.setKeywords))return!0}},22:function(e,n,t){var r=t(347),i=t(352);e.exports=t(23)?function(e,n,t){return r.f(e,n,i(1,t))}:function(e,n,t){return e[n]=t,e}},23:function(e,n,t){e.exports=!t(24)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},24:function(e,n){e.exports=function(e){try{return!!e()}catch(e){return!0}}},25:function(e,n){var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},26:function(e,n,t){var r=t(35);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},27:function(e,n,t){var r=t(40)("unscopables"),i=Array.prototype;void 0==i[r]&&t(22)(i,r,{}),e.exports=function(e){i[r][e]=!0}},28:function(e,n,t){"use strict";function r(e,n,t){var r="";if(!i(n))return r;var a=n.buckets.reduce((function(e,n){return e.max>n.max?e:n}),{max:0}),d=n.buckets.find((function(n){if(e>a.max*t){var i=n.precision;void 0===i&&(i=s),r=(n.max*t).toFixed(i)}else if(e<=n.max*t&&e>=n.min*t)return n}));return d&&(r=o(e,d.increment,d.precision,t)),r}function i(e){if(a.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var n=!0;return e.buckets.forEach((function(e){void 0!==e.min&&e.max&&e.increment||(n=!1)})),n}function o(e,n,t,r){void 0===t&&(t=s);var i=1/(n*r);return(Math.floor(e*i)/i).toFixed(t)}Object.defineProperty(n,"__esModule",{value:!0});var a=t(0),s=2,d={buckets:[{min:0,max:5,increment:.5}]},u={buckets:[{min:0,max:20,increment:.1}]},c={buckets:[{min:0,max:20,increment:.01}]},f={buckets:[{min:0,max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}]},l={buckets:[{min:0,max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}]};n.getPriceBucketString=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=parseFloat(e);return isNaN(i)&&(i=""),{low:""===i?"":r(e,d,t),med:""===i?"":r(e,u,t),high:""===i?"":r(e,c,t),auto:""===i?"":r(e,l,t),dense:""===i?"":r(e,f,t),custom:""===i?"":r(e,n,t)}},n.isValidPriceConfig=i},29:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasNonVideoBidder=n.videoBidder=n.videoAdUnit=void 0,n.isValidVideoBid=function(e){var n=(0,i.getBidRequest)(e.adId),t=n&&(0,i.deepAccess)(n,"mediaTypes.video"),r=t&&(0,i.deepAccess)(t,"context");return!n||t&&r!==a?o.config.getConfig("usePrebidCache")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,i.logError)("\n        This bid contains only vastXml and will not work when prebid-cache is disabled.\n        Try enabling prebid-cache with pbjs.setConfig({ usePrebidCache: true });\n      "),!1):r!==a||!(!e.renderer&&!n.renderer)};var r=t(1),i=t(0),o=t(9),a="outstream",s=(n.videoAdUnit=function(e){var n="video"===e.mediaType,t=(0,i.deepAccess)(e,"mediaTypes.video");return n||t},n.videoBidder=function(e){return r.videoAdapters.includes(e.bidder)});n.hasNonVideoBidder=function(e){return e.bids.filter((function(e){return!s(e)})).length}},3:function(e,n,t){"use strict";function r(e,n){var t=n&&n.bidId||i.getUniqueIdentifierStr(),r=e||0;this.bidderCode=n&&n.bidder||"",this.width=0,this.height=0,this.statusMessage=(function(){switch(r){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}})(),this.adId=t,this.mediaType="banner",this.getStatusCode=function(){return r},this.getSize=function(){return this.width+"x"+this.height}}var i=t(0);n.createBid=function(e,n){return new r(e,n)}},30:function(e,n){var t;t=(function(){return this})();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},31:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getGlobal=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[]},32:function(e,n){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},33:function(e,n,t){var r=t(354);e.exports=function(e,n,t){if(r(e),void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,i){return e.call(n,t,r,i)}}return function(){return e.apply(n,arguments)}}},34:function(e,n,t){var r=t(33),i=t(26),o=t(36),a=t(38),s=t(355);e.exports=function(e,n){var t=1==e,d=2==e,u=3==e,c=4==e,f=6==e,l=5==e||f,p=n||s;return function(n,s,g){for(var b,v,y=o(n),m=i(y),h=r(s,g,3),S=a(m.length),E=0,T=t?p(n,S):d?p(n,0):void 0;S>E;E++)if((l||E in m)&&(b=m[E],v=h(b,E,y),e))if(t)T[E]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return E;case 2:T.push(b)}else if(c)return!1;return f?-1:u||c?c:T}}},342:function(e,n,t){e.exports=t(343)},343:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(){h._bidsRequested=[],h._bidsReceived=h._bidsReceived.filter((function(e){return!h._adUnitCodes.includes(e.adUnitCode)}))}function o(e,n,t){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=n,e.defaultView.frameElement.height=t)}function a(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){E.logError("Error processing command :","prebid.js",e)}}))}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u=t(31),c=t(0),f=t(29),l=t(15);t(344);var p=t(12),g=t(372),b=t(18),v=t(5),y=t(7),m=t(9),h=(0,u.getGlobal)(),S=t(4),E=t(0),T=t(2),A=t(1),_=t(3),I=t(11),w=t(373),C=t(21),j=b.userSync.syncUsers,O=b.userSync.triggerUserSyncs,B=S.EVENTS.BID_WON,U=S.EVENTS.SET_TARGETING,N=S.EVENTS.ADD_AD_UNITS,P=!1,R=[],k={bidWon:function(e){var n=h._bidsRequested.map((function(e){return e.bids.map((function(e){return e.placementCode}))})).reduce(c.flatten).filter(c.uniques);{if(E.contains(n,e))return!0;E.logError('The "'+e+'" placement is not defined.')}}};h._bidsRequested=[],h._bidsReceived=[],h._adUnitCodes=[],h._winningBids=[],h._adsReceived=[],h.bidderSettings=h.bidderSettings||{},h.bidderTimeout=h.bidderTimeout,h.cbTimeout=h.cbTimeout||200,h.timeoutBuffer=200,h.logging=h.logging,h.publisherDomain=h.publisherDomain,h.libLoaded=!0,h.version="v0.34.2",E.logInfo("Prebid.js v0.34.2 loaded"),h.adUnits=h.adUnits||[],h.triggerUserSyncs=O,h.getAdserverTargetingForAdUnitCodeStr=function(e){if(E.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var n=h.getAdserverTargetingForAdUnitCode(e);return E.transformAdServerTargetingObj(n)}E.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},h.getAdserverTargetingForAdUnitCode=function(e){return h.getAdserverTargeting(e)[e]},h.getAdserverTargeting=function(e){return E.logInfo("Invoking pbjs.getAdserverTargeting",arguments),C.getAllTargeting(e).map((function(e){return r({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return r({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))})).reduce((function(e,n){return d(n,e)}),{}))})).reduce((function(e,n){var t=Object.keys(n)[0];return e[t]=d({},e[t],n[t]),e}),{})},h.getBidResponses=function(){E.logInfo("Invoking pbjs.getBidResponses",arguments);var e=h._bidsReceived.filter(c.adUnitsFilter.bind(this,h._adUnitCodes)),n=e&&e.length&&e[e.length-1].requestId;return e.map((function(e){return e.adUnitCode})).filter(c.uniques).map((function(t){return e.filter((function(e){return e.requestId===n&&e.adUnitCode===t}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return r({},e[0].adUnitCode,{bids:e})})).reduce((function(e,n){return d(e,n)}),{})},h.getBidResponsesForAdUnitCode=function(e){return{bids:h._bidsReceived.filter((function(n){return n.adUnitCode===e}))}},h.setTargetingForGPTAsync=function(e){if(E.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,c.isGptPubadsDefined)()){var n=C.getAllTargeting(e);C.resetPresetTargeting(e),C.setTargeting(n),I.emit(U)}else E.logError("window.googletag is not defined on the page")},h.setTargetingForAst=function(){E.logInfo("Invoking pbjs.setTargetingForAn",arguments),C.isApntagDefined()?(C.setTargetingForAst(),I.emit(U)):E.logError("window.apntag is not defined on the page")},h.allBidsAvailable=function(){return E.logWarn("pbjs.allBidsAvailable will be removed in Prebid 1.0. Alternative solution is in progress. See https://github.com/prebid/Prebid.js/issues/1087 for more details."),E.logInfo("Invoking pbjs.allBidsAvailable",arguments),T.bidsBackAll()},h.renderAd=function(e,n){if(E.logInfo("Invoking pbjs.renderAd",arguments),E.logMessage("Calling renderAd with adId :"+n),e&&n)try{var t=h._bidsReceived.find((function(e){return e.adId===n}));if(t){t.ad=E.replaceAuctionPrice(t.ad,t.cpm),t.adUrl=E.replaceAuctionPrice(t.adUrl,t.cpm),h._winningBids.push(t),I.emit(B,t);var r=t.height,i=t.width,a=t.ad,s=t.mediaType,d=t.adUrl,u=t.renderer;if(u&&u.url)u.render(t);else if(e===document&&!E.inIframe()||"video"===s)E.logError("Error trying to write ad. Ad render call ad id "+n+" was prevented from writing to the main document.");else if(a)e.write(a),e.close(),o(e,i,r);else if(d){var c=E.createInvisibleIframe();c.height=r,c.width=i,c.style.display="inline",c.style.overflow="hidden",c.src=d,E.insertElement(c,e,"body"),o(e,i,r)}else E.logError("Error trying to write ad. No ad for bid response id: "+n)}else E.logError("Error trying to write ad. Cannot find ad by given id : "+n)}catch(e){E.logError("Error trying to write ad Id :"+n+" to the page:"+e.message)}else E.logError("Error trying to write ad Id :"+n+" to the page. Missing document or adId")},h.removeAdUnit=function(e){if(E.logInfo("Invoking pbjs.removeAdUnit",arguments),e)for(var n=0;n<h.adUnits.length;n++)h.adUnits[n].code===e&&h.adUnits.splice(n,1)},h.clearAuction=function(){P=!1;var e=m.config.getConfig("userSync")||{};e.enableOverride||j(e.syncDelay),E.logMessage("Prebid auction cleared"),R.length&&R.shift()()},h.requestBids=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.bidsBackHandler,t=e.timeout,r=e.adUnits,o=e.adUnitCodes;I.emit("requestBids");var a=h.cbTimeout=t||m.config.getConfig("bidderTimeout");if(r=r||h.adUnits,E.logInfo("Invoking pbjs.requestBids",arguments),o&&o.length?r=r.filter((function(e){return o.includes(e.code)})):o=r&&r.map((function(e){return e.code})),r.filter(f.videoAdUnit).filter(f.hasNonVideoBidder).forEach((function(e){var n=e.bids.filter((function(e){return!(0,f.videoBidder)(e)})).map((function(e){return e.bidder}));E.logWarn(E.unsupportedBidderMessage(e,n)),e.bids=e.bids.filter(f.videoBidder)})),r.filter(l.nativeAdUnit).filter(l.hasNonNativeBidder).forEach((function(e){var n=e.bids.filter((function(e){return!(0,l.nativeBidder)(e)})).map((function(e){return e.bidder}));E.logWarn(E.unsupportedBidderMessage(e,n)),e.bids=e.bids.filter(l.nativeBidder)})),P)R.push((function(){h.requestBids({bidsBackHandler:n,timeout:a,adUnits:r,adUnitCodes:o})}));else{if(P=!0,h._adUnitCodes=o,T.externalCallbackReset(),i(),!r||0===r.length)return E.logMessage("No adUnits configured. No bids requested."),"function"==typeof n&&T.addOneTimeCallback(n,!1),void T.executeCallback();var s=T.executeCallback.bind(T,!0),d=setTimeout(s,a);(0,y.setAjaxTimeout)(a),"function"==typeof n&&T.addOneTimeCallback(n,d),A.callBids({adUnits:r,adUnitCodes:o,cbTimeout:a}),0===h._bidsRequested.length&&T.executeCallback()}},h.addAdUnits=function(e){E.logInfo("Invoking pbjs.addAdUnits",arguments),E.isArray(e)?(e.forEach((function(e){return e.transactionId=E.generateUUID()})),h.adUnits.push.apply(h.adUnits,e)):"object"===(void 0===e?"undefined":s(e))&&(e.transactionId=E.generateUUID(),h.adUnits.push(e)),I.emit(N)},h.onEvent=function(e,n,t){E.logInfo("Invoking pbjs.onEvent",arguments),E.isFn(n)?!t||k[e].call(null,t)?I.on(e,n,t):E.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):E.logError('The event handler provided is not a function and was not set on event "'+e+'".')},h.offEvent=function(e,n,t){E.logInfo("Invoking pbjs.offEvent",arguments),t&&!k[e].call(null,t)||I.off(e,n,t)},h.addCallback=function(e,n){E.logWarn("pbjs.addCallback will be removed in Prebid 1.0. Please use onEvent instead"),E.logInfo("Invoking pbjs.addCallback",arguments);var t=null;return e&&n&&"function"==typeof n?(t=E.getUniqueIdentifierStr,T.addCallback(t,n,e),t):(E.logError("error registering callback. Check method signature"),t)},h.removeCallback=function(){return E.logWarn("pbjs.removeCallback will be removed in Prebid 1.0. Please use offEvent instead."),null},h.registerBidAdapter=function(e,n){E.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{A.registerBidAdapter(e(),n)}catch(e){E.logError("Error registering bidder adapter : "+e.message)}},h.registerAnalyticsAdapter=function(e){E.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{A.registerAnalyticsAdapter(e)}catch(e){E.logError("Error registering analytics adapter : "+e.message)}},h.bidsAvailableForAdapter=function(e){E.logInfo("Invoking pbjs.bidsAvailableForAdapter",arguments),h._bidsRequested.find((function(n){return n.bidderCode===e})).bids.map((function(n){return d(n,_.createBid(1),{bidderCode:e,adUnitCode:n.placementCode})})).map((function(e){return h._bidsReceived.push(e)}))},h.createBid=function(e){return E.logInfo("Invoking pbjs.createBid",arguments),_.createBid(e)},h.addBidResponse=function(e,n){E.logWarn("pbjs.addBidResponse will be removed in Prebid 1.0. Each bidder will be passed a reference to addBidResponse function in callBids as an argument. See https://github.com/prebid/Prebid.js/issues/1087 for more details."),E.logInfo("Invoking pbjs.addBidResponse",arguments),T.addBidResponse(e,n)},h.loadScript=function(e,n,t){E.logInfo("Invoking pbjs.loadScript",arguments),(0,v.loadScript)(e,n,t)},h.enableAnalytics=function(e){e&&!E.isEmpty(e)?(E.logInfo("Invoking pbjs.enableAnalytics for: ",e),A.enableAnalytics(e)):E.logError("pbjs.enableAnalytics should be called with option {}")},h.aliasBidder=function(e,n){E.logInfo("Invoking pbjs.aliasBidder",arguments),e&&n?A.aliasBidAdapter(e,n):E.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},h.setPriceGranularity=function(e){E.logWarn("pbjs.setPriceGranularity will be removed in Prebid 1.0. Use pbjs.setConfig({ priceGranularity: <granularity> }) instead."),E.logInfo("Invoking pbjs.setPriceGranularity",arguments),m.config.setConfig({priceGranularity:e})},h.enableSendAllBids=function(){m.config.setConfig({enableSendAllBids:!0})},h.getAllWinningBids=function(){return h._winningBids},h.buildMasterVideoTagFromAdserverTag=function(e,n){E.logWarn("pbjs.buildMasterVideoTagFromAdserverTag will be removed in Prebid 1.0. Include the dfpVideoSupport module in your build, and use the pbjs.adservers.dfp.buildVideoAdUrl function instead"),E.logInfo("Invoking pbjs.buildMasterVideoTagFromAdserverTag",arguments);var t=(0,p.parse)(e);if(0===h._bidsReceived.length)return e;if("dfp"===n.adserver.toLowerCase()){var r=w.dfpAdserver(n,t);return r.verifyAdserverTag()||E.logError("Invalid adserverTag, required google params are missing in query string"),r.appendQueryParams(),(0,p.format)(r.urlComponents)}E.logError("Only DFP adserver is supported")},h.setBidderSequence=A.setBidderSequence,h.getHighestCpmBids=function(e){return C.getWinningBids(e)},h.setS2SConfig=function(e){if(E.contains(Object.keys(e),"accountId"))if(E.contains(Object.keys(e),"bidders")){var n=d({enabled:!1,endpoint:S.S2S.DEFAULT_ENDPOINT,timeout:1e3,maxBids:1,adapter:S.S2S.ADAPTER,syncEndpoint:S.S2S.SYNC_ENDPOINT,cookieSet:!0,bidders:[]},e);A.setS2SConfig(n)}else E.logError("bidders missing in Server to Server config");else E.logError("accountId missing in Server to Server config")},h.getConfig=m.config.getConfig,h.setConfig=m.config.setConfig,h.que.push((function(){return(0,g.listenMessagesFromCreative)()})),h.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){E.logError("Error processing command :",e.message,e.stack)}else E.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},h.que.push=h.cmd.push,h.processQueue=function(){a(h.que),a(h.cmd)}},344:function(e,n,t){"use strict";t(345),t(358),t(360),t(363),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},345:function(e,n,t){t(346),e.exports=t(14).Array.find},346:function(e,n,t){"use strict";var r=t(19),i=t(34)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),t(27)("find")},347:function(e,n,t){var r=t(348),i=t(349),o=t(351),a=Object.defineProperty;n.f=t(23)?Object.defineProperty:function(e,n,t){if(r(e),n=o(n,!0),r(t),i)try{return a(e,n,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[n]=t.value),e}},348:function(e,n,t){var r=t(20);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},349:function(e,n,t){e.exports=!t(23)&&!t(24)((function(){return 7!=Object.defineProperty(t(350)("div"),"a",{get:function(){return 7}}).a}))},35:function(e,n){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},350:function(e,n,t){var r=t(20),i=t(16).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},351:function(e,n,t){var r=t(20);e.exports=function(e,n){if(!r(e))return e;var t,i;if(n&&"function"==typeof(t=e.toString)&&!r(i=t.call(e)))return i;if("function"==typeof(t=e.valueOf)&&!r(i=t.call(e)))return i;if(!n&&"function"==typeof(t=e.toString)&&!r(i=t.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},352:function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},353:function(e,n,t){var r=t(16),i=t(22),o=t(32),a=t(25)("src"),s=Function.toString,d=(""+s).split("toString");t(14).inspectSource=function(e){return s.call(e)},(e.exports=function(e,n,t,s){var u="function"==typeof t;u&&(o(t,"name")||i(t,"name",n)),e[n]!==t&&(u&&(o(t,a)||i(t,a,e[n]?""+e[n]:d.join(String(n)))),e===r?e[n]=t:s?e[n]?e[n]=t:i(e,n,t):(delete e[n],i(e,n,t)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},354:function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},355:function(e,n,t){var r=t(356);e.exports=function(e,n){return new(r(e))(n)}},356:function(e,n,t){var r=t(20),i=t(357),o=t(40)("species");e.exports=function(e){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)||(n=void 0),r(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},357:function(e,n,t){var r=t(35);e.exports=Array.isArray||function(e){return"Array"==r(e)}},358:function(e,n,t){t(359),e.exports=t(14).Array.findIndex},359:function(e,n,t){"use strict";var r=t(19),i=t(34)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),t(27)(o)},36:function(e,n,t){var r=t(37);e.exports=function(e){return Object(r(e))}},360:function(e,n,t){t(361),e.exports=t(14).Array.includes},361:function(e,n,t){"use strict";var r=t(19),i=t(42)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),t(27)("includes")},362:function(e,n,t){var r=t(39),i=Math.max,o=Math.min;e.exports=function(e,n){return(e=r(e))<0?i(e+n,0):o(e,n)}},363:function(e,n,t){t(364),e.exports=t(14).Object.assign},364:function(e,n,t){var r=t(19);r(r.S+r.F,"Object",{assign:t(365)})},365:function(e,n,t){"use strict";var r=t(366),i=t(370),o=t(371),a=t(36),s=t(26),d=Object.assign;e.exports=!d||t(24)((function(){var e={},n={},t=Symbol(),r="abcdefghijklmnopqrst";return e[t]=7,r.split("").forEach((function(e){n[e]=e})),7!=d({},e)[t]||Object.keys(d({},n)).join("")!=r}))?function(e,n){for(var t=a(e),d=arguments.length,u=1,c=i.f,f=o.f;d>u;)for(var l,p=s(arguments[u++]),g=c?r(p).concat(c(p)):r(p),b=g.length,v=0;b>v;)f.call(p,l=g[v++])&&(t[l]=p[l]);return t}:d},366:function(e,n,t){var r=t(367),i=t(369);e.exports=Object.keys||function(e){return r(e,i)}},367:function(e,n,t){var r=t(32),i=t(43),o=t(42)(!1),a=t(368)("IE_PROTO");e.exports=function(e,n){var t,s=i(e),d=0,u=[];for(t in s)t!=a&&r(s,t)&&u.push(t);for(;n.length>d;)r(s,t=n[d++])&&(~o(u,t)||u.push(t));return u}},368:function(e,n,t){var r=t(41)("keys"),i=t(25);e.exports=function(e){return r[e]||(r[e]=i(e))}},369:function(e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},37:function(e,n){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},370:function(e,n){n.f=Object.getOwnPropertySymbols},371:function(e,n){n.f={}.propertyIsEnumerable},372:function(e,n,t){"use strict";function r(e){var n=e.message?"message":"data",t={};try{t=JSON.parse(e[n])}catch(e){return}if(t.adId){var r=pbjs._bidsReceived.find((function(e){return e.adId===t.adId}));"Prebid Request"===t.message&&(i(r,t.adServerDomain,e.source),pbjs._winningBids.push(r),a.default.emit(d,r)),"Prebid Native"===t.message&&((0,s.fireNativeTrackers)(t,r),pbjs._winningBids.push(r),a.default.emit(d,r))}}function i(e,n,t){var r=e.adId,i=e.ad,a=e.adUrl,s=e.width,d=e.height;r&&(o(e),t.postMessage(JSON.stringify({message:"Prebid Response",ad:i,adUrl:a,adId:r,width:s,height:d}),n))}function o(e){var n=e.adUnitCode,t=e.width,r=e.height,i=document.getElementById(window.googletag.pubads().getSlots().find((function(e){return e.getAdUnitPath()===n||e.getSlotElementId()===n})).getSlotElementId()).querySelector("iframe");i.width=""+t,i.height=""+r}Object.defineProperty(n,"__esModule",{value:!0}),n.listenMessagesFromCreative=function(){addEventListener("message",r,!1)};var a=(function(e){return e&&e.__esModule?e:{default:e}})(t(11)),s=t(15),d=t(4).EVENTS.BID_WON},373:function(e,n,t){"use strict";var r=t(12),i=t(21),o=function(e){this.name=e.adserver,this.code=e.code,this.getWinningBidByCode=function(){return(0,i.getWinningBids)(this.code)[0]}};n.dfpAdserver=function(e,n){var t=new o(e);t.urlComponents=n;var i={env:"vp",gdfp_req:"1",impl:"s",unviewed_position_start:"1"},a=["output","iu","sz","url","correlator","description_url","hl"],s=function(e){return encodeURIComponent((0,r.formatQS)(e))};return t.appendQueryParams=function(){var e=t.getWinningBidByCode();e&&(this.urlComponents.search.description_url=encodeURIComponent(e.vastUrl),this.urlComponents.search.cust_params=s(e.adserverTargeting),this.urlComponents.search.correlator=Date.now())},t.verifyAdserverTag=function(){for(var e in i)if(!this.urlComponents.search.hasOwnProperty(e)||this.urlComponents.search[e]!==i[e])return!1;for(var n in a)if(!this.urlComponents.search.hasOwnProperty(a[n]))return!1;return!0},t}},38:function(e,n,t){var r=t(39),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},39:function(e,n){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},4:function(e,n){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},REPO_AND_VERSION:"prebid_prebid_0.34.2",DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon",SET_TARGETING:"setTargeting",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:["hb_bidder","hb_adid","hb_pb","hb_size","hb_deal"],S2S:{DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/auction",SRC:"s2s",ADAPTER:"prebidServer",SYNC_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/cookie_sync",SYNCED_BIDDERS_KEY:"pbjsSyncs"}}},40:function(e,n,t){var r=t(41)("wks"),i=t(25),o=t(16).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},41:function(e,n,t){var r=t(16),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},42:function(e,n,t){var r=t(43),i=t(38),o=t(362);e.exports=function(e){return function(n,t,a){var s,d=r(n),u=i(d.length),c=o(a,u);if(e&&t!=t){for(;u>c;)if((s=d[c++])!=s)return!0}else for(;u>c;c++)if((e||c in d)&&d[c]===t)return e||c||0;return!e&&-1}}},43:function(e,n,t){var r=t(26),i=t(37);e.exports=function(e){return r(i(e))}},46:function(e,n){function t(e){var n=Array.isArray(e)?[]:{};for(var r in e){var i=e[r];n[r]=i&&"object"==typeof i?t(i):i}return n}e.exports=t},47:function(e,n,t){"use strict";function r(e){return!!(o.isArray(e)&&e.length>0)||(o.logInfo("No size mapping defined"),!1)}function i(e){var n=e||a||window,t=n.document;return n.innerWidth?n.innerWidth:t.body.clientWidth?t.body.clientWidth:t.documentElement.clientWidth?t.documentElement.clientWidth:0}Object.defineProperty(n,"__esModule",{value:!0}),n.setWindow=n.getScreenWidth=n.mapSizes=void 0;var o=(function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n})(t(0)),a=void 0;n.mapSizes=function(e){if(!r(e.sizeMapping))return e.sizes;var n=i();if(!n){var t=e.sizeMapping.reduce((function(e,n){return e.minWidth<n.minWidth?n:e}));return t.sizes&&t.sizes.length?t.sizes:e.sizes}var a="",s=e.sizeMapping.find((function(e){return n>=e.minWidth}));return s&&s.sizes&&s.sizes.length?(a=s.sizes,o.logMessage("AdUnit : "+e.code+" resized based on device width to : "+a)):o.logMessage("AdUnit : "+e.code+" not mapped to any sizes for device width. This request will be suppressed."),a},n.getScreenWidth=i,n.setWindow=function(e){a=e}},48:function(e,n,t){"use strict";function r(e){return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['+e+"]]></VASTAdTagURI>\n        <Impression></Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>"}function i(e){return{type:"xml",value:e.vastXml?e.vastXml:r(e.vastUrl)}}function o(e){return{success:function(n){var t=void 0;try{t=JSON.parse(n).responses}catch(n){return void e(n,[])}t?e(null,t):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(n,t){e(new Error("Error storing video ad in the cache: "+n+": "+JSON.stringify(t)),[])}}}Object.defineProperty(n,"__esModule",{value:!0}),n.store=function(e,n){var t={puts:e.map(i)};(0,a.ajax)(s,o(n),JSON.stringify(t),{contentType:"text/plain",withCredentials:!0})},n.getCacheUrl=function(e){return s+"?uuid="+e};var a=t(7),s="https://prebid.adnxs.com/pbc/v1/cache"},49:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.createHook=function(e,n,t){var a=[{fn:n,priority:0}],s={sync:function(){for(var e=this,n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];a.forEach((function(n){n.fn.apply(e,t)}))},asyncSeries:function(){for(var e=this,n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];var o=0;return a[o].fn.apply(this,t.concat((function n(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];var d=a[++o];if("object"===(void 0===d?"undefined":i(d))&&"function"==typeof d.fn)return d.fn.apply(e,r.concat(n))})))}};if(!s[e])throw"invalid hook type";var d={addHook:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;"function"==typeof e&&(a.push({fn:e,priority:n}),a.sort((function(e,n){return n.priority-e.priority})))},removeHook:function(e){a=a.filter((function(t){return t.fn===n||t.fn!==e}))}};return"string"==typeof t&&(o[t]=d),r((function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return 0===a.length?n.apply(this,r):s[e].apply(this,r)}),d)};var o=n.hooks={}},5:function(e,n,t){"use strict";function r(e,n){var t=document.createElement("script");t.type="text/javascript",t.async=!0,n&&"function"==typeof n&&(t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,n())}:t.onload=function(){n()}),t.src=e;var r=document.getElementsByTagName("head");(r=r.length?r:document.getElementsByTagName("body")).length&&(r=r[0]).insertBefore(t,r.firstChild)}var i=t(0),o={};n.loadScript=function(e,n,t){e?t?o[e]?n&&"function"==typeof n&&(o[e].loaded?n():o[e].callbacks.push(n)):(o[e]={loaded:!1,callbacks:[]},n&&"function"==typeof n&&o[e].callbacks.push(n),r(e,(function(){o[e].loaded=!0;try{for(var n=0;n<o[e].callbacks.length;n++)o[e].callbacks[n]()}catch(e){i.logError("Error executing callback","adloader.js:loadScript",e)}}))):r(e,n):i.logError("Error attempting to request empty URL","adloader.js:loadScript")}},6:function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function n(n){if(e.getUserSyncs){var t=e.getUserSyncs({iframeEnabled:u.config.getConfig("userSync.iframeEnabled"),pixelEnabled:u.config.getConfig("userSync.pixelEnabled")},n);t&&(Array.isArray(t)||(t=[t]),t.forEach((function(n){g.userSync.registerSync(n.type,e.code,n.url)})))}}function t(n){return!!e.isBidRequestValid(n)||((0,b.logWarn)("Invalid bid sent to bidder "+e.code+": "+JSON.stringify(n)),!1)}function r(e){var n=Object.keys(e);return v.every((function(e){return n.includes(e)}))}function i(){var n=l.default.createBid(p.STATUS.NO_BID);return n.code=e.code,n.bidderCode=e.code,n}return a(new s.default(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:n,callBids:function(s){function d(e,n){m[e]=!0,g(e,n)}function u(){s.bids.map((function(e){return e.placementCode})).forEach((function(e){e&&!m[e]&&g(e,i())}))}function g(e,n){try{f.default.addBidResponse(e,n)}catch(n){(0,b.logError)("Error adding bid",e,n)}}function v(){u(),n(h)}function y(e){return e?"?"+("object"===(void 0===e?"undefined":o(e))?(0,b.parseQueryStringParameters)(e):e):""}if(Array.isArray(s.bids)){var m={},h=[],S=s.bids.filter(t);if(0!==S.length){var E={};S.forEach((function(e){E[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)}));var T=e.buildRequests(S,s);if(T&&0!==T.length){Array.isArray(T)||(T=[T]);var A=(0,b.delayExecution)(v,T.length);T.forEach((function(n){function t(t,i){function o(n){if(r(n)){var t=E[n.requestId];if(t){var i=a(l.default.createBid(p.STATUS.GOOD,t),n);d(t.placementCode,i)}else(0,b.logWarn)("Bidder "+e.code+" made bid for unknown request ID: "+n.requestId+". Ignoring.")}else(0,b.logError)("Bidder "+e.code+" is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params.")}try{t=JSON.parse(t)}catch(e){}t={body:t,headers:{get:i.getResponseHeader.bind(i)}},h.push(t);var s=void 0;try{s=e.interpretResponse(t,n)}catch(n){return(0,b.logError)("Bidder "+e.code+" failed to interpret the server's response. Continuing without bids",null,n),void A()}s&&(s.forEach?s.forEach(o):o(s)),A()}function i(n){(0,b.logError)("Server call for "+e.code+" failed: "+n+". Continuing without bids."),A()}switch(n.method){case"GET":(0,c.ajax)(""+n.url+y(n.data),{success:t,error:i},void 0,a({method:"GET",withCredentials:!0},n.options));break;case"POST":(0,c.ajax)(n.url,{success:t,error:i},"string"==typeof n.data?n.data:JSON.stringify(n.data),a({method:"POST",contentType:"text/plain",withCredentials:!0},n.options));break;default:(0,b.logWarn)("Skipping invalid request from "+e.code+". Request type "+n.type+" must be GET or POST"),A()}}))}else v()}else v()}}})}Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};n.registerBidder=function(e){function n(e){var n=i(e);d.default.registerBidAdapter(n,e.code,t)}var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;n(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){n(a({},e,{code:t}))}))},n.newBidder=i;var s=r(t(8)),d=r(t(1)),u=t(9),c=t(7),f=r(t(2)),l=r(t(3)),p=t(4),g=t(18),b=t(0),v=["requestId","cpm","ttl","creativeId","netRevenue","currency"]},7:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.setAjaxTimeout=function(e){d=e},n.ajax=function(e,n,t){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var c=void 0,f=!1,l=u.method||(t?"POST":"GET"),p="object"===(void 0===n?"undefined":i(n))?n:{success:function(){a.logMessage("xhr success")},error:function(e){a.logError("xhr error",null,e)}};if("function"==typeof n&&(p.success=n),window.XMLHttpRequest?void 0===(c=new window.XMLHttpRequest).responseType&&(f=!0):f=!0,f?((c=new window.XDomainRequest).onload=function(){p.success(c.responseText,c)},c.onerror=function(){p.error("error",c)},c.ontimeout=function(){p.error("timeout",c)},c.onprogress=function(){a.logMessage("xhr onprogress")}):c.onreadystatechange=function(){if(c.readyState===s){var e=c.status;e>=200&&e<300||304===e?p.success(c.responseText,c):p.error(c.statusText,c)}},"GET"===l&&t){var g=(0,o.parse)(e,u);r(g.search,t),e=(0,o.format)(g)}c.open(l,e),c.timeout=d,f||(u.withCredentials&&(c.withCredentials=!0),a._each(u.customHeaders,(function(e,n){c.setRequestHeader(n,e)})),u.preflight&&c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-Type",u.contentType||"text/plain")),c.send("POST"===l&&t)}catch(e){a.logError("xhr construction",e)}};var o=t(12),a=t(0),s=4,d=3e3},8:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=e;return{callBids:function(){},setBidderCode:function(e){n=e},getBidderCode:function(){return n}}}},9:function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(){function e(e){return Object.keys(g).find((function(n){return e===g[n]}))}function n(n){if(!n)return d.logError("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof n)e(n)||d.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if("object"===(void 0===n?"undefined":a(n))&&!(0,s.isValidPriceConfig)(n))return d.logError("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}function t(e,n){var t=n;"string"!=typeof e&&(t=e,e=b);{if("function"==typeof t)return v.push({topic:e,callback:t}),function(){v.splice(v.indexOf(n),1)};d.logError("listener must be a function")}}function i(e){var n=Object.keys(e);v.filter((function(e){return n.includes(e.topic)})).forEach((function(n){n.callback(r({},n.topic,e[n.topic]))})),v.filter((function(e){return e.topic===b})).forEach((function(n){return n.callback(e)}))}var v=[],y={},m={_debug:u,get debug(){return pbjs.logging||!1===pbjs.logging?pbjs.logging:this._debug},set debug(e){this._debug=e},_bidderTimeout:c,get bidderTimeout(){return pbjs.bidderTimeout||this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:f,get publisherDomain(){return pbjs.publisherDomain||this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_cookieSyncDelay:l,get cookieSyncDelay(){return pbjs.cookieSyncDelay||this._cookieSyncDelay},set cookieSyncDelay(e){this._cookieSyncDelay=e},_priceGranularity:g.MEDIUM,set priceGranularity(t){n(t)&&("string"==typeof t?this._priceGranularity=e(t)?t:g.MEDIUM:"object"===(void 0===t?"undefined":a(t))&&(this._customPriceBucket=t,this._priceGranularity=g.CUSTOM,d.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_sendAllBids:p,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},set bidderSequence(e){pbjs.setBidderSequence(e)},set s2sConfig(e){pbjs.setS2SConfig(e)}};return{getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?d.deepAccess(m,e):m}return t.apply(void 0,arguments)},setConfig:function(e){if("object"===(void 0===e?"undefined":a(e))){var n={};Object.keys(e).forEach((function(t){var r=e[t];"object"===a(y[t])&&"object"===(void 0===r?"undefined":a(r))&&(r=o({},y[t],r)),n[t]=m[t]=r})),i(n)}else d.logError("setConfig options must be an object")},setDefaults:function(e){"object"===(void 0===y?"undefined":a(y))?(o(y,e),o(m,e)):d.logError("defaults must be an object")}}}Object.defineProperty(n,"__esModule",{value:!0}),n.config=void 0;var o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.newConfig=i;var s=t(28),d=t(0),u=!1,c=3e3,f=window.location.origin,l=100,p=!1,g={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},b="*";n.config=i()}});
pbjsChunk([122],{54:function(r,e,a){r.exports=a(55)},55:function(r,e,a){"use strict";function d(r,e,a){var d=o.getTopWindowLocation(),i="",t=[],n=[];d=d?d.host:b;for(var s,c,l,u,h=0,j=a.length;h<j;h+=1)s=a[h],c=o.getBidIdParameter("ai",s.params),l=o.getBidIdParameter("sc",s.params),c&&c.length&&l&&l.length&&((u=o.getBidIdParameter("host",s.params))&&(g=u),i.length||(i=c),l&&t.push(l),n.push(l+"="+s.bidId),pbjs[f][r][s.bidId]=s);if(!i.length||!t.length)return o.logWarn("Bad bid request params given for adapter $"+r+" ("+v+")");p.loadScript(["//"+g+"/",i,"/",t.join("_"),"/aardvark/?jsonp=pbjs.",e,"&rtkreferer=",d,"&",n.join("&")].join(""))}function i(r,e){if(e.error)return o.logWarn("Aardvark bid received with an error, ignoring... ["+e.error+"]");if(!e.cid)return o.logWarn("Aardvark bid received without a callback id, ignoring...");var a=pbjs[f][r][e.cid];if(!a)return o.logWarn("Aardvark request not found: "+e.cid);if(a.params.sc!==e.id)return o.logWarn("Aardvark bid received with a non matching shortcode "+e.id+" instead of "+a.params.sc);var d=s.createBid(u.STATUS.GOOD,a);d.bidderCode=a.bidder,d.cpm=e.cpm,d.ad=e.adm+o.createTrackPixelHtml(decodeURIComponent(e.nurl)),d.width=a.sizes[0][0],d.height=a.sizes[0][1],c.addBidResponse(a.placementCode,d),pbjs[f][r][e.cid].responded=!0}function t(r,e){pbjs[e]=function(e){e.forEach((function(e){i(r,e)}));for(var a in pbjs[f][r])if(pbjs[f][r].hasOwnProperty(a)){var d=pbjs[f][r][a];if(!d.responded){var t=s.createBid(u.STATUS.NO_BID,d);t.bidderCode=d.bidder,c.addBidResponse(d.placementCode,t)}}}}var n=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(r[d]=a[d])}return r},o=a(0),s=a(3),c=a(2),p=a(5),l=a(8).default,u=a(4),f="aardvarkRequests",v="aardvark",b="thor.rtk.io",g="thor.rtk.io",h=function(){var r=new l(v);return pbjs[f]=pbjs[f]||{},r.callBids=function(e){var a=r.getBidderCode(),i="aardvarkResponse";return a!==v&&(i=["aardvarkResponse",a].join("_")),pbjs[f][a]={},t(a,i),d(a,i,e.bids||[])},n(this,{callBids:r.callBids,setBidderCode:r.setBidderCode})};a(1).registerBidAdapter(new h,"aardvark"),r.exports=h}},[54]);
pbjsChunk([112],{104:function(e,r,a){e.exports=a(105)},105:function(e,r,a){"use strict";var t,d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},s=a(0),i=(function(e){return e&&e.__esModule?e:{default:e}})(a(1)),n=a(4),l=a(0),p=a(5),u=a(2),c=a(3),m=a(8).default;t=function(){function e(e,r){var a=l.getBidIdParameter("placementId",e.params),t=l.getBidIdParameter("memberId",e.params),s=l.getBidIdParameter("member",e.params),i=l.getBidIdParameter("invCode",e.params),n=l.getBidIdParameter("query",e.params),p=l.getBidIdParameter("referrer",e.params),u=l.getBidIdParameter("alt_referrer",e.params),c=l.getBidIdParameter("usePaymentRule",e.params),m="//ib.adnxs.com/jpt?";m=l.tryAppendQueryString(m,"callback","pbjs.handleAnCB"),m=l.tryAppendQueryString(m,"callback_uid",r),m=l.tryAppendQueryString(m,"psa","0"),m=l.tryAppendQueryString(m,"id",a),m=l.tryAppendQueryString(m,"use_pmt_rule",c),s?m=l.tryAppendQueryString(m,"member",s):t&&(m=l.tryAppendQueryString(m,"member",t),l.logMessage('appnexus.callBids: "memberId" will be deprecated soon. Please use "member" instead')),m=l.tryAppendQueryString(m,"code",i),m=l.tryAppendQueryString(m,"traffic_source_code",l.getBidIdParameter("trafficSourceCode",e.params));var o="",g=l.parseSizesInput(e.sizes),f=g.length;if(f>0&&(o="size="+g[0],f>1)){o+="&promo_sizes=";for(var y=1;y<f;y++)o+=g[y]+=",";o&&","===o.charAt(o.length-1)&&(o=o.slice(0,o.length-1))}o&&(m+=o+"&");var b=l.parseQueryStringParameters(n);b&&(m+=b);var B=d({},e.params);delete B.placementId,delete B.memberId,delete B.invCode,delete B.query,delete B.referrer,delete B.alt_referrer,delete B.member,delete B.usePaymentRule;var A=l.parseQueryStringParameters(B);return A&&(m+=A),""===p&&(p=l.getTopWindowUrl()),m=l.tryAppendQueryString(m,"referrer",p),(m=l.tryAppendQueryString(m,"alt_referrer",u)).lastIndexOf("&")===m.length-1&&(m=m.substring(0,m.length-1)),l.logMessage("jpt request built: "+m),e.startTime=(new Date).getTime(),m}var r=new m("appnexus"),a=!1;return r.callBids=function(r){for(var a=r.bids,t=0;t<a.length;t++){var d=a[t],s=d.bidId;p.loadScript(e(d,s))}},pbjs.handleAnCB=function(e){var r;if(e&&e.callback_uid){var t,d=e.callback_uid,i="",p=(0,s.getBidRequest)(d);p&&(r=p.bidder,i=p.placementCode,p.status=n.STATUS.GOOD),l.logMessage("JSONP callback function called for ad ID: "+d);var m=[];if(e.result&&e.result.cpm&&0!==e.result.cpm){t=parseInt(e.result.cpm,10),t/=1e4;var o=e.result.creative_id;(m=c.createBid(1,p)).creative_id=o,m.bidderCode=r,m.cpm=t,m.adUrl=e.result.ad,m.width=e.result.width,m.height=e.result.height,m.dealId=e.result.deal_id,u.addBidResponse(i,m)}else l.logMessage("No prebid response from AppNexus for placement code "+i),(m=c.createBid(2,p)).bidderCode=r,u.addBidResponse(i,m);if(!a){var g=l.createInvisibleIframe();g.src="//acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html";try{document.body.appendChild(g)}catch(e){l.logError(e)}a=!0}}else l.logMessage("No prebid response for placement %%PLACEMENT%%")},d(this,{callBids:r.callBids,setBidderCode:r.setBidderCode,buildJPTCall:e})},i.default.registerBidAdapter(new t,"appnexus"),i.default.aliasBidAdapter("appnexus","brealtime"),i.default.aliasBidAdapter("appnexus","pagescience"),i.default.aliasBidAdapter("appnexus","defymedia"),i.default.aliasBidAdapter("appnexus","gourmetads"),i.default.aliasBidAdapter("appnexus","matomy"),i.default.aliasBidAdapter("appnexus","featureforward"),i.default.aliasBidAdapter("appnexus","oftmedia"),e.exports=t}},[104]);
pbjsChunk([42],{111:function(a,e,t){t(112),a.exports=t(113)},112:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spec=void 0;var n=(function(){function a(a,e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,d=a[Symbol.iterator]();!(n=(o=d.next()).done)&&(t.push(o.value),!e||t.length!==e);n=!0);}catch(a){r=!0,i=a}finally{try{!n&&d.return&&d.return()}finally{if(r)throw i}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return a(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=t(6),o=t(9),d=t(12),c=t(0),s=["video"],u=function(a){return Array.isArray(a)&&2===a.length?a[0]+"x"+a[1]:a},f=function(a){return a.split("x").map(Number)},m=function(a){return["300x250","320x50"].includes(a)},p=function(a){return"video"===a},l=function(a){return p(a)?"":"5.5.web"},b=function(){return Boolean(window&&window.location&&"string"==typeof window.location.search&&-1!==window.location.search.indexOf("anhb_testmode")).toString()},h=function(a,e,t){return"<html><head>"+("native"===e?'<script>window.onload=function(){if(parent){var o=document.getElementsByTagName("head")[0];var s=parent.document.getElementsByTagName("style");for(var i=0;i<s.length;i++)o.appendChild(s[i].cloneNode(true));}}<\/script>':"")+"</head><body><div style=\"display:none;position:relative;\">\n<script type='text/javascript'>var data = {placementid:'"+a+"',format:'"+e+"',bidid:'"+t+"',onAdLoaded:function(e){console.log('Audience Network ["+a+"] ad loaded');e.style.display = 'block';},onAdError:function(c,m){console.log('Audience Network ["+a+"] error (' + c + ') ' + m);}};\n(function(a,b,c){var d='https://www.facebook.com',e='https://connect.facebook.net/en_US/fbadnw55.js',f={iframeLoaded:true,xhrLoaded:true},g=a.data,h=function(){if(Date.now){return Date.now();}else return +new Date();},i=function(aa){var ba=d+'/audience_network/client_event',ca={cb:h(),event_name:'ADNW_ADERROR',ad_pivot_type:'audience_network_mobile_web',sdk_version:'5.5.web',app_id:g.placementid.split('_')[0],publisher_id:g.placementid.split('_')[1],error_message:aa},da=[];for(var ea in ca)da.push(encodeURIComponent(ea)+'='+encodeURIComponent(ca[ea]));var fa=ba+'?'+da.join('&'),ga=new XMLHttpRequest();ga.open('GET',fa,true);ga.send();if(g.onAdError)g.onAdError('1000','Internal error.');},j=function(){if(b.currentScript){return b.currentScript;}else{var aa=b.getElementsByTagName('script');return aa[aa.length-1];}},k=function(aa){try{return aa.document.referrer;}catch(ba){}return '';},l=function(){var aa=a,ba=[aa];try{while(aa!==aa.parent&&aa.parent.document)ba.push(aa=aa.parent);}catch(ca){}return ba.reverse();},m=function(){var aa=l();for(var ba=0;ba<aa.length;ba++){var ca=aa[ba],da=ca.ADNW||{};ca.ADNW=da;if(!ca.ADNW)continue;return da.v55=da.v55||{ads:[],window:ca};}throw new Error('no_writable_global');},n=function(aa){var ba=aa.indexOf('/',aa.indexOf('://')+3);if(ba===-1)return aa;return aa.substring(0,ba);},o=function(aa){return aa.location.href||k(aa);},p=function(aa){if(aa.sdkLoaded)return;var ba=aa.window.document,ca=ba.createElement('iframe');ca.name='fbadnw';ca.style.display='none';ba.body.appendChild(ca);var da=ca.contentDocument.createElement('script');da.src=e;da.async=true;ca.contentDocument.body.appendChild(da);aa.sdkLoaded=true;},q=function(aa){var ba=/^https?:\\/\\/www\\.google(\\.com?)?\\.\\w{2,3}$/;return !!aa.match(ba);},r=function(aa){return !!aa.match(/cdn\\.ampproject\\.org$/);},s=function(){var aa=c.ancestorOrigins||[],ba=aa[aa.length-1]||c.origin,ca=aa[aa.length-2]||c.origin;if(q(ba)&&r(ca)){return n(ca);}else return n(ba);},t=function(aa){try{return JSON.parse(aa);}catch(ba){i(ba.message);throw ba;}},u=function(aa,ba,ca){if(!aa.iframe){var da=ca.createElement('iframe');da.src=d+'/audiencenetwork/iframe/';da.style.display='none';ca.body.appendChild(da);aa.iframe=da;aa.iframeAppendedTime=h();aa.iframeData={};}ba.iframe=aa.iframe;ba.iframeData=aa.iframeData;ba.tagJsIframeAppendedTime=aa.iframeAppendedTime||0;},v=function(aa){var ba=d+'/audiencenetwork/xhr/?sdk=5.5.web';for(var ca in aa)if(typeof aa[ca]!=='function')ba+='&'+ca+'='+encodeURIComponent(aa[ca]);var da=new XMLHttpRequest();da.open('GET',ba,true);da.withCredentials=true;da.onreadystatechange=function(){if(da.readyState===4){var ea=t(da.response);aa.events.push({name:'xhrLoaded',source:aa.iframe.contentWindow,data:ea,postMessageTimestamp:h(),receivedTimestamp:h()});}};da.send();},w=function(aa,ba){var ca=d+'/audiencenetwork/xhriframe/?sdk=5.5.web';for(var da in ba)if(typeof ba[da]!=='function')ca+='&'+da+'='+encodeURIComponent(ba[da]);var ea=b.createElement('iframe');ea.src=ca;ea.style.display='none';b.body.appendChild(ea);ba.iframe=ea;ba.iframeData={};ba.tagJsIframeAppendedTime=h();},x=function(aa){var ba=function(event){try{var da=event.data;if(da.name in f)aa.events.push({name:da.name,source:event.source,data:da.data});}catch(ea){}},ca=aa.iframe.contentWindow.parent;ca.addEventListener('message',ba,false);},y=function(aa){if(aa.context&&aa.context.sourceUrl)return true;try{return !!JSON.parse(decodeURI(aa.name)).ampcontextVersion;}catch(ba){return false;}},z=function(aa){var ba=h(),ca=l()[0],da=j().parentElement,ea=ca!=a.top,fa=ca.$sf&&ca.$sf.ext,ga=o(ca),ha=m();p(ha);var ia={amp:y(ca),events:[],tagJsInitTime:ba,rootElement:da,iframe:null,tagJsIframeAppendedTime:ha.iframeAppendedTime||0,url:ga,domain:s(),channel:n(o(ca)),width:screen.width,height:screen.height,pixelratio:a.devicePixelRatio,placementindex:ha.ads.length,crossdomain:ea,safeframe:!!fa,placementid:g.placementid,format:g.format||'300x250',testmode:!!g.testmode,onAdLoaded:g.onAdLoaded,onAdError:g.onAdError};if(g.bidid)ia.bidid=g.bidid;if(ea){w(ha,ia);}else{u(ha,ia,ca.document);v(ia);}; x(ia);ia.rootElement.dataset.placementid=ia.placementid;ha.ads.push(ia);};try{z();}catch(aa){i(aa.message||aa);throw aa;}})(window,document,location);\n<\/script>\n"+("native"===e?'<div class="thirdPartyRoot"><a class="fbAdLink"><div class="fbAdMedia thirdPartyMediaClass"></div><div class="fbAdSubtitle thirdPartySubtitleClass"></div><div class="fbDefaultNativeAdWrapper"><div class="fbAdCallToAction thirdPartyCallToActionClass"></div><div class="fbAdTitle thirdPartyTitleClass"></div></div></a></div>':"")+"</div></body></html>"},v=function(){return encodeURIComponent((0,c.getTopWindowUrl)())},y=e.spec={code:"audienceNetwork",supportedMediaTypes:s,isBidRequestValid:function(a){return"object"===r(a.params)&&"string"==typeof a.params.placementId&&a.params.placementId.length>0&&Array.isArray(a.sizes)&&a.sizes.length>0&&(p(a.params.format)||a.sizes.map(u).some(m))},buildRequests:function(a){var e=[],t=[],r=[],i=[],o=[];a.forEach((function(a){return a.sizes.map(u).filter((function(e){return m(e)||p(a.params.format)})).slice(0,1).forEach((function(n){e.push(a.params.placementId),t.push(a.params.format||n),r.push(n),i.push(l(a.params.format)),o.push(a.bidId)}))}));var c=b(),s=v(),f={placementids:e,adformats:t,testmode:c,pageurl:s,sdk:i},h=t.findIndex(p);if(-1!==h){var y=r[h].split("x").map(Number),g=n(y,2);f.playerwidth=g[0],f.playerheight=g[1]}var w=(0,d.formatQS)(f);return[{adformats:t,data:w,method:"GET",requestIds:o,sizes:r,url:"https://an.facebook.com/v2/placementbid.json"}]},interpretResponse:function(a,e){var t=a.body,r=e.adformats,i=e.requestIds,d=e.sizes,c=Number(o.config.getConfig().bidderTimeout);return t.errors&&t.errors.length?[]:Object.keys(t.bids).map((function(a){return t.bids[a]})).reduce((function(a,e){return a.concat(e)}),[]).map((function(a,e){var t=a.bid_id,o=a.placement_id,s=a.bid_price_cents,m=r[e],l=f(u(d[e])),b=n(l,2),y=b[0],g=b[1],w=h(o,m,t),A={requestId:i[e],cpm:s/100,width:y,height:g,ad:w,ttl:c,creativeId:o,netRevenue:!0,currency:"USD",hb_bidder:"fan",fb_bidid:t,fb_format:m,fb_placementid:o};if(p(m)){var _=v();A.mediaType="video",A.vastUrl="https://an.facebook.com/v1/instream/vast.xml?placementid="+o+"&pageurl="+_+"&playerwidth="+y+"&playerheight="+g+"&bidid="+t}return A}))}};(0,i.registerBidder)(y)},113:function(a,e){}},[111]);
pbjsChunk([92],{174:function(e,t,i){e.exports=i(175)},175:function(e,t,i){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=a(i(8)),d=a(i(3)),u=a(i(2)),l=r(i(0)),p=i(4),f=r(i(12)),c=a(i(5)),g=a(i(1)),m="INDEXEXCHANGE",v="indexExchange",y={INDEX_DEBUG_MODE:{queryParam:"pbjs_ix_debug",mode:{sandbox:{topFrameLimit:10,queryValue:"sandbox",siteID:"999990"}}}},I={siteID:!0,playerType:!0,protocols:!0,maxduration:!0},h={minduration:0,startdelay:"preroll",linearity:"linear",mimes:[],allowVPAID:!0,apiList:[]},_={HTML5:!0,FLASH:!0},D={VAST2:[2,5],VAST3:[3,6]},x={FLASH:[1,2],HTML5:[2]},b={linear:1,nonlinear:2},q={preroll:0,midroll:-1,postroll:-2},R={preroll:"pr",midroll:"m",postroll:"po"},w={FLASH:["video/mp4","video/x-flv"],HTML5:["video/mp4","video/webm"]},T={FLASH:["application/x-shockwave-flash"],HTML5:["application/javascript"]},E="http://as.casalemedia.com/cygnus?v=8&fn=pbjs.handleCygnusResponse",S="https://as-sec.casalemedia.com/cygnus?v=8&fn=pbjs.handleCygnusResponse";window.cygnus_index_parse_res=function(e){try{if(e){if("object"!==("undefined"==typeof _IndexRequestData?"undefined":o(_IndexRequestData))||"object"!==o(_IndexRequestData.impIDToSlotID)||void 0===_IndexRequestData.impIDToSlotID[e.id])return;var t,i=1;"object"===o(_IndexRequestData.reqOptions)&&"object"===o(_IndexRequestData.reqOptions[e.id])&&("function"==typeof _IndexRequestData.reqOptions[e.id].callback&&(t=_IndexRequestData.reqOptions[e.id].callback),"number"==typeof _IndexRequestData.reqOptions[e.id].targetMode&&(i=_IndexRequestData.reqOptions[e.id].targetMode)),_IndexRequestData.lastRequestID=e.id,_IndexRequestData.targetIDToBid={},_IndexRequestData.targetIDToResp={},_IndexRequestData.targetIDToCreative={};for(var r=[],a=void 0===e.seatbid?0:e.seatbid.length,s=0;s<a;s++)for(var n=0;n<e.seatbid[s].bid.length;n++){var d=e.seatbid[s].bid[n];if("object"===o(d.ext)&&"string"==typeof d.ext.pricelevel&&void 0!==_IndexRequestData.impIDToSlotID[e.id][d.impid]){var u,l,p,f=_IndexRequestData.impIDToSlotID[e.id][d.impid];"string"==typeof d.ext.dealid?(u=1===i?f+d.ext.pricelevel:f+"_"+d.ext.dealid,l=f+"_"+d.ext.dealid,p="IPM_"):(u=f+d.ext.pricelevel,l=f+d.ext.pricelevel,p="IOM_"),void 0===_IndexRequestData.targetIDToBid[u]?_IndexRequestData.targetIDToBid[u]=[d.adm]:_IndexRequestData.targetIDToBid[u].push(d.adm),void 0===_IndexRequestData.targetIDToCreative[l]?_IndexRequestData.targetIDToCreative[l]=[d.adm]:_IndexRequestData.targetIDToCreative[l].push(d.adm);var c={};c.impressionID=d.impid,void 0!==d.ext.dealid&&(c.dealID=d.ext.dealid),c.bid=d.price,c.slotID=f,c.priceLevel=d.ext.pricelevel,c.target=p+u,_IndexRequestData.targetIDToResp[u]=c,r.push(c)}}"function"==typeof t&&(0===r.length?t(e.id):t(e.id,r))}}catch(e){}"function"==typeof window.cygnus_index_ready_state&&window.cygnus_index_ready_state()},window.index_render=function(e,t){try{var i=_IndexRequestData.targetIDToCreative[t].pop();if(null!=i)e.write(i);else{var r="http:"===l.getTopWindowLocation().protocol?"http://as.casalemedia.com":"https://as-sec.casalemedia.com";r+="/headerstats?type=RT&s="+cygnus_index_args.siteID+"&u="+encodeURIComponent(location.href)+"&r="+_IndexRequestData.lastRequestID,(new Image).src=r+"&blank="+t}}catch(e){}},window.headertag_render=function(e,t,i){for(var r=i,a=t.split(","),s=0;s<a.length;s++)if(a[s].split("_")[0]==r)return void index_render(e,a[s])},window.cygnus_index_args={};var C=[[728,90],[120,600],[300,250],[160,600],[336,280],[234,60],[300,600],[300,50],[320,50],[970,250],[300,1050],[970,90],[180,150]],A=function(){return O(y.INDEX_DEBUG_MODE.queryParam).toUpperCase()},O=function(e){for(var t=window,i="",r=0;r<y.INDEX_DEBUG_MODE.mode.sandbox.topFrameLimit&&t.parent!=t;r++){try{i=t.document.referrer}catch(e){}t=t.parent}var a=top===self?location.href:i,s="[\\?&]"+e+"=([^&#]*)",o=new RegExp(s).exec(a);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))},N=function(){function e(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}function t(t){return r.lastIndex=0,r.test(t)?t.replace(r,e):t}function i(e,t,i){if(this.initialized=!1,"number"!=typeof e||e%1!=0||e<0)throw"Invalid Site ID";"number"==typeof(i=Number(i))&&i%1==0&&i>=0&&(this.timeoutDelay=i),this.siteID=e,this.impressions=[],this._parseFnName=void 0,this.sitePage=void 0;try{this.sitePage=l.getTopWindowUrl()}catch(e){}if(void 0!==this.sitePage&&""!==this.sitePage||(top===self?this.sitePage=location.href:this.sitePage=document.referrer),top===self?this.topframe=1:this.topframe=0,void 0!==t){if("function"!=typeof t)throw"Invalid jsonp target function";this._parseFnName="cygnus_index_args.parseFn"}void 0===_IndexRequestData.requestCounter?_IndexRequestData.requestCounter=Math.floor(256*Math.random()):_IndexRequestData.requestCounter=(_IndexRequestData.requestCounter+1)%256,this.requestID=String((new Date).getTime()%2592e3*256+_IndexRequestData.requestCounter+256),this.initialized=!0}window.cygnus_index_args.parseFn=cygnus_index_parse_res;var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};i.prototype.serialize=function(){var e='{"id":"'+this.requestID+'","site":{"page":"'+t(this.sitePage)+'"';"string"==typeof document.referrer&&""!==document.referrer&&(e+=',"ref":"'+t(document.referrer)+'"'),e+='},"imp":[';for(var i=0;i<this.impressions.length;i++){var r=this.impressions[i],a=[];e+='{"id":"'+r.id+'", "banner":{"w":'+r.w+',"h":'+r.h+',"topframe":'+String(this.topframe)+"}","number"==typeof r.bidfloor&&(e+=',"bidfloor":'+r.bidfloor,"string"==typeof r.bidfloorcur&&(e+=',"bidfloorcur":"'+t(r.bidfloorcur)+'"')),"string"!=typeof r.slotID||r.slotID.match(/^\s*$/)||a.push('"sid":"'+t(r.slotID)+'"'),"number"==typeof r.siteID&&a.push('"siteID":'+r.siteID),a.length>0&&(e+=',"ext": {'+a.join()+"}"),i+1===this.impressions.length?e+="}":e+="},"}return e+="]}"},i.prototype.setPageOverride=function(e){return"string"==typeof e&&!e.match(/^\s*$/)&&(this.sitePage=e,!0)},i.prototype.addImpression=function(e,t,i,r,a,s){var o={id:String(this.impressions.length+1)};if("number"!=typeof e||e<=1)return null;if("number"!=typeof t||t<=1)return null;if(("string"==typeof a||"number"==typeof a)&&String(a).length<=50&&(o.slotID=String(a)),o.w=e,o.h=t,void 0!==i&&"number"!=typeof i)return null;if("number"==typeof i){if(i<0)return null;if(o.bidfloor=i,void 0!==r&&"string"!=typeof r)return null;o.bidfloorcur=r}if(void 0!==s){if(!("number"==typeof s&&s%1==0&&s>=0))return null;o.siteID=s}return this.impressions.push(o),o.id},i.prototype.buildRequest=function(){if(0!==this.impressions.length&&!0===this.initialized){var e,t=encodeURIComponent(this.serialize());A()==y.INDEX_DEBUG_MODE.mode.sandbox.queryValue.toUpperCase()?(this.siteID=y.INDEX_DEBUG_MODE.mode.sandbox.siteID,e="http:"===l.getTopWindowLocation().protocol?"http://sandbox.ht.indexexchange.com":"https://sandbox.ht.indexexchange.com",l.logMessage("IX DEBUG: Sandbox mode activated")):e="http:"===l.getTopWindowLocation().protocol?"http://as.casalemedia.com":"https://as-sec.casalemedia.com";var i=encodeURIComponent("0.34.2");return e+="/cygnus?v=7&fn=cygnus_index_parse_res&s="+this.siteID+"&r="+t+"&pid=pb"+i,"number"==typeof this.timeoutDelay&&this.timeoutDelay%1==0&&this.timeoutDelay>=0&&(e+="&t="+this.timeoutDelay),e}};try{if("undefined"==typeof cygnus_index_args||void 0===cygnus_index_args.siteID||void 0===cygnus_index_args.slots)return;var s=new i(cygnus_index_args.siteID,cygnus_index_args.parseFn,cygnus_index_args.timeout);cygnus_index_args.url&&"string"==typeof cygnus_index_args.url&&s.setPageOverride(cygnus_index_args.url),_IndexRequestData.impIDToSlotID[s.requestID]={},_IndexRequestData.reqOptions[s.requestID]={};for(var o,n,d=0;d<cygnus_index_args.slots.length;d++)o=cygnus_index_args.slots[d],(n=s.addImpression(o.width,o.height,o.bidfloor,o.bidfloorcur,o.id,o.siteID))&&(_IndexRequestData.impIDToSlotID[s.requestID][n]=String(o.id));return"number"==typeof cygnus_index_args.targetMode&&(_IndexRequestData.reqOptions[s.requestID].targetMode=cygnus_index_args.targetMode),"function"==typeof cygnus_index_args.callback&&(_IndexRequestData.reqOptions[s.requestID].callback=cygnus_index_args.callback),s.buildRequest()}catch(e){l.logError("Error calling index adapter",m,e)}},B=function(){function e(e){var t=d.default.createBid(2);return t.bidderCode=v,u.default.addBidResponse(e,t),t}function t(t){if(l.hasValidBidRequest(t.params,W,m)){var i=0;l.isArray(t.sizes[0])||(t.sizes=[t.sizes]);for(var r=0;r<t.sizes.length;r++){for(var s=!1,o=0;o<C.length;o++)if(t.sizes[r][0]==C[o][0]&&t.sizes[r][1]==C[o][1]){t.sizes[r][0]=Number(t.sizes[r][0]),t.sizes[r][1]=Number(t.sizes[r][1]),s=!0;break}if(s){var n=!1;if(t.params.size&&l.isArray(t.params.size)){if(t.sizes[r][0]!=t.params.size[0]||t.sizes[r][1]!=t.params.size[1]){e(t.placementCode);continue}n=!0}t.params.timeout&&void 0===cygnus_index_args.timeout&&(cygnus_index_args.timeout=t.params.timeout);var d=Number(t.params.siteID);if("number"!=typeof d||d%1!=0||d<=0)l.logMessage(m+" slot excluded from request due to invalid siteID"),e(t.placementCode);else if(d&&void 0===cygnus_index_args.siteID&&(cygnus_index_args.siteID=d),l.hasValidBidRequest(t.params,W,m)){$=t.placementCode;var u=t.params[W[0]];if("string"!=typeof u&&"number"!=typeof u){l.logError(m+" bid contains invalid slot ID from "+t.placementCode+". Discarding slot"),e(t.placementCode);continue}i++;var p={width:t.sizes[r][0],height:t.sizes[r][1]},f=n?String(u):u+"_"+i;if(X[f]=t,cygnus_index_args.slots=a({id:f,width:p.width,height:p.height,siteID:d||cygnus_index_args.siteID},cygnus_index_args.slots),t.params.tier2SiteID){var c=Number(t.params.tier2SiteID);if(void 0!==c&&!c)continue;cygnus_index_args.slots=a({id:"T1_"+f,width:p.width,height:p.height,siteID:c},cygnus_index_args.slots)}if(t.params.tier3SiteID){var g=Number(t.params.tier3SiteID);if(void 0!==g&&!g)continue;cygnus_index_args.slots=a({id:"T2_"+f,width:p.width,height:p.height,siteID:g},cygnus_index_args.slots)}}}else l.logMessage(m+" slot excluded from request due to no valid sizes"),e(t.placementCode)}}else e(t.placementCode)}function i(e,t){var i={id:e,imp:t,site:{page:l.getTopWindowUrl()}};if(!l.isEmpty(i.imp)){var r=A(i.imp[0].ext.siteID,i);c.default.loadScript(r)}}function r(e){if(B(e)){e=V(e),J[e.bidId]={},J[e.bidId].prebid=e;var t={};t.id=e.bidId,t.ext={},t.ext.siteID=e.params.video.siteID,delete e.params.video.siteID;var i=e.params.video.startdelay;if(0===e.params.video.startdelay?i="preroll":void 0===q[e.params.video.startdelay]&&(i="midroll"),t.ext.sid=[R[i],1,1,"s"].join("_"),t.video={},e.params.video){Object.keys(e.params.video).filter((function(e){return void 0!==I[e]||void 0!==h[e]})).forEach((function(i){"startdelay"===i&&void 0!==q[e.params.video[i]]&&(e.params.video[i]=q[e.params.video[i]]),"linearity"===i&&void 0!==b[e.params.video[i]]&&(e.params.video[i]=b[e.params.video[i]]),t.video[i]=e.params.video[i]}));var r=F(e.sizes).shift();if(r&&r.width&&r.height)return t.video.w=r.width,t.video.h=r.height,J[e.bidId].cygnus=t,t}}}function a(e,t){for(var i=0;i<t.length;i++)if(e.id===t[i].id)return t;return t.push(e),t}function g(e,t){var i=e.slots,r={};return l._each(i,(function(e){e.id===t&&(r=e)})),r}function y(){var e=d.default.createBid(2);e.bidderCode=v,u.default.addBidResponse($,e)}function A(e,t){var i="https:"===window.location.protocol?f.parse(S):f.parse(E);return i.search.s=e,i.search.r=encodeURIComponent(JSON.stringify(t)),f.format(i)}function O(e,t){var i=d.default.createBid(e,t);return i.code=H.getBidderCode(),i.bidderCode=H.getBidderCode(),i}function B(e){if("video"===e.mediaType&&l.hasValidBidRequest(e.params.video,Object.keys(I),m)&&M(e.params.video.siteID)&&P(e.params.video.playerType)&&j(e.params.video.protocols)&&U(e.params.video.maxduration)&&e.params.video.maxduration>0)return e}function M(e){var t=+e;return!(isNaN(t)||!l.isNumber(t)||t<0||l.isArray(e))||(l.logError("Site ID is invalid, must be a number > 0. Got: "+e),!1)}function P(e){return void 0!==e&&l.isStr(e)?(e=e.toUpperCase(),!!_[e]||(l.logError("Player type is invalid, must be one of: "+Object.keys(_)),!1)):(l.logError("Player type is invalid, must be one of: "+Object.keys(_)),!1)}function j(e){if(!l.isArray(e)||l.isEmpty(e))return l.logError("Protocol array is not an array. Got: "+e),!1;for(var t=0;t<e.length;t++){var i=e[t];if(!D[i])return l.logError("Protocol array contains an invalid protocol, must be one of: "+D+". Got: "+i),!1}return!0}function U(e){var t=+e;return!(isNaN(t)||!l.isNumber(t)||l.isArray(e))||(l.logError("Duration is invalid, must be a number. Got: "+e),!1)}function z(e){if(!l.isArray(e)||l.isEmpty(e))return l.logError("MIMEs array is not an array. Got: "+e),!1;for(var t=0;t<e.length;t++){var i=e[t];if(!l.isStr(i)||l.isEmptyStr(i)||!/^\w+\/[\w-]+$/.test(i))return l.logError("MIMEs array contains an invalid MIME type. Got: "+i),!1}return!0}function L(e){return!!b[e]||(l.logInfo("Linearity is invalid, must be one of: "+Object.keys(b)+". Got: "+e),!1)}function G(e){if(void 0===q[e]){var t=+e;if(isNaN(t)||!l.isNumber(t)||t<-2||l.isArray(e))return l.logInfo("Start delay is invalid, must be a number >= -2. Got: "+e),!1}return!0}function k(e,t){if(!l.isArray(e)||l.isEmpty(e))return l.logInfo("API array is not an array. Got: "+e),!1;for(var i=0;i<e.length;i++){var r=+e[i];if(isNaN(r)||!x[t].includes(r))return l.logInfo("API array contains an invalid API version. Got: "+r),!1}return!0}function V(e){e.params.video.siteID=+e.params.video.siteID,e.params.video.maxduration=+e.params.video.maxduration,e.params.video.protocols=e.params.video.protocols.reduce((function(e,t){return e.concat(D[t])}),[]);var t=e.params.video.minduration;void 0!==t&&U(t)||(l.logInfo("Using default value for 'minduration', default: "+h.minduration),e.params.video.minduration=h.minduration);var i=e.params.video.startdelay;void 0!==i&&G(i)||(l.logInfo("Using default value for 'startdelay', default: "+h.startdelay),e.params.video.startdelay=h.startdelay);var r=e.params.video.linearity;void 0!==r&&L(r)||(l.logInfo("Using default value for 'linearity', default: "+h.linearity),e.params.video.linearity=h.linearity);var a=e.params.video.mimes,s=e.params.video.playerType.toUpperCase();void 0!==a&&z(a)||(l.logInfo("Using default value for 'mimes', player type: '"+s+"', default: "+w[s]),e.params.video.mimes=w[s]);var o=e.params.video.apiList;return void 0===o||k(o,s)||(l.logInfo("Removing invalid api versions from api list."),l.isArray(o)?e.params.video.apiList=o.filter((function(e){return x[s].includes(e)})):e.params.video.apiList=[]),void 0===o&&e.params.video.allowVPAID&&l.isA(e.params.video.allowVPAID,"Boolean")&&(e.params.video.mimes=e.params.video.mimes.concat(T[s]),e.params.video.apiList=x[s]),l.isEmpty(e.params.video.apiList)&&(l.logInfo("API list is empty, VPAID ads will not be requested."),delete e.params.video.apiList),delete e.params.video.playerType,delete e.params.video.allowVPAID,e}function F(e){var t=[],i={};if(l.isArray(e)&&2===e.length&&!l.isArray(e[0])){if(!l.isNumber(e[0])||!l.isNumber(e[1]))return t;i.width=e[0],i.height=e[1],t.push(i)}else if("object"===(void 0===e?"undefined":o(e)))for(var r=0;r<e.length;r++){var a=e[r];(i={}).width=parseInt(a[0],10),i.height=parseInt(a[1],10),t.push(i)}return t}var H=new n.default("indexExchange"),X={},W=["id","siteID"],$="",J={};return pbjs.handleCygnusResponse=function(e){if(!e||!e.seatbid||l.isEmpty(e.seatbid))return l.logInfo("Cygnus returned no bids"),void Object.keys(J).forEach((function(e){var t=J[e].prebid,i=O(p.STATUS.NO_BID,t);l.logInfo(JSON.stringify(i)),u.default.addBidResponse(t.placementCode,i)}));e.seatbid.forEach((function(e){e.bid.forEach((function(e){var t=!0;if(void 0===J[e.impid])return l.logInfo("Cygnus returned mismatched id"),void Object.keys(J).forEach((function(e){var t=J[e].prebid,i=O(p.STATUS.NO_BID,t);u.default.addBidResponse(t.placementCode,i)}));e.ext.vasturl||(l.logInfo("Cygnus returned no vast url"),t=!1),f.parse(e.ext.vasturl).host===window.location.host&&(l.logInfo("Cygnus returned no vast url"),t=!1);var i=void 0;if("string"==typeof e.ext.pricelevel){var r=e.ext.pricelevel;"_"===r.charAt(0)&&(r=r.slice(1)),i=r/100,l.isNumber(i)&&!isNaN(i)||(l.logInfo("Cygnus returned invalid price"),t=!1)}else t=!1;var a=J[e.impid].prebid,s=J[e.impid].cygnus;if(t){var o=O(p.STATUS.GOOD,a);o.cpm=i,o.width=s.video.w,o.height=s.video.h,o.vastUrl=e.ext.vasturl,o.mediaType="video",u.default.addBidResponse(a.placementCode,o)}else{var n=O(p.STATUS.NO_BID,a);u.default.addBidResponse(a.placementCode,n)}}))})),J={}},s(this,{callBids:function(a){if(void 0!==a&&!l.isEmpty(a)){var s=a.bids;void 0===window._IndexRequestData&&(window._IndexRequestData={},window._IndexRequestData.impIDToSlotID={},window._IndexRequestData.reqOptions={}),_IndexRequestData.targetAggregate={open:{},private:{}},cygnus_index_args.slots=[];var n=[];s.forEach((function(e){if("video"===e.mediaType){var i=r(e);void 0!==i&&n.push(i)}else t(e)})),n.length>0&&i(a.bidderRequestId,n),cygnus_index_args.slots.length>20&&l.logError("Too many unique sizes on slots, will use the first 20.",m),cygnus_index_args.slots.length>0&&c.default.loadScript(N());var p=!1;window.cygnus_index_ready_state=function(){if(!p){p=!0;try{var t=_IndexRequestData.targetIDToBid;for(var i in X){var r=X[i].placementCode,a=[];for(var s in t){var n=/^(T\d_)?(.+)_(\d+)$/.exec(s);if(n){var f=n[1]||"",c=n[2],I=n[3],h=g(cygnus_index_args,f+c);if(c===i){var _=d.default.createBid(1);_.cpm=I/100,_.ad=t[s][0],_.bidderCode=v,_.width=h.width,_.height=h.height,_.siteID=h.siteID,"object"===o(_IndexRequestData.targetIDToResp)&&"object"===o(_IndexRequestData.targetIDToResp[s])&&void 0!==_IndexRequestData.targetIDToResp[s].dealID?(void 0===_IndexRequestData.targetAggregate.private[r]&&(_IndexRequestData.targetAggregate.private[r]=[]),_.dealId=_IndexRequestData.targetIDToResp[s].dealID,_IndexRequestData.targetAggregate.private[r].push(c+"_"+_IndexRequestData.targetIDToResp[s].dealID)):(void 0===_IndexRequestData.targetAggregate.open[r]&&(_IndexRequestData.targetAggregate.open[r]=[]),_IndexRequestData.targetAggregate.open[r].push(c+"_"+I)),a.push(_)}}else l.logError("Unable to parse "+s+", skipping slot",m)}if(a.length>0)for(var D=0;D<a.length;D++)u.default.addBidResponse(r,a[D]);else e(r)}}catch(e){l.logError("Error calling index adapter",m,e),y()}finally{_IndexRequestData.targetIDToBid={}}X={}}}}}})};g.default.registerBidAdapter(new B,"indexExchange",{supportedMediaTypes:["video"]}),e.exports=B}},[174]);
pbjsChunk([31],{186:function(e,r,t){t(187),e.exports=t(188)},187:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.spec=void 0;var n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},a=(function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r})(t(0)),o=t(9),u=t(6),c=r.spec={code:"kargo",isBidRequestValid:function(e){return!(!e||!e.params)&&!!e.params.placementId},buildRequests:function(e,r){var t=o.config.getConfig("currency"),u=n({},{timeout:r.timeout,currency:t,cpmGranularity:1,cpmRange:{floor:0,ceil:20},adSlotIds:a._map(e,(function(e){return e.params.placementId}))},c._getAllMetadata()),i=encodeURIComponent(JSON.stringify(u));return n({},r,{method:"GET",url:"https://krk.kargo.com/api/v1/bid",data:"json="+i,currency:t})},interpretResponse:function(e,r){var t=e.body,n={};a._each(r.bids,(function(e){return n[e.params.placementId]=e}));var o=[];for(var u in t){var c=t[u];o.push({requestId:n[u].bidId,cpm:Number(c.cpm),width:c.width,height:c.height,ad:c.adm,ttl:300,creativeId:u,netRevenue:!0,currency:r.currency})}return o},_readCookie:function(e){var r=e+"=",t=document.cookie.split(";");for(var n in t){for(var a=t[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(r))return a.substring(r.length,a.length)}return null},_getCrbIds:function(){try{var e=JSON.parse(decodeURIComponent(c._readCookie("krg_crb"))),r={};if(e&&e.v){var t=JSON.parse(atob(e.v));t&&t.syncIds&&(r=t.syncIds)}return r}catch(e){return{}}},_getUid:function(){try{var e=JSON.parse(decodeURIComponent(c._readCookie("krg_uid"))),r={};return e&&e.v&&(r=e.v),r}catch(e){return{}}},_getKruxUserId:function(){return c._getLocalStorageSafely("kxkar_user")},_getKruxSegments:function(){return c._getLocalStorageSafely("kxkar_segs")},_getKrux:function(){var e=c._getKruxSegments(),r=[];return e&&(r=e.split(",")),{userID:c._getKruxUserId(),segments:r}},_getLocalStorageSafely:function(e){try{return localStorage.getItem(e)}catch(e){return null}},_getUserIds:function(){var e=c._getUid(),r=c._getCrbIds();return{kargoID:e.userId,clientID:e.clientId,crbIDs:r,optOut:e.optOut}},_getAllMetadata:function(){return{userIDs:c._getUserIds(),krux:c._getKrux(),pageURL:window.location.href,rawCRB:c._readCookie("krg_crb")}}};(0,u.registerBidder)(c)},188:function(e,r){}},[186]);
pbjsChunk([24],{218:function(e,t,r){r(219),e.exports=r(220)},219:function(e,t,r){"use strict";function n(e,t){var r=t.bids,n=t.startTime,a=[],d=r[0].params.sendBoPixel;void 0===d&&(d=!0);for(var u=0;u<e.length;u++){var s=e[u],c={};if(e.length==r.length)c.requestId=r[u].bidId;else for(var p=u;p<r.length;p++){var m=r[p];if(String(m.params.unit)===String(s.adunitid)&&o(s,m)&&!m.matched){c.requestId=m.bidId,m.matched=!0;break}}if(s.pub_rev){c.cpm=Number(s.pub_rev)/1e3;var f=s.creative[0];f&&(c.width=f.width,c.height=f.height),c.creativeId=f.id,c.ad=s.html,s.deal_id&&(c.dealId=s.deal_id),c.ttl=300,c.netRevenue=!0,c.currency=s.currency,s.tbd&&(c.tbd=s.tbd),c.ts=s.ts;var h=l.config.getConfig("bidderTimeout");window.PREBID_TIMEOUT&&(h=Math.min(window.PREBID_TIMEOUT,h));var b={bd:+new Date-n,br:"0",bt:h,bs:window.location.hostname};b.br=b.bt<b.bd?"t":"p",b.bp=s.pub_rev,b.ts=s.ts;var y=void 0;d&&(y=i(s.creative[0],b)),y&&v.userSync.registerSync("image",w,y),a.push(c)}}return a}function i(e,t){var r=e.tracking.impression.match(/([^?]+\/)ri\?/);if(r)return r[1]+"bo?"+a(t)}function a(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]||delete e[t]);return b._map(Object.keys(e),(function(t){return t+"="+e[t]})).join("&")}function o(e,t){var r=b.parseSizesInput(t.sizes);if(!r)return!1;var n=!1,i=e.creative&&e.creative[0],a=String(i.width)+"x"+String(i.height);if(b.isArray(r))for(var o=0;o<r.length;o++){var d=r[o];if(String(d)===String(a)){n=!0;break}}return n}function d(e){var t=void 0,r=void 0,n=window,i=document,a=i.documentElement,o=void 0;if(e){try{n=window.top,i=window.top.document}catch(e){return}a=i.documentElement,o=i.body,t=n.innerWidth||a.clientWidth||o.clientWidth,r=n.innerHeight||a.clientHeight||o.clientHeight}else a=i.documentElement,t=n.innerWidth||a.clientWidth,r=n.innerHeight||a.clientHeight;return t+"x"+r}function u(e,t){var r=t[e];return b.isArray(r)&&(r=r.join(",")),(e.toLowerCase()+"="+r.toLowerCase()).replace("+",".").replace("/","_")}function s(e,t,r){if(b.isArray(e)){t.auid=b._map(e,(function(e){return e.params.unit})).join(","),t.dddid=b._map(e,(function(e){return e.transactionId})).join(","),t.aus=b._map(e,(function(e){return b.parseSizesInput(e.sizes).join(",")})).join("|");var n=[],i=!1;e.forEach((function(e){if(e.params.customParams){var t=b._map(Object.keys(e.params.customParams),(function(t){return u(t,e.params.customParams)})),r=window.btoa(t.join("&"));i=!0,n.push(r)}else n.push("")})),i&&(t.tps=n.join(","));var a=[],o=!1;return e.forEach((function(e){e.params.customFloor?(a.push(1e3*e.params.customFloor),o=!0):a.push(0)})),o&&(t.aumfs=a.join(",")),{method:"GET",url:"//"+r+"/w/1.0/arj",data:t,payload:{bids:e,startTime:new Date}}}}function c(e){return e.map((function(e){return{method:"GET",url:"http://"+e.params.delDomain+"/v/1.0/avjp",data:p(e),payload:{bid:e,startTime:new Date}}}))}function p(e){var t=e.params.video,r={auid:e.params.unit};return Object.keys(t).forEach((function(e){r[e]="openrtb"===e?JSON.stringify(t[e]):t[e]})),r.be="true",r}function m(e,t){var r=t.bid,n=(t.startTime,[]);if(void 0!==e&&""!==e.vastUrl&&""!==e.pub_rev){var i={};i.requestId=r.bidId,i.bidderCode=w,i.ttl=300,i.netRevenue=!0,i.currency=e.currency,i.cpm=Number(e.pub_rev)/1e3,i.width=e.width,i.height=e.height,i.creativeId=e.adid,i.vastUrl=e.vastUrl,i.mediaType=y.VIDEO,n.push(i)}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=r(9),h=r(6),b=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t})(r(0)),v=r(18),y=r(13),g=[y.BANNER,y.VIDEO],w="openx",I=t.spec={code:w,supportedMediaTypes:g,isBidRequestValid:function(e){return!!(e.mediaType!==y.VIDEO||"object"===f(e.params.video)&&e.params.video.url)&&!(!e.params.unit||!e.params.delDomain)},buildRequests:function(e){var t=b.inIframe(),r=window.parent!==window?document.referrer:window.location.href;if(0!==e.length){var n=[],i=[],a=[],o=[];if(e.forEach((function(e){e.mediaType===y.VIDEO?o.push(e):a.push(e)})),0!==a.length){var u=a[0].params.delDomain,p=a[0].params.bc||"hb_pb_2.0.0";n=[s(a,{ju:r,jr:r,ch:document.charSet||document.characterSet,res:screen.width+"x"+screen.height+"x"+screen.colorDepth,ifr:t,tz:(new Date).getTimezoneOffset(),tws:d(t),ef:"bt%2Cdb",be:1,bc:p,nocache:(new Date).getTime()},u)]}return 0!==o.length&&(i=c(o)),n.concat(i)}},interpretResponse:function(e,t){var r=e.body,i=y.BANNER;if(t&&t.payload&&(t.payload.bids?i=t.payload.bids[0].mediaType:t.payload.bid&&(i=t.payload.bid.mediaType)),i===y.VIDEO)return r&&r.pixels&&v.userSync.registerSync("iframe","openx",r.pixels),m(r,t.payload);var a=r.ads.ad;return r.ads&&r.ads.pixels&&v.userSync.registerSync("iframe",w,r.ads.pixels),a||(a=[]),n(a,t.payload)}};(0,h.registerBidder)(I)},220:function(e,t){}},[218]);
pbjsChunk([76],{268:function(e,t,r){e.exports=r(269)},269:function(e,t,r){"use strict";function i(){return"https:"===location.protocol}function n(e,t){return(t.cpm||0)-(e.cpm||0)}function o(){return[window.screen.width,window.screen.height].join("x")}function a(){var e=(function(){var e=window.DigiTrust&&(v.config.getConfig("digiTrustId")||window.DigiTrust.getUser({member:"T9QSFKPDN9"}));return e&&e.success&&e.identity||null})();return!e||e.privacy&&e.privacy.optout?[]:["dt.id",e.id,"dt.keyv",e.keyv,"dt.pref",0]}function s(e,t){return"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='"+t+"'>\n<script type='text/javascript'>"+e+"<\/script>\n</div>\n</body>\n</html>"}function d(e){var t=e.params;if("video"===e.mediaType){var r=[];return t.video.playerWidth&&t.video.playerHeight?r=[t.video.playerWidth,t.video.playerHeight]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(r=e.sizes[0]),r}return u(Array.isArray(t.sizes)?t.sizes.map((function(e){return(y[e]||"").split("x")})):e.sizes)}function u(e){var t=[15,2,9];return l.parseSizesInput(e).reduce((function(e,t){var r=parseInt(y[t],10);return r&&e.push(r),e}),[]).sort((function(e,r){var i=t.indexOf(e),n=t.indexOf(r);return i>-1||n>-1?-1===i?1:-1===n?-1:i-n:e-r}))}Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0;var c=(function(){function e(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.masSizeOrdering=u,t.resetUserSync=function(){m=!1};var l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t})(r(0)),f=r(6),v=r(9),y={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",43:"320x50",44:"300x50",48:"300x300",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",65:"640x480",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",195:"600x300",199:"640x200",213:"1030x590",214:"980x360"};l._each(y,(function(e,t){return y[e]=t}));var x=t.spec={code:"rubicon",aliases:["rubiconLite"],supportedMediaTypes:["video"],isBidRequestValid:function(e){if("object"!==p(e.params))return!1;var t=e.params;return!!/^\d+$/.test(t.accountId)&&(!(d(e).length<1)&&!!("video"!==e.mediaType||"object"===p(t.video)&&t.video.size_id))},buildRequests:function(e,t){return e.map((function(e){if(e.startTime=(new Date).getTime(),"video"===e.mediaType){var r=e.params,n=d(e),s={page_url:r.referrer?r.referrer:l.getTopWindowUrl(),resolution:o(),account_id:r.accountId,integration:"pbjs_lite_v0.34.2",timeout:t.timeout-(Date.now()-t.auctionStart+500),stash_creatives:!0,ae_pass_through_parameters:r.video.aeParams,slots:[]},u={site_id:r.siteId,zone_id:r.zoneId,position:r.position||"btf",floor:parseFloat(r.floor)>.01?r.floor:.01,element_id:e.adUnitCode,name:e.adUnitCode,language:r.video.language,width:n[0],height:n[1],size_id:r.video.size_id};return r.inventory&&"object"===p(r.inventory)&&(u.inventory=r.inventory),r.keywords&&Array.isArray(r.keywords)&&(u.keywords=r.keywords),r.visitor&&"object"===p(r.visitor)&&(u.visitor=r.visitor),s.slots.push(u),{method:"POST",url:"//fastlane-adv.rubiconproject.com/v1/auction/video",data:s,bidRequest:e}}var c=e.params,f=c.accountId,v=c.siteId,y=c.zoneId,x=c.position,m=c.floor,h=c.keywords,b=c.visitor,_=c.inventory,g=c.userId,w=c.referrer;m=(m=parseFloat(m))>.01?m:.01,x=x||"btf";var j=d(e),z=["account_id",f,"site_id",v,"zone_id",y,"size_id",j[0],"alt_size_ids",j.slice(1).join(",")||void 0,"p_pos",x,"rp_floor",m,"rp_secure",i()?"1":"0","tk_flint","pbjs_lite_v0.34.2","tid",e.transactionId,"p_screen_res",o(),"kw",h,"tk_user_key",g];return null!==b&&"object"===(void 0===b?"undefined":p(b))&&l._each(b,(function(e,t){return z.push("tg_v."+t,e)})),null!==_&&"object"===(void 0===_?"undefined":p(_))&&l._each(_,(function(e,t){return z.push("tg_i."+t,e)})),z.push("rand",Math.random(),"rf",w||l.getTopWindowUrl()),z=z.concat(a()),z=z.reduce((function(e,t,r){return r%2==0&&void 0!==z[r+1]?e+t+"="+encodeURIComponent(z[r+1])+"&":e}),"").slice(0,-1),{method:"GET",url:"//fastlane.rubiconproject.com/a/api/fastlane.json",data:z,bidRequest:e}}))},interpretResponse:function(e,t){var r=t.bidRequest,i=(e=e.body).ads;return"object"!==(void 0===e?"undefined":p(e))||"ok"!==e.status?[]:("object"===(void 0===r?"undefined":p(r))&&"video"===r.mediaType&&"object"===(void 0===i?"undefined":p(i))&&(i=i[r.adUnitCode]),!Array.isArray(i)||i.length<1?[]:(i=i.sort(n)).reduce((function(e,t){if("ok"!==t.status)return[];var i={requestId:r.bidId,currency:"USD",creativeId:t.creative_id,cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:v.config.getConfig("rubicon.netRevenue")||!1};if("video"===r.mediaType)i.width=r.params.video.playerWidth,i.height=r.params.video.playerHeight,i.vastUrl=t.creative_depot_url,i.impression_id=t.impression_id;else{i.ad=s(t.script,t.impression_id);var n=y[t.size_id].split("x").map((function(e){return Number(e)})),o=c(n,2);i.width=o[0],i.height=o[1]}return i.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:r.adUnitCode}),e.push(i),e}),[]))},getUserSyncs:function(e){if(!m&&e.iframeEnabled)return m=!0,{type:"iframe",url:"https://tap-secure.rubiconproject.com/partner/scripts/rubicon/emily.html?rtb_ext=1"}}},m=!1;(0,f.registerBidder)(x)}},[268]);
pbjs.processQueue();if(aps.shouldRunThirdParty("ab_testing")){(function(){var a=this;
a.setNPABTEST=function(){if(aps.hasOwnProperty("npabtest")){googletag.cmd.push(function(){aps.logInfo("npabtest : "+aps.npabtest);
googletag.pubads().setTargeting("npabtest",aps.npabtest)
})
}else{aps.logInfo("npabtest not detected.")
}};
aps.setNPABTEST=a.setNPABTEST;
aps.registerEvent(aps.event.on_before_enable_google_services,function(b){a.setNPABTEST()
})
})()
};if(aps.shouldRunThirdParty("a9")&&aps.prebid&&aps.current_domain!="greenstate.com"){!function(d,b,f,j,k,c,e){if(b[d]){return
}function h(a,g){b[d]._Q.push([a,g])
}b[d]={init:function(){h("i",arguments)
},fetchBids:function(){h("f",arguments)
},setDisplayBids:function(){},_Q:[]};
c=f.createElement(j);
c.async=!0;
c.src=k;
e=f.getElementsByTagName(j)[0];
e.parentNode.insertBefore(c,e)
}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js");
apstag.init({pubID:"3070",adServer:"googletag",bidTimeout:2000});
var amznKeysToTarget=["amznbid","amzniid"];
function keyGoogletagSlots(a){return a.reduce(function(b,c){var d=c.getSlotElementId();
b[d]=c;
return b
},{})
}function handleApstagBids(a,b){googletag.cmd.push(function(){var c=keyGoogletagSlots(b);
a.forEach(function(d){var e=c[d.slotID];
if(e){amznKeysToTarget.forEach(function(f){e.setTargeting(f,d[f])
})
}})
})
}aps.registerEvent(aps.event.on_before_refresh_ads,function(a){aps.logInfo("A9 updateSlotsKVPs");
aps.startThirdPartyRefresh("A9");
apstag.fetchBids({slots:aps.a9adSlots,timeout:2000},function(b){var c=googletag.pubads().getSlots();
handleApstagBids(b,c)
});
aps.stopThirdPartyRefresh("A9")
});
googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(a){var b=keyGoogletagSlots(googletag.pubads().getSlots());
var c=b[a.slot.getSlotElementId()];
if(c.J){if(c.J.advertiserId==46328242){aps.logInfo("*** "+c.j.m+" WIN A9")
}}amznKeysToTarget.forEach(function(d){c.setTargeting(d,"")
})
})
});
aps.a9adSlots=aps.a9adSlots||[];
aps.skippableAds=["MW_1_TEXT","MW_2_TEXT","MW_3_TEXT"];
for(var i=0;
i<definedTags.ads.length;
i++){var ad=definedTags.ads[i];
if(aps.skippableAds.indexOf(ad.code)>-1){aps.logInfo("Skipping "+ad.code);
continue
}var adSlot={slotID:ad.code,sizes:aps.setAdSize(ad),};
if(adSlot.sizes.length>0){aps.a9adSlots.push(adSlot)
}}if(!aps.disableHeaderBidderOnMobile||aps.current_domain.indexOf("m.")!=0){apstag.fetchBids({slots:aps.a9adSlots,timeout:2000},function(a){var b=googletag.pubads().getSlots();
handleApstagBids(a,b)
})
}};(function(){if(!aps.shouldRunThirdParty("audienceNetwork")||!aps.prebid){return
}if(!aps.usingSelective3rdLoading){aps.add3rdToSelectiveLoadingList("audienceNetwork")
}window.pbjs=window.pbjs||{};
pbjs.bidConfig=pbjs.bidConfig||[];
pbjs.bidConfig["audienceNetwork"]=function(f){var b={};
if(f.width!=300||f.height!=250){return b
}var a={"beaumontenterprise.com":{"ATF":"1684882781795749_1930013353949356","STF":"1684882781795749_1930013887282636","BTF":"1684882781795749_1930014213949270"},"chron.com":{"ATF":"741366875999259_1038839422918668","STF":"741366875999259_1038840732918537","BTF":"741366875999259_1038841212918489"},"ctpost.com":{"ATF":"211062319240847_464080160605727","STF":"211062319240847_464080387272371","BTF":"211062319240847_464080543939022"},"greenwichtime.com":{"ATF":"230816473917998_470557509943892","STF":"230816473917998_470557903277186","BTF":"230816473917998_470558016610508"},"mysanantonio.com":{"ATF":"519695148209644_760689840776839","STF":"519695148209644_760690037443486","BTF":"519695148209644_760690224110134"},"newstimes.com":{"ATF":"1730783960487164_1964846927080865","STF":"1730783960487164_1964846963747528","BTF":"1730783960487164_1964847037080854"},"seattlepi.com":{"ATF":"756087107825448_1110400069060815","STF":"756087107825448_1110400165727472","BTF":"756087107825448_1110400342394121"},"sfgate.com":{"ATF":"953466714740383_1368466133240437","STF":"953466714740383_1368466279907089","BTF":"953466714740383_1368466376573746"},"stamfordadvocate.com":{"ATF":"167093936996342_439320129773720","STF":"167093936996342_439320179773715","BTF":"167093936996342_439320269773706"},"timesunion.com":{"ATF":"740868619345940_1101054729993992","STF":"740868619345940_1101054883327310","BTF":"740868619345940_1101054956660636"},};
var c;
if(aps.current_domain.indexOf("m.")==0){c=aps.current_domain.substr(2)
}else{if(aps.topWindow.innerWidth<996){c=aps.current_domain
}else{c="none"
}}var e;
for(var d=0;
d<f.kvps.length;
d++){if(f.kvps[d].key=="position"){e=f.kvps[d].value;
break
}}if(a[c]!=null){b={bidder:"audienceNetwork",params:{placementId:a[c][e],tagVersion:"5.5.web",format:"fullwidth",}}
}return b
}
})();(function(){if(!aps.shouldRunThirdParty("appnexus")||!aps.prebid){return
}if(!aps.usingSelective3rdLoading){aps.add3rdToSelectiveLoadingList("appnexus")
}window.pbjs=window.pbjs||{};
pbjs.bidConfig=pbjs.bidConfig||[];
pbjs.bidConfig["appnexus"]=function(c){var a={"beaumontenterprise.com":11208584,"m.beaumontenterprise.com":11208610,"chron.com":11208585,"m.chron.com":11208611,"cthousehunter.com":11315840,"ctpost.com":11208586,"m.ctpost.com":11208612,"dariennewsonline.com":11208587,"m.dariennewsonline.com":11208613,"fairfieldcitizenonline.com":11208588,"m.fairfieldcitizenonline.com":11208614,"greatlakesbayclassifieds.com":11208589,"m.greatlakesbayclassifieds.com":11208615,"greenwichtime.com":11208590,"m.greenwichtime.com":11208616,"ingearct.com":11208591,"m.ingearct.com":11208617,"lmtonline.com":11208592,"m.lmtonline.com":11208618,"michigansthumb.com":11208593,"m.michigansthumb.com":11208619,"mrt.com":11208594,"m.mrt.com":11208620,"myjournalcourier.com":12537711,"myplainview.com":11208595,"m.myplainview.com":11208621,"mysanantonio.com":11208597,"m.mysanantonio.com":11208622,"newcanaannewsonline.com":11208598,"m.newcanaannewsonline.com":11208623,"newmilfordspectrum.com":11315749,"m.newmilfordspectrum.com":11315759,"newstimes.com":11208599,"m.newstimes.com":11208624,"nhregister.com":11767732,"m.nhregister.com":11767744,"ourmidland.com":11208600,"m.ourmidland.com":11208625,"seattlepi.com":11208601,"m.seattlepi.com":11208626,"sellitlaredo.com":11208602,"m.sellitlaredo.com":11208627,"sfgate.com":11208603,"m.sfgate.com":11208628,"southernctjobs.com":11315775,"southeasttexas.com":11208604,"m.southeasttexas.com":11208629,"stamfordadvocate.com":11208605,"m.stamfordadvocate.com":11208630,"thehour.com":11208606,"m.thehour.com":11208631,"thetelegraph.com":12537708,"timesunion.com":11208607,"m.timesunion.com":11208632,"westport-news.com":11208608,"m.westport-news.com":11208633,"yourconroenews.com":11208609,"m.yourconroenews.com":11208634,};
var b={};
var d=aps.current_domain;
if(aps.topWindow.innerWidth<996&&d.indexOf("m.")!=0){d="m."+d
}if(a[d]!=null){b={bidder:"appnexus",params:{placementId:a[d]}}
}return b
}
})();(function(){if(!aps.shouldRunThirdParty("openx")||!aps.prebid){return
}if(!aps.usingSelective3rdLoading){aps.add3rdToSelectiveLoadingList("openx")
}window.pbjs=window.pbjs||{};
pbjs.bidConfig=pbjs.bidConfig||[];
pbjs.bidConfig["openx"]=function(c){var a={};
var b={"beaumontenterprise.com":538485848,"m.beaumontenterprise.com":538491375,"chron.com":538485857,"m.chron.com":538491376,"ctpost.com":538485852,"m.ctpost.com":538491372,"greenwichtime.com":538485855,"m.greenwichtime.com":538491373,"middletownpress.com":539332317,"m.middletownpress.com":539342606,"myjournalcourier.com":539617297,"m.myjournalcourier.com":539617308,"mysanantonio.com":538485850,"m.mysanantonio.com":538491380,"newstimes.com":538485854,"m.newstimes.com":538491378,"nhregister.com":539184858,"m.nhregister.com":539184864,"registercitizen.com":539332306,"m.registercitizen.com":539342607,"sfgate.com":538485851,"m.sfgate.com":538491381,"seattlepi.com":538485847,"m.seattlepi.com":538491374,"stamfordadvocate.com":538485859,"m.stamfordadvocate.com":538491377,"thetelegraph.com":539617086,"m.thetelegraph.com":539617183,"timesunion.com":538485861,"m.timesunion.com":538491379,};
var e=aps.current_domain;
if(aps.topWindow.innerWidth<996&&e.indexOf("m.")!=0){e="m."+e
}var d=b[e];
if(d!=undefined){a={bidder:"openx",params:{unit:d,delDomain:"hearstnewspapers-d.openx.net"}}
}return a
}
})();(function(){if(!aps.shouldRunThirdParty("rubicon")||!aps.prebid){return
}if(!aps.usingSelective3rdLoading){aps.add3rdToSelectiveLoadingList("rubicon")
}window.pbjs=window.pbjs||{};
pbjs.bidConfig=pbjs.bidConfig||[];
pbjs.bidConfig["rubicon"]=function(c){var a={};
var b={"beaumontenterprise.com":{"siteid":99262,"zoneid":466660},"m.beaumontenterprise.com":{"siteid":67748,"zoneid":466472},"chron.com":{"siteid":21990,"zoneid":76514},"m.chron.com":{"siteid":67748,"zoneid":320994},"countytimes.com":{"siteid":147600,"zoneid":699384},"m.countytimes.com":{"siteid":147600,"zoneid":699384},"ctbulletin.com":{"siteid":147612,"zoneid":697546},"m.ctbulletin.com":{"siteid":147612,"zoneid":699396},"ctpost.com":{"siteid":22026,"zoneid":77062},"m.ctpost.com":{"siteid":67748,"zoneid":321002},"ctpostchronicle.com":{"siteid":147610,"zoneid":697544},"m.ctpostchronicle.com":{"siteid":147610,"zoneid":699394},"dolphin-news.com":{"siteid":147606,"zoneid":697536},"m.dolphin-news.com":{"siteid":147606,"zoneid":699390},"greenwichtime.com":{"siteid":22022,"zoneid":76990},"m.greenwichtime.com":{"siteid":67748,"zoneid":466476},"middletownpress.com":{"siteid":147596,"zoneid":697516},"m.middletownpress.com":{"siteid":147596,"zoneid":699380},"minutemannewscenter.com":{"siteid":147604,"zoneid":697354},"m.minutemannewscenter.com":{"siteid":147604,"zoneid":699388},"myjournalcourier.com":{"siteid":164578,"zoneid":789760},"m.myjournalcourier.com":{"siteid":164578,"zoneid":789758},"mysanantonio.com":{"siteid":22000,"zoneid":76592},"m.mysanantonio.com":{"siteid":67748,"zoneid":320998},"nhregister.com":{"siteid":147594,"zoneid":697512},"m.nhregister.com":{"siteid":147594,"zoneid":699378},"newstimes.com":{"siteid":22028,"zoneid":77140},"m.newstimes.com":{"siteid":67748,"zoneid":321008},"registercitizen.com":{"siteid":147598,"zoneid":697520},"m.registercitizen.com":{"siteid":147598,"zoneid":699382},"seattlepi.com":{"siteid":22002,"zoneid":76636},"m.seattlepi.com":{"siteid":67748,"zoneid":321000},"sfgate.com":{"siteid":15393,"zoneid":34215},"m.sfgate.com":{"siteid":67748,"zoneid":320992},"shorelinetimes.com":{"siteid":147602,"zoneid":697530},"m.shorelinetimes.com":{"siteid":147602,"zoneid":699386},"stamfordadvocate.com":{"siteid":22018,"zoneid":76912},"m.stamfordadvocate.com":{"siteid":67748,"zoneid":321006},"thetelegraph.com":{"siteid":164562,"zoneid":789764},"m.thetelegraph.com":{"siteid":164562,"zoneid":789762},"timesunion.com":{"siteid":22012,"zoneid":76738},"m.timesunion.com":{"siteid":67748,"zoneid":320996},"westhartfordnews.com":{"siteid":147608,"zoneid":697538},"m.westhartfordnews.com":{"siteid":147608,"zoneid":699392},};
var e=aps.current_domain;
if(aps.topWindow.innerWidth<996&&e.indexOf("m.")!=0){e="m."+e
}var d=b[e];
if(d!=undefined){a={bidder:"rubicon",params:{accountId:9095,siteId:d["siteid"],zoneId:d["zoneid"]}}
}return a
}
})();(function(){if(!aps.shouldRunThirdParty("indexExchange")||!aps.prebid){return
}if(!aps.usingSelective3rdLoading){aps.add3rdToSelectiveLoadingList("indexExchange")
}if(aps.current_domain.indexOf("m.")==0){return
}window.pbjs=window.pbjs||{};
pbjs.bidConfig=pbjs.bidConfig||[];
pbjs.bidConfig["indexExchange"]=function(f){var c={"728x90":{"ATF":{"siteid":208030,"slotid":1},"BTF":{"siteid":208034,"slotid":2}},"300x250":{"ATF":{"siteid":208031,"slotid":3},"BTF":{"siteid":208033,"slotid":4},"STF":{"siteid":208035,"slotid":6}},"300x1050":{"ATF":{"siteid":208032,"slotid":3}},"970x250":{"ATF":{"siteid":208038,"slotid":8}},"300x600":{"ATF":{"siteid":208039,"slotid":10}},"320x50":{"MAD":{"siteid":208044,"slotid":14}},};
var a={};
var d;
for(var b=0;
b<f.kvps.length;
b++){if(f.kvps[b].key=="position"){d=f.kvps[b].value;
break
}}var e=f.width+"x"+f.height;
if(c[e]!=null&&c[e][d]!=null){a={bidder:"indexExchange",params:{id:c[e][d]["slotid"],siteID:c[e][d]["siteid"]}}
}return a
}
})();(function(){if(!aps.shouldRunThirdParty("kargo")||!aps.prebid){return
}if(!aps.usingSelective3rdLoading){aps.add3rdToSelectiveLoadingList("kargo")
}window.pbjs=window.pbjs||{};
pbjs.bidConfig=pbjs.bidConfig||[];
pbjs.bidConfig["kargo"]=function(h){var a={};
var g=h.width+"x"+h.height;
if(g!="300x250"&&g!="320x50"){return a
}var d={"chron.com":{"MAD":"_t3EyAzbgQg","ATF":"_jLC5ZqaX2Mg","STF":"_jLC5ZqaX2Mw","BTF":"_jLC5ZqaX2Mw"},"ctpost.com":{"MAD":"_kvAO06Dh9V","ATF":"_jLC5rZmXssA","STF":"_jLC5qqSWssQ","BTF":"_jLC5qqSWssQ"},"greenwichtime.com":{"MAD":"_mMDbdmh7kf","ATF":"_jLC5rZmXssg","STF":"_jLC5rZmXstA","BTF":"_jLC5rZmXstA"},"mysanantonio.com":{"MAD":"_rrqlOoei0l","ATF":"_jLC5rZqVna4","STF":"_jLC5rZqV2MA","BTF":"_jLC5rZqV2MA"},"newstimes.com":{"MAD":"_cKP4acJAFD","ATF":"_jLC5rZuVwsQ","STF":"_jLC5qqaVwqY","BTF":"_jLC5qqaVwqY"},"seattlepi.com":{"MAD":"_dZbGpW58TE","ATF":"_jLC5rZqXsq4","STF":"_jLC5rZqWndA","BTF":"_jLC5rZqWndA"},"sfgate.com":{"MAD":"_vPC5udv2QM","ATF":"_jLC5rZqXssw","STF":"_jLC5qqaVncw","BTF":"_jLC5qqaVncw"},"stamfordadvocate.com":{"MAD":"_f3mdjSLgmL","ATF":"_jLC5rZuVwqo","STF":"_jLC5qqaVnaY","BTF":"_jLC5qqaVnaY"},"timesunion.com":{"MAD":"_pMF2tdlj6e","ATF":"_jLC5rZmXsrI","STF":"_jLC5qqSVnbw","BTF":"_jLC5qqSVnbw"},};
var b;
if(aps.current_domain.indexOf("m.")==0){b=aps.current_domain.substr(2)
}else{if(aps.topWindow.innerWidth<996){b=aps.current_domain
}else{b="none"
}}if(d[b]==null){return a
}var f;
var e=null;
if(h.code=="MAD"){if(d[b]["MAD"]!=null){e=d[b]["MAD"]
}}else{for(var c=0;
c<h.kvps.length;
c++){if(h.kvps[c].key=="position"){if(d[b][h.kvps[c].value]!=null){e=d[b][h.kvps[c].value]
}break
}}}if(e!=null){a={bidder:"kargo",params:{placementId:e,}}
}return a
}
})();(function(){if(!aps.shouldRunThirdParty("aardvark")||!aps.prebid){return
}if(!aps.usingSelective3rdLoading){aps.add3rdToSelectiveLoadingList("aardvark")
}window.pbjs=window.pbjs||{};
pbjs.bidConfig=pbjs.bidConfig||[];
pbjs.bidConfig["aardvark"]=function(f){var a={"728x90":{"ATF":"aI8f","BTF":"ikcR"},"300x250":{"ATF":"eWHP","BTF":"fQeJ","STF":"7bCk"},"970x250":{"ATF":"WZ7w"},"320x50":{"MAD":"rGn6"},};
var b={};
var d;
for(var c=0;
c<f.kvps.length;
c++){if(f.kvps[c].key=="position"){d=f.kvps[c].value;
break
}}var e=f.width+"x"+f.height;
if(a[e]!=null){b={bidder:"aardvark",params:{ai:"g2FI",sc:a[e][d]}}
}return b
}
})();(function(){if(aps.prebid){window.pbjs=window.pbjs||{};
pbjs.que=pbjs.que||[];
pbjs.juice=pbjs.juice||[];
pbjs.juice.adUnits=pbjs.juice.adUnits||[];
pbjs.refreshing=false;
pbjs.refreshcompleted=false;
pbjs.setBidderSequence("random");
var a=2500;
aps.acceptablePageTypes=["channel","article","comments","blog","home page","search","undefined","homepage","page not found","Blogs"];
aps.skippableAds=["MW_1_TEXT","MW_2_TEXT","MW_3_TEXT"];
aps.registerEvent(aps.event.on_end_define_tags,function(g){for(var f=0;
f<definedTags.ads.length;
f++){var b=definedTags.ads[f];
if(aps.skippableAds.indexOf(b.code)>-1){aps.logInfo("Skipping "+b.code);
continue
}var c={code:b.code,sizes:aps.setAdSize(b),bids:[]};
if(c.sizes.length==0){aps.logInfo("Not including "+b.code+"in bidder calls. No matching size")
}else{for(bidder in aps.specified3rdParties){if(aps.shouldRunThirdParty(bidder)&&pbjs.bidConfig[bidder]&&(!aps.disableHeaderBidderOnMobile||aps.current_domain.indexOf("m.")==0||aps.topWindow.innerWidth<1024)){var d=pbjs.bidConfig[bidder](b);
if(d.bidder!=undefined){c.bids.push(d)
}}}}if(c.bids.length>0){pbjs.juice.adUnits.push(c)
}}var e={"buckets":[{"min":0,"max":5,"increment":0.05},{"min":5,"max":10,"increment":0.1},{"min":10,"max":20,"increment":0.5},{"min":20,"max":50,"increment":1}]};
pbjs.setPriceGranularity(e);
pbjs.setConfig({userSync:{iframeEnabled:true}});
pbjs.bidderSettings={standard:{adserverTargeting:[]},aardvark:{alwaysUseBid:true,adserverTargeting:[{key:"hnp_adid_aardvark",val:function(h){return h.adId
}},{key:"hnp_pb_aardvark",val:function(h){return h.pbCg
}},{key:"hnp_req_aardvark",val:function(h){return h.requestId
}},]},appnexus:{alwaysUseBid:true,adserverTargeting:[{key:"hnp_adid_appnexus",val:function(h){return h.adId
}},{key:"hnp_pb_appnexus",val:function(h){return h.pbCg
}},{key:"hnp_req_appnexus",val:function(h){return h.requestId
}},]},audienceNetwork:{alwaysUseBid:true,adserverTargeting:[{key:"hnp_adid_fb",val:function(h){return h.adId
}},{key:"hnp_pb_fb",val:function(h){return h.pbCg
}},{key:"hnp_req_fb",val:function(h){return h.requestId
}},]},openx:{alwaysUseBid:true,adserverTargeting:[{key:"hnp_adid_openx",val:function(h){return h.adId
}},{key:"hnp_pb_openx",val:function(h){return h.pbCg
}},{key:"hnp_req_openx",val:function(h){return h.requestId
}},]},indexExchange:{alwaysUseBid:true,adserverTargeting:[{key:"hnp_adid_index",val:function(h){return h.adId
}},{key:"hnp_pb_index",val:function(h){return h.pbCg
}},{key:"hnp_req_index",val:function(h){return h.requestId
}},{key:"hnp_deal_index",val:function(h){return h.dealId
}},]},kargo:{alwaysUseBid:true,adserverTargeting:[{key:"hnp_adid_kargo",val:function(h){return h.adId
}},{key:"hnp_pb_kargo",val:function(h){return h.pbCg
}},{key:"hnp_req_kargo",val:function(h){return h.requestId
}},]},rubicon:{alwaysUseBid:true,adserverTargeting:[{key:"hnp_adid_rubicon",val:function(h){return h.adId
}},{key:"hnp_pb_rubicon",val:function(h){return h.pbCg
}},{key:"hnp_req_rubicon",val:function(h){return h.requestId
}},]},yieldbot:{alwaysUseBid:true,adserverTargeting:[{key:"hnp_adid_yieldbot",val:function(h){return h.adId
}},{key:"hnp_pb_yieldbot",val:function(h){return h.pbCg
}},{key:"hnp_req_yieldbot",val:function(h){return h.requestId
}},]},};
pbjs.que.push(function(){pbjs.addAdUnits(pbjs.juice.adUnits);
pbjs.onEvent("bidResponse",function(h){if(!aps.enableGoogleServicesRan){aps.logInfo(h.adUnitCode+" BID "+h.bidderCode+":"+h.cpm)
}else{aps.logInfo(h.adUnitCode+" LATE BID "+h.bidderCode+":"+h.cpm)
}if(h.adUnitCode=="A951"&&h.width==970&&h.height==250&&(h.cpm<10||(aps.acceptablePageTypes.indexOf(aps.page_type2)==-1))){aps.logInfo(h.adUnitCode+" CPM under floor, set to 0");
h.cpm=0
}if(pbjs.allBidsAvailable()){aps.logInfo("All prebid bids received");
if(!pbjs.refreshing){if(!aps.enableGoogleServicesRan){aps.enableGoogleServices(0)
}}else{pbjs.setTargetingForGPTAsync();
aps.decreaseRefreshTimer("prebid")
}}});
pbjs.onEvent("bidWon",function(h){aps.logInfo("*** "+h.adUnitCode+" WIN "+h.bidderCode+":"+h.cpm+" ["+h.pbCg+"]")
});
aps.logInfo("Starting prebid timeout: "+a+" ms");
setTimeout(function(){if(aps.enableGoogleServicesRan){return
}aps.logInfo("Prebid timeout reached");
aps.enableGoogleServices(0)
},a);
pbjs.requestBids()
})
});
aps.registerEvent(aps.event.on_before_refresh_ads,function(b){delete aps.disabledWaitScripts["prebid"];
if(!aps.increaseRefreshTimer("prebid")){aps.logError("not refreshing prebid");
return
}aps.startThirdPartyRefresh("prebid");
aps.logInfo("refreshing prebid");
aps.enableGoogleServicesRan=false;
pbjs.que.push(function(){pbjs._bidsReceived=[];
pbjs.clearAuction();
pbjs.refreshing=true;
pbjs.requestBids()
})
})
}})();(function(){if(window.location.search.indexOf("browsi=1")>-1){aps.browsiSites={"m.sfgate.com":"sfgate","m.mysanantonio.com":"mysanantonio","m.chron.com":"chron","m.greenwichtime.com":"greenwichtime","m.seattlepi.com":"seattlepi","m.ctpost.com":"ctpost",}
}else{aps.browsiSites={"m.sfgate.com":"sfgate","m.mysanantonio.com":"mysanantonio","m.chron.com":"chron","m.greenwichtime.com":"greenwichtime","m.seattlepi.com":"seattlepi","m.ctpost.com":"ctpost",}
}if(aps.browsiSites[aps.current_domain]!=null){aps.registerEvent(aps.event.on_dom_loaded,function(){var b=document.createElement("script");
b.src="https://middycdn-a.akamaihd.net/bootstrap/bootstrap.js";
b.setAttribute("data-sitekey",aps.browsiSites[aps.current_domain]);
b.setAttribute("data-pubkey","hearst");
b.setAttribute("id","browsi-tag");
document.body.appendChild(b)
})
}})();(function(){aps.logInfo("starting init define ads call");
var a=juiceservice+"Scripts/initDefineAds.js";
document.write("<scr"+'ipt src="'+a+'"></scr'+"ipt>")
})();
aps.performanceMetrics.JuiceScriptDoneLoading=aps.getTimeElapsed();
aps.logInfo("end of juice script loading");var aps=aps||{};aps.juiceMatchedUrl="www.sfgate.com/music/";