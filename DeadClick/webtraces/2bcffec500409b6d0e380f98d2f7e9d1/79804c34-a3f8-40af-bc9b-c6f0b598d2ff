require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({66:[function(require,module,exports){
'use strict';

var vm = require('./common/VueModel.js');
var $ = require('jquery');
var breakpoints = require('./common/breakpoints');
var mediaCheck = require('mediaCheck');
var stickyFooter = require('./common/stickyFooter');
var offCanvasMenu = require('./common/offCanvasMenu');
var searchModel = require('./search/searchModel');
var searchController = require('./search/searchController');
var enteringMediumScreenSize = require('./search/enteringMediumScreenSize');
var leavingMediumScreenSize = require('./search/leavingMediumScreenSize');
var loginPopup = require('./common/loginPopup');
var claimPopups = require('./common/claimPopups');
var commonPopups = require('./common/commonPopups');
var datatables = require('./datatables.js');
var headerNavDropdowns = require('./common/headerNavDropdowns');
var cookiePolicy = require('./common/cookiePolicy');

$(document).ready(function () {

    //////////////// On Ready ////////////////

    //common
    offCanvasMenu();
    loginPopup();
    claimPopups();
    commonPopups();
    datatables.setupDataTables();
    headerNavDropdowns();
    cookiePolicy();

    //search
    searchModel.initialise(token, tab, query, title);
    searchController();

    //////////////// Checks when leaving and entering media states ////////////////
    mediaCheck({
        media: '(max-width: ' + breakpoints.bpMedium + 'px)',
        entry: enteringMediumScreenSize,
        exit: leavingMediumScreenSize
    });

    //////////////// On Resize ////////////////

    $(window).resize(function () {
        stickyFooter();
    });

    //////////////// On Load ////////////////

    $(window).load(function () {
        stickyFooter();
    });
});

},{"./common/VueModel.js":18,"./common/breakpoints":19,"./common/claimPopups":20,"./common/commonPopups":21,"./common/cookiePolicy":22,"./common/headerNavDropdowns":28,"./common/loginPopup":29,"./common/offCanvasMenu":32,"./common/stickyFooter":35,"./datatables.js":51,"./search/enteringMediumScreenSize":67,"./search/leavingMediumScreenSize":68,"./search/searchController":70,"./search/searchModel":72,"jquery":87,"mediaCheck":89}],89:[function(require,module,exports){
(function (global){
;__browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
"use strict";

/*
  mediaCheck
  http://github.com/sparkbox/mediaCheck

  Version: 0.4.5, 14-07-2014
  Author: Rob Tarr (http://twitter.com/robtarr)
*/!function () {
  window.mediaCheck = function (a) {
    var b, c, d, e, f, g, h, i, j;if (i = void 0, j = void 0, d = void 0, c = void 0, e = void 0, f = void 0 !== window.matchMedia && !!window.matchMedia("!").addListener) return j = function j(a, b) {
      return a.matches ? "function" == typeof b.entry && b.entry(a) : "function" == typeof b.exit && b.exit(a), "function" == typeof b.both ? b.both(a) : void 0;
    }, d = function d() {
      return i = window.matchMedia(a.media), i.addListener(function () {
        return j(i, a);
      }), window.addEventListener("orientationchange", function () {
        return i = window.matchMedia(a.media), j(i, a);
      }, !1), j(i, a);
    }, d();b = {}, j = function j(a, c) {
      return a.matches ? "function" != typeof c.entry || b[c.media] !== !1 && null != b[c.media] || c.entry(a) : "function" != typeof c.exit || b[c.media] !== !0 && null != b[c.media] || c.exit(a), "function" == typeof c.both && c.both(a), b[c.media] = a.matches;
    }, c = function c(a) {
      var b, c;return b = void 0, b = document.createElement("div"), b.style.width = "1em", b.style.position = "absolute", document.body.appendChild(b), c = a * b.offsetWidth, document.body.removeChild(b), c;
    }, e = function e(a, b) {
      var d;switch (d = void 0, b) {case "em":
          d = c(a);break;default:
          d = a;}return d;
    };for (g in a) {
      b[a.media] = null;
    }return h = function h() {
      var b, c, d, f, g;return d = a.media.match(/\((.*)-.*:\s*([\d\.]*)(.*)\)/), b = d[1], f = e(parseInt(d[2], 10), d[3]), c = {}, g = window.innerWidth || document.documentElement.clientWidth, c.matches = "max" === b && f > g || "min" === b && g > f, j(c, a);
    }, window.addEventListener ? window.addEventListener("resize", h) : window.attachEvent && window.attachEvent("onresize", h), h();
  };
}.call(undefined);

; browserify_shim__define__module__export__(typeof mediaCheck != "undefined" ? mediaCheck : window.mediaCheck);

}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],70:[function(require,module,exports){
'use strict';

var $ = require('jquery');
var searchModel = require('./searchModel');
var searchView = require('./searchView');
var History = require('History');
var breakpoints = require('./../common/breakpoints');
var Messages = require("./../messages.js");

module.exports = function () {
    "use strict";
    //////////////// Ajax ////////////////

    var searchUpdateSuccess = function searchUpdateSuccess(data) {

        var jsonData = JSON.parse(data);
        var tab = searchModel.getTab();
        var query = searchModel.getQuery();

        searchView.enableTabs();

        if (jsonData == null) {
            searchView.showResultsFailedLoading(searchModel.getTab());
            return;
        }

        if (tab == 'company') {
            searchModel.setCompanyResponse(jsonData);
            searchView.updateCompanyView(searchModel.getCompanyResponse());
        } else {
            searchModel.setDirectorResponse(jsonData);
            searchView.updateDirectorView(searchModel.getDirectorResponse());
        }
    };

    var searchUpdateError = function searchUpdateError(jqXHR, status, error) {
        searchView.showResultsFailedLoading(searchModel.getTab());
    };

    var searchUpdate = function searchUpdate() {

        var data = {};
        data.query = searchModel.getQuery();
        data._token = searchModel.getToken();

        $.ajax({
            type: "POST",
            url: '/searchUpdate',
            data: data,
            success: searchUpdateSuccess,
            error: searchUpdateError
        });
    };

    var getFilterInfoSuccess = function getFilterInfoSuccess(data, status, jqXHR) {

        var json = JSON.parse(data);
        var tab = searchModel.getTab();
        var query = searchModel.getQuery();

        if (json != null && json.success) {

            if (tab == 'company') {
                searchModel.setCompanyFilter(json.responseObject[0]);
                searchView.updateCompanyFilter(json.responseObject[0], query);
            } else {
                searchModel.setDirectorFilter(json.responseObject[0]);
                searchView.updateDirectorFilter(json.responseObject[0], query);
            }
        } else {
            searchView.showFilterFailedLoading(jqXHR.filter, searchModel.getTab());
        }
    };

    var getFilterInfoError = function getFilterInfoError(jqXHR, status, error) {
        searchView.showFilterFailedLoading(jqXHR.filter, searchModel.getTab());
    };

    var setFilterInJQXHR = function setFilterInJQXHR(jqXHR, settings) {
        jqXHR.filter = settings.filter;
    };

    var getFilterInfo = function getFilterInfo() {

        var data = {};
        data.query = $.extend({}, searchModel.getQuery()); //copy query
        data.query.aggregation = searchModel.getAggregation();
        data._token = searchModel.getToken();

        switch (data.query.aggregation) {
            case 'active':
                delete data.query.status;
                break;
            case 'type':
                data.query.type = 'company-uk,company-nltd,company-euro';
                break;
            case 'cashatbank':
            case 'assets':
            case 'liabilities':
            case 'networth':
            case 'fixedassets':
            case 'creditors':
            case 'debtors':
                var financialAggQuery = {};
                if (typeof data.query.term != 'undefined') financialAggQuery.term = data.query.term;
                financialAggQuery.aggregation = data.query.aggregation;
                data.query = financialAggQuery;
                break;
            default:
                delete data.query[data.query.aggregation];
                break;
        }

        $.ajax({
            beforeSend: setFilterInJQXHR,
            type: "POST",
            url: '/getFilter',
            data: data,
            filter: data.query.aggregation,
            success: getFilterInfoSuccess,
            error: getFilterInfoError
        });
    };

    //////////////// Event Handler Functions ////////////////

    var stateChanged = function stateChanged() {
        var State = History.getState();

        if (typeof State.data.query === 'undefined') {
            searchModel.setQuery(searchModel.getInitialQuery());
        } else {
            searchModel.setQuery(State.data.query);
        }

        var query = searchModel.getQuery();

        if (query['type'] == 'director-uk') {
            searchModel.setTab('director');
            var filtersToUpdate = getFiltersToUpdate();
            searchView.showDirectorTab();
            searchView.showDirectorLoading();
        } else {
            searchModel.setTab('company');
            var filtersToUpdate = getFiltersToUpdate();
            searchView.showCompanyTab();
            searchView.showCompanyLoading();
        }

        tab = searchModel.getTab();

        var showActiveFilters = checkForActiveFilters(query, tab);

        if (showActiveFilters) searchView.enableActiveFiltersDropdown(tab);else searchView.disableActiveFiltersDropdown(tab);

        var lastChanged = searchModel.getLastChangedFilter();

        if (lastChanged != "tab") {
            if (lastChanged != null) {
                filtersToUpdate = jQuery.grep(filtersToUpdate, function (value) {
                    return value != lastChanged;
                });
            }

            if (filtersToUpdate.length) {

                $.each(filtersToUpdate, function (i, el) {
                    searchView.showFilterLoading($('.filter-section[data-filter="' + el + '"]'));
                    searchModel.setAggregation(el);
                    getFilterInfo();
                });
            }
        }

        searchView.disableTabs();
        searchUpdate();
    };

    var pageBoxClicked = function pageBoxClicked() {
        var pageBox = $(this);
        var page;

        if (pageBox.hasClass('page-box--disabled') || pageBox.hasClass('page-box--current')) return;

        if (searchModel.getTab() == 'company') {

            if (pageBox.hasClass('next')) page = searchModel.getCompanyPage() + 1;else if (pageBox.hasClass('previous')) page = searchModel.getCompanyPage() - 1;else page = parseInt(pageBox.text());
        } else {

            if (pageBox.hasClass('next')) page = searchModel.getDirectorPage() + 1;else if (pageBox.hasClass('previous')) page = searchModel.getDirectorPage() - 1;else page = parseInt(pageBox.text());
        }

        searchView.scrollToTop();
        searchModel.setQueryProperty('page', page);

        History.pushState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
    };

    var filterTitleClicked = function filterTitleClicked() {

        var filterTitle = $(this);
        var filterSection = filterTitle.parent();
        var filter = filterSection.data('filter');

        //////////////// if open, close filter ////////////////

        if (!filterSection.find('.filter-section__content').hasClass('hide')) {
            searchView.closeFilter(filterSection);
            return;
        }

        //////////////// if no ajax loading necessary ////////////////

        if (filter == 'term') {
            searchView.openFilter(filterSection);
            return;
        }

        if (filter == 'location') {
            var query = searchModel.getQuery();
            if (query.location !== 'undefined') {
                searchView.setLocationValue(filterSection.find('input[type="text"]'), query.location);
            };
            searchView.openFilter(filterSection);
            return;
        }

        //////////// just open filter if loaded already or add to 'opened' list ////////////

        if (searchModel.getTab() == 'company') {
            if ($.inArray(filter, searchModel.getCompanyFiltersOpened()) >= 0) {
                searchView.openFilter(filterSection);
                return;
            }
            searchModel.setCompanyFilterOpened(filter);
        } else {
            if ($.inArray(filter, searchModel.getDirectorFiltersOpened()) >= 0) {
                searchView.openFilter(filterSection);
                return;
            }
            searchModel.setDirectorFilterOpened(filter);
        }

        searchView.showFilterLoading(filterSection);
        searchModel.setAggregation(filter);
        getFilterInfo();
    };

    var filterButtonClicked = function filterButtonClicked(e) {

        e.preventDefault();

        var button = $(this);

        if ($('.search-filters').css('display') == 'block') {
            searchView.hideFilters(button);
        } else {
            searchView.showFilters(button);
        }
    };

    var typeTabClicked = function typeTabClicked() {
        var tab = $(this);

        if (tab.hasClass('tab--selected') || tab.hasClass('tab--disabled')) return;

        if (tab.hasClass('company-tab')) {
            searchModel.saveDirectorQuery();
            searchModel.setTab('company');
            searchModel.switchQuery('company');
        }

        if (tab.hasClass('director-tab')) {
            searchModel.saveCompanyQuery();
            searchModel.setTab('director');
            searchModel.switchQuery('director');
        }

        searchModel.setLastChangedFilter('tab');
        searchView.switchTabControlDropdownText(searchModel.getTab());
        searchView.switchTabInfo(searchModel.getTab());

        History.pushState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
    };

    var tabDropdownClicked = function tabDropdownClicked() {
        var tabControl = $(this);

        if (tabControl.hasClass('tab--disabled')) return;

        if (tabControl.hasClass('open')) {
            searchView.closeTabControlDropdown();
        } else {
            searchView.openTabControlDropdown();
        }
    };

    var tabSwitchClicked = function tabSwitchClicked() {

        var tabSwitch = $(this);
        if (tabSwitch.hasClass('tab--disabled')) return;

        if (searchModel.getTab() == 'company') {
            searchModel.saveCompanyQuery();
            searchModel.setTab('director');
            searchModel.switchQuery('director');
        } else {
            searchModel.saveDirectorQuery();
            searchModel.setTab('company');
            searchModel.switchQuery('company');
        }

        searchView.closeTabControlDropdown();
        searchView.switchTabControlDropdownText(searchModel.getTab());
        searchView.switchTabInfo(searchModel.getTab());
        searchModel.setLastChangedFilter('tab');

        History.pushState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
    };

    var sliderInputChanged = function sliderInputChanged() {

        var sliderInput = $(this);
        var filter = sliderInput.data('filter');
        var value = sliderInput.val();
        var slider = sliderInput.parent().prev().children();

        searchView.updateSlider(sliderInput, slider);

        if (sliderInput.hasClass('slider-figure--bottom')) {
            searchModel.setQueryProperty('min' + filter, parseInt(value));
        } else {
            searchModel.setQueryProperty('max' + filter, parseInt(value));
        }

        searchModel.setLastChangedFilter(filter);
        searchModel.removePagingFromQuery();

        History.replaceState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
    };

    var sliderInputFocused = function sliderInputFocused() {
        var sliderInput = $(this);
        var value = sliderInput.val();
        var slider = sliderInput.parent().prev().children();

        searchView.sliderInputFocused(slider, sliderInput, value);
    };

    var checkBoxChanged = function checkBoxChanged() {
        var checkbox = $(this);
        var checked = $(this).prop('checked');
        var filter = checkbox.data('filter');
        var value = checkbox.data('value');
        var tab = searchModel.getTab();
        var query = searchModel.getQuery();

        var queryProperty, queryValue;

        switch (filter) {
            case 'active':
                queryProperty = 'status';
                queryValue = getCheckboxPropertyValue(query, queryProperty, value, checked);
                break;
            case 'type':
                queryProperty = 'type';
                queryValue = getTypePropertyValue(query, queryProperty, value, checked);
                break;
            default:
                queryProperty = filter;
                queryValue = getCheckboxPropertyValue(query, queryProperty, value, checked);
                break;
        }

        searchModel.setQueryProperty(queryProperty, queryValue);
        searchModel.setLastChangedFilter(filter);
        searchModel.removePagingFromQuery();

        History.replaceState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
    };

    var sliderChanged = function sliderChanged() {
        var slider = $(this);
        var filter = slider.data('filter');
        var values = slider.val();

        searchModel.setQueryProperty('min' + filter, Math.round(values[0]));
        searchModel.setQueryProperty('max' + filter, Math.round(values[1]));

        searchModel.setLastChangedFilter(filter);
        searchModel.removePagingFromQuery();

        History.replaceState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
    };

    var retryFilterButtonClicked = function retryFilterButtonClicked(e) {

        e.preventDefault();

        var filterSection = $(this).parents('.filter-section');
        var filter = filterSection.data('filter');

        searchView.showFilterLoading(filterSection);
        searchModel.setAggregation(filter);
        getFilterInfo();
    };

    var locationInputChanged = function locationInputChanged(locationInput) {
        var inputValue = locationInput.val();

        searchModel.setQueryProperty('location', inputValue);
        searchModel.removePagingFromQuery();

        History.replaceState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
    };

    var locationClearButtonClicked = function locationClearButtonClicked() {
        var locationInput = $(this).siblings('.js-location-input-search');
        var locationProperty = searchModel.getQueryProperty('location');

        searchView.clearLocationInput(locationInput);

        if (locationProperty == null) return;else {
            searchModel.setQueryProperty('location', null);
            searchModel.removePagingFromQuery();

            History.replaceState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
        }
    };

    var termInputChanged = function termInputChanged(termInput) {
        var inputValue = termInput.val();

        searchModel.setQueryProperty('term', inputValue);
        searchModel.removePagingFromQuery();

        History.replaceState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
    };

    var termClearButtonClicked = function termClearButtonClicked() {
        var termInput = $(this).siblings('.js-term-input-search');
        var termProperty = searchModel.getQueryProperty('term');

        searchView.clearTermInput(termInput);

        if (termProperty == null) return;else {
            searchModel.setQueryProperty('term', null);
            searchModel.removePagingFromQuery();

            History.replaceState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
        }
    };

    var activeFiltersClicked = function activeFiltersClicked() {

        if ($(this).hasClass('disabled')) return;

        var activeFiltersDropdown = $('.active-filters-dropdown__filters');

        if (activeFiltersDropdown.hasClass('hide')) {

            var filters = $.extend({}, searchModel.getQuery());
            var tab = searchModel.getTab();

            //////////////// remove type if none selected ////////////////
            var typeParts = filters.type.split(',');
            if (tab == 'director' || $('.filter-checkbox[data-filter="type"]:checked').length == 0 && typeParts.length == 3) delete filters.type;

            //////////////// remove financials min/max duplicates ////////////////
            $.each(filters, function (i, el) {
                switch (i) {
                    case 'activity':
                    case 'country':
                        var parts = el.split(',');

                        $.each(parts, function (partI, partEl) {
                            filters[i + partI] = {
                                label: getFilterLabel(i),
                                filter: partEl
                            };
                        });

                        delete filters[i];
                        break;
                    case 'mincashatbank':
                    case 'maxcashatbank':
                    case 'minassets':
                    case 'maxassets':
                    case 'minliabilities':
                    case 'maxliabilities':
                    case 'minnetworth':
                    case 'maxnetworth':
                    case 'minfixedassets':
                    case 'maxfixedassets':
                    case 'mincreditors':
                    case 'maxcreditors':
                    case 'mindebtors':
                    case 'maxdebtors':

                        if (typeof filters[i.substring(3)] == 'undefined') {
                            filters[i.substring(3)] = {};
                        }

                        if (i.substring(0, 3) == 'min') {
                            filters[i.substring(3)].min = el;
                        }

                        if (i.substring(0, 3) == 'max') {
                            filters[i.substring(3)].max = el;
                        }

                        filters[i.substring(3)].label = getFilterLabel(i);
                        delete filters[i];
                        break;
                    default:

                        filters[i] = {
                            label: getFilterLabel(i),
                            filter: el
                        };
                        break;
                }
            });

            searchView.updateActiveFilters(activeFiltersDropdown, filters, searchModel.getTab());
            searchView.showActiveFilters();
        } else {
            searchView.hideActiveFilters();
        }
    };

    var activeFilterHoverIn = function activeFilterHoverIn() {
        var activeFilter = $(this);

        if ($(window).width() > breakpoints.bpLarge) {
            activeFilter.find('.active-filter-remove-tick').css('display', 'block');
        }
    };

    var activeFilterHoverOut = function activeFilterHoverOut() {
        var activeFilter = $(this);

        if ($(window).width() > breakpoints.bpLarge) {
            activeFilter.find('.active-filter-remove-tick').css('display', 'none');
        }
    };

    var checkClickTarget = function checkClickTarget(event) {

        //Click is outside active filters dropdown
        if (!$(event.target).closest('#js-company-active-filters, .active-filters-dropdown').length) {
            searchView.hideActiveFilters();
        }
    };

    var activeFilterRemove = function activeFilterRemove() {
        var activeFilter = $(this).parent();
        var filter = activeFilter.data('filter').replace(/\d+/g, '');

        switch (filter) {
            case 'type':
                searchModel.setQueryProperty(filter, 'company-uk,company-nltd,company-euro');
                break;
            case 'term':
                searchView.clearTermInput($('.js-term-input-search'));
                searchModel.setQueryProperty(filter, null);
                break;
            case 'location':
                searchView.clearLocationInput($('.js-location-input-search'));
                searchModel.setQueryProperty(filter, null);
                break;
            case 'activity':
            case 'country':
                var filterOption = activeFilter.data('filter-option');
                var queryProperty = searchModel.getQueryProperty(filter);
                var parts = queryProperty.split(',');

                if (parts.length == 1) searchModel.setQueryProperty(filter, null);else {
                    $.each(parts, function (i, el) {
                        if (el == filterOption) parts.splice(i, 1);
                    });

                    searchModel.setQueryProperty(filter, parts.join());
                }

                break;

            case 'cashatbank':
            case 'assets':
            case 'liabilities':
            case 'networth':
            case 'fixedassets':
            case 'creditors':
            case 'debtors':
                searchModel.setQueryProperty('min' + filter, null);
                searchModel.setQueryProperty('max' + filter, null);
                break;
            default:
                searchModel.setQueryProperty(filter, null);
                break;
        }

        searchView.removeActiveFilter(activeFilter);
        searchModel.setLastChangedFilter('removed' + filter);
        searchModel.removePagingFromQuery();

        History.replaceState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
    };

    var clearAllActiveFilters = function clearAllActiveFilters() {
        var tab = searchModel.getTab();
        var query = {};

        if (tab == 'company') query.type = 'company-uk,company-nltd,company-euro';else query.type = 'director-uk';

        searchView.clearTermInput($('.js-term-input-search'));
        searchView.clearLocationInput($('.js-location-input-search'));
        searchView.removeAllActiveFilters();
        searchView.disableActiveFiltersDropdown(tab);
        searchModel.setQuery(query);
        searchModel.setLastChangedFilter('removedAll');

        History.replaceState({ query: searchModel.getQuery() }, searchModel.getPageTitle(), '?' + $.param(searchModel.getQuery()));
    };

    //////////////// Helpers ////////////////

    var getCheckboxPropertyValue = function getCheckboxPropertyValue(query, queryProperty, value, checked) {
        var exists = typeof query[queryProperty] != 'undefined';
        var queryValue;

        if (checked) {
            if (exists) {
                queryValue = query[queryProperty] + ',' + value;
            } else {
                queryValue = value;
            }
        } else {
            var parts = query[queryProperty].split(',');
            parts = $.grep(parts, function (partsValue) {
                return partsValue != value;
            });

            if (parts.length == 0) queryValue = null;else queryValue = parts.join();
        }

        return queryValue;
    };

    var getTypePropertyValue = function getTypePropertyValue(query, queryProperty, value, checked) {
        var queryValue;
        var parts = query[queryProperty].split(',');

        if (checked) {
            if (parts.length == 3) {
                parts = [value];
            } else {
                parts.push(value);
                var uniq = [];
                $.each(parts, function (i, el) {
                    if ($.inArray(el, uniq) === -1) uniq.push(el);
                });
                parts = uniq;
            }
        } else {
            if (parts.length == 1) {
                parts = ['company-uk', 'company-nltd', 'company-euro'];
            } else {
                parts = $.grep(parts, function (partsValue) {
                    return partsValue != value;
                });
            }
        }

        queryValue = parts.join();
        return queryValue;
    };

    var getFiltersToUpdate = function getFiltersToUpdate() {
        var query = searchModel.getQuery();
        var tab = searchModel.getTab();

        if (tab == 'company') var openFilters = searchModel.getCompanyFiltersOpened();else var openFilters = searchModel.getDirectorFiltersOpened();

        var toUpdate = [];

        $.each(openFilters, function (i, el) {
            switch (el) {
                case 'active':
                case 'type':
                case 'activity':
                case 'country':
                case 'yearofbirthrange':
                    toUpdate.push(el);
                    break;
                default:
                    break;
            }
        });

        return toUpdate;
    };

    var getFilterLabel = function getFilterLabel(filter) {
        switch (filter) {
            case 'term':
                return Messages.get('search.filterLabel.SearchTerm');
            case 'status':
                if (searchModel.getTab() == 'company') return Messages.get('search.filterLabel.CompanyStatus');else return Messages.get('search.filterLabel.DirectorStatus');
            case 'type':
                return Messages.get('search.filterLabel.CompanyType');
            case 'activity':
                return Messages.get('search.filterLabel.BusinessActivity');
            case 'location':
                return Messages.get('search.filterLabel.Location');
            case 'country':
                return Messages.get('search.filterLabel.Country');
            case 'mincashatbank':
            case 'maxcashatbank':
                return Messages.get('search.filterLabel.CashAtBank');
            case 'minassets':
            case 'maxassets':
                return Messages.get('search.filterLabel.Assets');
            case 'minliabilities':
            case 'maxliabilities':
                return Messages.get('search.filterLabel.Liabilities');
            case 'minnetworth':
            case 'maxnetworth':
                return Messages.get('search.filterLabel.NetWorth');
            case 'minfixedassets':
            case 'maxfixedassets':
                return Messages.get('search.filterLabel.FixedAssets');
            case 'mincreditors':
            case 'maxcreditors':
                return Messages.get('search.filterLabel.Creditors');
            case 'mindebtors':
            case 'maxdebtors':
                return Messages.get('search.filterLabel.Debtors');
            case 'yearofbirthrange':
                return Messages.get('search.filterLabel.YearOfBirth');
        }
    };

    var checkForActiveFilters = function checkForActiveFilters(query, tab) {

        var activeFilters = false;
        if ($.map(query, function (n, i) {
            return i;
        }).length > 1) activeFilters = true;
        if (tab == 'company' && query['type'].split(',').length < 3) activeFilters = true;
        $.each(query, function (i, el) {
            if (i != 'type') activeFilters = true;
        });

        return activeFilters;
    };

    //////////////// Initialise ////////////////

    searchView.initialise();

    //////////////// Events ////////////////

    $(window).bind('statechange', stateChanged);
    $('#js-filter-button').click(filterButtonClicked);
    $('.company-tab, .director-tab').click(typeTabClicked);
    $('.tab-dropdown-control').click(tabDropdownClicked);
    $('.tab-switch').click(tabSwitchClicked);
    $('.search-main').on('click', '.page-box', pageBoxClicked);
    $('.filter-section__title').click(filterTitleClicked);
    $('.filter-section__content').on('change', '.slider-figure', sliderInputChanged);
    $('.filter-section__content').on('focus', '.slider-figure', sliderInputFocused);
    $('.filter-section__content').on('change', '.filter-checkbox', checkBoxChanged);
    $('.filter-section__content').on('change', '.js-slider', sliderChanged);
    $('.filter-section__content').on('click', '.retry-filter-button', retryFilterButtonClicked);
    $('.js-term-input-search').on('keyup', function (e) {
        if (e.which == 13) termInputChanged($(this));
    });
    $('.js-location-input-search').on('keyup', function (e) {
        if (e.which == 13) locationInputChanged($(this));
    });
    $('.term-clear-button').click(termClearButtonClicked);
    $('.js-location-clear-button').click(locationClearButtonClicked);
    $('.active-filters-dropdown').click(activeFiltersClicked);
    $('.active-filters-dropdown__filters').on({ mouseenter: activeFilterHoverIn, mouseleave: activeFilterHoverOut }, '.active-filter');
    $('.active-filters-dropdown__filters').on('click', '.active-filter-remove-tick', activeFilterRemove);
    $('.active-filters-dropdown__filters').on('click', '.clear-active-filters', clearAllActiveFilters);
    $(document).click(checkClickTarget);
};

},{"./../common/breakpoints":19,"./../messages.js":61,"./searchModel":72,"./searchView":73,"History":85,"jquery":87}],85:[function(require,module,exports){
(function (global){
;__browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

(typeof JSON === "undefined" ? "undefined" : _typeof(JSON)) != "object" && (JSON = {}), function () {
  "use strict";
  function f(e) {
    return e < 10 ? "0" + e : e;
  }function quote(e) {
    return escapable.lastIndex = 0, escapable.test(e) ? '"' + e.replace(escapable, function (e) {
      var t = meta[e];return typeof t == "string" ? t : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4);
    }) + '"' : '"' + e + '"';
  }function str(e, t) {
    var n,
        r,
        i,
        s,
        o = gap,
        u,
        a = t[e];a && (typeof a === "undefined" ? "undefined" : _typeof(a)) == "object" && typeof a.toJSON == "function" && (a = a.toJSON(e)), typeof rep == "function" && (a = rep.call(t, e, a));switch (typeof a === "undefined" ? "undefined" : _typeof(a)) {case "string":
        return quote(a);case "number":
        return isFinite(a) ? String(a) : "null";case "boolean":case "null":
        return String(a);case "object":
        if (!a) return "null";gap += indent, u = [];if (Object.prototype.toString.apply(a) === "[object Array]") {
          s = a.length;for (n = 0; n < s; n += 1) {
            u[n] = str(n, a) || "null";
          }return i = u.length === 0 ? "[]" : gap ? "[\n" + gap + u.join(",\n" + gap) + "\n" + o + "]" : "[" + u.join(",") + "]", gap = o, i;
        }if (rep && (typeof rep === "undefined" ? "undefined" : _typeof(rep)) == "object") {
          s = rep.length;for (n = 0; n < s; n += 1) {
            typeof rep[n] == "string" && (r = rep[n], i = str(r, a), i && u.push(quote(r) + (gap ? ": " : ":") + i));
          }
        } else for (r in a) {
          Object.prototype.hasOwnProperty.call(a, r) && (i = str(r, a), i && u.push(quote(r) + (gap ? ": " : ":") + i));
        }return i = u.length === 0 ? "{}" : gap ? "{\n" + gap + u.join(",\n" + gap) + "\n" + o + "}" : "{" + u.join(",") + "}", gap = o, i;}
  }typeof Date.prototype.toJSON != "function" && (Date.prototype.toJSON = function (e) {
    return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null;
  }, String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function (e) {
    return this.valueOf();
  });var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
      escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
      gap,
      indent,
      meta = { "\b": "\\b", "	": "\\t", "\n": "\\n", "\f": "\\f", "\r": "\\r", '"': '\\"', "\\": "\\\\" },
      rep;typeof JSON.stringify != "function" && (JSON.stringify = function (e, t, n) {
    var r;gap = "", indent = "";if (typeof n == "number") for (r = 0; r < n; r += 1) {
      indent += " ";
    } else typeof n == "string" && (indent = n);rep = t;if (!t || typeof t == "function" || (typeof t === "undefined" ? "undefined" : _typeof(t)) == "object" && typeof t.length == "number") return str("", { "": e });throw new Error("JSON.stringify");
  }), typeof JSON.parse != "function" && (JSON.parse = function (text, reviver) {
    function walk(e, t) {
      var n,
          r,
          i = e[t];if (i && (typeof i === "undefined" ? "undefined" : _typeof(i)) == "object") for (n in i) {
        Object.prototype.hasOwnProperty.call(i, n) && (r = walk(i, n), r !== undefined ? i[n] = r : delete i[n]);
      }return reviver.call(e, t, i);
    }var j;text = String(text), cx.lastIndex = 0, cx.test(text) && (text = text.replace(cx, function (e) {
      return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4);
    }));if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"), typeof reviver == "function" ? walk({ "": j }, "") : j;throw new SyntaxError("JSON.parse");
  });
}(), function (e, t) {
  "use strict";
  var n = e.History = e.History || {},
      r = e.jQuery;if (typeof n.Adapter != "undefined") throw new Error("History.js Adapter has already been loaded...");n.Adapter = { bind: function bind(e, t, n) {
      r(e).bind(t, n);
    }, trigger: function trigger(e, t, n) {
      r(e).trigger(t, n);
    }, extractEventData: function extractEventData(e, n, r) {
      var i = n && n.originalEvent && n.originalEvent[e] || r && r[e] || t;return i;
    }, onDomLoad: function onDomLoad(e) {
      r(e);
    } }, typeof n.init != "undefined" && n.init();
}(window), function (e, t) {
  "use strict";
  var n = e.document,
      r = e.setTimeout || r,
      i = e.clearTimeout || i,
      s = e.setInterval || s,
      o = e.History = e.History || {};if (typeof o.initHtml4 != "undefined") throw new Error("History.js HTML4 Support has already been loaded...");o.initHtml4 = function () {
    if (typeof o.initHtml4.initialized != "undefined") return !1;o.initHtml4.initialized = !0, o.enabled = !0, o.savedHashes = [], o.isLastHash = function (e) {
      var t = o.getHashByIndex(),
          n;return n = e === t, n;
    }, o.isHashEqual = function (e, t) {
      return e = encodeURIComponent(e).replace(/%25/g, "%"), t = encodeURIComponent(t).replace(/%25/g, "%"), e === t;
    }, o.saveHash = function (e) {
      return o.isLastHash(e) ? !1 : (o.savedHashes.push(e), !0);
    }, o.getHashByIndex = function (e) {
      var t = null;return typeof e == "undefined" ? t = o.savedHashes[o.savedHashes.length - 1] : e < 0 ? t = o.savedHashes[o.savedHashes.length + e] : t = o.savedHashes[e], t;
    }, o.discardedHashes = {}, o.discardedStates = {}, o.discardState = function (e, t, n) {
      var r = o.getHashByState(e),
          i;return i = { discardedState: e, backState: n, forwardState: t }, o.discardedStates[r] = i, !0;
    }, o.discardHash = function (e, t, n) {
      var r = { discardedHash: e, backState: n, forwardState: t };return o.discardedHashes[e] = r, !0;
    }, o.discardedState = function (e) {
      var t = o.getHashByState(e),
          n;return n = o.discardedStates[t] || !1, n;
    }, o.discardedHash = function (e) {
      var t = o.discardedHashes[e] || !1;return t;
    }, o.recycleState = function (e) {
      var t = o.getHashByState(e);return o.discardedState(e) && delete o.discardedStates[t], !0;
    }, o.emulated.hashChange && (o.hashChangeInit = function () {
      o.checkerFunction = null;var t = "",
          r,
          i,
          u,
          a,
          f = Boolean(o.getHash());return o.isInternetExplorer() ? (r = "historyjs-iframe", i = n.createElement("iframe"), i.setAttribute("id", r), i.setAttribute("src", "#"), i.style.display = "none", n.body.appendChild(i), i.contentWindow.document.open(), i.contentWindow.document.close(), u = "", a = !1, o.checkerFunction = function () {
        if (a) return !1;a = !0;var n = o.getHash(),
            r = o.getHash(i.contentWindow.document);return n !== t ? (t = n, r !== n && (u = r = n, i.contentWindow.document.open(), i.contentWindow.document.close(), i.contentWindow.document.location.hash = o.escapeHash(n)), o.Adapter.trigger(e, "hashchange")) : r !== u && (u = r, f && r === "" ? o.back() : o.setHash(r, !1)), a = !1, !0;
      }) : o.checkerFunction = function () {
        var n = o.getHash() || "";return n !== t && (t = n, o.Adapter.trigger(e, "hashchange")), !0;
      }, o.intervalList.push(s(o.checkerFunction, o.options.hashChangeInterval)), !0;
    }, o.Adapter.onDomLoad(o.hashChangeInit)), o.emulated.pushState && (o.onHashChange = function (t) {
      var n = t && t.newURL || o.getLocationHref(),
          r = o.getHashByUrl(n),
          i = null,
          s = null,
          u = null,
          a;return o.isLastHash(r) ? (o.busy(!1), !1) : (o.doubleCheckComplete(), o.saveHash(r), r && o.isTraditionalAnchor(r) ? (o.Adapter.trigger(e, "anchorchange"), o.busy(!1), !1) : (i = o.extractState(o.getFullUrl(r || o.getLocationHref()), !0), o.isLastSavedState(i) ? (o.busy(!1), !1) : (s = o.getHashByState(i), a = o.discardedState(i), a ? (o.getHashByIndex(-2) === o.getHashByState(a.forwardState) ? o.back(!1) : o.forward(!1), !1) : (o.pushState(i.data, i.title, encodeURI(i.url), !1), !0))));
    }, o.Adapter.bind(e, "hashchange", o.onHashChange), o.pushState = function (t, n, r, i) {
      r = encodeURI(r).replace(/%25/g, "%");if (o.getHashByUrl(r)) throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if (i !== !1 && o.busy()) return o.pushQueue({ scope: o, callback: o.pushState, args: arguments, queue: i }), !1;o.busy(!0);var s = o.createStateObject(t, n, r),
          u = o.getHashByState(s),
          a = o.getState(!1),
          f = o.getHashByState(a),
          l = o.getHash(),
          c = o.expectedStateId == s.id;return o.storeState(s), o.expectedStateId = s.id, o.recycleState(s), o.setTitle(s), u === f ? (o.busy(!1), !1) : (o.saveState(s), c || o.Adapter.trigger(e, "statechange"), !o.isHashEqual(u, l) && !o.isHashEqual(u, o.getShortUrl(o.getLocationHref())) && o.setHash(u, !1), o.busy(!1), !0);
    }, o.replaceState = function (t, n, r, i) {
      r = encodeURI(r).replace(/%25/g, "%");if (o.getHashByUrl(r)) throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if (i !== !1 && o.busy()) return o.pushQueue({ scope: o, callback: o.replaceState, args: arguments, queue: i }), !1;o.busy(!0);var s = o.createStateObject(t, n, r),
          u = o.getHashByState(s),
          a = o.getState(!1),
          f = o.getHashByState(a),
          l = o.getStateByIndex(-2);return o.discardState(a, s, l), u === f ? (o.storeState(s), o.expectedStateId = s.id, o.recycleState(s), o.setTitle(s), o.saveState(s), o.Adapter.trigger(e, "statechange"), o.busy(!1)) : o.pushState(s.data, s.title, s.url, !1), !0;
    }), o.emulated.pushState && o.getHash() && !o.emulated.hashChange && o.Adapter.onDomLoad(function () {
      o.Adapter.trigger(e, "hashchange");
    });
  }, typeof o.init != "undefined" && o.init();
}(window), function (e, t) {
  "use strict";
  var n = e.console || t,
      r = e.document,
      i = e.navigator,
      s = e.sessionStorage || !1,
      o = e.setTimeout,
      u = e.clearTimeout,
      a = e.setInterval,
      f = e.clearInterval,
      l = e.JSON,
      c = e.alert,
      h = e.History = e.History || {},
      p = e.history;try {
    s.setItem("TEST", "1"), s.removeItem("TEST");
  } catch (d) {
    s = !1;
  }l.stringify = l.stringify || l.encode, l.parse = l.parse || l.decode;if (typeof h.init != "undefined") throw new Error("History.js Core has already been loaded...");h.init = function (e) {
    return typeof h.Adapter == "undefined" ? !1 : (typeof h.initCore != "undefined" && h.initCore(), typeof h.initHtml4 != "undefined" && h.initHtml4(), !0);
  }, h.initCore = function (d) {
    if (typeof h.initCore.initialized != "undefined") return !1;h.initCore.initialized = !0, h.options = h.options || {}, h.options.hashChangeInterval = h.options.hashChangeInterval || 100, h.options.safariPollInterval = h.options.safariPollInterval || 500, h.options.doubleCheckInterval = h.options.doubleCheckInterval || 500, h.options.disableSuid = h.options.disableSuid || !1, h.options.storeInterval = h.options.storeInterval || 1e3, h.options.busyDelay = h.options.busyDelay || 250, h.options.debug = h.options.debug || !1, h.options.initialTitle = h.options.initialTitle || r.title, h.options.html4Mode = h.options.html4Mode || !1, h.options.delayInit = h.options.delayInit || !1, h.intervalList = [], h.clearAllIntervals = function () {
      var e,
          t = h.intervalList;if (typeof t != "undefined" && t !== null) {
        for (e = 0; e < t.length; e++) {
          f(t[e]);
        }h.intervalList = null;
      }
    }, h.debug = function () {
      (h.options.debug || !1) && h.log.apply(h, arguments);
    }, h.log = function () {
      var e = typeof n != "undefined" && typeof n.log != "undefined" && typeof n.log.apply != "undefined",
          t = r.getElementById("log"),
          i,
          s,
          o,
          u,
          a;e ? (u = Array.prototype.slice.call(arguments), i = u.shift(), typeof n.debug != "undefined" ? n.debug.apply(n, [i, u]) : n.log.apply(n, [i, u])) : i = "\n" + arguments[0] + "\n";for (s = 1, o = arguments.length; s < o; ++s) {
        a = arguments[s];if ((typeof a === "undefined" ? "undefined" : _typeof(a)) == "object" && typeof l != "undefined") try {
          a = l.stringify(a);
        } catch (f) {}i += "\n" + a + "\n";
      }return t ? (t.value += i + "\n-----\n", t.scrollTop = t.scrollHeight - t.clientHeight) : e || c(i), !0;
    }, h.getInternetExplorerMajorVersion = function () {
      var e = h.getInternetExplorerMajorVersion.cached = typeof h.getInternetExplorerMajorVersion.cached != "undefined" ? h.getInternetExplorerMajorVersion.cached : function () {
        var e = 3,
            t = r.createElement("div"),
            n = t.getElementsByTagName("i");while ((t.innerHTML = "<!--[if gt IE " + ++e + "]><i></i><![endif]-->") && n[0]) {}return e > 4 ? e : !1;
      }();return e;
    }, h.isInternetExplorer = function () {
      var e = h.isInternetExplorer.cached = typeof h.isInternetExplorer.cached != "undefined" ? h.isInternetExplorer.cached : Boolean(h.getInternetExplorerMajorVersion());return e;
    }, h.options.html4Mode ? h.emulated = { pushState: !0, hashChange: !0 } : h.emulated = { pushState: !Boolean(e.history && e.history.pushState && e.history.replaceState && !/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent) && !/AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent)), hashChange: Boolean(!("onhashchange" in e || "onhashchange" in r) || h.isInternetExplorer() && h.getInternetExplorerMajorVersion() < 8) }, h.enabled = !h.emulated.pushState, h.bugs = { setHash: Boolean(!h.emulated.pushState && i.vendor === "Apple Computer, Inc." && /AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)), safariPoll: Boolean(!h.emulated.pushState && i.vendor === "Apple Computer, Inc." && /AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)), ieDoubleCheck: Boolean(h.isInternetExplorer() && h.getInternetExplorerMajorVersion() < 8), hashEscape: Boolean(h.isInternetExplorer() && h.getInternetExplorerMajorVersion() < 7) }, h.isEmptyObject = function (e) {
      for (var t in e) {
        if (e.hasOwnProperty(t)) return !1;
      }return !0;
    }, h.cloneObject = function (e) {
      var t, n;return e ? (t = l.stringify(e), n = l.parse(t)) : n = {}, n;
    }, h.getRootUrl = function () {
      var e = r.location.protocol + "//" + (r.location.hostname || r.location.host);if (r.location.port || !1) e += ":" + r.location.port;return e += "/", e;
    }, h.getBaseHref = function () {
      var e = r.getElementsByTagName("base"),
          t = null,
          n = "";return e.length === 1 && (t = e[0], n = t.href.replace(/[^\/]+$/, "")), n = n.replace(/\/+$/, ""), n && (n += "/"), n;
    }, h.getBaseUrl = function () {
      var e = h.getBaseHref() || h.getBasePageUrl() || h.getRootUrl();return e;
    }, h.getPageUrl = function () {
      var e = h.getState(!1, !1),
          t = (e || {}).url || h.getLocationHref(),
          n;return n = t.replace(/\/+$/, "").replace(/[^\/]+$/, function (e, t, n) {
        return (/\./.test(e) ? e : e + "/"
        );
      }), n;
    }, h.getBasePageUrl = function () {
      var e = h.getLocationHref().replace(/[#\?].*/, "").replace(/[^\/]+$/, function (e, t, n) {
        return (/[^\/]$/.test(e) ? "" : e
        );
      }).replace(/\/+$/, "") + "/";return e;
    }, h.getFullUrl = function (e, t) {
      var n = e,
          r = e.substring(0, 1);return t = typeof t == "undefined" ? !0 : t, /[a-z]+\:\/\//.test(e) || (r === "/" ? n = h.getRootUrl() + e.replace(/^\/+/, "") : r === "#" ? n = h.getPageUrl().replace(/#.*/, "") + e : r === "?" ? n = h.getPageUrl().replace(/[\?#].*/, "") + e : t ? n = h.getBaseUrl() + e.replace(/^(\.\/)+/, "") : n = h.getBasePageUrl() + e.replace(/^(\.\/)+/, "")), n.replace(/\#$/, "");
    }, h.getShortUrl = function (e) {
      var t = e,
          n = h.getBaseUrl(),
          r = h.getRootUrl();return h.emulated.pushState && (t = t.replace(n, "")), t = t.replace(r, "/"), h.isTraditionalAnchor(t) && (t = "./" + t), t = t.replace(/^(\.\/)+/g, "./").replace(/\#$/, ""), t;
    }, h.getLocationHref = function (e) {
      return e = e || r, e.URL === e.location.href ? e.location.href : e.location.href === decodeURIComponent(e.URL) ? e.URL : e.location.hash && decodeURIComponent(e.location.href.replace(/^[^#]+/, "")) === e.location.hash ? e.location.href : e.URL.indexOf("#") == -1 && e.location.href.indexOf("#") != -1 ? e.location.href : e.URL || e.location.href;
    }, h.store = {}, h.idToState = h.idToState || {}, h.stateToId = h.stateToId || {}, h.urlToId = h.urlToId || {}, h.storedStates = h.storedStates || [], h.savedStates = h.savedStates || [], h.normalizeStore = function () {
      h.store.idToState = h.store.idToState || {}, h.store.urlToId = h.store.urlToId || {}, h.store.stateToId = h.store.stateToId || {};
    }, h.getState = function (e, t) {
      typeof e == "undefined" && (e = !0), typeof t == "undefined" && (t = !0);var n = h.getLastSavedState();return !n && t && (n = h.createStateObject()), e && (n = h.cloneObject(n), n.url = n.cleanUrl || n.url), n;
    }, h.getIdByState = function (e) {
      var t = h.extractId(e.url),
          n;if (!t) {
        n = h.getStateString(e);if (typeof h.stateToId[n] != "undefined") t = h.stateToId[n];else if (typeof h.store.stateToId[n] != "undefined") t = h.store.stateToId[n];else {
          for (;;) {
            t = new Date().getTime() + String(Math.random()).replace(/\D/g, "");if (typeof h.idToState[t] == "undefined" && typeof h.store.idToState[t] == "undefined") break;
          }h.stateToId[n] = t, h.idToState[t] = e;
        }
      }return t;
    }, h.normalizeState = function (e) {
      var t, n;if (!e || (typeof e === "undefined" ? "undefined" : _typeof(e)) != "object") e = {};if (typeof e.normalized != "undefined") return e;if (!e.data || _typeof(e.data) != "object") e.data = {};return t = {}, t.normalized = !0, t.title = e.title || "", t.url = h.getFullUrl(e.url ? e.url : h.getLocationHref()), t.hash = h.getShortUrl(t.url), t.data = h.cloneObject(e.data), t.id = h.getIdByState(t), t.cleanUrl = t.url.replace(/\??\&_suid.*/, ""), t.url = t.cleanUrl, n = !h.isEmptyObject(t.data), (t.title || n) && h.options.disableSuid !== !0 && (t.hash = h.getShortUrl(t.url).replace(/\??\&_suid.*/, ""), /\?/.test(t.hash) || (t.hash += "?"), t.hash += "&_suid=" + t.id), t.hashedUrl = h.getFullUrl(t.hash), (h.emulated.pushState || h.bugs.safariPoll) && h.hasUrlDuplicate(t) && (t.url = t.hashedUrl), t;
    }, h.createStateObject = function (e, t, n) {
      var r = { data: e, title: t, url: n };return r = h.normalizeState(r), r;
    }, h.getStateById = function (e) {
      e = String(e);var n = h.idToState[e] || h.store.idToState[e] || t;return n;
    }, h.getStateString = function (e) {
      var t, n, r;return t = h.normalizeState(e), n = { data: t.data, title: e.title, url: e.url }, r = l.stringify(n), r;
    }, h.getStateId = function (e) {
      var t, n;return t = h.normalizeState(e), n = t.id, n;
    }, h.getHashByState = function (e) {
      var t, n;return t = h.normalizeState(e), n = t.hash, n;
    }, h.extractId = function (e) {
      var t, n, r, i;return e.indexOf("#") != -1 ? i = e.split("#")[0] : i = e, n = /(.*)\&_suid=([0-9]+)$/.exec(i), r = n ? n[1] || e : e, t = n ? String(n[2] || "") : "", t || !1;
    }, h.isTraditionalAnchor = function (e) {
      var t = !/[\/\?\.]/.test(e);return t;
    }, h.extractState = function (e, t) {
      var n = null,
          r,
          i;return t = t || !1, r = h.extractId(e), r && (n = h.getStateById(r)), n || (i = h.getFullUrl(e), r = h.getIdByUrl(i) || !1, r && (n = h.getStateById(r)), !n && t && !h.isTraditionalAnchor(e) && (n = h.createStateObject(null, null, i))), n;
    }, h.getIdByUrl = function (e) {
      var n = h.urlToId[e] || h.store.urlToId[e] || t;return n;
    }, h.getLastSavedState = function () {
      return h.savedStates[h.savedStates.length - 1] || t;
    }, h.getLastStoredState = function () {
      return h.storedStates[h.storedStates.length - 1] || t;
    }, h.hasUrlDuplicate = function (e) {
      var t = !1,
          n;return n = h.extractState(e.url), t = n && n.id !== e.id, t;
    }, h.storeState = function (e) {
      return h.urlToId[e.url] = e.id, h.storedStates.push(h.cloneObject(e)), e;
    }, h.isLastSavedState = function (e) {
      var t = !1,
          n,
          r,
          i;return h.savedStates.length && (n = e.id, r = h.getLastSavedState(), i = r.id, t = n === i), t;
    }, h.saveState = function (e) {
      return h.isLastSavedState(e) ? !1 : (h.savedStates.push(h.cloneObject(e)), !0);
    }, h.getStateByIndex = function (e) {
      var t = null;return typeof e == "undefined" ? t = h.savedStates[h.savedStates.length - 1] : e < 0 ? t = h.savedStates[h.savedStates.length + e] : t = h.savedStates[e], t;
    }, h.getCurrentIndex = function () {
      var e = null;return h.savedStates.length < 1 ? e = 0 : e = h.savedStates.length - 1, e;
    }, h.getHash = function (e) {
      var t = h.getLocationHref(e),
          n;return n = h.getHashByUrl(t), n;
    }, h.unescapeHash = function (e) {
      var t = h.normalizeHash(e);return t = decodeURIComponent(t), t;
    }, h.normalizeHash = function (e) {
      var t = e.replace(/[^#]*#/, "").replace(/#.*/, "");return t;
    }, h.setHash = function (e, t) {
      var n, i;return t !== !1 && h.busy() ? (h.pushQueue({ scope: h, callback: h.setHash, args: arguments, queue: t }), !1) : (h.busy(!0), n = h.extractState(e, !0), n && !h.emulated.pushState ? h.pushState(n.data, n.title, n.url, !1) : h.getHash() !== e && (h.bugs.setHash ? (i = h.getPageUrl(), h.pushState(null, null, i + "#" + e, !1)) : r.location.hash = e), h);
    }, h.escapeHash = function (t) {
      var n = h.normalizeHash(t);return n = e.encodeURIComponent(n), h.bugs.hashEscape || (n = n.replace(/\%21/g, "!").replace(/\%26/g, "&").replace(/\%3D/g, "=").replace(/\%3F/g, "?")), n;
    }, h.getHashByUrl = function (e) {
      var t = String(e).replace(/([^#]*)#?([^#]*)#?(.*)/, "$2");return t = h.unescapeHash(t), t;
    }, h.setTitle = function (e) {
      var t = e.title,
          n;t || (n = h.getStateByIndex(0), n && n.url === e.url && (t = n.title || h.options.initialTitle));try {
        r.getElementsByTagName("title")[0].innerHTML = t.replace("<", "&lt;").replace(">", "&gt;").replace(" & ", " &amp; ");
      } catch (i) {}return r.title = t, h;
    }, h.queues = [], h.busy = function (e) {
      typeof e != "undefined" ? h.busy.flag = e : typeof h.busy.flag == "undefined" && (h.busy.flag = !1);if (!h.busy.flag) {
        u(h.busy.timeout);var t = function t() {
          var e, n, r;if (h.busy.flag) return;for (e = h.queues.length - 1; e >= 0; --e) {
            n = h.queues[e];if (n.length === 0) continue;r = n.shift(), h.fireQueueItem(r), h.busy.timeout = o(t, h.options.busyDelay);
          }
        };h.busy.timeout = o(t, h.options.busyDelay);
      }return h.busy.flag;
    }, h.busy.flag = !1, h.fireQueueItem = function (e) {
      return e.callback.apply(e.scope || h, e.args || []);
    }, h.pushQueue = function (e) {
      return h.queues[e.queue || 0] = h.queues[e.queue || 0] || [], h.queues[e.queue || 0].push(e), h;
    }, h.queue = function (e, t) {
      return typeof e == "function" && (e = { callback: e }), typeof t != "undefined" && (e.queue = t), h.busy() ? h.pushQueue(e) : h.fireQueueItem(e), h;
    }, h.clearQueue = function () {
      return h.busy.flag = !1, h.queues = [], h;
    }, h.stateChanged = !1, h.doubleChecker = !1, h.doubleCheckComplete = function () {
      return h.stateChanged = !0, h.doubleCheckClear(), h;
    }, h.doubleCheckClear = function () {
      return h.doubleChecker && (u(h.doubleChecker), h.doubleChecker = !1), h;
    }, h.doubleCheck = function (e) {
      return h.stateChanged = !1, h.doubleCheckClear(), h.bugs.ieDoubleCheck && (h.doubleChecker = o(function () {
        return h.doubleCheckClear(), h.stateChanged || e(), !0;
      }, h.options.doubleCheckInterval)), h;
    }, h.safariStatePoll = function () {
      var t = h.extractState(h.getLocationHref()),
          n;if (!h.isLastSavedState(t)) return n = t, n || (n = h.createStateObject()), h.Adapter.trigger(e, "popstate"), h;return;
    }, h.back = function (e) {
      return e !== !1 && h.busy() ? (h.pushQueue({ scope: h, callback: h.back, args: arguments, queue: e }), !1) : (h.busy(!0), h.doubleCheck(function () {
        h.back(!1);
      }), p.go(-1), !0);
    }, h.forward = function (e) {
      return e !== !1 && h.busy() ? (h.pushQueue({ scope: h, callback: h.forward, args: arguments, queue: e }), !1) : (h.busy(!0), h.doubleCheck(function () {
        h.forward(!1);
      }), p.go(1), !0);
    }, h.go = function (e, t) {
      var n;if (e > 0) for (n = 1; n <= e; ++n) {
        h.forward(t);
      } else {
        if (!(e < 0)) throw new Error("History.go: History.go requires a positive or negative integer passed.");for (n = -1; n >= e; --n) {
          h.back(t);
        }
      }return h;
    };if (h.emulated.pushState) {
      var v = function v() {};h.pushState = h.pushState || v, h.replaceState = h.replaceState || v;
    } else h.onPopState = function (t, n) {
      var r = !1,
          i = !1,
          s,
          o;return h.doubleCheckComplete(), s = h.getHash(), s ? (o = h.extractState(s || h.getLocationHref(), !0), o ? h.replaceState(o.data, o.title, o.url, !1) : (h.Adapter.trigger(e, "anchorchange"), h.busy(!1)), h.expectedStateId = !1, !1) : (r = h.Adapter.extractEventData("state", t, n) || !1, r ? i = h.getStateById(r) : h.expectedStateId ? i = h.getStateById(h.expectedStateId) : i = h.extractState(h.getLocationHref()), i || (i = h.createStateObject(null, null, h.getLocationHref())), h.expectedStateId = !1, h.isLastSavedState(i) ? (h.busy(!1), !1) : (h.storeState(i), h.saveState(i), h.setTitle(i), h.Adapter.trigger(e, "statechange"), h.busy(!1), !0));
    }, h.Adapter.bind(e, "popstate", h.onPopState), h.pushState = function (t, n, r, i) {
      if (h.getHashByUrl(r) && h.emulated.pushState) throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if (i !== !1 && h.busy()) return h.pushQueue({ scope: h, callback: h.pushState, args: arguments, queue: i }), !1;h.busy(!0);var s = h.createStateObject(t, n, r);return h.isLastSavedState(s) ? h.busy(!1) : (h.storeState(s), h.expectedStateId = s.id, p.pushState(s.id, s.title, s.url), h.Adapter.trigger(e, "popstate")), !0;
    }, h.replaceState = function (t, n, r, i) {
      if (h.getHashByUrl(r) && h.emulated.pushState) throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if (i !== !1 && h.busy()) return h.pushQueue({ scope: h, callback: h.replaceState, args: arguments, queue: i }), !1;h.busy(!0);var s = h.createStateObject(t, n, r);return h.isLastSavedState(s) ? h.busy(!1) : (h.storeState(s), h.expectedStateId = s.id, p.replaceState(s.id, s.title, s.url), h.Adapter.trigger(e, "popstate")), !0;
    };if (s) {
      try {
        h.store = l.parse(s.getItem("History.store")) || {};
      } catch (m) {
        h.store = {};
      }h.normalizeStore();
    } else h.store = {}, h.normalizeStore();h.Adapter.bind(e, "unload", h.clearAllIntervals), h.saveState(h.storeState(h.extractState(h.getLocationHref(), !0))), s && (h.onUnload = function () {
      var e, t, n;try {
        e = l.parse(s.getItem("History.store")) || {};
      } catch (r) {
        e = {};
      }e.idToState = e.idToState || {}, e.urlToId = e.urlToId || {}, e.stateToId = e.stateToId || {};for (t in h.idToState) {
        if (!h.idToState.hasOwnProperty(t)) continue;e.idToState[t] = h.idToState[t];
      }for (t in h.urlToId) {
        if (!h.urlToId.hasOwnProperty(t)) continue;e.urlToId[t] = h.urlToId[t];
      }for (t in h.stateToId) {
        if (!h.stateToId.hasOwnProperty(t)) continue;e.stateToId[t] = h.stateToId[t];
      }h.store = e, h.normalizeStore(), n = l.stringify(e);try {
        s.setItem("History.store", n);
      } catch (i) {
        if (i.code !== DOMException.QUOTA_EXCEEDED_ERR) throw i;s.length && (s.removeItem("History.store"), s.setItem("History.store", n));
      }
    }, h.intervalList.push(a(h.onUnload, h.options.storeInterval)), h.Adapter.bind(e, "beforeunload", h.onUnload), h.Adapter.bind(e, "unload", h.onUnload));if (!h.emulated.pushState) {
      h.bugs.safariPoll && h.intervalList.push(a(h.safariStatePoll, h.options.safariPollInterval));if (i.vendor === "Apple Computer, Inc." || (i.appCodeName || "") === "Mozilla") h.Adapter.bind(e, "hashchange", function () {
        h.Adapter.trigger(e, "popstate");
      }), h.getHash() && h.Adapter.onDomLoad(function () {
        h.Adapter.trigger(e, "hashchange");
      });
    }
  }, (!h.options || !h.options.delayInit) && h.init();
}(window);

; browserify_shim__define__module__export__(typeof History != "undefined" ? History : window.History);

}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],73:[function(require,module,exports){
'use strict';

var $ = require('jquery');
var noUiSlider = require('noUiSlider');
var Handlebars = require('Handlebars');
var handlbarsHelpers = require('./../common/handlebarsHelpers');
var searchHandlebarsHelpers = require('./searchHandlebarsHelpers');
var _stickyFooter = require('./../common/stickyFooter');
var numberFormat = require('./../common/numberFormat');
var numberShort = require('./../common/numberShort');
var Messages = require("./../messages.js");

module.exports = {

    //////////////// Initialisation ////////////////

    initialise: function initialise() {

        handlbarsHelpers();
        searchHandlebarsHelpers();
    },

    //////////////// General ////////////////

    stickyFooter: function stickyFooter() {
        _stickyFooter();
    },

    scrollToTop: function scrollToTop() {
        window.scrollTo(0, 0);
    },

    showResultsFailedLoading: function showResultsFailedLoading(tab) {
        var source = $('#results-failed-template').html();
        var template = Handlebars.compile(source);
        $('#js-' + tab + '-results-container').html(template());
        _stickyFooter();
    },

    //////////////// Company Results ////////////////

    showCompanyLoading: function showCompanyLoading() {
        $('#js-company-overlay').addClass('overlay');
        $('.results-loading').css('margin-top', $(document).scrollTop());
        $('.results-loading').removeClass('hide');
        _stickyFooter();
    },

    updateCompanySearchOptions: function updateCompanySearchOptions(response) {
        $('#js-company-options .result-count').text(numberFormat(response.information.totalResults) + ' Results');
        $('.tab-info__total-results').text(numberFormat(response.information.totalResults));
    },

    updateCompanyView: function updateCompanyView(response) {
        var source = $('#company-results-template').html();
        var template = Handlebars.compile(source);
        response['specialCase'] = specialCase;
        $('#js-company-results-container').html(template(response));
        this.updateCompanySearchOptions(response);
        _stickyFooter();
    },

    //////////////// Director Results ////////////////

    showDirectorLoading: function showDirectorLoading() {
        $('#js-director-overlay').addClass('overlay');
        $('.results-loading').css('margin-top', $(document).scrollTop());
        $('.results-loading').removeClass('hide');
        _stickyFooter();
    },

    updateDirectorSearchOptions: function updateDirectorSearchOptions(response) {
        $('#js-director-options .result-count').text(numberFormat(response.information.totalResults) + ' Results');
        $('.tab-info__total-results').text(numberFormat(response.information.totalResults));
    },

    updateDirectorView: function updateDirectorView(response) {
        var source = $('#director-results-template').html();
        var template = Handlebars.compile(source);
        response['specialCase'] = specialCase;
        $('#js-director-results-container').html(template(response));
        this.updateDirectorSearchOptions(response);
        _stickyFooter();
    },

    //////////////// Filters ////////////////

    showCompanyTab: function showCompanyTab() {
        $('.company-tab').addClass('tab--selected');
        $('.director-tab').removeClass('tab--selected');

        $('#js-company-results-container').removeClass('hide');
        $('#js-company-filters').removeClass('hide');
        $('#js-company-options').removeClass('hide');
        $('#js-director-results-container').addClass('hide');
        $('#js-director-filters').addClass('hide');
        $('#js-director-options').addClass('hide');
    },

    showDirectorTab: function showDirectorTab() {
        $('.company-tab').removeClass('tab--selected');
        $('.director-tab').addClass('tab--selected');

        $('#js-company-results-container').addClass('hide');
        $('#js-company-filters').addClass('hide');
        $('#js-company-options').addClass('hide');
        $('#js-director-results-container').removeClass('hide');
        $('#js-director-filters').removeClass('hide');
        $('#js-director-options').removeClass('hide');
    },

    hideFilters: function hideFilters(button) {
        button.text('Filter Results');

        // hide filters
        $('.search-filters').css('display', 'none');

        //show top ad
        $('.js-search-top-ad').removeClass('hide');

        // allow scrolling
        $('body').removeClass('fixed');
    },

    showFilters: function showFilters(button) {

        button.text('Back To Results');

        // show filters
        $('.search-filters').css('display', 'block');

        //hide top ad
        $('.js-search-top-ad').addClass('hide');

        // stop scrolling
        $('body').addClass('fixed');

        //////////////// Set size and position ////////////////

        var topOffset = $('.header').outerHeight(true) + $('.filter-results-button-container').outerHeight(true) + 1;

        $('.search-filters').css({
            'top': topOffset,
            'height': $(window).height() - topOffset
        });
    },

    updateCheckboxes: function updateCheckboxes(checkboxes, query) {
        $.each(query, function (key, value) {

            switch (key) {
                case 'status':
                case 'type':
                case 'activity':
                case 'country':
                case 'yearofbirthrange':
                    if (value == 'company-uk,company-nltd,company-euro') {
                        return;
                    }

                    var values = value.split(",");

                    $.each(values, function (key, value) {
                        checkboxes.filter('[data-value="' + value + '"]').prop('checked', true);
                    });
                    break;

                default:
                    break;
            }
        });
    },

    updateCompanyFilter: function updateCompanyFilter(filter, query) {

        var source = '';
        var template = '';

        switch (filter.name) {
            case "active":
            case "type":
            case "activity":
            case "country":
                var filterSection = $("#js-company-filters [data-filter='" + filter.name + "']");

                source = $('#filter-checkbox-partial').html();
                template = Handlebars.compile(source);
                filterSection.children('.filter-section__content').html(template(filter));
                this.updateCheckboxes(filterSection.find('.filter-checkbox'), query);
                filterSection.children('.filter-section__content').removeClass('hide');
                filterSection.children('.filter-section__title').removeClass('loading').removeClass('filter-section__title-error').addClass('open');

                break;

            case "cashatbank":
            case "assets":
            case "liabilities":
            case "networth":
            case "fixedassets":
            case "creditors":
            case "debtors":

                var searchView = this;
                var filterSection = $("#js-company-filters [data-filter='" + filter.name + "']");

                if (filter.min == null) filter.min = 0;
                if (filter.max == null) filter.max = 0;

                source = $('#slider-template').html();
                template = Handlebars.compile(source);

                filter.id = 'js-' + filter.name + '-slider';
                filterSection.children('.filter-section__content').html(template(filter));

                if (filter.min < 0) {
                    var range = {
                        'min': filter.min,
                        '25%': filter.min * 0.25,
                        '45%': filter.min * 0.01,
                        '50%': 0,
                        '55%': filter.max * 0.01,
                        '75%': filter.max * 0.25,
                        'max': filter.max
                    };
                } else {
                    var range = {
                        'min': filter.min,
                        '10%': filter.max * 0.01,
                        '25%': filter.max * 0.10,
                        '50%': filter.max * 0.25,
                        'max': filter.max
                    };
                }

                $('#' + filter.id).noUiSlider({
                    start: [filter.min, filter.max],
                    connect: true,
                    range: range
                });

                if (filter.min == filter.max) $('#' + filter.id).attr('disabled', 'disabled');

                $('#' + filter.id).Link("lower").to(filterSection.find('.slider-figure--bottom'), function (value) {
                    searchView.updateSliderInput($(this), value);
                });

                $('#' + filter.id).Link("upper").to(filterSection.find('.slider-figure--top'), function (value) {
                    searchView.updateSliderInput($(this), value);
                });

                filterSection.children('.filter-section__content').removeClass('hide');

                filterSection.children('.filter-section__title').removeClass('loading').removeClass('filter-section__title-error').addClass('open');

                break;

            default:
                break;
        }
    },

    disableTypeFilters: function disableTypeFilters() {
        $('input[data-filter="type"]').attr('disabled', true);
    },

    inputSliderGuard: false,

    updateSliderInput: function updateSliderInput(input, value) {
        if (this.inputSliderGuard) return;
        input.val('£' + numberShort(value, 2));
    },

    sliderInputFocused: function sliderInputFocused(slider, input, value) {
        if (input.hasClass('slider-figure--bottom')) {
            input.val(parseInt(slider.val()[0]));
        } else {
            input.val(parseInt(slider.val()[1]));
        }

        input.select();
    },

    updateSlider: function updateSlider(sliderInput, slider) {

        var value = sliderInput.val().replace(/\D/g, '');
        this.inputSliderGuard = true;

        if (sliderInput.hasClass('slider-figure--bottom')) slider.val(value);else slider.val([null, value]);

        this.inputSliderGuard = false;
        this.updateSliderInput(sliderInput, value);
    },

    updateDirectorFilter: function updateDirectorFilter(filter, query) {

        var source = '';
        var template = '';

        switch (filter.name) {
            case "active":
            case "yearofbirthrange":
            case "country":
                var filterSection = $("#js-director-filters [data-filter='" + filter.name + "']");

                source = $('#filter-checkbox-partial').html();
                template = Handlebars.compile(source);
                filterSection.children('.filter-section__content').html(template(filter));
                this.updateCheckboxes(filterSection.find('.filter-checkbox'), query);
                filterSection.children('.filter-section__content').removeClass('hide');
                filterSection.children('.filter-section__title').removeClass('loading').removeClass('filter-section__title-error').addClass('open');

                break;

            default:
                break;
        }
    },

    openTabControlDropdown: function openTabControlDropdown() {
        $('.tab-dropdown-control').addClass('open');
        $('.tab-dropdown').removeClass('hide');
    },

    closeTabControlDropdown: function closeTabControlDropdown() {
        $('.tab-dropdown-control').removeClass('open');
        $('.tab-dropdown').addClass('hide');
    },

    switchTabControlDropdownText: function switchTabControlDropdownText(tab) {
        if (tab == 'company') {
            $('.tab-dropdown-control').text(Messages.get('search.tab.companies'));
            $('.tab-dropdown .tab-switch').text(Messages.get('search.tab.directors'));
        } else {
            $('.tab-dropdown-control').text(Messages.get('search.tab.directors'));
            $('.tab-dropdown .tab-switch').text(Messages.get('search.tab.companies'));
        }
    },

    switchTabInfo: function switchTabInfo(tab) {
        if (tab == 'company') {
            $('.tab-info__tab').text(Messages.get('search.tab.companies'));
            $('.tab-switch-button').text(Messages.get('search.tab.viewDirectors'));
        } else {
            $('.tab-info__tab').text(Messages.get('search.tab.directors'));
            $('.tab-switch-button').text(Messages.get('search.tab.viewCompanies'));
        }

        $('.tab-info__total-results').text('');
    },

    showFilterLoading: function showFilterLoading(filterSection) {
        filterSection.children('.filter-section__title').removeClass('open');
        filterSection.children('.filter-section__title').addClass('loading');
    },

    showFilterFailedLoading: function showFilterFailedLoading(filter, tab) {
        var filterSection = $("#js-" + tab + "-filters [data-filter='" + filter + "']");

        var source = $('#filter-failed-template').html();
        var template = Handlebars.compile(source);
        filterSection.children('.filter-section__content').html(template());

        filterSection.children('.filter-section__content').removeClass('hide');
        filterSection.children('.filter-section__title').addClass('filter-section__title-error').addClass('open').removeClass('loading');
    },

    openFilter: function openFilter(filterSection) {

        if (filterSection.find('.failed-filter').length > 0) filterSection.children('.filter-section__title').addClass('filter-section__title-error');

        filterSection.children('.filter-section__title').addClass('open');
        filterSection.children('.filter-section__content').removeClass('hide');
    },

    closeFilter: function closeFilter(filterSection) {
        filterSection.removeClass('overflow');
        filterSection.children('.filter-section__title').removeClass('open');
        filterSection.children('.filter-section__title').removeClass('filter-section__title-error');
        filterSection.children('.filter-section__content').addClass('hide');
    },

    disableTabs: function disableTabs() {
        //disable company/director tab switching
        $('.tab').addClass('tab--disabled');
        $('.tab-dropdown-control').addClass('tab--disabled');
        $('.tab-switch-button').addClass('tab--disabled');
    },

    enableTabs: function enableTabs() {
        //enable tabs
        $('.tab').removeClass('tab--disabled');
        $('.tab-dropdown-control').removeClass('tab--disabled');
        $('.tab-switch-button').removeClass('tab--disabled');
    },

    setLocationValue: function setLocationValue(input, value) {
        input.val(value);
    },

    clearLocationInput: function clearLocationInput(input) {
        input.val('');
    },

    clearTermInput: function clearTermInput(input) {
        input.val('');
    },

    updateActiveFilters: function updateActiveFilters(activeFiltersDropdown, filters, tab) {

        if ($.isEmptyObject(filters)) {
            var source = $('#active-filter-empty-template').html();
        } else {
            var source = $('#active-filter-template').html();
        }

        var template = Handlebars.compile(source);

        if (tab == 'company') {
            $('#js-company-active-filters').html(template(filters));
        } else {
            $('#js-director-active-filters').html(template(filters));
        }
    },

    showActiveFilters: function showActiveFilters() {
        $('.active-filters-dropdown__filters').removeClass('hide');
    },

    hideActiveFilters: function hideActiveFilters() {
        $('.active-filters-dropdown__filters').addClass('hide');
    },

    removeActiveFilter: function removeActiveFilter(activeFilter) {
        activeFilter.remove();
    },

    removeAllActiveFilters: function removeAllActiveFilters() {
        $('.active-filters-dropdown__filters').html('');
    },

    enableActiveFiltersDropdown: function enableActiveFiltersDropdown(tab) {
        if (tab == 'company') $('#js-company-filters .active-filters-dropdown').removeClass('disabled');else $('#js-director-filters .active-filters-dropdown').removeClass('disabled');
    },

    disableActiveFiltersDropdown: function disableActiveFiltersDropdown(tab) {
        if (tab == 'company') $('#js-company-filters .active-filters-dropdown').addClass('disabled');else $('#js-director-filters .active-filters-dropdown').addClass('disabled');
    }
};

},{"./../common/handlebarsHelpers":27,"./../common/numberFormat":30,"./../common/numberShort":31,"./../common/stickyFooter":35,"./../messages.js":61,"./searchHandlebarsHelpers":71,"Handlebars":82,"jquery":87,"noUiSlider":90}],90:[function(require,module,exports){
(function (global){
;__browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

/*! noUiSlider - 7.0.10 - 2014-12-27 14:50:47 */

!function () {
  "use strict";
  function a(a) {
    return a.split("").reverse().join("");
  }function b(a, b) {
    return a.substring(0, b.length) === b;
  }function c(a, b) {
    return a.slice(-1 * b.length) === b;
  }function d(a, b, c) {
    if ((a[b] || a[c]) && a[b] === a[c]) throw new Error(b);
  }function e(a) {
    return "number" == typeof a && isFinite(a);
  }function f(a, b) {
    var c = Math.pow(10, b);return (Math.round(a * c) / c).toFixed(b);
  }function g(b, c, d, g, h, i, j, k, l, m, n, o) {
    var p,
        q,
        r,
        s = o,
        t = "",
        u = "";return i && (o = i(o)), e(o) ? (b !== !1 && 0 === parseFloat(o.toFixed(b)) && (o = 0), 0 > o && (p = !0, o = Math.abs(o)), b !== !1 && (o = f(o, b)), o = o.toString(), -1 !== o.indexOf(".") ? (q = o.split("."), r = q[0], d && (t = d + q[1])) : r = o, c && (r = a(r).match(/.{1,3}/g), r = a(r.join(a(c)))), p && k && (u += k), g && (u += g), p && l && (u += l), u += r, u += t, h && (u += h), m && (u = m(u, s)), u) : !1;
  }function h(a, d, f, g, h, i, j, k, l, m, n, o) {
    var p,
        q = "";return n && (o = n(o)), o && "string" == typeof o ? (k && b(o, k) && (o = o.replace(k, ""), p = !0), g && b(o, g) && (o = o.replace(g, "")), l && b(o, l) && (o = o.replace(l, ""), p = !0), h && c(o, h) && (o = o.slice(0, -1 * h.length)), d && (o = o.split(d).join("")), f && (o = o.replace(f, ".")), p && (q += "-"), q += o, q = q.replace(/[^0-9\.\-.]/g, ""), "" === q ? !1 : (q = Number(q), j && (q = j(q)), e(q) ? q : !1)) : !1;
  }function i(a) {
    var b,
        c,
        e,
        f = {};for (b = 0; b < l.length; b += 1) {
      if (c = l[b], e = a[c], void 0 === e) f[c] = "negative" !== c || f.negativeBefore ? "mark" === c && "." !== f.thousand ? "." : !1 : "-";else if ("decimals" === c) {
        if (!(e >= 0 && 8 > e)) throw new Error(c);f[c] = e;
      } else if ("encoder" === c || "decoder" === c || "edit" === c || "undo" === c) {
        if ("function" != typeof e) throw new Error(c);f[c] = e;
      } else {
        if ("string" != typeof e) throw new Error(c);f[c] = e;
      }
    }return d(f, "mark", "thousand"), d(f, "prefix", "negative"), d(f, "prefix", "negativeBefore"), f;
  }function j(a, b, c) {
    var d,
        e = [];for (d = 0; d < l.length; d += 1) {
      e.push(a[l[d]]);
    }return e.push(c), b.apply("", e);
  }function k(a) {
    return this instanceof k ? void ("object" == (typeof a === "undefined" ? "undefined" : _typeof(a)) && (a = i(a), this.to = function (b) {
      return j(a, g, b);
    }, this.from = function (b) {
      return j(a, h, b);
    })) : new k(a);
  }var l = ["decimals", "thousand", "mark", "prefix", "postfix", "encoder", "decoder", "negativeBefore", "negative", "edit", "undo"];window.wNumb = k;
}(), function (a) {
  "use strict";
  function b(b) {
    return b instanceof a || a.zepto && a.zepto.isZ(b);
  }function c(b, c) {
    return "string" == typeof b && 0 === b.indexOf("-inline-") ? (this.method = c || "html", this.target = this.el = a(b.replace("-inline-", "") || "<div/>"), !0) : void 0;
  }function d(b) {
    if ("string" == typeof b && 0 !== b.indexOf("-")) {
      this.method = "val";var c = document.createElement("input");return c.name = b, c.type = "hidden", this.target = this.el = a(c), !0;
    }
  }function e(a) {
    return "function" == typeof a ? (this.target = !1, this.method = a, !0) : void 0;
  }function f(a, c) {
    return b(a) && !c ? (a.is("input, select, textarea") ? (this.method = "val", this.target = a.on("change.liblink", this.changeHandler)) : (this.target = a, this.method = "html"), !0) : void 0;
  }function g(a, c) {
    return b(a) && ("function" == typeof c || "string" == typeof c && a[c]) ? (this.method = c, this.target = a, !0) : void 0;
  }function h(b, c, d) {
    var e = this,
        f = !1;if (this.changeHandler = function (b) {
      var c = e.formatInstance.from(a(this).val());return c === !1 || isNaN(c) ? (a(this).val(e.lastSetValue), !1) : void e.changeHandlerMethod.call("", b, c);
    }, this.el = !1, this.formatInstance = d, a.each(k, function (a, d) {
      return f = d.call(e, b, c), !f;
    }), !f) throw new RangeError("(Link) Invalid Link.");
  }function i(a) {
    this.items = [], this.elements = [], this.origin = a;
  }function j(b, c, d, e) {
    0 === b && (b = this.LinkDefaultFlag), this.linkAPI || (this.linkAPI = {}), this.linkAPI[b] || (this.linkAPI[b] = new i(this));var f = new h(c, d, e || this.LinkDefaultFormatter);f.target || (f.target = a(this)), f.changeHandlerMethod = this.LinkConfirm(b, f.el), this.linkAPI[b].push(f, f.el), this.LinkUpdate(b);
  }var k = [c, d, e, f, g];h.prototype.set = function (a) {
    var b = Array.prototype.slice.call(arguments),
        c = b.slice(1);this.lastSetValue = this.formatInstance.to(a), c.unshift(this.lastSetValue), ("function" == typeof this.method ? this.method : this.target[this.method]).apply(this.target, c);
  }, i.prototype.push = function (a, b) {
    this.items.push(a), b && this.elements.push(b);
  }, i.prototype.reconfirm = function (a) {
    var b;for (b = 0; b < this.elements.length; b += 1) {
      this.origin.LinkConfirm(a, this.elements[b]);
    }
  }, i.prototype.remove = function () {
    var a;for (a = 0; a < this.items.length; a += 1) {
      this.items[a].target.off(".liblink");
    }for (a = 0; a < this.elements.length; a += 1) {
      this.elements[a].remove();
    }
  }, i.prototype.change = function (a) {
    if (this.origin.LinkIsEmitting) return !1;this.origin.LinkIsEmitting = !0;var b,
        c = Array.prototype.slice.call(arguments, 1);for (c.unshift(a), b = 0; b < this.items.length; b += 1) {
      this.items[b].set.apply(this.items[b], c);
    }this.origin.LinkIsEmitting = !1;
  }, a.fn.Link = function (b) {
    var c = this;if (b === !1) return c.each(function () {
      this.linkAPI && (a.map(this.linkAPI, function (a) {
        a.remove();
      }), delete this.linkAPI);
    });if (void 0 === b) b = 0;else if ("string" != typeof b) throw new Error("Flag must be string.");return { to: function to(a, d, e) {
        return c.each(function () {
          j.call(this, b, a, d, e);
        });
      } };
  };
}(window.jQuery || window.Zepto), function (a) {
  "use strict";
  function b(b) {
    return a.grep(b, function (c, d) {
      return d === a.inArray(c, b);
    });
  }function c(a, b) {
    return Math.round(a / b) * b;
  }function d(a) {
    return "number" == typeof a && !isNaN(a) && isFinite(a);
  }function e(a) {
    var b = Math.pow(10, 7);return Number((Math.round(a * b) / b).toFixed(7));
  }function f(a, b, c) {
    a.addClass(b), setTimeout(function () {
      a.removeClass(b);
    }, c);
  }function g(a) {
    return Math.max(Math.min(a, 100), 0);
  }function h(b) {
    return a.isArray(b) ? b : [b];
  }function i(a) {
    var b = a.split(".");return b.length > 1 ? b[1].length : 0;
  }function j(a, b) {
    return 100 / (b - a);
  }function k(a, b) {
    return 100 * b / (a[1] - a[0]);
  }function l(a, b) {
    return k(a, a[0] < 0 ? b + Math.abs(a[0]) : b - a[0]);
  }function m(a, b) {
    return b * (a[1] - a[0]) / 100 + a[0];
  }function n(a, b) {
    for (var c = 1; a >= b[c];) {
      c += 1;
    }return c;
  }function o(a, b, c) {
    if (c >= a.slice(-1)[0]) return 100;var d,
        e,
        f,
        g,
        h = n(c, a);return d = a[h - 1], e = a[h], f = b[h - 1], g = b[h], f + l([d, e], c) / j(f, g);
  }function p(a, b, c) {
    if (c >= 100) return a.slice(-1)[0];var d,
        e,
        f,
        g,
        h = n(c, b);return d = a[h - 1], e = a[h], f = b[h - 1], g = b[h], m([d, e], (c - f) * j(f, g));
  }function q(a, b, d, e) {
    if (100 === e) return e;var f,
        g,
        h = n(e, a);return d ? (f = a[h - 1], g = a[h], e - f > (g - f) / 2 ? g : f) : b[h - 1] ? a[h - 1] + c(e - a[h - 1], b[h - 1]) : e;
  }function r(a, b, c) {
    var e;if ("number" == typeof b && (b = [b]), "[object Array]" !== Object.prototype.toString.call(b)) throw new Error("noUiSlider: 'range' contains invalid value.");if (e = "min" === a ? 0 : "max" === a ? 100 : parseFloat(a), !d(e) || !d(b[0])) throw new Error("noUiSlider: 'range' value isn't numeric.");c.xPct.push(e), c.xVal.push(b[0]), e ? c.xSteps.push(isNaN(b[1]) ? !1 : b[1]) : isNaN(b[1]) || (c.xSteps[0] = b[1]);
  }function s(a, b, c) {
    return b ? void (c.xSteps[a] = k([c.xVal[a], c.xVal[a + 1]], b) / j(c.xPct[a], c.xPct[a + 1])) : !0;
  }function t(a, b, c, d) {
    this.xPct = [], this.xVal = [], this.xSteps = [d || !1], this.xNumSteps = [!1], this.snap = b, this.direction = c;var e,
        f = [];for (e in a) {
      a.hasOwnProperty(e) && f.push([a[e], e]);
    }for (f.sort(function (a, b) {
      return a[0] - b[0];
    }), e = 0; e < f.length; e++) {
      r(f[e][1], f[e][0], this);
    }for (this.xNumSteps = this.xSteps.slice(0), e = 0; e < this.xNumSteps.length; e++) {
      s(e, this.xNumSteps[e], this);
    }
  }function u(a, b) {
    if (!d(b)) throw new Error("noUiSlider: 'step' is not numeric.");a.singleStep = b;
  }function v(b, c) {
    if ("object" != (typeof c === "undefined" ? "undefined" : _typeof(c)) || a.isArray(c)) throw new Error("noUiSlider: 'range' is not an object.");if (void 0 === c.min || void 0 === c.max) throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");b.spectrum = new t(c, b.snap, b.dir, b.singleStep);
  }function w(b, c) {
    if (c = h(c), !a.isArray(c) || !c.length || c.length > 2) throw new Error("noUiSlider: 'start' option is incorrect.");b.handles = c.length, b.start = c;
  }function x(a, b) {
    if (a.snap = b, "boolean" != typeof b) throw new Error("noUiSlider: 'snap' option must be a boolean.");
  }function y(a, b) {
    if (a.animate = b, "boolean" != typeof b) throw new Error("noUiSlider: 'animate' option must be a boolean.");
  }function z(a, b) {
    if ("lower" === b && 1 === a.handles) a.connect = 1;else if ("upper" === b && 1 === a.handles) a.connect = 2;else if (b === !0 && 2 === a.handles) a.connect = 3;else {
      if (b !== !1) throw new Error("noUiSlider: 'connect' option doesn't match handle count.");a.connect = 0;
    }
  }function A(a, b) {
    switch (b) {case "horizontal":
        a.ort = 0;break;case "vertical":
        a.ort = 1;break;default:
        throw new Error("noUiSlider: 'orientation' option is invalid.");}
  }function B(a, b) {
    if (!d(b)) throw new Error("noUiSlider: 'margin' option must be numeric.");if (a.margin = a.spectrum.getMargin(b), !a.margin) throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.");
  }function C(a, b) {
    if (!d(b)) throw new Error("noUiSlider: 'limit' option must be numeric.");if (a.limit = a.spectrum.getMargin(b), !a.limit) throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.");
  }function D(a, b) {
    switch (b) {case "ltr":
        a.dir = 0;break;case "rtl":
        a.dir = 1, a.connect = [0, 2, 1, 3][a.connect];break;default:
        throw new Error("noUiSlider: 'direction' option was not recognized.");}
  }function E(a, b) {
    if ("string" != typeof b) throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var c = b.indexOf("tap") >= 0,
        d = b.indexOf("drag") >= 0,
        e = b.indexOf("fixed") >= 0,
        f = b.indexOf("snap") >= 0;a.events = { tap: c || f, drag: d, fixed: e, snap: f };
  }function F(a, b) {
    if (a.format = b, "function" == typeof b.to && "function" == typeof b.from) return !0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");
  }function G(b) {
    var c,
        d = { margin: 0, limit: 0, animate: !0, format: Z };return c = { step: { r: !1, t: u }, start: { r: !0, t: w }, connect: { r: !0, t: z }, direction: { r: !0, t: D }, snap: { r: !1, t: x }, animate: { r: !1, t: y }, range: { r: !0, t: v }, orientation: { r: !1, t: A }, margin: { r: !1, t: B }, limit: { r: !1, t: C }, behaviour: { r: !0, t: E }, format: { r: !1, t: F } }, b = a.extend({ connect: !1, direction: "ltr", behaviour: "tap", orientation: "horizontal" }, b), a.each(c, function (a, c) {
      if (void 0 === b[a]) {
        if (c.r) throw new Error("noUiSlider: '" + a + "' is required.");return !0;
      }c.t(d, b[a]);
    }), d.style = d.ort ? "top" : "left", d;
  }function H(a, b, c) {
    var d = a + b[0],
        e = a + b[1];return c ? (0 > d && (e += Math.abs(d)), e > 100 && (d -= e - 100), [g(d), g(e)]) : [d, e];
  }function I(a) {
    a.preventDefault();var b,
        c,
        d = 0 === a.type.indexOf("touch"),
        e = 0 === a.type.indexOf("mouse"),
        f = 0 === a.type.indexOf("pointer"),
        g = a;return 0 === a.type.indexOf("MSPointer") && (f = !0), a.originalEvent && (a = a.originalEvent), d && (b = a.changedTouches[0].pageX, c = a.changedTouches[0].pageY), (e || f) && (f || void 0 !== window.pageXOffset || (window.pageXOffset = document.documentElement.scrollLeft, window.pageYOffset = document.documentElement.scrollTop), b = a.clientX + window.pageXOffset, c = a.clientY + window.pageYOffset), g.points = [b, c], g.cursor = e, g;
  }function J(b, c) {
    var d = a("<div><div/></div>").addClass(Y[2]),
        e = ["-lower", "-upper"];return b && e.reverse(), d.children().addClass(Y[3] + " " + Y[3] + e[c]), d;
  }function K(a, b, c) {
    switch (a) {case 1:
        b.addClass(Y[7]), c[0].addClass(Y[6]);break;case 3:
        c[1].addClass(Y[6]);case 2:
        c[0].addClass(Y[7]);case 0:
        b.addClass(Y[6]);}
  }function L(a, b, c) {
    var d,
        e = [];for (d = 0; a > d; d += 1) {
      e.push(J(b, d).appendTo(c));
    }return e;
  }function M(b, c, d) {
    return d.addClass([Y[0], Y[8 + b], Y[4 + c]].join(" ")), a("<div/>").appendTo(d).addClass(Y[1]);
  }function N(b, c, d) {
    function e() {
      return C[["width", "height"][c.ort]]();
    }function j(a) {
      var b,
          c = [E.val()];for (b = 0; b < a.length; b += 1) {
        E.trigger(a[b], c);
      }
    }function k(a) {
      return 1 === a.length ? a[0] : c.dir ? a.reverse() : a;
    }function l(a) {
      return function (b, c) {
        E.val([a ? null : c, a ? c : null], !0);
      };
    }function m(b) {
      var c = a.inArray(b, N);E[0].linkAPI && E[0].linkAPI[b] && E[0].linkAPI[b].change(J[c], D[c].children(), E);
    }function n(b, d) {
      var e = a.inArray(b, N);return d && d.appendTo(D[e].children()), c.dir && c.handles > 1 && (e = 1 === e ? 0 : 1), l(e);
    }function o() {
      var a, b;for (a = 0; a < N.length; a += 1) {
        this.linkAPI && this.linkAPI[b = N[a]] && this.linkAPI[b].reconfirm(b);
      }
    }function p(a, b, d, e) {
      return a = a.replace(/\s/g, W + " ") + W, b.on(a, function (a) {
        return E.attr("disabled") ? !1 : E.hasClass(Y[14]) ? !1 : (a = I(a), a.calcPoint = a.points[c.ort], void d(a, e));
      });
    }function q(a, b) {
      var c,
          d = b.handles || D,
          f = !1,
          g = 100 * (a.calcPoint - b.start) / e(),
          h = d[0][0] !== D[0][0] ? 1 : 0;c = H(g, b.positions, d.length > 1), f = v(d[0], c[h], 1 === d.length), d.length > 1 && (f = v(d[1], c[h ? 0 : 1], !1) || f), f && j(["slide"]);
    }function r(b) {
      a("." + Y[15]).removeClass(Y[15]), b.cursor && a("body").css("cursor", "").off(W), U.off(W), E.removeClass(Y[12]), j(["set", "change"]);
    }function s(b, c) {
      1 === c.handles.length && c.handles[0].children().addClass(Y[15]), b.stopPropagation(), p(X.move, U, q, { start: b.calcPoint, handles: c.handles, positions: [F[0], F[D.length - 1]] }), p(X.end, U, r, null), b.cursor && (a("body").css("cursor", a(b.target).css("cursor")), D.length > 1 && E.addClass(Y[12]), a("body").on("selectstart" + W, !1));
    }function t(b) {
      var d,
          g = b.calcPoint,
          h = 0;b.stopPropagation(), a.each(D, function () {
        h += this.offset()[c.style];
      }), h = h / 2 > g || 1 === D.length ? 0 : 1, g -= C.offset()[c.style], d = 100 * g / e(), c.events.snap || f(E, Y[14], 300), v(D[h], d), j(["slide", "set", "change"]), c.events.snap && s(b, { handles: [D[h]] });
    }function u(a) {
      var b, c;if (!a.fixed) for (b = 0; b < D.length; b += 1) {
        p(X.start, D[b].children(), s, { handles: [D[b]] });
      }a.tap && p(X.start, C, t, { handles: D }), a.drag && (c = C.find("." + Y[7]).addClass(Y[10]), a.fixed && (c = c.add(C.children().not(c).children())), p(X.start, c, s, { handles: D }));
    }function v(a, b, d) {
      var e = a[0] !== D[0][0] ? 1 : 0,
          f = F[0] + c.margin,
          h = F[1] - c.margin,
          i = F[0] + c.limit,
          j = F[1] - c.limit;return D.length > 1 && (b = e ? Math.max(b, f) : Math.min(b, h)), d !== !1 && c.limit && D.length > 1 && (b = e ? Math.min(b, i) : Math.max(b, j)), b = G.getStep(b), b = g(parseFloat(b.toFixed(7))), b === F[e] ? !1 : (a.css(c.style, b + "%"), a.is(":first-child") && a.toggleClass(Y[17], b > 50), F[e] = b, J[e] = G.fromStepping(b), m(N[e]), !0);
    }function w(a, b) {
      var d, e, f;for (c.limit && (a += 1), d = 0; a > d; d += 1) {
        e = d % 2, f = b[e], null !== f && f !== !1 && ("number" == typeof f && (f = String(f)), f = c.format.from(f), (f === !1 || isNaN(f) || v(D[e], G.toStepping(f), d === 3 - c.dir) === !1) && m(N[e]));
      }
    }function x(a) {
      if (E[0].LinkIsEmitting) return this;var b,
          d = h(a);return c.dir && c.handles > 1 && d.reverse(), c.animate && -1 !== F[0] && f(E, Y[14], 300), b = D.length > 1 ? 3 : 1, 1 === d.length && (b = 1), w(b, d), j(["set"]), this;
    }function y() {
      var a,
          b = [];for (a = 0; a < c.handles; a += 1) {
        b[a] = c.format.to(J[a]);
      }return k(b);
    }function z() {
      return a(this).off(W).removeClass(Y.join(" ")).empty(), delete this.LinkUpdate, delete this.LinkConfirm, delete this.LinkDefaultFormatter, delete this.LinkDefaultFlag, delete this.reappend, delete this.vGet, delete this.vSet, delete this.getCurrentStep, delete this.getInfo, delete this.destroy, d;
    }function A() {
      var b = a.map(F, function (a, b) {
        var c = G.getApplicableStep(a),
            d = i(String(c[2])),
            e = J[b],
            f = 100 === a ? null : c[2],
            g = Number((e - c[2]).toFixed(d)),
            h = 0 === a ? null : g >= c[1] ? c[2] : c[0] || !1;return [[h, f]];
      });return k(b);
    }function B() {
      return d;
    }var C,
        D,
        E = a(b),
        F = [-1, -1],
        G = c.spectrum,
        J = [],
        N = ["lower", "upper"].slice(0, c.handles);if (c.dir && N.reverse(), b.LinkUpdate = m, b.LinkConfirm = n, b.LinkDefaultFormatter = c.format, b.LinkDefaultFlag = "lower", b.reappend = o, E.hasClass(Y[0])) throw new Error("Slider was already initialized.");C = M(c.dir, c.ort, E), D = L(c.handles, c.dir, C), K(c.connect, E, D), u(c.events), b.vSet = x, b.vGet = y, b.destroy = z, b.getCurrentStep = A, b.getOriginalOptions = B, b.getInfo = function () {
      return [G, c.style, c.ort];
    }, E.val(c.start);
  }function O(a) {
    var b = G(a, this);return this.each(function () {
      N(this, b, a);
    });
  }function P(b) {
    return this.each(function () {
      if (!this.destroy) return void a(this).noUiSlider(b);var c = a(this).val(),
          d = this.destroy(),
          e = a.extend({}, d, b);a(this).noUiSlider(e), this.reappend(), d.start === e.start && a(this).val(c);
    });
  }function Q() {
    return this[0][arguments.length ? "vSet" : "vGet"].apply(this[0], arguments);
  }function R(b, c, d, e) {
    if ("range" === c || "steps" === c) return b.xVal;if ("count" === c) {
      var f,
          g = 100 / (d - 1),
          h = 0;for (d = []; (f = h++ * g) <= 100;) {
        d.push(f);
      }c = "positions";
    }return "positions" === c ? a.map(d, function (a) {
      return b.fromStepping(e ? b.getStep(a) : a);
    }) : "values" === c ? e ? a.map(d, function (a) {
      return b.fromStepping(b.getStep(b.toStepping(a)));
    }) : d : void 0;
  }function S(c, d, e, f) {
    var g = c.direction,
        h = {},
        i = c.xVal[0],
        j = c.xVal[c.xVal.length - 1],
        k = !1,
        l = !1,
        m = 0;return c.direction = 0, f = b(f.slice().sort(function (a, b) {
      return a - b;
    })), f[0] !== i && (f.unshift(i), k = !0), f[f.length - 1] !== j && (f.push(j), l = !0), a.each(f, function (b) {
      var g,
          i,
          j,
          n,
          o,
          p,
          q,
          r,
          s,
          t,
          u = f[b],
          v = f[b + 1];if ("steps" === e && (g = c.xNumSteps[b]), g || (g = v - u), u !== !1 && void 0 !== v) for (i = u; v >= i; i += g) {
        for (n = c.toStepping(i), o = n - m, r = o / d, s = Math.round(r), t = o / s, j = 1; s >= j; j += 1) {
          p = m + j * t, h[p.toFixed(5)] = ["x", 0];
        }q = a.inArray(i, f) > -1 ? 1 : "steps" === e ? 2 : 0, !b && k && (q = 0), i === v && l || (h[n.toFixed(5)] = [i, q]), m = n;
      }
    }), c.direction = g, h;
  }function T(b, c, d, e, f, g) {
    function h(a) {
      return ["-normal", "-large", "-sub"][a];
    }function i(a, c, d) {
      return 'class="' + c + " " + c + "-" + k + " " + c + h(d[1], d[0]) + '" style="' + b + ": " + a + '%"';
    }function j(a, b) {
      d && (a = 100 - a), b[1] = b[1] && f ? f(b[0], b[1]) : b[1], l.append("<div " + i(a, "noUi-marker", b) + "></div>"), b[1] && l.append("<div " + i(a, "noUi-value", b) + ">" + g.to(b[0]) + "</div>");
    }var k = ["horizontal", "vertical"][c],
        l = a("<div/>");return l.addClass("noUi-pips noUi-pips-" + k), a.each(e, j), l;
  }var U = a(document),
      V = a.fn.val,
      W = ".nui",
      X = window.navigator.pointerEnabled ? { start: "pointerdown", move: "pointermove", end: "pointerup" } : window.navigator.msPointerEnabled ? { start: "MSPointerDown", move: "MSPointerMove", end: "MSPointerUp" } : { start: "mousedown touchstart", move: "mousemove touchmove", end: "mouseup touchend" },
      Y = ["noUi-target", "noUi-base", "noUi-origin", "noUi-handle", "noUi-horizontal", "noUi-vertical", "noUi-background", "noUi-connect", "noUi-ltr", "noUi-rtl", "noUi-dragable", "", "noUi-state-drag", "", "noUi-state-tap", "noUi-active", "", "noUi-stacking"];t.prototype.getMargin = function (a) {
    return 2 === this.xPct.length ? k(this.xVal, a) : !1;
  }, t.prototype.toStepping = function (a) {
    return a = o(this.xVal, this.xPct, a), this.direction && (a = 100 - a), a;
  }, t.prototype.fromStepping = function (a) {
    return this.direction && (a = 100 - a), e(p(this.xVal, this.xPct, a));
  }, t.prototype.getStep = function (a) {
    return this.direction && (a = 100 - a), a = q(this.xPct, this.xSteps, this.snap, a), this.direction && (a = 100 - a), a;
  }, t.prototype.getApplicableStep = function (a) {
    var b = n(a, this.xPct),
        c = 100 === a ? 2 : 1;return [this.xNumSteps[b - 2], this.xVal[b - c], this.xNumSteps[b - c]];
  }, t.prototype.convert = function (a) {
    return this.getStep(this.toStepping(a));
  };var Z = { to: function to(a) {
      return a.toFixed(2);
    }, from: Number };a.fn.val = function (b) {
    function c(a) {
      return a.hasClass(Y[0]) ? Q : V;
    }if (!arguments.length) {
      var d = a(this[0]);return c(d).call(d);
    }var e = a.isFunction(b);return this.each(function (d) {
      var f = b,
          g = a(this);e && (f = b.call(this, d, g.val())), c(g).call(g, f);
    });
  }, a.fn.noUiSlider = function (a, b) {
    switch (a) {case "step":
        return this[0].getCurrentStep();case "options":
        return this[0].getOriginalOptions();}return (b ? P : O).call(this, a);
  }, a.fn.noUiSlider_pips = function (b) {
    var c = b.mode,
        d = b.density || 1,
        e = b.filter || !1,
        f = b.values || !1,
        g = b.format || { to: Math.round },
        h = b.stepped || !1;return this.each(function () {
      var b = this.getInfo(),
          i = R(b[0], c, f, h),
          j = S(b[0], d, c, i);return a(this).append(T(b[1], b[2], b[0].direction, j, e, g));
    });
  };
}(window.jQuery || window.Zepto);

; browserify_shim__define__module__export__(typeof noUiSlider != "undefined" ? noUiSlider : window.noUiSlider);

}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],71:[function(require,module,exports){
"use strict";

var Handlebars = require('Handlebars');
var Messages = require("./../messages.js");

module.exports = function () {
    "use strict";

    Handlebars.registerHelper({
        resultTitle: function resultTitle(type, id, name, optOut) {
            var link = '';

            if (optOut) {
                name = Messages.get('search.removed');
            }

            var urlName = name.replace(/[^a-zA-Z0-9\ ]/g, "").replace(/\ /g, "-").toUpperCase();

            switch (type) {
                case 'company-euro':
                    link = '/euroCompany/' + id + '/' + urlName;
                    break;
                case 'company-nltd':
                    link = '/nonLimitedCompany/' + id + '/' + urlName;
                    break;
                case 'company-uk':
                    link = '/company/' + id + '/' + urlName;
                    break;
                case 'director-uk':
                    link = '/director/' + id + '/' + urlName;
                    break;
            }

            var html = '<a class="result__title" href="' + link + '" title="' + urlName + '">' + Handlebars.helpers.fixNameCase(name) + '</a>';

            return new Handlebars.SafeString(html);
        },
        status: function status(type, active) {

            var html = '';

            if (type != 'company-euro') {
                if (active) {
                    html = '<div class="result__status result__status-active">' + Messages.get('search.active') + '</div>';
                } else {
                    if (type == 'company-nltd') {
                        html = '<div class="result__status result__status-dissolved">' + Messages.get('search.inactive') + '</div>';
                    } else {
                        html = '<div class="result__status result__status-dissolved">' + Messages.get('search.dissolved') + '</div>';
                    }
                }
            }

            return new Handlebars.SafeString(html);
        },
        fixNameCase: function fixNameCase(name) {

            var newName = name.replace(/\b[a-z]/g, function (letter) {
                return letter.toUpperCase();
            });
            newName = newName.replace('Plc', 'PLC');

            return newName;
        },
        addressCheck: function addressCheck(address, type, optOut, noIndex) {

            if (type == 'director-uk' && (optOut || noIndex)) {
                return Messages.get('search.addressRemoved');
            }

            if (typeof address == 'undefined' || address == null || address.length < 3 || address.indexOf('NO ADDRESS') > -1) {
                return Messages.get('search.noAddressAvailable');
            }

            return address;
        },
        figureCheck: function figureCheck(figure) {
            if (typeof figure == 'undefined' || figure == null) {
                return 'N/A';
            }

            var html = '&pound;' + Handlebars.helpers.numberShort(figure, 1);
            return new Handlebars.SafeString(html);
        },
        numberOfResults: function numberOfResults() {

            var html = Handlebars.helpers.numberLong(this.information.totalResults) + ' results';

            return html;
        },
        previousPagebox: function previousPagebox() {

            if (this.information.currentPage == 1) {
                return new Handlebars.SafeString('<div class="previous page-box page-box--disabled" title="' + Messages.get('search.paging.previousPage') + '"><<</div>');
            }

            return new Handlebars.SafeString('<div class="previous page-box" title="' + Messages.get('search.paging.previousPage') + '"><<</div>');
        },
        nextPagebox: function nextPagebox() {

            if (this.information.currentPage == this.information.totalPages) {
                return new Handlebars.SafeString(' <div class="next page-box page-box--disabled" title="' + Messages.get('search.paging.nextPage') + '">>></div>');
            }

            return new Handlebars.SafeString('<div class="next page-box" title="' + Messages.get('search.paging.nextPage') + '">>></div>');
        },
        firstPagebox: function firstPagebox() {

            if (this.pagination.startPage > 1) {
                var html = '';

                if (this.information.currentPage == 1) {
                    html = '<div class="page-box page-box--current" title="' + Messages.get('search.paging.page') + ' 1">1</div>';
                } else {
                    html = '<div class="page-box" title="' + Messages.get('search.paging.page') + ' 1">1</div>';
                }

                html += '<div class="page-box page-box--disabled page-box--ellipsis">...</div>';

                return new Handlebars.SafeString(html);
            } else {
                return '';
            }
        },
        rangePageboxes: function rangePageboxes() {

            var html = '';

            for (var i = this.pagination.startPage; i <= this.pagination.endPage && i <= 100; i++) {
                if (this.information.currentPage == i) {
                    html += '<div class="page-box page-box--current" title="' + Messages.get('search.paging.page') + ' ' + Handlebars.helpers.numberLong(i) + '">' + Handlebars.helpers.numberLong(i) + '</div>';
                } else {
                    html += '<div class="page-box" title="' + Messages.get('search.paging.page') + ' ' + Handlebars.helpers.numberLong(i) + '">' + Handlebars.helpers.numberLong(i) + '</div>';
                }
            }

            return new Handlebars.SafeString(html);
        },
        lastPagebox: function lastPagebox() {

            if (this.pagination.endPage < this.information.totalPages) {

                var html = '<div class="page-box page-box--disabled page-box--ellipsis">...</div>';

                if (this.information.totalPages < 100) {
                    if (this.information.currentPage == this.information.totalPages) {
                        html += '<div class="page-box page-box--current" title="' + Messages.get('search.paging.lastPage') + '">' + Handlebars.helpers.numberLong(this.information.totalPages) + '</div>';
                    } else {
                        html += '<div class="page-box" title="' + Messages.get('search.paging.lastPage') + '">' + Handlebars.helpers.numberLong(this.information.totalPages) + '</div>';
                    }
                }

                return new Handlebars.SafeString(html);
            } else {
                return '';
            }
        },
        activeFilter: function activeFilter(filter) {

            switch (filter.label) {
                case 'Business Activity':
                    return filter.filter;
                    break;
                case 'Country':
                    return Handlebars.helpers.countryLong(filter.filter);
                    break;
                default:
                    return filter.label;
                    break;
            }
        },
        countryLong: function countryLong(countryCode) {

            switch (countryCode) {
                case 'uk':
                    return Messages.get('search.country.UnitedKingdom');
                case 'fr':
                    return Messages.get('search.country.France');
                case 'nl':
                    return Messages.get('search.country.Netherlands');
                case 'be':
                    return Messages.get('search.country.Belgium');
                case 'de':
                    return Messages.get('search.country.Germany');
                case 'no':
                    return Messages.get('search.country.Norway');
                case 'fi':
                    return Messages.get('search.country.Finland');
                case 'se':
                    return Messages.get('search.country.Sweden');
                case 'ie':
                    return Messages.get('search.country.Ireland');
                case 'lu':
                    return Messages.get('search.country.Luxembourg');
            }
        },

        cta: function cta(specialCase, id, name, type) {
            var html = '';

            if (specialCase === '') {
                var urlName = name.replace(/[^a-zA-Z0-9\ ]/g, "").replace(/\ /g, "-").toUpperCase();
                var link = '/director/' + id + '/' + urlName;
                var html = '<a itemprop="url" href=" ' + link + '" class="result__view-button" title="' + urlName + '">View</a>';
            }

            if (specialCase == 'data') {
                var link = '';
                var urlName = name.replace(/[^a-zA-Z0-9\ ]/g, "").replace(/\ /g, "-").toUpperCase();
                link = '/contactusdata/' + id + '/' + urlName;
                var html = '<a href="' + link + '" class="btn-style-2 claim-button claim-button--green" title="Report Error"><img src="/images/company_icon_small.svg" alt="' + Messages.get('search.results.companyIcon') + '"> Report Error </a>';
            }

            return new Handlebars.SafeString(html);
        },

        collectDebt: function collectDebt(id, name, verified, active, specialCase, type) {

            if (specialCase == '') {

                var urlName = name.replace(/[^a-zA-Z0-9\ ]/g, "").replace(/\ /g, "-").toUpperCase();
                var link = '';

                switch (type) {
                    case 'company-euro':
                        link = '/euroCompany/' + id + '/' + urlName;
                        break;
                    case 'company-nltd':
                        link = '/nonLimitedCompany/' + id + '/' + urlName;
                        break;
                    case 'company-uk':
                        link = '/company/' + id + '/' + urlName;
                        break;
                    case 'director-uk':
                        link = '/director/' + id + '/' + urlName;
                        break;
                }

                var html = '<a itemprop="url" href=" ' + link + '" class="result__view-button" title="' + urlName + '">View</a>';
            }

            return new Handlebars.SafeString(html);
        },

        verifiedCheck: function verifiedCheck(id, name, verified, active, specialCase, type) {

            if (specialCase !== '') {
                if (specialCase == 'claim') {
                    if (verified) {
                        var html = '<a href="#" class="btn-style-2 claim-button claim-button--gray" title="' + Messages.get('search.results.claimed') + '"><img src="/images/company_icon_small.svg" alt="' + Messages.get('search.results.companyIcon') + '">' + Messages.get('search.results.claimed') + '</a>';
                    } else {
                        var html = '<a href="/claim/' + id + '" class="btn-style-2 claim-button claim-button--green" title="' + Messages.get('search.results.claim.title') + '"><img src="/images/company_icon_small.svg" alt="' + Messages.get('search.results.companyIcon') + '">' + Messages.get('search.results.claim') + '</a>';
                    }
                } else if (specialCase == 'data') {
                    var urlName = name.replace(/[^a-zA-Z0-9\ ]/g, "").replace(/\ /g, "-").toUpperCase();
                    var html = '<a href="/contactusdata/' + id + '/' + urlName + '" class="btn-style-2 claim-button claim-button--green" title="Report Error"><img src="/images/company_icon_small.svg" alt="' + Messages.get('search.results.companyIcon') + '"> Report Error </a>';
                } else if (specialCase == 'debt' && active && type === 'company-uk') {
                    var html = '<a href="/dashboard/debt-recovery-quote/' + id + '" class="btn-style-2 claim-button claim-button--green" title="Get Quote"><span class="debt-recovery-button-pound">&pound;</span>Get Quote</a>';
                } else {
                    if (verified) {
                        var html = '<div class="result__verified-badge verified"></div>';
                    } else {
                        var html = '<div class="result__verified-badge not-verified"></div>';
                    }
                }
            } else {
                var urlName = name.replace(/[^a-zA-Z0-9\ ]/g, "").replace(/\ /g, "-").toUpperCase();
                var link = '';

                switch (type) {
                    case 'company-euro':
                        link = '/euroCompany/' + id + '/' + urlName;
                        break;
                    case 'company-nltd':
                        link = '/nonLimitedCompany/' + id + '/' + urlName;
                        break;
                    case 'company-uk':
                        link = '/company/' + id + '/' + urlName;
                        break;
                    case 'director-uk':
                        link = '/director/' + id + '/' + urlName;
                        break;
                }

                var html = '<a itemprop="url" href=" ' + link + '" class="result__view-button" title="' + urlName + '">View</a>';
            }

            return new Handlebars.SafeString(html);
        }
    });
};

},{"./../messages.js":61,"Handlebars":82}],72:[function(require,module,exports){
'use strict';

var $ = require('jquery');

module.exports = {

    tab: '',
    initialQuery: {},
    query: {},
    aggregation: '',
    company: {},
    director: {},
    token: '',
    pageTitle: '',

    initialise: function initialise(token, tab, query, title) {
        this.initialQuery = query;
        this.query = query;
        this.token = token;
        this.tab = tab;
        this.pageTitle = title;
    },

    getToken: function getToken() {
        return this.token;
    },

    //////////////// Tab ////////////////

    getTab: function getTab() {
        return this.tab;
    },

    setTab: function setTab(tab) {
        this.tab = tab;
    },

    //////////////// Query ////////////////

    getInitialQuery: function getInitialQuery() {
        return this.initialQuery;
    },

    getQuery: function getQuery() {
        return this.query;
    },

    getQueryFromURL: function getQueryFromURL() {
        this.query = queryStringToJSON();
        return this.query;
    },

    setQuery: function setQuery(query) {
        this.query = query;
    },

    getQueryProperty: function getQueryProperty(property) {
        if (typeof this.query[property] == 'undefined') {
            return null;
        } else {
            return this.query[property];
        }
    },

    setQueryProperty: function setQueryProperty(property, value) {
        if (value == null) {
            delete this.query[property];
        } else {
            this.query[property] = value;
        }
    },

    initialiseCompanyQuery: function initialiseCompanyQuery() {
        this.company.query = {
            type: 'company-uk,company-nltd,company-euro'
        };

        if (typeof this.query.term != 'undefined') this.company.query.term = this.query.term;
    },

    initialiseDirectorQuery: function initialiseDirectorQuery() {
        this.director.query = {
            type: 'director-uk'
        };

        if (typeof this.query.term != 'undefined') this.director.query.term = this.query.term;
    },

    saveCompanyQuery: function saveCompanyQuery() {
        this.company.query = this.getQuery();
    },

    saveDirectorQuery: function saveDirectorQuery() {
        this.director.query = this.getQuery();
    },

    switchQuery: function switchQuery(tab) {
        if (tab == 'company') {

            if (typeof this.company.query == 'undefined') {
                this.initialiseCompanyQuery();
            } else if (typeof this.company.query.type == 'undefined') {
                this.company.query.type = 'company-uk,company-nltd,company-euro';
            }

            this.setQuery(this.company.query);
        } else {

            if (typeof this.director.query == 'undefined') {
                this.initialiseDirectorQuery();
            } else if (typeof this.director.query.type == 'undefined') {
                this.director.query.type = 'director-uk';
            }

            this.setQuery(this.director.query);
        }
    },

    getLastChangedFilter: function getLastChangedFilter() {

        if (typeof this.company.lastChanged != 'undefined') {
            return this.company.lastChanged;
        }

        return null;
    },

    setLastChangedFilter: function setLastChangedFilter(filter) {
        this.company.lastChanged = filter;
    },

    removePagingFromQuery: function removePagingFromQuery() {
        var query = this.getQuery();
        delete query.page;
        this.setQuery(query);
    },

    //////////////// Aggregations ////////////////

    getAggregation: function getAggregation() {
        return this.aggregation;
    },

    setAggregation: function setAggregation(agg) {
        this.aggregation = agg;
    },

    //////////////// Company ////////////////

    getCompanyResponse: function getCompanyResponse() {
        return this.company;
    },

    setCompanyResponse: function setCompanyResponse(companyResponse) {
        this.company.information = companyResponse.information;
        this.company.results = companyResponse.results;
        this.company.pagination = companyResponse.pagination;
    },

    getCompanyPage: function getCompanyPage() {
        return this.company.information.currentPage;
    },

    getCompanyFiltersOpened: function getCompanyFiltersOpened() {

        if (typeof this.company.filtersOpened == 'undefined') {
            return [];
        }

        return this.company.filtersOpened;
    },

    setCompanyFilterOpened: function setCompanyFilterOpened(filter) {

        if (typeof this.company.filtersOpened == 'undefined') {
            this.company.filtersOpened = [];
        };

        this.company.filtersOpened.push(filter);
    },

    getCompanyFilters: function getCompanyFilters() {
        return this.company.filters;
    },

    setCompanyFilter: function setCompanyFilter(filterResponse) {
        var key = filterResponse.name;

        if (typeof this.company.filters == 'undefined') {
            this.company.filters = {};
        };

        this.company.filters[key] = filterResponse;
    },

    //////////////// Director ////////////////

    getDirectorResponse: function getDirectorResponse() {
        return this.director;
    },

    setDirectorResponse: function setDirectorResponse(directorResponse) {
        this.director.information = directorResponse.information;
        this.director.results = directorResponse.results;
        this.director.pagination = directorResponse.pagination;
    },

    getDirectorPage: function getDirectorPage() {
        return this.director.information.currentPage;
    },

    getDirectorFiltersOpened: function getDirectorFiltersOpened() {
        if (typeof this.director.filtersOpened == 'undefined') {
            return [];
        }

        return this.director.filtersOpened;
    },

    setDirectorFilterOpened: function setDirectorFilterOpened(filter) {

        if (typeof this.director.filtersOpened == 'undefined') {
            this.director.filtersOpened = [];
        };

        this.director.filtersOpened.push(filter);
    },

    getDirectorFilters: function getDirectorFilters() {
        return this.director.filters;
    },

    setDirectorFilter: function setDirectorFilter(filterResponse) {
        var key = filterResponse.name;

        if (typeof this.director.filters == 'undefined') {
            this.director.filters = {};
        };

        this.director.filters[key] = filterResponse;
    },

    //////////////// Page Title ////////////////

    getPageTitle: function getPageTitle() {

        if (this.getQueryProperty('page')) {
            return this.pageTitle + ' - Page ' + this.getQueryProperty('page');
        }

        return this.pageTitle;
    }
};

},{"jquery":87}],68:[function(require,module,exports){
'use strict';

var $ = require('jquery');

module.exports = function () {

    // make sure filters show
    $('.search-filters').css('display', 'block');

    // reset size and position
    $('.search-filters').css({
        'top': 0,
        'height': 'inherit'
    });

    // allow scrolling
    $('body').removeClass('fixed');
};

},{"jquery":87}],67:[function(require,module,exports){
'use strict';

var $ = require('jquery');
var Messages = require("./../messages.js");

module.exports = function () {

    // hide filters
    $('.search-filters').css('display', 'none');

    // allow scrolling
    $('body').removeClass('fixed');

    $('#js-filter-button').text(Messages.get('search.filterResults'));
};

},{"./../messages.js":61,"jquery":87}],27:[function(require,module,exports){
'use strict';

var Handlebars = require('Handlebars');
var numberFormat = require('./numberFormat');
var _numberShort = require('./numberShort');

module.exports = function () {

    Handlebars.registerHelper({
        numberShort: function numberShort(n, precision) {
            return _numberShort(n, precision);
        },
        numberLong: function numberLong(n) {
            return numberFormat(n);
        },
        uppercase: function uppercase(str) {
            return str.toUpperCase();
        }
    });
};

},{"./numberFormat":30,"./numberShort":31,"Handlebars":82}],82:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

/*!

 handlebars v2.0.0

Copyright (C) 2011-2014 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
!function (a, b) {
  "function" == typeof define && define.amd ? define([], b) : "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) ? module.exports = b() : a.Handlebars = a.Handlebars || b();
}(undefined, function () {
  var a = function () {
    "use strict";
    function a(a) {
      this.string = a;
    }var b;return a.prototype.toString = function () {
      return "" + this.string;
    }, b = a;
  }(),
      b = function (a) {
    "use strict";
    function b(a) {
      return i[a];
    }function c(a) {
      for (var b = 1; b < arguments.length; b++) {
        for (var c in arguments[b]) {
          Object.prototype.hasOwnProperty.call(arguments[b], c) && (a[c] = arguments[b][c]);
        }
      }return a;
    }function d(a) {
      return a instanceof h ? a.toString() : null == a ? "" : a ? (a = "" + a, k.test(a) ? a.replace(j, b) : a) : a + "";
    }function e(a) {
      return a || 0 === a ? n(a) && 0 === a.length ? !0 : !1 : !0;
    }function f(a, b) {
      return (a ? a + "." : "") + b;
    }var g = {},
        h = a,
        i = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" },
        j = /[&<>"'`]/g,
        k = /[&<>"'`]/;g.extend = c;var l = Object.prototype.toString;g.toString = l;var m = function m(a) {
      return "function" == typeof a;
    };m(/x/) && (m = function m(a) {
      return "function" == typeof a && "[object Function]" === l.call(a);
    });var m;g.isFunction = m;var n = Array.isArray || function (a) {
      return a && "object" == (typeof a === "undefined" ? "undefined" : _typeof(a)) ? "[object Array]" === l.call(a) : !1;
    };return g.isArray = n, g.escapeExpression = d, g.isEmpty = e, g.appendContextPath = f, g;
  }(a),
      c = function () {
    "use strict";
    function a(a, b) {
      var d;b && b.firstLine && (d = b.firstLine, a += " - " + d + ":" + b.firstColumn);for (var e = Error.prototype.constructor.call(this, a), f = 0; f < c.length; f++) {
        this[c[f]] = e[c[f]];
      }d && (this.lineNumber = d, this.column = b.firstColumn);
    }var b,
        c = ["description", "fileName", "lineNumber", "message", "name", "number", "stack"];return a.prototype = new Error(), b = a;
  }(),
      d = function (a, b) {
    "use strict";
    function c(a, b) {
      this.helpers = a || {}, this.partials = b || {}, d(this);
    }function d(a) {
      a.registerHelper("helperMissing", function () {
        if (1 === arguments.length) return void 0;throw new g("Missing helper: '" + arguments[arguments.length - 1].name + "'");
      }), a.registerHelper("blockHelperMissing", function (b, c) {
        var d = c.inverse,
            e = c.fn;if (b === !0) return e(this);if (b === !1 || null == b) return d(this);if (k(b)) return b.length > 0 ? (c.ids && (c.ids = [c.name]), a.helpers.each(b, c)) : d(this);if (c.data && c.ids) {
          var g = q(c.data);g.contextPath = f.appendContextPath(c.data.contextPath, c.name), c = { data: g };
        }return e(b, c);
      }), a.registerHelper("each", function (a, b) {
        if (!b) throw new g("Must pass iterator to #each");var c,
            d,
            e = b.fn,
            h = b.inverse,
            i = 0,
            j = "";if (b.data && b.ids && (d = f.appendContextPath(b.data.contextPath, b.ids[0]) + "."), l(a) && (a = a.call(this)), b.data && (c = q(b.data)), a && "object" == (typeof a === "undefined" ? "undefined" : _typeof(a))) if (k(a)) for (var m = a.length; m > i; i++) {
          c && (c.index = i, c.first = 0 === i, c.last = i === a.length - 1, d && (c.contextPath = d + i)), j += e(a[i], { data: c });
        } else for (var n in a) {
          a.hasOwnProperty(n) && (c && (c.key = n, c.index = i, c.first = 0 === i, d && (c.contextPath = d + n)), j += e(a[n], { data: c }), i++);
        }return 0 === i && (j = h(this)), j;
      }), a.registerHelper("if", function (a, b) {
        return l(a) && (a = a.call(this)), !b.hash.includeZero && !a || f.isEmpty(a) ? b.inverse(this) : b.fn(this);
      }), a.registerHelper("unless", function (b, c) {
        return a.helpers["if"].call(this, b, { fn: c.inverse, inverse: c.fn, hash: c.hash });
      }), a.registerHelper("with", function (a, b) {
        l(a) && (a = a.call(this));var c = b.fn;if (f.isEmpty(a)) return b.inverse(this);if (b.data && b.ids) {
          var d = q(b.data);d.contextPath = f.appendContextPath(b.data.contextPath, b.ids[0]), b = { data: d };
        }return c(a, b);
      }), a.registerHelper("log", function (b, c) {
        var d = c.data && null != c.data.level ? parseInt(c.data.level, 10) : 1;a.log(d, b);
      }), a.registerHelper("lookup", function (a, b) {
        return a && a[b];
      });
    }var e = {},
        f = a,
        g = b,
        h = "2.0.0";e.VERSION = h;var i = 6;e.COMPILER_REVISION = i;var j = { 1: "<= 1.0.rc.2", 2: "== 1.0.0-rc.3", 3: "== 1.0.0-rc.4", 4: "== 1.x.x", 5: "== 2.0.0-alpha.x", 6: ">= 2.0.0-beta.1" };e.REVISION_CHANGES = j;var k = f.isArray,
        l = f.isFunction,
        m = f.toString,
        n = "[object Object]";e.HandlebarsEnvironment = c, c.prototype = { constructor: c, logger: o, log: p, registerHelper: function registerHelper(a, b) {
        if (m.call(a) === n) {
          if (b) throw new g("Arg not supported with multiple helpers");f.extend(this.helpers, a);
        } else this.helpers[a] = b;
      }, unregisterHelper: function unregisterHelper(a) {
        delete this.helpers[a];
      }, registerPartial: function registerPartial(a, b) {
        m.call(a) === n ? f.extend(this.partials, a) : this.partials[a] = b;
      }, unregisterPartial: function unregisterPartial(a) {
        delete this.partials[a];
      } };var o = { methodMap: { 0: "debug", 1: "info", 2: "warn", 3: "error" }, DEBUG: 0, INFO: 1, WARN: 2, ERROR: 3, level: 3, log: function log(a, b) {
        if (o.level <= a) {
          var c = o.methodMap[a];"undefined" != typeof console && console[c] && console[c].call(console, b);
        }
      } };e.logger = o;var p = o.log;e.log = p;var q = function q(a) {
      var b = f.extend({}, a);return b._parent = a, b;
    };return e.createFrame = q, e;
  }(b, c),
      e = function (a, b, c) {
    "use strict";
    function d(a) {
      var b = a && a[0] || 1,
          c = m;if (b !== c) {
        if (c > b) {
          var d = n[c],
              e = n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + d + ") or downgrade your runtime to an older version (" + e + ").");
        }throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + a[1] + ").");
      }
    }function e(a, b) {
      if (!b) throw new l("No environment passed to template");if (!a || !a.main) throw new l("Unknown template object: " + (typeof a === "undefined" ? "undefined" : _typeof(a)));b.VM.checkRevision(a.compiler);var c = function c(_c, d, e, f, g, h, i, j, m) {
        g && (f = k.extend({}, f, g));var n = b.VM.invokePartial.call(this, _c, e, f, h, i, j, m);if (null == n && b.compile) {
          var o = { helpers: h, partials: i, data: j, depths: m };i[e] = b.compile(_c, { data: void 0 !== j, compat: a.compat }, b), n = i[e](f, o);
        }if (null != n) {
          if (d) {
            for (var p = n.split("\n"), q = 0, r = p.length; r > q && (p[q] || q + 1 !== r); q++) {
              p[q] = d + p[q];
            }n = p.join("\n");
          }return n;
        }throw new l("The partial " + e + " could not be compiled when running in runtime-only mode");
      },
          d = { lookup: function lookup(a, b) {
          for (var c = a.length, d = 0; c > d; d++) {
            if (a[d] && null != a[d][b]) return a[d][b];
          }
        }, lambda: function lambda(a, b) {
          return "function" == typeof a ? a.call(b) : a;
        }, escapeExpression: k.escapeExpression, invokePartial: c, fn: function fn(b) {
          return a[b];
        }, programs: [], program: function program(a, b, c) {
          var d = this.programs[a],
              e = this.fn(a);return b || c ? d = f(this, a, e, b, c) : d || (d = this.programs[a] = f(this, a, e)), d;
        }, data: function data(a, b) {
          for (; a && b--;) {
            a = a._parent;
          }return a;
        }, merge: function merge(a, b) {
          var c = a || b;return a && b && a !== b && (c = k.extend({}, b, a)), c;
        }, noop: b.VM.noop, compilerInfo: a.compiler },
          e = function e(b, c) {
        c = c || {};var f = c.data;e._setup(c), !c.partial && a.useData && (f = i(b, f));var g;return a.useDepths && (g = c.depths ? [b].concat(c.depths) : [b]), a.main.call(d, b, d.helpers, d.partials, f, g);
      };return e.isTop = !0, e._setup = function (c) {
        c.partial ? (d.helpers = c.helpers, d.partials = c.partials) : (d.helpers = d.merge(c.helpers, b.helpers), a.usePartial && (d.partials = d.merge(c.partials, b.partials)));
      }, e._child = function (b, c, e) {
        if (a.useDepths && !e) throw new l("must pass parent depths");return f(d, b, a[b], c, e);
      }, e;
    }function f(a, b, c, d, e) {
      var f = function f(b, _f) {
        return _f = _f || {}, c.call(a, b, a.helpers, a.partials, _f.data || d, e && [b].concat(e));
      };return f.program = b, f.depth = e ? e.length : 0, f;
    }function g(a, b, c, d, e, f, g) {
      var h = { partial: !0, helpers: d, partials: e, data: f, depths: g };if (void 0 === a) throw new l("The partial " + b + " could not be found");return a instanceof Function ? a(c, h) : void 0;
    }function h() {
      return "";
    }function i(a, b) {
      return b && "root" in b || (b = b ? o(b) : {}, b.root = a), b;
    }var j = {},
        k = a,
        l = b,
        m = c.COMPILER_REVISION,
        n = c.REVISION_CHANGES,
        o = c.createFrame;return j.checkRevision = d, j.template = e, j.program = f, j.invokePartial = g, j.noop = h, j;
  }(b, c, d),
      f = function (a, b, c, d, e) {
    "use strict";
    var f,
        g = a,
        h = b,
        i = c,
        j = d,
        k = e,
        l = function l() {
      var a = new g.HandlebarsEnvironment();return j.extend(a, g), a.SafeString = h, a.Exception = i, a.Utils = j, a.escapeExpression = j.escapeExpression, a.VM = k, a.template = function (b) {
        return k.template(b, a);
      }, a;
    },
        m = l();return m.create = l, m["default"] = m, f = m;
  }(d, a, c, b, e),
      g = function (a) {
    "use strict";
    function b(a) {
      a = a || {}, this.firstLine = a.first_line, this.firstColumn = a.first_column, this.lastColumn = a.last_column, this.lastLine = a.last_line;
    }var c,
        d = a,
        e = { ProgramNode: function ProgramNode(a, c, d) {
        b.call(this, d), this.type = "program", this.statements = a, this.strip = c;
      }, MustacheNode: function MustacheNode(a, c, d, f, g) {
        if (b.call(this, g), this.type = "mustache", this.strip = f, null != d && d.charAt) {
          var h = d.charAt(3) || d.charAt(2);this.escaped = "{" !== h && "&" !== h;
        } else this.escaped = !!d;this.sexpr = a instanceof e.SexprNode ? a : new e.SexprNode(a, c), this.id = this.sexpr.id, this.params = this.sexpr.params, this.hash = this.sexpr.hash, this.eligibleHelper = this.sexpr.eligibleHelper, this.isHelper = this.sexpr.isHelper;
      }, SexprNode: function SexprNode(a, c, d) {
        b.call(this, d), this.type = "sexpr", this.hash = c;var e = this.id = a[0],
            f = this.params = a.slice(1);this.isHelper = !(!f.length && !c), this.eligibleHelper = this.isHelper || e.isSimple;
      }, PartialNode: function PartialNode(a, c, d, e, f) {
        b.call(this, f), this.type = "partial", this.partialName = a, this.context = c, this.hash = d, this.strip = e, this.strip.inlineStandalone = !0;
      }, BlockNode: function BlockNode(a, c, d, e, f) {
        b.call(this, f), this.type = "block", this.mustache = a, this.program = c, this.inverse = d, this.strip = e, d && !c && (this.isInverse = !0);
      }, RawBlockNode: function RawBlockNode(a, c, f, g) {
        if (b.call(this, g), a.sexpr.id.original !== f) throw new d(a.sexpr.id.original + " doesn't match " + f, this);c = new e.ContentNode(c, g), this.type = "block", this.mustache = a, this.program = new e.ProgramNode([c], {}, g);
      }, ContentNode: function ContentNode(a, c) {
        b.call(this, c), this.type = "content", this.original = this.string = a;
      }, HashNode: function HashNode(a, c) {
        b.call(this, c), this.type = "hash", this.pairs = a;
      }, IdNode: function IdNode(a, c) {
        b.call(this, c), this.type = "ID";for (var e = "", f = [], g = 0, h = "", i = 0, j = a.length; j > i; i++) {
          var k = a[i].part;if (e += (a[i].separator || "") + k, ".." === k || "." === k || "this" === k) {
            if (f.length > 0) throw new d("Invalid path: " + e, this);".." === k ? (g++, h += "../") : this.isScoped = !0;
          } else f.push(k);
        }this.original = e, this.parts = f, this.string = f.join("."), this.depth = g, this.idName = h + this.string, this.isSimple = 1 === a.length && !this.isScoped && 0 === g, this.stringModeValue = this.string;
      }, PartialNameNode: function PartialNameNode(a, c) {
        b.call(this, c), this.type = "PARTIAL_NAME", this.name = a.original;
      }, DataNode: function DataNode(a, c) {
        b.call(this, c), this.type = "DATA", this.id = a, this.stringModeValue = a.stringModeValue, this.idName = "@" + a.stringModeValue;
      }, StringNode: function StringNode(a, c) {
        b.call(this, c), this.type = "STRING", this.original = this.string = this.stringModeValue = a;
      }, NumberNode: function NumberNode(a, c) {
        b.call(this, c), this.type = "NUMBER", this.original = this.number = a, this.stringModeValue = Number(a);
      }, BooleanNode: function BooleanNode(a, c) {
        b.call(this, c), this.type = "BOOLEAN", this.bool = a, this.stringModeValue = "true" === a;
      }, CommentNode: function CommentNode(a, c) {
        b.call(this, c), this.type = "comment", this.comment = a, this.strip = { inlineStandalone: !0 };
      } };return c = e;
  }(c),
      h = function () {
    "use strict";
    var a,
        b = function () {
      function a() {
        this.yy = {};
      }var b = { trace: function trace() {}, yy: {}, symbols_: { error: 2, root: 3, program: 4, EOF: 5, program_repetition0: 6, statement: 7, mustache: 8, block: 9, rawBlock: 10, partial: 11, CONTENT: 12, COMMENT: 13, openRawBlock: 14, END_RAW_BLOCK: 15, OPEN_RAW_BLOCK: 16, sexpr: 17, CLOSE_RAW_BLOCK: 18, openBlock: 19, block_option0: 20, closeBlock: 21, openInverse: 22, block_option1: 23, OPEN_BLOCK: 24, CLOSE: 25, OPEN_INVERSE: 26, inverseAndProgram: 27, INVERSE: 28, OPEN_ENDBLOCK: 29, path: 30, OPEN: 31, OPEN_UNESCAPED: 32, CLOSE_UNESCAPED: 33, OPEN_PARTIAL: 34, partialName: 35, param: 36, partial_option0: 37, partial_option1: 38, sexpr_repetition0: 39, sexpr_option0: 40, dataName: 41, STRING: 42, NUMBER: 43, BOOLEAN: 44, OPEN_SEXPR: 45, CLOSE_SEXPR: 46, hash: 47, hash_repetition_plus0: 48, hashSegment: 49, ID: 50, EQUALS: 51, DATA: 52, pathSegments: 53, SEP: 54, $accept: 0, $end: 1 }, terminals_: { 2: "error", 5: "EOF", 12: "CONTENT", 13: "COMMENT", 15: "END_RAW_BLOCK", 16: "OPEN_RAW_BLOCK", 18: "CLOSE_RAW_BLOCK", 24: "OPEN_BLOCK", 25: "CLOSE", 26: "OPEN_INVERSE", 28: "INVERSE", 29: "OPEN_ENDBLOCK", 31: "OPEN", 32: "OPEN_UNESCAPED", 33: "CLOSE_UNESCAPED", 34: "OPEN_PARTIAL", 42: "STRING", 43: "NUMBER", 44: "BOOLEAN", 45: "OPEN_SEXPR", 46: "CLOSE_SEXPR", 50: "ID", 51: "EQUALS", 52: "DATA", 54: "SEP" }, productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [10, 3], [14, 3], [9, 4], [9, 4], [19, 3], [22, 3], [27, 2], [21, 3], [8, 3], [8, 3], [11, 5], [11, 4], [17, 3], [17, 1], [36, 1], [36, 1], [36, 1], [36, 1], [36, 1], [36, 3], [47, 1], [49, 3], [35, 1], [35, 1], [35, 1], [41, 2], [30, 1], [53, 3], [53, 1], [6, 0], [6, 2], [20, 0], [20, 1], [23, 0], [23, 1], [37, 0], [37, 1], [38, 0], [38, 1], [39, 0], [39, 2], [40, 0], [40, 1], [48, 1], [48, 2]], performAction: function performAction(a, b, c, d, e, f) {
          var g = f.length - 1;switch (e) {case 1:
              return d.prepareProgram(f[g - 1].statements, !0), f[g - 1];case 2:
              this.$ = new d.ProgramNode(d.prepareProgram(f[g]), {}, this._$);break;case 3:
              this.$ = f[g];break;case 4:
              this.$ = f[g];break;case 5:
              this.$ = f[g];break;case 6:
              this.$ = f[g];break;case 7:
              this.$ = new d.ContentNode(f[g], this._$);break;case 8:
              this.$ = new d.CommentNode(f[g], this._$);break;case 9:
              this.$ = new d.RawBlockNode(f[g - 2], f[g - 1], f[g], this._$);break;case 10:
              this.$ = new d.MustacheNode(f[g - 1], null, "", "", this._$);break;case 11:
              this.$ = d.prepareBlock(f[g - 3], f[g - 2], f[g - 1], f[g], !1, this._$);break;case 12:
              this.$ = d.prepareBlock(f[g - 3], f[g - 2], f[g - 1], f[g], !0, this._$);break;case 13:
              this.$ = new d.MustacheNode(f[g - 1], null, f[g - 2], d.stripFlags(f[g - 2], f[g]), this._$);break;case 14:
              this.$ = new d.MustacheNode(f[g - 1], null, f[g - 2], d.stripFlags(f[g - 2], f[g]), this._$);break;case 15:
              this.$ = { strip: d.stripFlags(f[g - 1], f[g - 1]), program: f[g] };break;case 16:
              this.$ = { path: f[g - 1], strip: d.stripFlags(f[g - 2], f[g]) };break;case 17:
              this.$ = new d.MustacheNode(f[g - 1], null, f[g - 2], d.stripFlags(f[g - 2], f[g]), this._$);break;case 18:
              this.$ = new d.MustacheNode(f[g - 1], null, f[g - 2], d.stripFlags(f[g - 2], f[g]), this._$);break;case 19:
              this.$ = new d.PartialNode(f[g - 3], f[g - 2], f[g - 1], d.stripFlags(f[g - 4], f[g]), this._$);break;case 20:
              this.$ = new d.PartialNode(f[g - 2], void 0, f[g - 1], d.stripFlags(f[g - 3], f[g]), this._$);break;case 21:
              this.$ = new d.SexprNode([f[g - 2]].concat(f[g - 1]), f[g], this._$);break;case 22:
              this.$ = new d.SexprNode([f[g]], null, this._$);break;case 23:
              this.$ = f[g];break;case 24:
              this.$ = new d.StringNode(f[g], this._$);break;case 25:
              this.$ = new d.NumberNode(f[g], this._$);break;case 26:
              this.$ = new d.BooleanNode(f[g], this._$);break;case 27:
              this.$ = f[g];break;case 28:
              f[g - 1].isHelper = !0, this.$ = f[g - 1];break;case 29:
              this.$ = new d.HashNode(f[g], this._$);break;case 30:
              this.$ = [f[g - 2], f[g]];break;case 31:
              this.$ = new d.PartialNameNode(f[g], this._$);break;case 32:
              this.$ = new d.PartialNameNode(new d.StringNode(f[g], this._$), this._$);break;case 33:
              this.$ = new d.PartialNameNode(new d.NumberNode(f[g], this._$));break;case 34:
              this.$ = new d.DataNode(f[g], this._$);break;case 35:
              this.$ = new d.IdNode(f[g], this._$);break;case 36:
              f[g - 2].push({ part: f[g], separator: f[g - 1] }), this.$ = f[g - 2];break;case 37:
              this.$ = [{ part: f[g] }];break;case 38:
              this.$ = [];break;case 39:
              f[g - 1].push(f[g]);break;case 48:
              this.$ = [];break;case 49:
              f[g - 1].push(f[g]);break;case 52:
              this.$ = [f[g]];break;case 53:
              f[g - 1].push(f[g]);}
        }, table: [{ 3: 1, 4: 2, 5: [2, 38], 6: 3, 12: [2, 38], 13: [2, 38], 16: [2, 38], 24: [2, 38], 26: [2, 38], 31: [2, 38], 32: [2, 38], 34: [2, 38] }, { 1: [3] }, { 5: [1, 4] }, { 5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: [1, 10], 13: [1, 11], 14: 16, 16: [1, 20], 19: 14, 22: 15, 24: [1, 18], 26: [1, 19], 28: [2, 2], 29: [2, 2], 31: [1, 12], 32: [1, 13], 34: [1, 17] }, { 1: [2, 1] }, { 5: [2, 39], 12: [2, 39], 13: [2, 39], 16: [2, 39], 24: [2, 39], 26: [2, 39], 28: [2, 39], 29: [2, 39], 31: [2, 39], 32: [2, 39], 34: [2, 39] }, { 5: [2, 3], 12: [2, 3], 13: [2, 3], 16: [2, 3], 24: [2, 3], 26: [2, 3], 28: [2, 3], 29: [2, 3], 31: [2, 3], 32: [2, 3], 34: [2, 3] }, { 5: [2, 4], 12: [2, 4], 13: [2, 4], 16: [2, 4], 24: [2, 4], 26: [2, 4], 28: [2, 4], 29: [2, 4], 31: [2, 4], 32: [2, 4], 34: [2, 4] }, { 5: [2, 5], 12: [2, 5], 13: [2, 5], 16: [2, 5], 24: [2, 5], 26: [2, 5], 28: [2, 5], 29: [2, 5], 31: [2, 5], 32: [2, 5], 34: [2, 5] }, { 5: [2, 6], 12: [2, 6], 13: [2, 6], 16: [2, 6], 24: [2, 6], 26: [2, 6], 28: [2, 6], 29: [2, 6], 31: [2, 6], 32: [2, 6], 34: [2, 6] }, { 5: [2, 7], 12: [2, 7], 13: [2, 7], 16: [2, 7], 24: [2, 7], 26: [2, 7], 28: [2, 7], 29: [2, 7], 31: [2, 7], 32: [2, 7], 34: [2, 7] }, { 5: [2, 8], 12: [2, 8], 13: [2, 8], 16: [2, 8], 24: [2, 8], 26: [2, 8], 28: [2, 8], 29: [2, 8], 31: [2, 8], 32: [2, 8], 34: [2, 8] }, { 17: 21, 30: 22, 41: 23, 50: [1, 26], 52: [1, 25], 53: 24 }, { 17: 27, 30: 22, 41: 23, 50: [1, 26], 52: [1, 25], 53: 24 }, { 4: 28, 6: 3, 12: [2, 38], 13: [2, 38], 16: [2, 38], 24: [2, 38], 26: [2, 38], 28: [2, 38], 29: [2, 38], 31: [2, 38], 32: [2, 38], 34: [2, 38] }, { 4: 29, 6: 3, 12: [2, 38], 13: [2, 38], 16: [2, 38], 24: [2, 38], 26: [2, 38], 28: [2, 38], 29: [2, 38], 31: [2, 38], 32: [2, 38], 34: [2, 38] }, { 12: [1, 30] }, { 30: 32, 35: 31, 42: [1, 33], 43: [1, 34], 50: [1, 26], 53: 24 }, { 17: 35, 30: 22, 41: 23, 50: [1, 26], 52: [1, 25], 53: 24 }, { 17: 36, 30: 22, 41: 23, 50: [1, 26], 52: [1, 25], 53: 24 }, { 17: 37, 30: 22, 41: 23, 50: [1, 26], 52: [1, 25], 53: 24 }, { 25: [1, 38] }, { 18: [2, 48], 25: [2, 48], 33: [2, 48], 39: 39, 42: [2, 48], 43: [2, 48], 44: [2, 48], 45: [2, 48], 46: [2, 48], 50: [2, 48], 52: [2, 48] }, { 18: [2, 22], 25: [2, 22], 33: [2, 22], 46: [2, 22] }, { 18: [2, 35], 25: [2, 35], 33: [2, 35], 42: [2, 35], 43: [2, 35], 44: [2, 35], 45: [2, 35], 46: [2, 35], 50: [2, 35], 52: [2, 35], 54: [1, 40] }, { 30: 41, 50: [1, 26], 53: 24 }, { 18: [2, 37], 25: [2, 37], 33: [2, 37], 42: [2, 37], 43: [2, 37], 44: [2, 37], 45: [2, 37], 46: [2, 37], 50: [2, 37], 52: [2, 37], 54: [2, 37] }, { 33: [1, 42] }, { 20: 43, 27: 44, 28: [1, 45], 29: [2, 40] }, { 23: 46, 27: 47, 28: [1, 45], 29: [2, 42] }, { 15: [1, 48] }, { 25: [2, 46], 30: 51, 36: 49, 38: 50, 41: 55, 42: [1, 52], 43: [1, 53], 44: [1, 54], 45: [1, 56], 47: 57, 48: 58, 49: 60, 50: [1, 59], 52: [1, 25], 53: 24 }, { 25: [2, 31], 42: [2, 31], 43: [2, 31], 44: [2, 31], 45: [2, 31], 50: [2, 31], 52: [2, 31] }, { 25: [2, 32], 42: [2, 32], 43: [2, 32], 44: [2, 32], 45: [2, 32], 50: [2, 32], 52: [2, 32] }, { 25: [2, 33], 42: [2, 33], 43: [2, 33], 44: [2, 33], 45: [2, 33], 50: [2, 33], 52: [2, 33] }, { 25: [1, 61] }, { 25: [1, 62] }, { 18: [1, 63] }, { 5: [2, 17], 12: [2, 17], 13: [2, 17], 16: [2, 17], 24: [2, 17], 26: [2, 17], 28: [2, 17], 29: [2, 17], 31: [2, 17], 32: [2, 17], 34: [2, 17] }, { 18: [2, 50], 25: [2, 50], 30: 51, 33: [2, 50], 36: 65, 40: 64, 41: 55, 42: [1, 52], 43: [1, 53], 44: [1, 54], 45: [1, 56], 46: [2, 50], 47: 66, 48: 58, 49: 60, 50: [1, 59], 52: [1, 25], 53: 24 }, { 50: [1, 67] }, { 18: [2, 34], 25: [2, 34], 33: [2, 34], 42: [2, 34], 43: [2, 34], 44: [2, 34], 45: [2, 34], 46: [2, 34], 50: [2, 34], 52: [2, 34] }, { 5: [2, 18], 12: [2, 18], 13: [2, 18], 16: [2, 18], 24: [2, 18], 26: [2, 18], 28: [2, 18], 29: [2, 18], 31: [2, 18], 32: [2, 18], 34: [2, 18] }, { 21: 68, 29: [1, 69] }, { 29: [2, 41] }, { 4: 70, 6: 3, 12: [2, 38], 13: [2, 38], 16: [2, 38], 24: [2, 38], 26: [2, 38], 29: [2, 38], 31: [2, 38], 32: [2, 38], 34: [2, 38] }, { 21: 71, 29: [1, 69] }, { 29: [2, 43] }, { 5: [2, 9], 12: [2, 9], 13: [2, 9], 16: [2, 9], 24: [2, 9], 26: [2, 9], 28: [2, 9], 29: [2, 9], 31: [2, 9], 32: [2, 9], 34: [2, 9] }, { 25: [2, 44], 37: 72, 47: 73, 48: 58, 49: 60, 50: [1, 74] }, { 25: [1, 75] }, { 18: [2, 23], 25: [2, 23], 33: [2, 23], 42: [2, 23], 43: [2, 23], 44: [2, 23], 45: [2, 23], 46: [2, 23], 50: [2, 23], 52: [2, 23] }, { 18: [2, 24], 25: [2, 24], 33: [2, 24], 42: [2, 24], 43: [2, 24], 44: [2, 24], 45: [2, 24], 46: [2, 24], 50: [2, 24], 52: [2, 24] }, { 18: [2, 25], 25: [2, 25], 33: [2, 25], 42: [2, 25], 43: [2, 25], 44: [2, 25], 45: [2, 25], 46: [2, 25], 50: [2, 25], 52: [2, 25] }, { 18: [2, 26], 25: [2, 26], 33: [2, 26], 42: [2, 26], 43: [2, 26], 44: [2, 26], 45: [2, 26], 46: [2, 26], 50: [2, 26], 52: [2, 26] }, { 18: [2, 27], 25: [2, 27], 33: [2, 27], 42: [2, 27], 43: [2, 27], 44: [2, 27], 45: [2, 27], 46: [2, 27], 50: [2, 27], 52: [2, 27] }, { 17: 76, 30: 22, 41: 23, 50: [1, 26], 52: [1, 25], 53: 24 }, { 25: [2, 47] }, { 18: [2, 29], 25: [2, 29], 33: [2, 29], 46: [2, 29], 49: 77, 50: [1, 74] }, { 18: [2, 37], 25: [2, 37], 33: [2, 37], 42: [2, 37], 43: [2, 37], 44: [2, 37], 45: [2, 37], 46: [2, 37], 50: [2, 37], 51: [1, 78], 52: [2, 37], 54: [2, 37] }, { 18: [2, 52], 25: [2, 52], 33: [2, 52], 46: [2, 52], 50: [2, 52] }, { 12: [2, 13], 13: [2, 13], 16: [2, 13], 24: [2, 13], 26: [2, 13], 28: [2, 13], 29: [2, 13], 31: [2, 13], 32: [2, 13], 34: [2, 13] }, { 12: [2, 14], 13: [2, 14], 16: [2, 14], 24: [2, 14], 26: [2, 14], 28: [2, 14], 29: [2, 14], 31: [2, 14], 32: [2, 14], 34: [2, 14] }, { 12: [2, 10] }, { 18: [2, 21], 25: [2, 21], 33: [2, 21], 46: [2, 21] }, { 18: [2, 49], 25: [2, 49], 33: [2, 49], 42: [2, 49], 43: [2, 49], 44: [2, 49], 45: [2, 49], 46: [2, 49], 50: [2, 49], 52: [2, 49] }, { 18: [2, 51], 25: [2, 51], 33: [2, 51], 46: [2, 51] }, { 18: [2, 36], 25: [2, 36], 33: [2, 36], 42: [2, 36], 43: [2, 36], 44: [2, 36], 45: [2, 36], 46: [2, 36], 50: [2, 36], 52: [2, 36], 54: [2, 36] }, { 5: [2, 11], 12: [2, 11], 13: [2, 11], 16: [2, 11], 24: [2, 11], 26: [2, 11], 28: [2, 11], 29: [2, 11], 31: [2, 11], 32: [2, 11], 34: [2, 11] }, { 30: 79, 50: [1, 26], 53: 24 }, { 29: [2, 15] }, { 5: [2, 12], 12: [2, 12], 13: [2, 12], 16: [2, 12], 24: [2, 12], 26: [2, 12], 28: [2, 12], 29: [2, 12], 31: [2, 12], 32: [2, 12], 34: [2, 12] }, { 25: [1, 80] }, { 25: [2, 45] }, { 51: [1, 78] }, { 5: [2, 20], 12: [2, 20], 13: [2, 20], 16: [2, 20], 24: [2, 20], 26: [2, 20], 28: [2, 20], 29: [2, 20], 31: [2, 20], 32: [2, 20], 34: [2, 20] }, { 46: [1, 81] }, { 18: [2, 53], 25: [2, 53], 33: [2, 53], 46: [2, 53], 50: [2, 53] }, { 30: 51, 36: 82, 41: 55, 42: [1, 52], 43: [1, 53], 44: [1, 54], 45: [1, 56], 50: [1, 26], 52: [1, 25], 53: 24 }, { 25: [1, 83] }, { 5: [2, 19], 12: [2, 19], 13: [2, 19], 16: [2, 19], 24: [2, 19], 26: [2, 19], 28: [2, 19], 29: [2, 19], 31: [2, 19], 32: [2, 19], 34: [2, 19] }, { 18: [2, 28], 25: [2, 28], 33: [2, 28], 42: [2, 28], 43: [2, 28], 44: [2, 28], 45: [2, 28], 46: [2, 28], 50: [2, 28], 52: [2, 28] }, { 18: [2, 30], 25: [2, 30], 33: [2, 30], 46: [2, 30], 50: [2, 30] }, { 5: [2, 16], 12: [2, 16], 13: [2, 16], 16: [2, 16], 24: [2, 16], 26: [2, 16], 28: [2, 16], 29: [2, 16], 31: [2, 16], 32: [2, 16], 34: [2, 16] }], defaultActions: { 4: [2, 1], 44: [2, 41], 47: [2, 43], 57: [2, 47], 63: [2, 10], 70: [2, 15], 73: [2, 45] }, parseError: function parseError(a) {
          throw new Error(a);
        }, parse: function parse(a) {
          function b() {
            var a;return a = c.lexer.lex() || 1, "number" != typeof a && (a = c.symbols_[a] || a), a;
          }var c = this,
              d = [0],
              e = [null],
              f = [],
              g = this.table,
              h = "",
              i = 0,
              j = 0,
              k = 0;this.lexer.setInput(a), this.lexer.yy = this.yy, this.yy.lexer = this.lexer, this.yy.parser = this, "undefined" == typeof this.lexer.yylloc && (this.lexer.yylloc = {});var l = this.lexer.yylloc;f.push(l);var m = this.lexer.options && this.lexer.options.ranges;"function" == typeof this.yy.parseError && (this.parseError = this.yy.parseError);for (var n, o, p, q, r, s, t, u, v, w = {};;) {
            if (p = d[d.length - 1], this.defaultActions[p] ? q = this.defaultActions[p] : ((null === n || "undefined" == typeof n) && (n = b()), q = g[p] && g[p][n]), "undefined" == typeof q || !q.length || !q[0]) {
              var x = "";if (!k) {
                v = [];for (s in g[p]) {
                  this.terminals_[s] && s > 2 && v.push("'" + this.terminals_[s] + "'");
                }x = this.lexer.showPosition ? "Parse error on line " + (i + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + v.join(", ") + ", got '" + (this.terminals_[n] || n) + "'" : "Parse error on line " + (i + 1) + ": Unexpected " + (1 == n ? "end of input" : "'" + (this.terminals_[n] || n) + "'"), this.parseError(x, { text: this.lexer.match, token: this.terminals_[n] || n, line: this.lexer.yylineno, loc: l, expected: v });
              }
            }if (q[0] instanceof Array && q.length > 1) throw new Error("Parse Error: multiple actions possible at state: " + p + ", token: " + n);switch (q[0]) {case 1:
                d.push(n), e.push(this.lexer.yytext), f.push(this.lexer.yylloc), d.push(q[1]), n = null, o ? (n = o, o = null) : (j = this.lexer.yyleng, h = this.lexer.yytext, i = this.lexer.yylineno, l = this.lexer.yylloc, k > 0 && k--);break;case 2:
                if (t = this.productions_[q[1]][1], w.$ = e[e.length - t], w._$ = { first_line: f[f.length - (t || 1)].first_line, last_line: f[f.length - 1].last_line, first_column: f[f.length - (t || 1)].first_column, last_column: f[f.length - 1].last_column }, m && (w._$.range = [f[f.length - (t || 1)].range[0], f[f.length - 1].range[1]]), r = this.performAction.call(w, h, j, i, this.yy, q[1], e, f), "undefined" != typeof r) return r;t && (d = d.slice(0, -1 * t * 2), e = e.slice(0, -1 * t), f = f.slice(0, -1 * t)), d.push(this.productions_[q[1]][0]), e.push(w.$), f.push(w._$), u = g[d[d.length - 2]][d[d.length - 1]], d.push(u);break;case 3:
                return !0;}
          }return !0;
        } },
          c = function () {
        var a = { EOF: 1, parseError: function parseError(a, b) {
            if (!this.yy.parser) throw new Error(a);this.yy.parser.parseError(a, b);
          }, setInput: function setInput(a) {
            return this._input = a, this._more = this._less = this.done = !1, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this;
          }, input: function input() {
            var a = this._input[0];this.yytext += a, this.yyleng++, this.offset++, this.match += a, this.matched += a;var b = a.match(/(?:\r\n?|\n).*/g);return b ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), a;
          }, unput: function unput(a) {
            var b = a.length,
                c = a.split(/(?:\r\n?|\n)/g);this._input = a + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - b - 1), this.offset -= b;var d = this.match.split(/(?:\r\n?|\n)/g);this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), c.length - 1 && (this.yylineno -= c.length - 1);var e = this.yylloc.range;return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: c ? (c.length === d.length ? this.yylloc.first_column : 0) + d[d.length - c.length].length - c[0].length : this.yylloc.first_column - b }, this.options.ranges && (this.yylloc.range = [e[0], e[0] + this.yyleng - b]), this;
          }, more: function more() {
            return this._more = !0, this;
          }, less: function less(a) {
            this.unput(this.match.slice(a));
          }, pastInput: function pastInput() {
            var a = this.matched.substr(0, this.matched.length - this.match.length);return (a.length > 20 ? "..." : "") + a.substr(-20).replace(/\n/g, "");
          }, upcomingInput: function upcomingInput() {
            var a = this.match;return a.length < 20 && (a += this._input.substr(0, 20 - a.length)), (a.substr(0, 20) + (a.length > 20 ? "..." : "")).replace(/\n/g, "");
          }, showPosition: function showPosition() {
            var a = this.pastInput(),
                b = new Array(a.length + 1).join("-");return a + this.upcomingInput() + "\n" + b + "^";
          }, next: function next() {
            if (this.done) return this.EOF;this._input || (this.done = !0);var a, b, c, d, e;this._more || (this.yytext = "", this.match = "");for (var f = this._currentRules(), g = 0; g < f.length && (c = this._input.match(this.rules[f[g]]), !c || b && !(c[0].length > b[0].length) || (b = c, d = g, this.options.flex)); g++) {}return b ? (e = b[0].match(/(?:\r\n?|\n).*/g), e && (this.yylineno += e.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: e ? e[e.length - 1].length - e[e.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + b[0].length }, this.yytext += b[0], this.match += b[0], this.matches = b, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = !1, this._input = this._input.slice(b[0].length), this.matched += b[0], a = this.performAction.call(this, this.yy, this, f[d], this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = !1), a ? a : void 0) : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno });
          }, lex: function lex() {
            var a = this.next();return "undefined" != typeof a ? a : this.lex();
          }, begin: function begin(a) {
            this.conditionStack.push(a);
          }, popState: function popState() {
            return this.conditionStack.pop();
          }, _currentRules: function _currentRules() {
            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
          }, topState: function topState() {
            return this.conditionStack[this.conditionStack.length - 2];
          }, pushState: function pushState(a) {
            this.begin(a);
          } };return a.options = {}, a.performAction = function (a, b, c, d) {
          function e(a, c) {
            return b.yytext = b.yytext.substr(a, b.yyleng - c);
          }switch (c) {case 0:
              if ("\\\\" === b.yytext.slice(-2) ? (e(0, 1), this.begin("mu")) : "\\" === b.yytext.slice(-1) ? (e(0, 1), this.begin("emu")) : this.begin("mu"), b.yytext) return 12;break;case 1:
              return 12;case 2:
              return this.popState(), 12;case 3:
              return b.yytext = b.yytext.substr(5, b.yyleng - 9), this.popState(), 15;case 4:
              return 12;case 5:
              return e(0, 4), this.popState(), 13;case 6:
              return 45;case 7:
              return 46;case 8:
              return 16;case 9:
              return this.popState(), this.begin("raw"), 18;case 10:
              return 34;case 11:
              return 24;case 12:
              return 29;case 13:
              return this.popState(), 28;case 14:
              return this.popState(), 28;case 15:
              return 26;case 16:
              return 26;case 17:
              return 32;case 18:
              return 31;case 19:
              this.popState(), this.begin("com");break;case 20:
              return e(3, 5), this.popState(), 13;case 21:
              return 31;case 22:
              return 51;case 23:
              return 50;case 24:
              return 50;case 25:
              return 54;case 26:
              break;case 27:
              return this.popState(), 33;case 28:
              return this.popState(), 25;case 29:
              return b.yytext = e(1, 2).replace(/\\"/g, '"'), 42;case 30:
              return b.yytext = e(1, 2).replace(/\\'/g, "'"), 42;case 31:
              return 52;case 32:
              return 44;case 33:
              return 44;case 34:
              return 43;case 35:
              return 50;case 36:
              return b.yytext = e(1, 2), 50;case 37:
              return "INVALID";case 38:
              return 5;}
        }, a.rules = [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/, /^(?:[^\x00]*?(?=(\{\{\{\{\/)))/, /^(?:[\s\S]*?--\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{\{\{)/, /^(?:\}\}\}\})/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^\s*(~)?\}\})/, /^(?:\{\{(~)?\s*else\s*(~)?\}\})/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{!--)/, /^(?:\{\{![\s\S]*?\}\})/, /^(?:\{\{(~)?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/, /^(?:\[[^\]]*\])/, /^(?:.)/, /^(?:$)/], a.conditions = { mu: { rules: [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38], inclusive: !1 }, emu: { rules: [2], inclusive: !1 }, com: { rules: [5], inclusive: !1 }, raw: { rules: [3, 4], inclusive: !1 }, INITIAL: { rules: [0, 1, 38], inclusive: !0 } }, a;
      }();return b.lexer = c, a.prototype = b, b.Parser = a, new a();
    }();return a = b;
  }(),
      i = function (a) {
    "use strict";
    function b(a, b) {
      return { left: "~" === a.charAt(2), right: "~" === b.charAt(b.length - 3) };
    }function c(a, b, c, d, i, k) {
      if (a.sexpr.id.original !== d.path.original) throw new j(a.sexpr.id.original + " doesn't match " + d.path.original, a);var l = c && c.program,
          m = { left: a.strip.left, right: d.strip.right, openStandalone: f(b.statements), closeStandalone: e((l || b).statements) };if (a.strip.right && g(b.statements, null, !0), l) {
        var n = c.strip;n.left && h(b.statements, null, !0), n.right && g(l.statements, null, !0), d.strip.left && h(l.statements, null, !0), e(b.statements) && f(l.statements) && (h(b.statements), g(l.statements));
      } else d.strip.left && h(b.statements, null, !0);return i ? new this.BlockNode(a, l, b, m, k) : new this.BlockNode(a, b, l, m, k);
    }function d(a, b) {
      for (var c = 0, d = a.length; d > c; c++) {
        var i = a[c],
            j = i.strip;if (j) {
          var k = e(a, c, b, "partial" === i.type),
              l = f(a, c, b),
              m = j.openStandalone && k,
              n = j.closeStandalone && l,
              o = j.inlineStandalone && k && l;j.right && g(a, c, !0), j.left && h(a, c, !0), o && (g(a, c), h(a, c) && "partial" === i.type && (i.indent = /([ \t]+$)/.exec(a[c - 1].original) ? RegExp.$1 : "")), m && (g((i.program || i.inverse).statements), h(a, c)), n && (g(a, c), h((i.inverse || i.program).statements));
        }
      }return a;
    }function e(a, b, c) {
      void 0 === b && (b = a.length);var d = a[b - 1],
          e = a[b - 2];return d ? "content" === d.type ? (e || !c ? /\r?\n\s*?$/ : /(^|\r?\n)\s*?$/).test(d.original) : void 0 : c;
    }function f(a, b, c) {
      void 0 === b && (b = -1);var d = a[b + 1],
          e = a[b + 2];return d ? "content" === d.type ? (e || !c ? /^\s*?\r?\n/ : /^\s*?(\r?\n|$)/).test(d.original) : void 0 : c;
    }function g(a, b, c) {
      var d = a[null == b ? 0 : b + 1];if (d && "content" === d.type && (c || !d.rightStripped)) {
        var e = d.string;d.string = d.string.replace(c ? /^\s+/ : /^[ \t]*\r?\n?/, ""), d.rightStripped = d.string !== e;
      }
    }function h(a, b, c) {
      var d = a[null == b ? a.length - 1 : b - 1];if (d && "content" === d.type && (c || !d.leftStripped)) {
        var e = d.string;return d.string = d.string.replace(c ? /\s+$/ : /[ \t]+$/, ""), d.leftStripped = d.string !== e, d.leftStripped;
      }
    }var i = {},
        j = a;return i.stripFlags = b, i.prepareBlock = c, i.prepareProgram = d, i;
  }(c),
      j = function (a, b, c, d) {
    "use strict";
    function e(a) {
      return a.constructor === h.ProgramNode ? a : (g.yy = k, g.parse(a));
    }var f = {},
        g = a,
        h = b,
        i = c,
        j = d.extend;f.parser = g;var k = {};return j(k, i, h), f.parse = e, f;
  }(h, g, i, b),
      k = function (a, b) {
    "use strict";
    function c() {}function d(a, b, c) {
      if (null == a || "string" != typeof a && a.constructor !== c.AST.ProgramNode) throw new h("You must pass a string or Handlebars AST to Handlebars.precompile. You passed " + a);b = b || {}, "data" in b || (b.data = !0), b.compat && (b.useDepths = !0);var d = c.parse(a),
          e = new c.Compiler().compile(d, b);return new c.JavaScriptCompiler().compile(e, b);
    }function e(a, b, c) {
      function d() {
        var d = c.parse(a),
            e = new c.Compiler().compile(d, b),
            f = new c.JavaScriptCompiler().compile(e, b, void 0, !0);return c.template(f);
      }if (null == a || "string" != typeof a && a.constructor !== c.AST.ProgramNode) throw new h("You must pass a string or Handlebars AST to Handlebars.compile. You passed " + a);b = b || {}, "data" in b || (b.data = !0), b.compat && (b.useDepths = !0);var e,
          f = function f(a, b) {
        return e || (e = d()), e.call(this, a, b);
      };return f._setup = function (a) {
        return e || (e = d()), e._setup(a);
      }, f._child = function (a, b, c) {
        return e || (e = d()), e._child(a, b, c);
      }, f;
    }function f(a, b) {
      if (a === b) return !0;if (i(a) && i(b) && a.length === b.length) {
        for (var c = 0; c < a.length; c++) {
          if (!f(a[c], b[c])) return !1;
        }return !0;
      }
    }var g = {},
        h = a,
        i = b.isArray,
        j = [].slice;return g.Compiler = c, c.prototype = { compiler: c, equals: function equals(a) {
        var b = this.opcodes.length;if (a.opcodes.length !== b) return !1;for (var c = 0; b > c; c++) {
          var d = this.opcodes[c],
              e = a.opcodes[c];if (d.opcode !== e.opcode || !f(d.args, e.args)) return !1;
        }for (b = this.children.length, c = 0; b > c; c++) {
          if (!this.children[c].equals(a.children[c])) return !1;
        }return !0;
      }, guid: 0, compile: function compile(a, b) {
        this.opcodes = [], this.children = [], this.depths = { list: [] }, this.options = b, this.stringParams = b.stringParams, this.trackIds = b.trackIds;var c = this.options.knownHelpers;if (this.options.knownHelpers = { helperMissing: !0, blockHelperMissing: !0, each: !0, "if": !0, unless: !0, "with": !0, log: !0, lookup: !0 }, c) for (var d in c) {
          this.options.knownHelpers[d] = c[d];
        }return this.accept(a);
      }, accept: function accept(a) {
        return this[a.type](a);
      }, program: function program(a) {
        for (var b = a.statements, c = 0, d = b.length; d > c; c++) {
          this.accept(b[c]);
        }return this.isSimple = 1 === d, this.depths.list = this.depths.list.sort(function (a, b) {
          return a - b;
        }), this;
      }, compileProgram: function compileProgram(a) {
        var b,
            c = new this.compiler().compile(a, this.options),
            d = this.guid++;
        this.usePartial = this.usePartial || c.usePartial, this.children[d] = c;for (var e = 0, f = c.depths.list.length; f > e; e++) {
          b = c.depths.list[e], 2 > b || this.addDepth(b - 1);
        }return d;
      }, block: function block(a) {
        var b = a.mustache,
            c = a.program,
            d = a.inverse;c && (c = this.compileProgram(c)), d && (d = this.compileProgram(d));var e = b.sexpr,
            f = this.classifySexpr(e);"helper" === f ? this.helperSexpr(e, c, d) : "simple" === f ? (this.simpleSexpr(e), this.opcode("pushProgram", c), this.opcode("pushProgram", d), this.opcode("emptyHash"), this.opcode("blockValue", e.id.original)) : (this.ambiguousSexpr(e, c, d), this.opcode("pushProgram", c), this.opcode("pushProgram", d), this.opcode("emptyHash"), this.opcode("ambiguousBlockValue")), this.opcode("append");
      }, hash: function hash(a) {
        var b,
            c,
            d = a.pairs;for (this.opcode("pushHash"), b = 0, c = d.length; c > b; b++) {
          this.pushParam(d[b][1]);
        }for (; b--;) {
          this.opcode("assignToHash", d[b][0]);
        }this.opcode("popHash");
      }, partial: function partial(a) {
        var b = a.partialName;this.usePartial = !0, a.hash ? this.accept(a.hash) : this.opcode("push", "undefined"), a.context ? this.accept(a.context) : (this.opcode("getContext", 0), this.opcode("pushContext")), this.opcode("invokePartial", b.name, a.indent || ""), this.opcode("append");
      }, content: function content(a) {
        a.string && this.opcode("appendContent", a.string);
      }, mustache: function mustache(a) {
        this.sexpr(a.sexpr), a.escaped && !this.options.noEscape ? this.opcode("appendEscaped") : this.opcode("append");
      }, ambiguousSexpr: function ambiguousSexpr(a, b, c) {
        var d = a.id,
            e = d.parts[0],
            f = null != b || null != c;this.opcode("getContext", d.depth), this.opcode("pushProgram", b), this.opcode("pushProgram", c), this.ID(d), this.opcode("invokeAmbiguous", e, f);
      }, simpleSexpr: function simpleSexpr(a) {
        var b = a.id;"DATA" === b.type ? this.DATA(b) : b.parts.length ? this.ID(b) : (this.addDepth(b.depth), this.opcode("getContext", b.depth), this.opcode("pushContext")), this.opcode("resolvePossibleLambda");
      }, helperSexpr: function helperSexpr(a, b, c) {
        var d = this.setupFullMustacheParams(a, b, c),
            e = a.id,
            f = e.parts[0];if (this.options.knownHelpers[f]) this.opcode("invokeKnownHelper", d.length, f);else {
          if (this.options.knownHelpersOnly) throw new h("You specified knownHelpersOnly, but used the unknown helper " + f, a);e.falsy = !0, this.ID(e), this.opcode("invokeHelper", d.length, e.original, e.isSimple);
        }
      }, sexpr: function sexpr(a) {
        var b = this.classifySexpr(a);"simple" === b ? this.simpleSexpr(a) : "helper" === b ? this.helperSexpr(a) : this.ambiguousSexpr(a);
      }, ID: function ID(a) {
        this.addDepth(a.depth), this.opcode("getContext", a.depth);var b = a.parts[0];b ? this.opcode("lookupOnContext", a.parts, a.falsy, a.isScoped) : this.opcode("pushContext");
      }, DATA: function DATA(a) {
        this.options.data = !0, this.opcode("lookupData", a.id.depth, a.id.parts);
      }, STRING: function STRING(a) {
        this.opcode("pushString", a.string);
      }, NUMBER: function NUMBER(a) {
        this.opcode("pushLiteral", a.number);
      }, BOOLEAN: function BOOLEAN(a) {
        this.opcode("pushLiteral", a.bool);
      }, comment: function comment() {}, opcode: function opcode(a) {
        this.opcodes.push({ opcode: a, args: j.call(arguments, 1) });
      }, addDepth: function addDepth(a) {
        0 !== a && (this.depths[a] || (this.depths[a] = !0, this.depths.list.push(a)));
      }, classifySexpr: function classifySexpr(a) {
        var b = a.isHelper,
            c = a.eligibleHelper,
            d = this.options;if (c && !b) {
          var e = a.id.parts[0];d.knownHelpers[e] ? b = !0 : d.knownHelpersOnly && (c = !1);
        }return b ? "helper" : c ? "ambiguous" : "simple";
      }, pushParams: function pushParams(a) {
        for (var b = 0, c = a.length; c > b; b++) {
          this.pushParam(a[b]);
        }
      }, pushParam: function pushParam(a) {
        this.stringParams ? (a.depth && this.addDepth(a.depth), this.opcode("getContext", a.depth || 0), this.opcode("pushStringParam", a.stringModeValue, a.type), "sexpr" === a.type && this.sexpr(a)) : (this.trackIds && this.opcode("pushId", a.type, a.idName || a.stringModeValue), this.accept(a));
      }, setupFullMustacheParams: function setupFullMustacheParams(a, b, c) {
        var d = a.params;return this.pushParams(d), this.opcode("pushProgram", b), this.opcode("pushProgram", c), a.hash ? this.hash(a.hash) : this.opcode("emptyHash"), d;
      } }, g.precompile = d, g.compile = e, g;
  }(c, b),
      l = function (a, b) {
    "use strict";
    function c(a) {
      this.value = a;
    }function d() {}var e,
        f = a.COMPILER_REVISION,
        g = a.REVISION_CHANGES,
        h = b;d.prototype = { nameLookup: function nameLookup(a, b) {
        return d.isValidJavaScriptVariableName(b) ? a + "." + b : a + "['" + b + "']";
      }, depthedLookup: function depthedLookup(a) {
        return this.aliases.lookup = "this.lookup", 'lookup(depths, "' + a + '")';
      }, compilerInfo: function compilerInfo() {
        var a = f,
            b = g[a];return [a, b];
      }, appendToBuffer: function appendToBuffer(a) {
        return this.environment.isSimple ? "return " + a + ";" : { appendToBuffer: !0, content: a, toString: function toString() {
            return "buffer += " + a + ";";
          } };
      }, initializeBuffer: function initializeBuffer() {
        return this.quotedString("");
      }, namespace: "Handlebars", compile: function compile(a, b, c, d) {
        this.environment = a, this.options = b, this.stringParams = this.options.stringParams, this.trackIds = this.options.trackIds, this.precompile = !d, this.name = this.environment.name, this.isChild = !!c, this.context = c || { programs: [], environments: [] }, this.preamble(), this.stackSlot = 0, this.stackVars = [], this.aliases = {}, this.registers = { list: [] }, this.hashes = [], this.compileStack = [], this.inlineStack = [], this.compileChildren(a, b), this.useDepths = this.useDepths || a.depths.list.length || this.options.compat;var e,
            f,
            g,
            i = a.opcodes;for (f = 0, g = i.length; g > f; f++) {
          e = i[f], this[e.opcode].apply(this, e.args);
        }if (this.pushSource(""), this.stackSlot || this.inlineStack.length || this.compileStack.length) throw new h("Compile completed with content left on stack");var j = this.createFunctionContext(d);if (this.isChild) return j;var k = { compiler: this.compilerInfo(), main: j },
            l = this.context.programs;for (f = 0, g = l.length; g > f; f++) {
          l[f] && (k[f] = l[f]);
        }return this.environment.usePartial && (k.usePartial = !0), this.options.data && (k.useData = !0), this.useDepths && (k.useDepths = !0), this.options.compat && (k.compat = !0), d || (k.compiler = JSON.stringify(k.compiler), k = this.objectLiteral(k)), k;
      }, preamble: function preamble() {
        this.lastContext = 0, this.source = [];
      }, createFunctionContext: function createFunctionContext(a) {
        var b = "",
            c = this.stackVars.concat(this.registers.list);c.length > 0 && (b += ", " + c.join(", "));for (var d in this.aliases) {
          this.aliases.hasOwnProperty(d) && (b += ", " + d + "=" + this.aliases[d]);
        }var e = ["depth0", "helpers", "partials", "data"];this.useDepths && e.push("depths");var f = this.mergeSource(b);return a ? (e.push(f), Function.apply(this, e)) : "function(" + e.join(",") + ") {\n  " + f + "}";
      }, mergeSource: function mergeSource(a) {
        for (var b, c, d = "", e = !this.forceBuffer, f = 0, g = this.source.length; g > f; f++) {
          var h = this.source[f];h.appendToBuffer ? b = b ? b + "\n    + " + h.content : h.content : (b && (d ? d += "buffer += " + b + ";\n  " : (c = !0, d = b + ";\n  "), b = void 0), d += h + "\n  ", this.environment.isSimple || (e = !1));
        }return e ? (b || !d) && (d += "return " + (b || '""') + ";\n") : (a += ", buffer = " + (c ? "" : this.initializeBuffer()), d += b ? "return buffer + " + b + ";\n" : "return buffer;\n"), a && (d = "var " + a.substring(2) + (c ? "" : ";\n  ") + d), d;
      }, blockValue: function blockValue(a) {
        this.aliases.blockHelperMissing = "helpers.blockHelperMissing";var b = [this.contextName(0)];this.setupParams(a, 0, b);var c = this.popStack();b.splice(1, 0, c), this.push("blockHelperMissing.call(" + b.join(", ") + ")");
      }, ambiguousBlockValue: function ambiguousBlockValue() {
        this.aliases.blockHelperMissing = "helpers.blockHelperMissing";var a = [this.contextName(0)];this.setupParams("", 0, a, !0), this.flushInline();var b = this.topStack();a.splice(1, 0, b), this.pushSource("if (!" + this.lastHelper + ") { " + b + " = blockHelperMissing.call(" + a.join(", ") + "); }");
      }, appendContent: function appendContent(a) {
        this.pendingContent && (a = this.pendingContent + a), this.pendingContent = a;
      }, append: function append() {
        this.flushInline();var a = this.popStack();this.pushSource("if (" + a + " != null) { " + this.appendToBuffer(a) + " }"), this.environment.isSimple && this.pushSource("else { " + this.appendToBuffer("''") + " }");
      }, appendEscaped: function appendEscaped() {
        this.aliases.escapeExpression = "this.escapeExpression", this.pushSource(this.appendToBuffer("escapeExpression(" + this.popStack() + ")"));
      }, getContext: function getContext(a) {
        this.lastContext = a;
      }, pushContext: function pushContext() {
        this.pushStackLiteral(this.contextName(this.lastContext));
      }, lookupOnContext: function lookupOnContext(a, b, c) {
        var d = 0,
            e = a.length;for (c || !this.options.compat || this.lastContext ? this.pushContext() : this.push(this.depthedLookup(a[d++])); e > d; d++) {
          this.replaceStack(function (c) {
            var e = this.nameLookup(c, a[d], "context");return b ? " && " + e : " != null ? " + e + " : " + c;
          });
        }
      }, lookupData: function lookupData(a, b) {
        a ? this.pushStackLiteral("this.data(data, " + a + ")") : this.pushStackLiteral("data");for (var c = b.length, d = 0; c > d; d++) {
          this.replaceStack(function (a) {
            return " && " + this.nameLookup(a, b[d], "data");
          });
        }
      }, resolvePossibleLambda: function resolvePossibleLambda() {
        this.aliases.lambda = "this.lambda", this.push("lambda(" + this.popStack() + ", " + this.contextName(0) + ")");
      }, pushStringParam: function pushStringParam(a, b) {
        this.pushContext(), this.pushString(b), "sexpr" !== b && ("string" == typeof a ? this.pushString(a) : this.pushStackLiteral(a));
      }, emptyHash: function emptyHash() {
        this.pushStackLiteral("{}"), this.trackIds && this.push("{}"), this.stringParams && (this.push("{}"), this.push("{}"));
      }, pushHash: function pushHash() {
        this.hash && this.hashes.push(this.hash), this.hash = { values: [], types: [], contexts: [], ids: [] };
      }, popHash: function popHash() {
        var a = this.hash;this.hash = this.hashes.pop(), this.trackIds && this.push("{" + a.ids.join(",") + "}"), this.stringParams && (this.push("{" + a.contexts.join(",") + "}"), this.push("{" + a.types.join(",") + "}")), this.push("{\n    " + a.values.join(",\n    ") + "\n  }");
      }, pushString: function pushString(a) {
        this.pushStackLiteral(this.quotedString(a));
      }, push: function push(a) {
        return this.inlineStack.push(a), a;
      }, pushLiteral: function pushLiteral(a) {
        this.pushStackLiteral(a);
      }, pushProgram: function pushProgram(a) {
        null != a ? this.pushStackLiteral(this.programExpression(a)) : this.pushStackLiteral(null);
      }, invokeHelper: function invokeHelper(a, b, c) {
        this.aliases.helperMissing = "helpers.helperMissing";var d = this.popStack(),
            e = this.setupHelper(a, b),
            f = (c ? e.name + " || " : "") + d + " || helperMissing";this.push("((" + f + ").call(" + e.callParams + "))");
      }, invokeKnownHelper: function invokeKnownHelper(a, b) {
        var c = this.setupHelper(a, b);this.push(c.name + ".call(" + c.callParams + ")");
      }, invokeAmbiguous: function invokeAmbiguous(a, b) {
        this.aliases.functionType = '"function"', this.aliases.helperMissing = "helpers.helperMissing", this.useRegister("helper");var c = this.popStack();this.emptyHash();var d = this.setupHelper(0, a, b),
            e = this.lastHelper = this.nameLookup("helpers", a, "helper");this.push("((helper = (helper = " + e + " || " + c + ") != null ? helper : helperMissing" + (d.paramsInit ? "),(" + d.paramsInit : "") + "),(typeof helper === functionType ? helper.call(" + d.callParams + ") : helper))");
      }, invokePartial: function invokePartial(a, b) {
        var c = [this.nameLookup("partials", a, "partial"), "'" + b + "'", "'" + a + "'", this.popStack(), this.popStack(), "helpers", "partials"];this.options.data ? c.push("data") : this.options.compat && c.push("undefined"), this.options.compat && c.push("depths"), this.push("this.invokePartial(" + c.join(", ") + ")");
      }, assignToHash: function assignToHash(a) {
        var b,
            c,
            d,
            e = this.popStack();this.trackIds && (d = this.popStack()), this.stringParams && (c = this.popStack(), b = this.popStack());var f = this.hash;b && f.contexts.push("'" + a + "': " + b), c && f.types.push("'" + a + "': " + c), d && f.ids.push("'" + a + "': " + d), f.values.push("'" + a + "': (" + e + ")");
      }, pushId: function pushId(a, b) {
        "ID" === a || "DATA" === a ? this.pushString(b) : "sexpr" === a ? this.pushStackLiteral("true") : this.pushStackLiteral("null");
      }, compiler: d, compileChildren: function compileChildren(a, b) {
        for (var c, d, e = a.children, f = 0, g = e.length; g > f; f++) {
          c = e[f], d = new this.compiler();var h = this.matchExistingProgram(c);null == h ? (this.context.programs.push(""), h = this.context.programs.length, c.index = h, c.name = "program" + h, this.context.programs[h] = d.compile(c, b, this.context, !this.precompile), this.context.environments[h] = c, this.useDepths = this.useDepths || d.useDepths) : (c.index = h, c.name = "program" + h);
        }
      }, matchExistingProgram: function matchExistingProgram(a) {
        for (var b = 0, c = this.context.environments.length; c > b; b++) {
          var d = this.context.environments[b];if (d && d.equals(a)) return b;
        }
      }, programExpression: function programExpression(a) {
        var b = this.environment.children[a],
            c = (b.depths.list, this.useDepths),
            d = [b.index, "data"];return c && d.push("depths"), "this.program(" + d.join(", ") + ")";
      }, useRegister: function useRegister(a) {
        this.registers[a] || (this.registers[a] = !0, this.registers.list.push(a));
      }, pushStackLiteral: function pushStackLiteral(a) {
        return this.push(new c(a));
      }, pushSource: function pushSource(a) {
        this.pendingContent && (this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))), this.pendingContent = void 0), a && this.source.push(a);
      }, pushStack: function pushStack(a) {
        this.flushInline();var b = this.incrStack();return this.pushSource(b + " = " + a + ";"), this.compileStack.push(b), b;
      }, replaceStack: function replaceStack(a) {
        {
          var b,
              d,
              e,
              f = "";this.isInline();
        }if (!this.isInline()) throw new h("replaceStack on non-inline");var g = this.popStack(!0);if (g instanceof c) f = b = g.value, e = !0;else {
          d = !this.stackSlot;var i = d ? this.incrStack() : this.topStackName();f = "(" + this.push(i) + " = " + g + ")", b = this.topStack();
        }var j = a.call(this, b);e || this.popStack(), d && this.stackSlot--, this.push("(" + f + j + ")");
      }, incrStack: function incrStack() {
        return this.stackSlot++, this.stackSlot > this.stackVars.length && this.stackVars.push("stack" + this.stackSlot), this.topStackName();
      }, topStackName: function topStackName() {
        return "stack" + this.stackSlot;
      }, flushInline: function flushInline() {
        var a = this.inlineStack;if (a.length) {
          this.inlineStack = [];for (var b = 0, d = a.length; d > b; b++) {
            var e = a[b];e instanceof c ? this.compileStack.push(e) : this.pushStack(e);
          }
        }
      }, isInline: function isInline() {
        return this.inlineStack.length;
      }, popStack: function popStack(a) {
        var b = this.isInline(),
            d = (b ? this.inlineStack : this.compileStack).pop();if (!a && d instanceof c) return d.value;if (!b) {
          if (!this.stackSlot) throw new h("Invalid stack pop");this.stackSlot--;
        }return d;
      }, topStack: function topStack() {
        var a = this.isInline() ? this.inlineStack : this.compileStack,
            b = a[a.length - 1];return b instanceof c ? b.value : b;
      }, contextName: function contextName(a) {
        return this.useDepths && a ? "depths[" + a + "]" : "depth" + a;
      }, quotedString: function quotedString(a) {
        return '"' + a.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029") + '"';
      }, objectLiteral: function objectLiteral(a) {
        var b = [];for (var c in a) {
          a.hasOwnProperty(c) && b.push(this.quotedString(c) + ":" + a[c]);
        }return "{" + b.join(",") + "}";
      }, setupHelper: function setupHelper(a, b, c) {
        var d = [],
            e = this.setupParams(b, a, d, c),
            f = this.nameLookup("helpers", b, "helper");return { params: d, paramsInit: e, name: f, callParams: [this.contextName(0)].concat(d).join(", ") };
      }, setupOptions: function setupOptions(a, b, c) {
        var d,
            e,
            f,
            g = {},
            h = [],
            i = [],
            j = [];g.name = this.quotedString(a), g.hash = this.popStack(), this.trackIds && (g.hashIds = this.popStack()), this.stringParams && (g.hashTypes = this.popStack(), g.hashContexts = this.popStack()), e = this.popStack(), f = this.popStack(), (f || e) && (f || (f = "this.noop"), e || (e = "this.noop"), g.fn = f, g.inverse = e);for (var k = b; k--;) {
          d = this.popStack(), c[k] = d, this.trackIds && (j[k] = this.popStack()), this.stringParams && (i[k] = this.popStack(), h[k] = this.popStack());
        }return this.trackIds && (g.ids = "[" + j.join(",") + "]"), this.stringParams && (g.types = "[" + i.join(",") + "]", g.contexts = "[" + h.join(",") + "]"), this.options.data && (g.data = "data"), g;
      }, setupParams: function setupParams(a, b, c, d) {
        var e = this.objectLiteral(this.setupOptions(a, b, c));return d ? (this.useRegister("options"), c.push("options"), "options=" + e) : (c.push(e), "");
      } };for (var i = "break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "), j = d.RESERVED_WORDS = {}, k = 0, l = i.length; l > k; k++) {
      j[i[k]] = !0;
    }return d.isValidJavaScriptVariableName = function (a) {
      return !d.RESERVED_WORDS[a] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a);
    }, e = d;
  }(d, c),
      m = function (a, b, c, d, e) {
    "use strict";
    var f,
        g = a,
        h = b,
        i = c.parser,
        j = c.parse,
        k = d.Compiler,
        l = d.compile,
        m = d.precompile,
        n = e,
        o = g.create,
        p = function p() {
      var a = o();return a.compile = function (b, c) {
        return l(b, c, a);
      }, a.precompile = function (b, c) {
        return m(b, c, a);
      }, a.AST = h, a.Compiler = k, a.JavaScriptCompiler = n, a.Parser = i, a.parse = j, a;
    };return g = p(), g.create = p, g["default"] = g, f = g;
  }(f, g, j, k, l);return m;
});

},{}],20:[function(require,module,exports){
"use strict";

var magnificPopup = require('magnificPopup');
require("datatables");
require("datatables-responsive");

module.exports = function () {
    $('#js-company-results').magnificPopup({
        type: 'inline',
        delegate: '.js-claim-form-popup',
        closeBtnInside: true,
        midClick: true
    });

    $('.js-claim-form-popup').on('mfpOpen', function (e) {
        var htmlTable = $('.data-table-container').find('table');
        htmlTable.DataTable().responsive.recalc();
    });

    $('#js-pick-director-popup').on('click', '.js-claim-director-checkbox', function () {
        $.magnificPopup.close();

        $('#js-pick-director-popup').magnificPopup('open');
    });

    $('#js-pick-director-popup').magnificPopup({
        type: 'inline',
        delegate: '.js-claim-director-checkbox',
        closeBtnInside: true
    });
};

},{"datatables":81,"datatables-responsive":80,"magnificPopup":88}]},{},[66]);
