var fhTooltip=new function(){function k(a,b){var d=a.ownerDocument&&a.ownerDocument.defaultView&&a.ownerDocument.defaultView.getComputedStyle&&a.ownerDocument.defaultView.getComputedStyle(a,null),c=d&&d.getPropertyValue(b?"height":"width")||"";return c=c&&-1<c.indexOf(".")?parseFloat(c)+parseInt(d.getPropertyValue(b?"padding-top":"padding-left"))+parseInt(d.getPropertyValue(b?"padding-bottom":"padding-right"))+parseInt(d.getPropertyValue(b?"border-top-width":"border-left-width"))+parseInt(d.getPropertyValue(b?
"border-bottom-width":"border-right-width")):b?a.offsetHeight:a.offsetWidth}function x(a){for(var b=document.getElementsByTagName("body")[0],d=a.offsetLeft,c=a.offsetTop;a.offsetParent;){d+=a.offsetParent.offsetLeft;c+=a.offsetParent.offsetTop;if(a==b)break;a=a.offsetParent}return{x:d,y:c}}function y(a){var b=0,d=0;a||(a=window.event);if(a.pageX||a.pageY)b=a.pageX,d=a.pageY;else if(a.clientX||a.clientY)b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=a.clientY+document.body.scrollTop+
document.documentElement.scrollTop+8;return{x:b,y:d}}function z(){if("complete"!=document.readyState&&"loaded"!=document.readyState)setTimeout(z,50);else{if(!document.getElementById("headjs")){var a=document.createElement("div");a.id="headjs";a.setAttribute("style","left:0;position:absolute;right:0;top:0;z-index:999999999");document.body.insertBefore(a,document.body.childNodes[0])}document.addEventListener?(document.addEventListener("mouseover",fhTooltip.mouseOver,!0),document.addEventListener("mousemove",
fhTooltip.mouseOut,!0)):(document.attachEvent("onmouseover",fhTooltip.mouseOver),document.attachEvent("onmousemove",fhTooltip.mouseOut));(!l||"object"==typeof framehead_tooltips)&&A()}}function A(){var a=!l&&document.getElementById("main")?document.getElementById("main"):document.body,a=a.getElementsByTagName("a"),b={},d;for(d in a){var c=r(a[d],"list");if(c){b[c.host]||(b[c.host]={});var m=b[c.host];m[c.type]||(m[c.type]=[]);var f=m[c.type],e=c.url.replace(/%20/g," ").replace(/\+/g," ").replace(/%27/,
"'").replace(/#/,"/");if(!n[o(c.host)]||!n[o(c.host)][e])f[e]=e;m[c.type]=f;b[c.host]=m}}for(var h in b)for(var i in b[h]){var a=[],g;for(g in b[h][i])"string"==typeof b[h][i][g]&&a.push(b[h][i][g].replace("/"+i+"/","").replace("/",""));a.length&&(50<a.length&&(a=a.slice(0,50)),B(h,"/"+i+"/"+a.join(";")+"/tooltips"))}}function o(a){var b=a.replace(/(.*[\.\/])?([^\.]+)\.com/,"$2");!e[b]&&(!l&&a.match(/\/\/(localhost|127\.0\.0\.1)[:\/]/))&&(b=FH.domain);return b}function r(a,b){if("A"!=a.nodeName||
0==a.href.length&&0==a.rel.length||-1!=a.href.indexOf("#")&&-1!=a.href.indexOf(location.href.replace(/#.*/,""))||-1!=a.rel.indexOf("nott"))return!1;if(l&&!a.href.match(C)){var d=!1,c;for(c in g)c.match(/^[0-9]+$/)&&a.getAttribute("data-"+g[c])&&(d=!0);if(!d)return!1}if(0==a.rel.indexOf("ttcustom"))"string"!=typeof b&&(q=b),s=(j=t(a))?1:0;else if(0==a.rel.indexOf("tt:")){c=a.rel.replace(/^tt:/,"").replace(/%27/,"'");"string"!=typeof b&&(p=c,q=b);s=(j=t(a))?1:0;if("list"==b)return!1;if("return"==b)return{target:a,
type:"unknown",url:c};u("http://"+window.location.hostname,c)}else if(d=v(a)){c="/"+d[3]+"/"+d[4].replace(/%20/g," ").replace(/\+/g," ").replace(/%27/,"'");"string"!=typeof b&&(p=c,q=b);s=(j=t(a))?1:0;var e="http://www."+d[1]+".com";if("list"==b||"return"==b)return{target:a,host:e,type:d[3],url:c};u(e,c)}else if(d=D(a.href)){if(c=!l)a:{c=a;for(e="NAV";null!=c;){if(c.tagName==e){c=!0;break a}c=c.parentNode}c=!1}if(c)return!1;c=d[2].replace(/%20/g," ").replace(/\+/g," ").replace(/%27/,"'");"string"!=
typeof b&&(p=c,q=b);s=(j=t(a))?1:0;if("list"==b||"return"==b)return{target:a,host:d[1],type:d[3],url:c};u(d[1],c)}else return!1;a.fhEvents||(a.fhEvents=1,a.onmousemove=E,a.onmouseout=function(){p=0;F();j=0});return!0}function t(a){return-1<a.parentNode.className.search("fh-icon")?a.parentNode:-1<a.className.search("fh-icon")?a:0}function u(a,b){b=b.replace(/#/,"/");n[o(a)]&&n[o(a)][b]?w(o(a),b):B(a,b)}function w(a,b){var d=n[a][b];p==b&&"Unavailable"!=d.html.substring(0,11)&&fhTooltip.showTooltip(d.html)}
function E(a){"undefined"==typeof a&&(a=q);var b=document.getElementById("headtt");if(b){if(j){var d=x(j);b.style.top=d.y-k(b,1)+"px";b.style.left=d.x+j.offsetWidth+"px";b.style.right="auto";a=G(a,b);if(a.x||a.y)if(a.y&&(b.style.top=d.y+j.offsetHeight+"px"),a.x)b.style.left="auto",b.style.right=H().r-d.x+"px",a.y||(b.style.top=d.y-k(b,1)+"px")}else{var d=y(a),c=k(b,1);c||(b.style.display="block",c=k(b,1));b.style.top=d.y-c-6+"px";b.style.left=d.x+6+"px";b.style.right="auto";a=G(a,b);if(a.x||a.y)if(a.y&&
(b.style.top=d.y+20+"px"),a.x)b.style.left="auto",b.style.right=a.x+6+"px"}b.style.display="block"}}function G(a,b){var d=0,c=0,e=H();if(j){var f=x(j);f.y-k(b,1)<e.t&&(c=1);f.x+j.offsetWidth+k(b)+1>e.r&&(d=1);return{x:d,y:c}}f=y(a);f.y-k(b,1)-6<e.t&&(c=1);f.x+k(b)+7>e.r&&(d=e.r-f.x);return{x:d,y:c}}function F(){var a=document.getElementById("headtt");a&&a.parentNode.removeChild(a)}function B(a,b){if(!b.match(/^\/effect\//)&&!b.match(/^\/(stc|pac)-([a-z]+)\//)){!l&&-1<a.indexOf(FH.domain)&&location.origin&&
(a=location.origin);if(l||!a.match(/\/\/(localhost|127\.0\.0\.1)[:\/]/)||!a.match(/\/\/(localhost|127\.0\.0\.1)$/)){var d=a.replace(/.*\.([^\.]+)\.com$/,"$1");if(!d.match(/\/\/(localhost|127\.0\.0\.1)[:\/]/)&&!d.match(/\/\/(localhost|127\.0\.0\.1)$/)&&!e[d].cssLoaded){if(l||e["default"].cdn!=e[d].cdn&&!J){var c=document.createElement("link");c.rel="stylesheet";c.type="text/css";c.href=e[d].cdn+"/tooltips.css";document.head?document.head.appendChild(c):document.body.appendChild(c)}e[d].cssLoaded=!0}}d=
document.createElement("script");d.type="text/javascript";d.src=a+b.replace(/%([^0-9])/,"%25$1")+(b.match(/tooltips$/)?"":"/tooltip");document.head?document.head.appendChild(d):document.body.appendChild(d)}}function D(a){var b=!1,d;for(d in g)if(d.match(/^[0-9]+$/)&&(b=a.match(e[g[d]].url)))break;if(b)b[2]?b[2]=b[2].replace(/#.*/,""):b=null;else{for(d in g)if(d.match(/^[0-9]+$/)&&e[g[d]].hash&&(b=a.match(e[g[d]].hash)))break;b&&(b[2]=b[2].replace(/#/,"/"))}if(!b&&!l&&(!/^(http)/.test(a)||-1<a.indexOf(location.hostname))&&
e[FH.domain])b=RegExp(e[FH.domain].url.source.replace(FH.domain+".com",location.host)),b=a.match(b);return b}function v(a){for(var b in g)if(b.match(/^[0-9]+$/)&&a.getAttribute("data-"+g[b])&&(match=a.getAttribute("data-"+g[b]).match(e[g[b]].data)))return[match[0],g[b],match[0],match[1],match[2]];return!1}function H(){var a=document.body.scrollLeft,b=document.body.scrollTop;0==a&&(a=window.pageYOffset?window.pageXOffset:document.body.parentElement?document.body.parentElement.scrollLeft:0);0==b&&(b=
window.pageYOffset?window.pageYOffset:document.body.parentElement?document.body.parentElement.scrollTop:0);return{l:a,t:b,r:a+(window.innerWidth?window.innerWidth:document.body.clientWidth),b:b+(window.innerHeight?window.innerHeight:document.body.clientHeight)}}var l="undefined"==typeof FH?1:0,e={"default":{cdn:l?"//cdn.zamimg.com":FH.staticUrl()},bl2db:{cdn:"//www.bl2db.com",gameData:["character","skill"]},guildhead:{cdn:"//static.guildhead.com",gameData:"achievement effect guild-upgrade info item item-type npc profession quest race recipe skill trait".split(" ")},
rifthead:{cdn:"//static.rifthead.com",gameData:"ability achievement artifact-collection calling item npc pac-ability pac-plane quest recipe soul stc stc-ability stc-trait trait".split(" ")},teratome:{cdn:"//tt.zamimg.com",gameData:"achievement class glyph item npc object quest race recipe skill".split(" ")},torhead:{cdn:"//tor.zamimg.com",gameData:"ability class item mission npc schematic".split(" "),hashBasedPages:["skill-calc"]}},I=0,J=-1<e["default"].cdn.indexOf("dev.")?1:0,C=!1,g=[],q="",n=[],
p=0,j=0,s=0;this.init=function(){if(document.body){if(!I){g=[];var a=[],b=[],d=[],c;for(c in e)if("string"==typeof c){"default"!=c&&g.push(c);a=[];b=[];d=[];if(e[c].gameData&&"object"==typeof e[c].gameData)for(var m in e[c].gameData)"string"==typeof e[c].gameData[m]&&(a.push(e[c].gameData[m]),b.push(e[c].gameData[m]));if(e[c].hashBasedPages&&"object"==typeof e[c].hashBasedPages)for(m in e[c].hashBasedPages)"string"==typeof e[c].gameData[m]&&(a.push(e[c].hashBasedPages[m]),d.push(e[c].hashBasedPages[m]));
a.length&&(e[c].data=RegExp("^("+a.join("|")+")=(.*)"));b.length&&(e[c].url=RegExp("^(http://[^/]*"+c+".com)(/("+b.join("|")+")/([^/]+))"));d.length&&(e[c].hash=RegExp("^(http://[^/]*"+c+".com)(/("+d.join("|")+")#(.+))"))}C=RegExp("^https?://[^/]*.("+g.join("|")+").com/");I=1}z()}else setTimeout(fhTooltip.init,20)};this.preload=function(){A()};this.modifyLinks=function(a){if("object"==typeof framehead_tooltips){var b=framehead_tooltips;if(b.colorlinks||b.iconizelinks||b.renamelinks||b.renamespecifiedlinks)for(var d=
0,c=!l&&document.getElementById("main")?document.getElementById("main"):document.body,c=c.getElementsByTagName("a"),e=0;e<c.length;e++)if(200>=d&&"object"==typeof c[e]){var f=r(c[e],"return");if(f&&"yes"!=f.target.getAttribute("data-framehead-modified")){var g=D(f.target.href);g||(g=v(f.target));if(g&&g[3]==a){f.target.setAttribute("data-framehead-modified","yes");var h=!1;n[o(f.host)]&&(h=n[o(f.host)][f.url]);if(h){d++;if((b.renamelinks||b.renamespecifiedlinks&&"yes"==f.target.getAttribute("data-fhrename"))&&
h.name&&f.target.innerHTML)f.target.innerHTML=h.name;if((b.colorlinks||b.colorspecifiedlinks&&"yes"==f.target.getAttribute("data-fhcolor"))&&h.linkColor)f.target.className+=" "+h.linkColor;if((b.iconizelinks||b.iconizespecifiedlinks&&"yes"==f.target.getAttribute("data-fhiconize"))&&h.icon){var i=document.createElement("div");i.innerHTML=h.icon;i=i.childNodes[0];h=i.getElementsByTagName("a")[0];f.target.href&&(h.href=f.target.href);(g=v(f.target))&&h.setAttribute("data-"+g[1],g[0]);f.target.parentNode.insertBefore(i,
f.target)}}}}}}};this.mouseOver=function(a,b){a&&!b&&(b=a.target?a.target:a.srcElement);for(var d=0;null!=b&&5>d&&!r(b,a);)b=b.parentNode,++d};this.mouseOut=function(a){q=a};this.store=function(a,b,d,c,e,f){a&&(b&&d)&&(n[a]||(n[a]=[]),n[a][b]={html:d,linkColor:c,icon:e,name:f},w(a,b))};this.storeBuild=function(a,b,d,c,e,f){var d="/skill-calc/"+b,g,h={trees:[]},i="",i=0,j=[0,0],l=g=0,b=b.split(".");g=b[0].substr(3);b=1<b.length?parseInt(b[1]):0;h.suffix=2!=b?"<br>Old build, may not be accurate.":"";
for(var b=g.split("Z"),k=0;3>k;++k){var o=f[k];if(k>=b.length)h.trees.push([o.tree.replace(/ \(.*/,""),0]);else{var q=b[k],s=q.length,p=[0,0],t=0;a:for(var r=1;7>=r;++r)for(var u in o.skills[r]){i=q.charAt(p[0]);g=p[1]%2;i="0zMcmVokRsaqbdrfwihuGINALpTjnyxtgevElBCDFHJKOPQSUWXYZ123456789".indexOf(i);j[0]=i%6;j[1]=(i-j[0])/6;for(i=0;i<j[g];++i)l++,t++;if(1==g&&(p[0]++,p[0]>=s))break a;p[1]++}h.trees.push([o.tree.replace(/ \(.*/,""),t])}}c=c+" ("+h.trees[0][1]+"/"+h.trees[1][1]+"/"+h.trees[2][1]+")";
f=h.trees[0][0]+" ("+h.trees[0][1]+"), "+h.trees[1][0]+" ("+h.trees[1][1]+"), "+h.trees[2][0]+" ("+h.trees[2][1]+")";n[a]||(n[a]=[]);n[a][d]={html:e.replace("REPLACE_DESCRIPTION",f),linkColor:"",icon:"",name:c};w(a,d)};this.showTooltip=function(a){var b=s?' class="hide-icon"':"";document.getElementById("headjs").innerHTML='<div id="headtt"'+b+' style="display:none;position:absolute;z-index:99999999999">'+a+"</div>";E()};this.checkForTooltip=function(a){fhTooltip.clearTooltips();fhTooltip.mouseOver(null,
a)};this.clearTooltips=function(){F()}};fhTooltip.init();