!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(e,r,i){for(var s,a,c=0,u=[];c<e.length;c++)a=e[c],o[a]&&u.push(o[a][0]),o[a]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);for(n&&n(e,r,i);u.length;)u.shift()()};var r={},o={1:0};e.e=function(t){function n(){a.onerror=a.onload=null,clearTimeout(c);var e=o[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),o[t]=void 0)}var r=o[t];if(0===r)return new Promise(function(t){t()});if(r)return r[2];var i=new Promise(function(e,n){r=o[t]=[e,n]});r[2]=i;var s=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,e.nc&&a.setAttribute("nonce",e.nc),a.src=e.p+""+t+".nativeai.js";var c=setTimeout(n,12e4);return a.onerror=a.onload=n,s.appendChild(a),i},e.m=t,e.c=r,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e.oe=function(t){throw console.error(t),t},e(e.s=38)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){window.ns360=function(t){for(var e=t.split("."),n=window,r=0,o=e.length;r<o;++r){var i=e[r];n[i]=n[i]||{},n=n[i]}return n},ns360("News360").extend=function(t,e,n){var r=t.prototype,o=e.prototype;for(var i in o)n[i]?(r[i]=n[i],delete n[i]):r[i]=o[i];for(var i in n)r[i]=n[i];t.superclass=o,t.superclass.constructor=e},ns360("News360").KeyCode={ENTER:13},ns360("News360").NodeType={ELEMENT:1,TEXT:3,COMMENT:8},ns360("News360").getAndroidVersion=function(){var t,e=navigator.userAgent.toLowerCase(),n=e.match(/^[\S\s]*android\s([0-9\.]*)[\S\s]*$/);return n&&(t=parseFloat(n[1])),t},ns360("News360").isMobile=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},ns360("News360").isIOSDevice=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},ns360("News360").isTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},ns360("News360").getMaxUrlLength=function(){return 2e3},ns360("News360").sleep=function(t){for(var e=(new Date).getTime();(new Date).getTime()<e+t;);},ns360("News360").doNotTrack=function(){return!("yes"!=navigator.doNotTrack&&"1"!=navigator.doNotTrack&&"1"!=navigator.msDoNotTrack&&"1"!=window.doNotTrack)},ns360("News360").getTopLevelDomain=function(t){var e;if(t){var n=t.lastIndexOf(":");n>=0&&(t=t.substring(0,n));for(var r=t.split(".");r.length>3;)r.shift();3===r.length&&(r[1].length>2||r[2].length>2)&&r.shift(),e=r.join(".")}return e},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),window.document.querySelectorAll||(document.querySelectorAll=document.body.querySelectorAll=Object.querySelectorAll=function(t,e,n,r,o){var i=document,s=i.createStyleSheet();for(o=i.all,e=[],t=t.replace(/\[for\b/gi,"[htmlFor").split(","),n=t.length;n--;){for(s.addRule(t[n],"k:v"),r=o.length;r--;)o[r].currentStyle.k&&e.push(o[r]);s.removeRule(0)}return e})},function(t,e,n){function r(){for(var t,e=0;e<m.length;e++){var n=m[e],r=document.getElementById(n);if(o(r)){t=r;break}}return t}function o(t){var e=!1;if(t){var n=News360.PureJS.css(t,"overflow-y");if("auto"===n||"scroll"===n){var r=News360.PureJS.documentTotalHeight();e=News360.PureJS.elementTotalHeight(t)>r}}return e}function i(t,e){var n=s(t,e);return News360.GeometryUtils.rectArea(n)}function s(t,e){var n=t.getBoundingClientRect(),r=t.children;if(r&&r.length)for(var o=0;o<r.length;o++){var i=r[o];if(-1===i.tagName.search(g)&&(e||d.isElementVisible(i,t))){var a=s(r[o],e);n=News360.GeometryUtils.union(n,a)}}return n}function a(t){var e=News360.PureJS.attr(t,"src");return e||(e=c(t)),e}function c(t){var e,n=News360.PureJS.css(t,"background-image");return n&&n.indexOf("url(")>=0&&(e=n.substring(4,n.length-1)),e}function u(t,e){var n={width:l(t,"width"),height:l(t,"height")};if(t!=e&&t.parentNode&&1==t.parentNode.children.length){var r=u(t.parentNode,e);n.width=Math.max(n.width,r.width),n.height=Math.max(n.height,r.height)}return n}function l(t,e){var n=News360.PureJS.css(t,e)||News360.PureJS.attr(t,e);return n=parseInt(n)||0}function p(t){var e=null;if(t&&t.length){e=t[0].getBoundingClientRect();for(var n=1;n<t.length;n++){var r=t[n].getBoundingClientRect();e=News360.GeometryUtils.union(e,r)}}return e}n(1),n(6),n(55),n(56);var h=n(8),d=n(20),f=/[0-9a-f]/gi,g=/(no)?script/i,m=["content"],v=News360.PureJS.getDefaultScrollContainer();t.exports={detectScrollContainer:function(){var t=r();t||(t=News360.PureJS.getDefaultScrollContainer()),v=t},getScrollContainer:function(){return v},getTotalPageHeight:function(){var t=this.getScrollContainer(),e=News360.PureJS.documentTotalHeight(),n=News360.PureJS.elementTotalHeight(t);return Math.max(e,n)},getElementArea:function(t,e){return i(t,e)},getElementRect:function(t,e){return s(t,e)},parents:function(t,e){for(var n=[];t&&(t=t.parentNode)&&t.tagName;)void 0!==e&&t.tagName!==e.toUpperCase()||n.push(t);return n},containsNonEmptyTextNode:function(t){var e=!1;if(t&&t.childNodes)for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(this.isNonEmptyTextNode(r)){e=!0;break}}return e},endsWithNonEmptyTextNode:function(t){var e=!1;return t&&t.childNodes&&(e=this.isNonEmptyTextNode(t.childNodes[t.childNodes.length-1])),e},isNonEmptyTextNode:function(t){var e=!1;return t&&t.nodeType==News360.NodeType.TEXT&&(e=t.nodeValue.trim().length>0),e},isTextDiv:function(t){var e=!1;if(t&&"DIV"===t.tagName&&t.childNodes)for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(!(e=r.nodeType==News360.NodeType.TEXT||"A"===r.tagName||"BR"===r.tagName))break}return e},getImageUrl:function(t){return a(t)},getImageSize:function(t,e){return u(t,e)},getCommonRect:function(t){return p(t)},countSimilarStructuresByDom:function(t){var e=this;return this.countSimilarStructures(t,function(t){var n=e.getSimpleDom(t);return JSON.stringify(n)})},countSimilarStructuresByElementKey:function(t){var e=this;return this.countSimilarStructures(t,function(t){return e.createElementKey(t)})},countSimilarLinkStructures:function(t){var e=this;return this.countSimilarStructures(t,function(t){return""+t.getBoundingClientRect().left+News360.PureJS.css(t,"font-size")+News360.PureJS.css(t,"color")+(News360.PureJS.text(t)?"text":"notext")+h.getUrlHost(t.href)+e.createElementKey(t.parentNode)})},countSimilarStructures:function(t,e){for(var n=[],r=t.length,o=0;o<r;o++){var i=t[o],s=e(i);this.incrementStructureCount(i,s,n)}return n},incrementStructureCount:function(t,e,n){var r=News360.PureJS.find(n,function(t){return t.data==e});r?r.count++:(r={count:1,data:e,element:t},n.push(r))},getSimpleDom:function(t){var e=this.createSimpleDom(t),n=t.children;if(n.length>0)for(var r=n.length,o=0;o<r;o++){var i=n[o],s=this.createSimpleDom(i);e[e.elementKey].push(s)}return e},createSimpleDom:function(t){var e=this.createElementKey(t),n={};return n.elementKey=e,n[e]=[],n},createElementKey:function(t){var e=""+t.id,n=t.attributes?t.attributes.length:0;return e=n>2?e.replace(f,"")+n:(e+News360.PureJS.getClassList(t)[0]).replace(f,""),e=t.tagName+e},isSimilarStructuresFound:function(t,e){e=e||1;for(var n=!1,r=0;r<t.length;r++)if(t[r].count>e){n=!0;break}return n}}},function(t,e,n){(function(t){function r(t,n){return n("b"+e.packets[t.type]+t.data.data)}function o(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=y[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return r(s.buffer)}function i(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,n,!0,r)},o.readAsArrayBuffer(t.data)}function s(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(v)return i(t,n,r);var o=new Uint8Array(1);return o[0]=y[t.type],r(new S([o.buffer,t.data]))}function a(t){try{t=f.decode(t,{strict:!1})}catch(t){return!1}return t}function c(t,e,n){for(var r=new Array(t.length),o=d(t.length,n),i=0;i<t.length;i++)!function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})}(i,t[i],o)}var u,l=n(72),p=n(24),h=n(73),d=n(74),f=n(75);t&&t.ArrayBuffer&&(u=n(76));var g="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=g||m;e.protocol=3;var y=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},w=l(y),b={type:"error",data:"parser error"},S=n(77);e.encodePacket=function(e,n,i,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof i&&(a=i,i=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,n,a);if(S&&c instanceof t.Blob)return s(e,n,a);if(c&&c.base64)return r(e,a);var u=y[e.type];return void 0!==e.data&&(u+=i?f.encode(String(e.data),{strict:!1}):String(e.data)),a(""+u)},e.encodeBase64Packet=function(n,r){var o="b"+e.packets[n.type];if(S&&n.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];r(o+t)},i.readAsDataURL(n.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(t){for(var a=new Uint8Array(n.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return o+=t.btoa(s),r(o)},e.decodePacket=function(t,n,r){if(void 0===t)return b;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=a(t)))return b;var o=t.charAt(0);return Number(o)==o&&w[o]?t.length>1?{type:w[o],data:t.substring(1)}:{type:w[o]}:b}var i=new Uint8Array(t),o=i[0],s=h(t,1);return S&&"blob"===n&&(s=new S([s])),{type:w[o],data:s}},e.decodeBase64Packet=function(t,e){var n=w[t.charAt(0)];if(!u)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=u.decode(t.substr(1));return"blob"===e&&S&&(r=new S([r])),{type:n,data:r}},e.encodePayload=function(t,n,r){function o(t){return t.length+":"+t}function i(t,r){e.encodePacket(t,!!s&&n,!1,function(t){r(null,o(t))})}"function"==typeof n&&(r=n,n=null);var s=p(t);return n&&s?S&&!v?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r):t.length?void c(t,i,function(t,e){return r(e.join(""))}):r("0:")},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);"function"==typeof n&&(r=n,n=null);var o;if(""===t)return r(b,0,1);for(var i,s,a="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"===l){if(""===a||a!=(i=Number(a)))return r(b,0,1);if(s=t.substr(c+1,i),a!=s.length)return r(b,0,1);if(s.length){if(o=e.decodePacket(s,n,!1),b.type===o.type&&b.data===o.data)return r(b,0,1);if(!1===r(o,c+i,u))return}c+=i,a=""}else a+=l}return""!==a?r(b,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){function r(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})}if(!t.length)return n(new ArrayBuffer(0));c(t,r,function(t,e){var r=e.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}o[i++]=e?0:1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]}),n(o.buffer)})},e.encodePayloadAsBlob=function(t,n){function r(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,S){var c=new S([e.buffer,a.buffer,t]);n(null,c)}})}c(t,r,function(t,e){return n(new S(e))})},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var o=t,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),a=0===s[0],c="",u=1;255!==s[u];u++){if(c.length>310)return r(b,0,1);c+=s[u]}o=h(o,2+c.length),c=parseInt(c);var l=h(o,0,c);if(a)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(t){var p=new Uint8Array(l);l="";for(var u=0;u<p.length;u++)l+=String.fromCharCode(p[u])}i.push(l),o=h(o,c)}var d=i.length;i.forEach(function(t,o){r(e.decodePacket(t,n,!0),o,d)})}}).call(e,n(0))},function(t,e,n){(function(r){function o(){return!("undefined"==typeof window||!window||void 0===window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function c(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=Object({NODE_ENV:"production"}).DEBUG),t}e=t.exports=n(62),e.log=s,e.formatArgs=i,e.save=a,e.load=c,e.useColors=o,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(c())}).call(e,n(12))},function(t,e,n){var r=n(44).sdkVersion;t.exports={debug:!1,sdkVersion:r,apiVersion:"1.0",apiHost:"https://api.native.ai/proxy",socketHost:"https://api.native.ai:443/",buildName:"nativeai.js"}},function(t,e){ns360("News360").PureJS={text:function(t,e){if(void 0===e)return t.textContent||t.innerText;t.nodeValue=e},html:function(t,e){if(void 0===e)return t.innerHTML;t.innerHTML=e},createElement:function(t){var e=document.createElement("div");this.html(e,t);var n=e.children[0];return e.removeChild(n),n},css:function(t,e,n,r){var o=this.getStyle(t);if(o)if(void 0!==n)o.setProperty(e,n,r);else{if(null!==n)return o.getPropertyValue(e);o.removeProperty(e)}},getStyle:function(t){var e,n=(t.ownerDocument||document).defaultView;return n&&n.getComputedStyle?e=this.getStandardStyleWrapper(t,n):t.currentStyle&&(e=this.getCompatStyleWrapper(t)),e},getStandardStyleWrapper:function(t,e){var n=e.getComputedStyle(t,null);return{getPropertyValue:function(t){return n.getPropertyValue(t)},setProperty:function(e,n,r){t.style.setProperty(e,n,r)},removeProperty:function(e){t.style.removeProperty(e)}}},getCompatStyleWrapper:function(t){return{getPropertyValue:function(e){return t.currentStyle[e]},setProperty:function(e,n,r){t.style.setProperty?t.style.setProperty(e,n,r):t.style[e]=n},removeProperty:function(e){t.style.removeProperty?t.style.removeProperty(e):delete t.style[e]}}},removeAttr:function(t,e){t.removeAttribute(e)},attr:function(t,e,n){if(void 0===n){var r;return t.getAttribute?r=t.getAttribute(e):t.getAttributeNode?(r=t.getAttributeNode(e),r=r&&r.nodeValue):t.attributes&&(r=t.attributes[e]),r}t.setAttribute(e,n)},getScrollTop:function(t){return t=t||this.getDefaultScrollContainer(),void 0!==t.pageYOffset?t.pageYOffset:t.scrollTop},getDefaultScrollContainer:function(){return void 0!==window.pageYOffset?window:document.body||document.documentElement||document.body.parentNode},windowWidth:function(){return window.document.documentElement.clientWidth},windowHeight:function(){return News360.isIOSDevice()?window.screen.availHeight:window.document.documentElement.clientHeight},documentHead:function(){return document.head||document.getElementsByTagName("head")[0]},documentTotalHeight:function(){return Math.max(this.elementTotalHeight(document.body),this.elementTotalHeight(document.documentElement))},elementTotalHeight:function(t){return t===window?this.documentTotalHeight():Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},offset:function(t){var e=0,n=0;if(t.offsetParent)do{e+=t.offsetLeft,n+=t.offsetTop}while(t=t.offsetParent);return{left:e,top:n}},addEventListener:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},removeEventListener:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},remove:function(t){t.parentNode.removeChild(t)},getClassList:function(t){var e=t.className;return"string"==typeof e?e.split(" "):[]},hasClass:function(t,e){return this.getClassList(t).indexOf(e)>-1},addClass:function(t,e){this.hasClass(t,e)||(t.className+=" "+e)},removeClass:function(t,e){var n=t.className;"string"==typeof n&&(t.className=n.replace(e,"").trim())},getDocumentVisibilityProperty:function(){var t;return void 0!==document.hidden?t="hidden":void 0!==document.mozHidden?t="mozHidden":void 0!==document.msHidden?t="msHidden":void 0!==document.webkitHidden&&(t="webkitHidden"),t},getDocumentVisibilityChangeEvent:function(){var t;return void 0!==document.hidden?t="visibilitychange":void 0!==document.mozHidden?t="mozvisibilitychange":void 0!==document.msHidden?t="msvisibilitychange":void 0!==document.webkitHidden&&(t="webkitvisibilitychange"),t},getElementsByAttribute:function(t,e){var n=[];if(t)for(var r=t.getElementsByTagName("*"),o=0;o<r.length;o++){var i=r[o];this.attr(i,e)&&n.push(i)}return n},find:function(t,e){var n;if(t&&t.length&&"function"==typeof e)for(var r=0;r<t.length;r++){var o=t[r];if(e(o)){n=o;break}}return n},contains:function(t,e){return!!this.find(t,e)},index:function(t){var e=-1;if(t.parentNode)for(var n=t.parentNode.children,r=0;r<n.length;r++){var o=n[r];if(o==t){e=r;break}}return e},filter:function(t,e){var n=[];if(t&&t.length&&"function"==typeof e)for(var r=0;r<t.length;r++){var o=t[r];e(o,r,t)&&n.push(o)}return n}}},function(t,e,n){n(1),n(45),n(46),n(47);var r=new News360.CookieStorage,o=function(){o.superclass.constructor.call(this)};News360.extend(o,News360.AppStorage,{setJsonValue:function(t,e){this.setPersistentValue(t,JSON.stringify(e))},getJsonValue:function(t){var e,n=this.getValue(t);return n&&"string"==typeof(e=JSON.parse(n))&&(e=JSON.parse(e)),e},setInstallationId:function(t){this.setPersistentValue("nativeAiInstallationId",t)},getInstallationId:function(){var t=this.getValue("nativeAiInstallationId");return t||(t=News360.uuid(),this.setInstallationId(t)),t},getCookie:function(t){return r.getItem(t)},getEvents:function(t){var e=this.getJsonValue(t),n=[];if(e&&e.length)for(var r=0;r<e.length;r++){var o=e[r];"object"==typeof o&&n.push(o)}return n},addContentEvents:function(t){var e=this.getContentEvents();e=e.concat(t),this.setJsonValue("nativeAiContentEvents",e)},getContentEvents:function(){return this.getEvents("nativeAiContentEvents")},clearContentEvents:function(){this.clearValue("nativeAiContentEvents")},setPendingContentEvents:function(t){this.setJsonValue("nativeAiPendingContentEvents",t)},getPendingContentEvents:function(){return this.getEvents("nativeAiPendingContentEvents")},clearPendingContentEvents:function(){this.clearValue("nativeAiPendingContentEvents")},addImpressionEvents:function(t){var e=this.getImpressionEvents();e=e.concat(t),this.setJsonValue("nativeAiImpressionEvents",e)},getImpressionEvents:function(){return this.getEvents("nativeAiImpressionEvents")},clearImpressionEvents:function(){this.clearValue("nativeAiImpressionEvents")},setPendingImpressionEvents:function(t){this.setJsonValue("nativeAiPendingImpressionEvents",t)},getPendingImpressionEvents:function(){return this.getEvents("nativeAiPendingImpressionEvents")},clearPendingImpressionEvents:function(){this.clearValue("nativeAiPendingImpressionEvents")}});var i=new o;t.exports=o,t.exports.instance=i},function(t,e){var n=News360.getTopLevelDomain(location.hostname);t.exports={headerTagRegexp:/^h[1-6]$/i,hostRegexp:/^([a-z]+:)+\/\/([^?\s\/:]+)\S*$/i,locationHrefRegexp:/^[\s]*(window\.)?location\.href[\s]*=[\s]*["']([^'"\s]+)["'][\s]*;?(return false)?;?[\s]*$/,windowOpenRegexp:/^[\s]*window\.open\([\s]*["']([^'"\s]+)["'][\s]*(,[\s]*["']_[a-z]+["'][\s]*)?\)[\s]*;?(return false)?;?[\s]*$/,trackingCodeRegexp:/^.*[?&]tc=([^\s&]+)(&.*)?$/,getUrlHost:function(t){var e;if(t){var n=t.match(this.hostRegexp);n&&(e=n[2])}return e},getJavaScriptHref:function(t){var e;if(t){var n=t.match(this.locationHrefRegexp);n?e=n[2]:(n=t.match(this.windowOpenRegexp))&&(e=n[1])}return e},isHtmlHeaderTag:function(t){var e=!1;return t&&(e=!!t.match(this.headerTagRegexp)),e},getTrackingCode:function(t){var e;if(t){var n=t.match(this.trackingCodeRegexp);n&&(e=n[1])}return e}},t.exports.topLevelDomain=n},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function c(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=Object({NODE_ENV:"production"}).DEBUG),t}e=t.exports=n(78),e.log=s,e.formatArgs=i,e.save=a,e.load=c,e.useColors=o,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(c())}).call(e,n(12))},function(t,e,n){n(1),n(43);var r=n(5),o=n(7).instance,i=n(48),s=function(){s.superclass.constructor.call(this)};News360.extend(s,News360.JSONPCommand,{getUid:function(){var t;return r.uidCookie&&(t=o.getCookie(r.uidCookie)),t=t||o.getInstallationId()},getHeaders:function(){var t=s.superclass.getHeaders.call(this);return t["N360-Installation-Id"]=this.getUid(),t["N360-Advertisement-Id"]="",t["N360-App-Key"]=r.appKey,t["N360-Api-Version"]=r.apiVersion,t["N360-Is-Test-Mode"]=r.isTestMode,t["User-Agent"]=i(),t},getSocketPayload:function(){var t={h:this.getHeaders()},e=this.getQuery();return e&&(t.q=e),t},getSocketRequestName:function(){return null}}),t.exports=s},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){g&&d&&(g=!1,d.length?f=d.concat(f):m=-1,f.length&&a())}function a(){if(!g){var t=o(s);g=!0;for(var e=f.length;e;){for(d=f,f=[];++m<e;)d&&d[m].run();m=-1,e=f.length}d=null,g=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,p,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var d,f=[],g=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new c(t,e)),1!==f.length||g||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){function r(){}function o(t){var n=""+t.type;return e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data&&(n+=JSON.stringify(t.data)),p("encoded %j as %s",t,n),n}function i(t,e){function n(t){var n=f.deconstructPacket(t),r=o(n.packet),i=n.buffers;i.unshift(r),e(i)}f.removeBlobs(t,n)}function s(){this.reconstructor=null}function a(t){var n=0,r={type:Number(t.charAt(0))};if(null==e.types[r.type])return l();if(e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type){for(var o="";"-"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===t.charAt(n+1))for(r.nsp="";++n;){var i=t.charAt(n);if(","===i)break;if(r.nsp+=i,n===t.length)break}else r.nsp="/";var s=t.charAt(n+1);if(""!==s&&Number(s)==s){for(r.id="";++n;){var i=t.charAt(n);if(null==i||Number(i)!=i){--n;break}if(r.id+=t.charAt(n),n===t.length)break}r.id=Number(r.id)}return t.charAt(++n)&&(r=c(r,t.substr(n))),p("decoded %s as %j",t,r),r}function c(t,e){try{t.data=JSON.parse(e)}catch(t){return l()}return t}function u(t){this.reconPack=t,this.buffers=[]}function l(){return{type:e.ERROR,data:"parser error"}}var p=n(4)("socket.io-parser"),h=n(14),d=n(24),f=n(65),g=n(25);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=r,e.Decoder=s,r.prototype.encode=function(t,n){t.type!==e.EVENT&&t.type!==e.ACK||!d(t.data)||(t.type=t.type===e.EVENT?e.BINARY_EVENT:e.BINARY_ACK),p("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type?i(t,n):n([o(t)])},h(s.prototype),s.prototype.add=function(t){var n;if("string"==typeof t)n=a(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new u(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!g(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=f.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){(function(e){var r=n(70);t.exports=function(t){var n=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(t){}if(!n)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(e,n(0))},function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=n(3),i=n(17);t.exports=r,i(r.prototype),r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e,n){var r=n(11),o=function(t){o.superclass.constructor.call(this),this.timing=t};News360.extend(o,r,{getQuery:function(){return this.timing},parse:function(t){return!0},getSocketRequestName:function(){return"timing"}}),t.exports=o},function(t,e,n){n(1),n(6),t.exports.isElementVisible=function(t,e){"use strict";function n(t){var r=t.parentNode;if(!r)return!1;if(9===r.nodeType)return!0;var o=News360.PureJS.getStyle(t);return"none"!==o.getPropertyValue("display")&&"0"!==o.getPropertyValue("opacity")&&"hidden"!==o.getPropertyValue("visibility")&&(t===e||n(r))}return e=e||document.body,n(t)}},function(t,e,n){function r(t){var e;if(t){if("A"===t.tagName)e=t.href;else{var n=News360.PureJS.attr(t,"onclick");n&&(e=a.getJavaScriptHref(n))}e&&(e=s(e))}return e}function o(t){return t&&0===t.indexOf("http")}function i(t){var e=!1;if(o(t)){var n=a.getUrlHost(t);if(n){var r=n.lastIndexOf(a.topLevelDomain);(e=r>=0)&&r>0&&(e="."===n[r-1])}}return e}function s(t){return t.replace(/(%20)*$/,"").trim()}n(1),n(6);var a=n(8);t.exports={detectImpressionLink:function(t){var e,n=r(t);return i(n)&&(e=n),e},detectActiveElementLink:function(t){var e=r(t);if(!e&&"IFRAME"===t.tagName){e=t.src;try{for(var n=t.contentDocument.querySelectorAll("a,[onclick]"),i=0;i<n.length&&!(e=r(n[i]));i++);}catch(t){}}return o(e)?e:null}}},function(t,e,n){var r=n(60),o=n(5),i=n(7).instance,s=function(t){this.host=t,this.sockets={},this.postponedRequests=[],this.pendingRequests=[],this.socketTTL=3e5};s.prototype.load=function(t,e){var n=this,r={command:t,callback:e},o=this.getEnsuredSocket(t);o.connected?(this.cancelSocketDisconnect(o),this.addPendingRequest(r),o.emit(t.getSocketRequestName(),t.getSocketPayload(),function(o){n.rescheduleSocketDisconnect(this),n.removePendingRequest(r);var i=n.processResponse(t,o);e&&e(i)})):(this.addPostponedRequest(r),o.open())},s.prototype.addPostponedRequest=function(t){this.postponedRequests.push(t)},s.prototype.addPendingRequest=function(t){this.pendingRequests.push(t)},s.prototype.removePendingRequest=function(t){var e=this.pendingRequests.indexOf(t);e>=0&&this.pendingRequests.splice(e,1)},s.prototype.getEnsuredSocket=function(t){var e=this,n=t.getTimeout(),o=this.sockets[n];return o||(o=r(this.host,{transports:["websocket","polling"],autoConnect:!1,reconnection:!1,timeout:n>=0?n:void 0,query:"installationId="+encodeURIComponent(i.getInstallationId())}),o.on("connect",function(){e.onSocketConnect(this)}),o.on("error",function(t){e.onSocketError(this,t)}),o.on("connect_error",function(t){e.onSocketConnectError(this,t)}),o.on("disconnect",function(){e.onSocketDisconnect(this)}),this.sockets[n]=o),o},s.prototype.cancelSocketDisconnect=function(t){t.disconnectId&&(clearTimeout(t.disconnectId),t.disconnectId=0)},s.prototype.rescheduleSocketDisconnect=function(t){this.socketTTL>=0&&(this.cancelSocketDisconnect(t),t.disconnectId=setTimeout(function(){t.close()},this.socketTTL))},s.prototype.extractRequests=function(t,e){for(var n=[],r=t.length-1;r>=0;r--){var o=t[r];this.getEnsuredSocket(o.command)===e&&(n.unshift(o),t.splice(r,1))}return n},s.prototype.dispatchPostponedRequests=function(t){for(var e=this.extractRequests(this.postponedRequests,t);e.length;){var n=e.shift();this.load(n.command,n.callback)}},s.prototype.rejectRequests=function(t,e,n){for(var r=this.extractRequests(t,e);r.length;){var o=r.shift();o.callback&&o.callback(n)}},s.prototype.rejectPostponedRequests=function(t,e){this.rejectRequests(this.postponedRequests,t,e)},s.prototype.rejectPendingRequests=function(t,e){this.rejectRequests(this.pendingRequests,t,e)},s.prototype.onSocketConnect=function(t){this.dispatchPostponedRequests(t)},s.prototype.onSocketError=function(t,e){this.rejectPendingRequests(t,e)},s.prototype.onSocketConnectError=function(t,e){this.rejectPostponedRequests(t,e)},s.prototype.onSocketDisconnect=function(t){this.rejectPendingRequests(t,new Error("Socket disconnected"))},s.prototype.processResponse=function(t,e){var n=null;if(e instanceof Error)n=e;else if(e&&void 0!==e.errorCode){var r=this.getErrorMessage(e);n=new Error(r),n.code=e.errorCode,e.errorCode>0&&console.error(r)}else{var o=t.parse(e);o||(n=new Error("Parse error: "+JSON.stringify(e)))}return n},s.prototype.getErrorMessage=function(t){var e=t.errorMessage||"Unknown error";return t.errorDetails&&t.errorDetails.length>0&&(e+=": "+t.errorDetails),e};var a=new s(o.socketHost);t.exports=s,t.exports.instance=a},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");-1!=o&&-1!=i&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=n.exec(t||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return-1!=o&&-1!=i&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e,n){(function(e){function r(t){if(!t||"object"!=typeof t)return!1;if(o(t)){for(var n=0,i=t.length;n<i;n++)if(r(t[n]))return!0;return!1}if("function"==typeof e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||"function"==typeof e.ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return r(t.toJSON(),!0);for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)&&r(t[c]))return!0;return!1}var o=n(64),i=Object.prototype.toString,s="function"==typeof e.Blob||"[object BlobConstructor]"===i.call(e.Blob),a="function"==typeof e.File||"[object FileConstructor]"===i.call(e.File);t.exports=r}).call(e,n(0))},function(t,e,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(e,n(0))},function(t,e,n){function r(t,e){if(!(this instanceof r))return new r(t,e);t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}var o=n(67),i=n(31),s=n(14),a=n(13),c=n(32),u=n(33),l=n(4)("socket.io-client:manager"),p=n(30),h=n(85),d=Object.prototype.hasOwnProperty;t.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},r.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},s(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=o(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=c(n,"open",function(){r.onopen(),t&&t()}),s=c(n,"error",function(e){if(l("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;l("connect attempt will timeout after %d",a);var u=setTimeout(function(){l("connect attempt timed out after %d",a),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(i),this.subs.push(s),this},r.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(c(t,"data",u(this,"ondata"))),this.subs.push(c(t,"ping",u(this,"onping"))),this.subs.push(c(t,"pong",u(this,"onpong"))),this.subs.push(c(t,"error",u(this,"onerror"))),this.subs.push(c(t,"close",u(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",u(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},r.prototype.socket=function(t,e){function n(){~p(o.connecting,r)||o.connecting.push(r)}var r=this.nsps[t];if(!r){r=new i(this,t,e),this.nsps[t]=r;var o=this;r.on("connecting",n),r.on("connect",function(){r.id=o.generateId(t)}),this.autoConnect&&n()}return r},r.prototype.destroy=function(t){var e=p(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},r.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){(function(t){function r(e){var n=!1,r=!1,a=!1!==e.jsonp;if(t.location){var c="https:"===location.protocol,u=location.port;u||(u=c?443:80),n=e.hostname!==location.hostname||u!==e.port,r=e.secure!==c}if(e.xdomain=n,e.xscheme=r,"open"in new o(e)&&!e.forceJSONP)return new i(e);if(!a)throw new Error("JSONP disabled");return new s(e)}var o=n(15),i=n(71),s=n(80),a=n(81);e.polling=r,e.websocket=a}).call(e,n(0))},function(t,e,n){function r(t){var e=t&&t.forceBase64;l&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=n(16),i=n(18),s=n(3),a=n(9),c=n(29),u=n(10)("engine.io-client:polling");t.exports=r;var l=function(){return null!=new(n(15))({xdomain:!1}).responseType}();a(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){u("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||e()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||e()}))}else e()},r.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(t){var e=this;u("polling got data %s",t);var n=function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function t(){u("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){"use strict";function r(t){var e="";do{e=a[t%c]+e,t=Math.floor(t/c)}while(t>0);return e}function o(t){var e=0;for(p=0;p<t.length;p++)e=e*c+u[t.charAt(p)];return e}function i(){var t=r(+new Date);return t!==s?(l=0,s=t):t+"."+r(l++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,u={},l=0,p=0;p<c;p++)u[a[p]]=p;i.encode=r,i.decode=o,t.exports=i},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){function r(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o=n(13),i=n(14),s=n(84),a=n(32),c=n(33),u=n(4)("socket.io-client:socket");t.exports=r;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=i.prototype.emit;i(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",c(this,"onopen")),a(t,"packet",c(this,"onpacket")),a(t,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(l.hasOwnProperty(t))return p.apply(this,arguments),this;var e=s(arguments),n={type:o.EVENT,data:e};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){u("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:o.CONNECT,query:this.query}):this.packet({type:o.CONNECT}))},r.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},r.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(t);break;case o.ACK:case o.BINARY_ACK:this.onack(t);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=s(arguments);u("sending ack %j",r),e.packet({type:o.ACK,id:t,data:r})}}},r.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e){function n(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}t.exports=n},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e){ns360("News360").JSONPRegistry={},ns360("News360").JSONPLoader=function(t){this.host=t},News360.JSONPLoader.prototype.load=function(t,e,n){var r=this.generateScriptCallbackName(),o=this.getScriptSrc(t,r),i=this.createScript(!n);this.addJSONPCallback(i,r,t,e),this.bindScriptCallbacks(i,r),News360.PureJS.documentHead().appendChild(i),i.src=o},News360.JSONPLoader.prototype.generateScriptCallbackName=function(){return"func"+(""+Math.random()).slice(2)},News360.JSONPLoader.prototype.getScriptSrc=function(t,e){var n=this.getScriptSrcPath(t,e);return this.host+n},News360.JSONPLoader.prototype.getScriptSrcPath=function(t,e){e=e||this.generateScriptCallbackName();var n=t.getJSONPUrl();return n+=n.indexOf("?")>=0?"&":"?",n+="c=News360.JSONPRegistry."+e},News360.JSONPLoader.prototype.getRemainingQueryLength=function(t){var e=this.getScriptSrc(t);return News360.getMaxUrlLength()-e.length},News360.JSONPLoader.prototype.createScript=function(t){var e=document.createElement("script");return e.async=t,e},News360.JSONPLoader.prototype.addJSONPCallback=function(t,e,n,r){var o=this,i=function(n){t.parentNode.removeChild(t),delete News360.JSONPRegistry[e],i.action&&i.action(n)};i.action=function(t){var e=o.processResponse(n,t);r&&r(e),i.action=null},this.setJSONPTimeout(n,i),News360.JSONPRegistry[e]=i},News360.JSONPLoader.prototype.setJSONPTimeout=function(t,e){var n=t.getTimeout();n>=0&&setTimeout(function(){var n="Request is timed out: "+decodeURIComponent(t.getJSONPUrl());e.action&&e.action(new News360.JSONPTimeoutError(n))},n)},News360.JSONPLoader.prototype.processResponse=function(t,e){var n=null;if(e instanceof Error)n=e;else if(e&&void 0!==e.errorCode){var r=this.getErrorMessage(e);n=new Error(r),n.code=e.errorCode,e.errorCode>0&&console.error(r)}else{var o=t.parse(e);o||(n=new Error("Parse error: "+JSON.stringify(e)))}return n},News360.JSONPLoader.prototype.getErrorMessage=function(t){var e=t.errorMessage||"Unknown error";return t.errorDetails&&t.errorDetails.length>0&&(e+=": "+t.errorDetails),e},News360.JSONPLoader.prototype.bindScriptCallbacks=function(t,e){var n=function(){t.onreadystatechange=null,t.onload=null,t.onerror=null;var n=News360.JSONPRegistry[e];n&&n(new Error("Script load error: "+t.src))};t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||setTimeout(n,0)},t.onload=n,t.onerror=n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t){return t&&t.template&&t.url&&!!t.containerSelector}t.exports={isStoryConfigValid:n}},function(t,e){t.exports.stub=function(){},t.exports.testHeadline={type:"text",id:1,url:location.origin,trackingCode:"",title:"NativeAI Sponsored Content insertion Test",image:{url:"https://cdn.native.ai/digest/v1/nai_logo.svg?img",type:"undefined"},text:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus...",source:{id:1,name:"NativeAI Promo"},campaign:{title:"NativeAI Promo"},publishDate:new Date(Date.now()-36e5).toISOString(),contentType:"html"}},function(t,e,n){n(39);var r=n(42),o=n(19),i=n(50),s=n(5),a=n(22).instance,c=n(7).instance;s.isJSONPEncryptionEnabled=!s.debug,ns360("NativeAI").debugLog=function(t){s.debug&&console.log(t)};var u=window.NativeAIObject,l=window[u]||{},p=l.l||1*new Date;if("string"==typeof l.i){var h=l.i.lastIndexOf("/");n.p=l.i.substring(0,h+1)}else n.p="https://cdn.native.ai/js/current/";var d={pageLoadStart:window.performance&&window.performance.timing?window.performance.timing.fetchStart:void 0,scriptLoadStart:l.l};setTimeout(function(){if(window.NativeAI&&window.NativeAI.destroy)return void console.warn("Multiple NativeAI SDK scripts loaded");d.scriptInitStart=Date.now();var t=function(t){function e(){return new Promise(function(t){var e=new r;a.load(e,function(n){t(e.preferences||{})},!0)})}function l(t){var e=new o(t);a.load(e)}var p,h=!1,f=!1;NativeAI.destroy=function(){f=!0,p&&p.destroy(),delete window.NativeAI,delete window[u]};var g={create:function(n,r){h?console.warn("Multiple 'create' calls: NativeAI SDK is already initialized"):"string"==typeof n?(h=!0,s.appKey=n,s.isTestMode=!!r,d.settingsLoadStart=Date.now(),e().then(function(e){d.settingsLoadEnd=Date.now(),f||(e.installationId&&c.setInstallationId(e.installationId),s.uidCookie=e.uidCookie,l(d),p=new i(t,e))})):console.warn("NativeAI AppKey is missing or incorrect")},execute:function(t){"function"==typeof t&&t(p)},encrypt:function(t){s.isJSONPEncryptionEnabled=!!t},testContent:function(){p?p.testContent():console.warn("Sponsored Content configuration is still initializing. Please try again in a few seconds")},timing:function(){console.log(d)}};return n(37).stub(g),function(){var t=arguments;if(t.length>0){var e=t[0];setTimeout(function(){!f&&g[e]?g[e].apply(g,Array.prototype.slice.call(t,1)):console.warn("NativeAI SDK: unknown method '"+e+"'")},0)}}}(p);!function(){for(var e=l.q||[],n=0;n<e.length;n++)t.apply(this,e[n]);window[u]=t}()},0),d.scriptLoadEnd=Date.now()},function(t,e,n){"use strict";t.exports=n(40).polyfill()},function(t,e,n){(function(e,n){!function(e,r){t.exports=function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function o(t){return"function"==typeof t}function i(t){F=t}function s(t){W=t}function a(){return void 0!==z?function(){z(u)}:c()}function c(){var t=setTimeout;return function(){return t(u,1)}}function u(){for(var t=0;t<V;t+=2)(0,Q[t])(Q[t+1]),Q[t]=void 0,Q[t+1]=void 0;V=0}function l(t,e){var n=arguments,r=this,o=new this.constructor(h);void 0===o[tt]&&O(o);var i=r._state;return i?function(){var t=n[i-1];W(function(){return P(i,o,t,r._result)})}():E(r,o,t,e),o}function p(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(h);return b(n,t),n}function h(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function g(t){try{return t.then}catch(t){return ot.error=t,ot}}function m(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function v(t,e,n){W(function(t){var r=!1,o=m(n,e,function(n){r||(r=!0,e!==n?b(t,n):k(t,n))},function(e){r||(r=!0,N(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,N(t,o))},t)}function y(t,e){e._state===nt?k(t,e._result):e._state===rt?N(t,e._result):E(e,void 0,function(e){return b(t,e)},function(e){return N(t,e)})}function w(t,e,n){e.constructor===t.constructor&&n===l&&e.constructor.resolve===p?y(t,e):n===ot?(N(t,ot.error),ot.error=null):void 0===n?k(t,e):o(n)?v(t,e,n):k(t,e)}function b(e,n){e===n?N(e,d()):t(n)?w(e,n,g(n)):k(e,n)}function S(t){t._onerror&&t._onerror(t._result),x(t)}function k(t,e){t._state===et&&(t._result=e,t._state=nt,0!==t._subscribers.length&&W(x,t))}function N(t,e){t._state===et&&(t._state=rt,t._result=e,W(S,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+nt]=n,o[i+rt]=r,0===i&&t._state&&W(x,t)}function x(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function C(){this.error=null}function A(t,e){try{return t(e)}catch(t){return it.error=t,it}}function P(t,e,n,r){var i=o(n),s=void 0,a=void 0,c=void 0,u=void 0;if(i){if(s=A(n,r),s===it?(u=!0,a=s.error,s.error=null):c=!0,e===s)return void N(e,f())}else s=r,c=!0;e._state!==et||(i&&c?b(e,s):u?N(e,a):t===nt?k(e,s):t===rt&&N(e,s))}function T(t,e){try{e(function(e){b(t,e)},function(e){N(t,e)})}catch(e){N(t,e)}}function I(){return st++}function O(t){t[tt]=st++,t._state=void 0,t._result=void 0,t._subscribers=[]}function R(t,e){this._instanceConstructor=t,this.promise=new t(h),this.promise[tt]||O(this.promise),U(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&k(this.promise,this._result))):N(this.promise,B())}function B(){return new Error("Array Methods must be provided an Array")}function L(t){return new R(this,t).promise}function _(t){var e=this;return new e(U(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function D(t){var e=this,n=new e(h);return N(n,t),n}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function J(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function q(t){this[tt]=I(),this._result=this._state=void 0,this._subscribers=[],h!==t&&("function"!=typeof t&&M(),this instanceof q?T(this,t):J())}function H(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=q}var j=void 0;j=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var U=j,V=0,z=void 0,F=void 0,W=function(t,e){Q[V]=t,Q[V+1]=e,2===(V+=2)&&(F?F(u):Z())},K="undefined"!=typeof window?window:void 0,X=K||{},$=X.MutationObserver||X.WebKitMutationObserver,G="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),Y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),Z=void 0;Z=G?function(){return function(){return e.nextTick(u)}}():$?function(){var t=0,e=new $(u),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():Y?function(){var t=new MessageChannel;return t.port1.onmessage=u,function(){return t.port2.postMessage(0)}}():void 0===K?function(){try{var t=r(41);return z=t.runOnLoop||t.runOnContext,a()}catch(t){return c()}}():c();var tt=Math.random().toString(36).substring(16),et=void 0,nt=1,rt=2,ot=new C,it=new C,st=0;return R.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===et&&n<t;n++)this._eachEntry(e[n],n)},R.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===p){var o=g(t);if(o===l&&t._state!==et)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===q){var i=new n(h);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},R.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===et&&(this._remaining--,t===rt?N(r,n):this._result[e]=n),0===this._remaining&&k(r,this._result)},R.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(nt,e,t)},function(t){return n._settledAt(rt,e,t)})},q.all=L,q.race=_,q.resolve=p,q.reject=D,q._setScheduler=i,q._setAsap=s,q._asap=W,q.prototype={constructor:q,then:l,catch:function(t){return this.then(null,t)}},q.polyfill=H,q.Promise=q,q}()}()}).call(e,n(12),n(0))},function(t,e){},function(t,e,n){var r=n(11),o=function(){o.superclass.constructor.call(this)};News360.extend(o,r,{getUrlPath:function(){return"/promo/preferences/"},parse:function(t){return this.preferences=t,!0},getSocketRequestName:function(){return"settings"}}),t.exports=o},function(t,e){ns360("News360").JSONPCommand=function(){},News360.JSONPCommand.prototype.getJSONPUrl=function(){var t=this.getUrlPath();t+="?m="+this.getMethod(),t+="&h="+encodeURIComponent(JSON.stringify(this.getHeaders()));var e=this.getQuery();return e&&(t+="&q="+encodeURIComponent(JSON.stringify(e))),t},News360.JSONPCommand.prototype.getUrlPath=function(){return null},News360.JSONPCommand.prototype.getMethod=function(){return"GET"},News360.JSONPCommand.prototype.getHeaders=function(){return{}},News360.JSONPCommand.prototype.getQuery=function(){return null},News360.JSONPCommand.prototype.parse=function(t){return!1},News360.JSONPCommand.prototype.getTimeout=function(){return-1}},function(t,e){t.exports={sdkVersion:"1.6.2"}},function(t,e){ns360("News360").CookieStorage=function(t){this.sessionOnly=t},News360.CookieStorage.prototype.setCookie=function(t,e,n,r){var o=t+"="+e;null!=n&&(o+="; expires="+new Date(n).toUTCString()),o+="; path=/",r&&(o+="; domain="+r),document.cookie=o},News360.CookieStorage.prototype.setItem=function(t,e,n){var r=this.sessionOnly?null:Date.now()+31536e7;this.setCookie(t,e,r,n)},News360.CookieStorage.prototype.getItem=function(t){for(var e=t+"=",n=document.cookie.split(";"),r=null,o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e)){r=i.substring(e.length,i.length);break}}return r},News360.CookieStorage.prototype.removeItem=function(t,e){this.setCookie(t,"",0,e)}},function(t,e){ns360("News360").AppStorage=function(){this.cache={};try{this.sessionStorage=sessionStorage}catch(t){}try{this.localStorage=localStorage}catch(t){}this.sessionStorage||(this.sessionStorage=new News360.CookieStorage(!0)),this.localStorage||(this.localStorage=new News360.CookieStorage(!1))},News360.AppStorage.prototype.cacheValue=function(t,e){this.cache[t]=e},News360.AppStorage.prototype.getCachedValue=function(t){return this.cache[t]},News360.AppStorage.prototype.clearCachedValue=function(t){delete this.cache[t]},News360.AppStorage.prototype.setValue=function(t,e,n){n?this.setSessionValue(t,e):this.setPersistentValue(t,e)},News360.AppStorage.prototype.setSessionValue=function(t,e){this.cacheValue(t,e);try{this.sessionStorage.setItem(t,e)}catch(t){}},News360.AppStorage.prototype.setPersistentValue=function(t,e){this.cacheValue(t,e);try{this.localStorage.setItem(t,e)}catch(t){}},News360.AppStorage.prototype.getValue=function(t){var e=this.getCachedValue(t);return void 0===e&&void 0!==(e=this.getSessionValue(t)||this.getPersistentValue(t))&&this.cacheValue(t,e),e},News360.AppStorage.prototype.getSessionValue=function(t){return this.sessionStorage.getItem(t)},News360.AppStorage.prototype.getPersistentValue=function(t){return this.localStorage.getItem(t)},News360.AppStorage.prototype.clearValue=function(t){this.clearCachedValue(t),this.sessionStorage.removeItem(t),this.localStorage.removeItem(t)}},function(t,e){ns360("News360").uuid=function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&o]+t[o>>8&255]+t[o>>16&255]+t[o>>24&255]}}()},function(t,e,n){var r=n(5),o=n(49),i=(new o).getResult(),s=i.device&&i.device.type?i.device.type:"desktop",a=i.browser.name+(i.browser.major?" "+i.browser.major:""),c=i.os.name+(i.os.version?" "+i.os.version:""),u=screen.width+"x"+screen.height,l="NativeAI/"+r.sdkVersion;l+=" ("+s+"; "+a+"; "+c+"; "+u+")",t.exports=function(){return l}},function(t,e){!function(e,n){"use strict";function r(){var t={init:function(){this.browser=this.searchString(this.dataBrowser),this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion),this.OS=this.searchString(this.dataOS)},searchString:function(t){for(var e=0;e<t.length;e++){var n=t[e].string,r=t[e].prop;if(this.versionSearchString=t[e].versionSearch||t[e].identity,n){if(-1!=n.indexOf(t[e].subString))return t[e].identity}else if(r)return t[e].identity}},searchVersion:function(t){var e=t.indexOf(this.versionSearchString);if(-1!=e)return parseFloat(t.substring(e+this.versionSearchString.length+1))+""},dataBrowser:[{string:navigator.userAgent,subString:"OPR/",versionSearch:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Edge/",versionSearch:"Edge",identity:"Edge"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{prop:e.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:".NET",identity:"IE",versionSearch:"rv"},{string:navigator.userAgent,subString:"MSIE",identity:"IE",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac OS"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"iPad",identity:"iOS"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};return t.init(),t}var o="model",i="name",s="type",a="vendor",c="version",u="mobile",l="tablet",p={extend:function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},h={rgx:function(t,e){for(var n,r,o,i,s,a,c=0;c<e.length&&!s;){var u=e[c],l=e[c+1];for(n=r=0;n<u.length&&!s;)if(s=u[n++].exec(t))for(o=0;o<l.length;o++)a=s[++r],i=l[o],"object"==typeof i&&i.length>0?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,a):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=a?a.replace(i[1],i[2]):void 0:this[i[0]]=a?i[1].call(this,a,i[2]):void 0:4==i.length&&(this[i[0]]=a?i[3].call(this,a.replace(i[1],i[2])):void 0):this[i]=a||void 0;c+=2}},str:function(t,e){for(var n in e)if("object"==typeof e[n]&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(p.has(e[n][r],t))return"?"===n?void 0:n}else if(p.has(e[n],t))return"?"===n?void 0:n;return t}},d={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},f={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[i,c],[/(opios)[\/\s]+([\w\.]+)/i],[[i,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[i,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[i,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[i,"IE"],c],[/(edge)\/((\d+)?[\w\.]+)/i],[i,c],[/(yabrowser)\/([\w\.]+)/i],[[i,"Yandex"],c],[/(puffin)\/([\w\.]+)/i],[[i,"Puffin"],c],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[i,"UCBrowser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[i,/_/g," "],c],[/(micromessenger)\/([\w\.]+)/i],[[i,"WeChat"],c],[/(QQ)\/([\d\.]+)/i],[i,c],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[i,c],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[i,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[c,[i,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[c,[i,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[i,/(.+)/,"$1 WebView"],c],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[i,/(.+(?:g|us))(.+)/,"$1 $2"],c],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[c,[i,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[i,c],[/(dolfin)\/([\w\.]+)/i],[[i,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[i,"Chrome"],c],[/(coast)\/([\w\.]+)/i],[[i,"Opera Coast"],c],[/fxios\/([\w\.-]+)/i],[c,[i,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[i,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,i],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[i,"GSA"],c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[i,[c,h.str,d.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[i,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[i,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[i,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[o,a,[s,l]],[/applecoremedia\/[\w\.]+ \((ipad)/],[o,[a,"Apple"],[s,l]],[/(apple\s{0,1}tv)/i],[[o,"Apple TV"],[a,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[a,o,[s,l]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[o,[a,"Amazon"],[s,l]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[o,h.str,d.device.amazon.model],[a,"Amazon"],[s,u]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[o,a,[s,u]],[/\((ip[honed|\s\w*]+);/i],[o,[a,"Apple"],[s,u]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[a,o,[s,u]],[/\(bb10;\s(\w+)/i],[o,[a,"BlackBerry"],[s,u]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[o,[a,"Asus"],[s,l]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[a,"Sony"],[o,"Xperia Tablet"],[s,l]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[o,[a,"Sony"],[s,u]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[a,o,[s,"console"]],[/android.+;\s(shield)\sbuild/i],[o,[a,"Nvidia"],[s,"console"]],[/(playstation\s[34portablevi]+)/i],[o,[a,"Sony"],[s,"console"]],[/(sprint\s(\w+))/i],[[a,h.str,d.device.sprint.vendor],[o,h.str,d.device.sprint.model],[s,u]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[a,o,[s,l]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[a,[o,/_/g," "],[s,u]],[/(nexus\s9)/i],[o,[a,"HTC"],[s,l]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[o,[a,"Huawei"],[s,u]],[/(microsoft);\s(lumia[\s\w]+)/i],[a,o,[s,u]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[o,[a,"Microsoft"],[s,"console"]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[a,"Microsoft"],[s,u]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[o,[a,"Motorola"],[s,u]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[o,[a,"Motorola"],[s,l]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[a,p.trim],[o,p.trim],[s,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[a,"Samsung"],[s,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[o,[a,"Sharp"],[s,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[a,"Samsung"],o,[s,l]],[/smart-tv.+(samsung)/i],[a,[s,"smarttv"],o],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[a,"Samsung"],o,[s,u]],[/sie-(\w+)*/i],[o,[a,"Siemens"],[s,u]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[a,"Nokia"],o,[s,u]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[o,[a,"Acer"],[s,l]],[/android.+([vl]k\-?\d{3})\s+build/i],[o,[a,"LG"],[s,l]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[a,"LG"],o,[s,l]],[/(lg) netcast\.tv/i],[a,o,[s,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[o,[a,"LG"],[s,u]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[o,[a,"Lenovo"],[s,l]],[/linux;.+((jolla));/i],[a,o,[s,u]],[/((pebble))app\/[\d\.]+\s/i],[a,o,[s,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[a,o,[s,u]],[/crkey/i],[[o,"Chromecast"],[a,"Google"]],[/android.+;\s(glass)\s\d/i],[o,[a,"Google"],[s,"wearable"]],[/android.+;\s(pixel c)\s/i],[o,[a,"Google"],[s,l]],[/android.+;\s(pixel xl|pixel)\s/i],[o,[a,"Google"],[s,u]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[o,/_/g," "],[a,"Xiaomi"],[s,u]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[o,/_/g," "],[a,"Xiaomi"],[s,l]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[o,[a,"Meizu"],[s,l]],[/android.+a000(1)\s+build/i],[o,[a,"OnePlus"],[s,u]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[o,[a,"RCA"],[s,l]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[o,[a,"Dell"],[s,l]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[o,[a,"Verizon"],[s,l]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[a,"Barnes & Noble"],o,[s,l]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[o,[a,"NuVision"],[s,l]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[a,"ZTE"],o,[s,l]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[o,[a,"Swiss"],[s,u]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[o,[a,"Swiss"],[s,l]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[o,[a,"Zeki"],[s,l]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[a,"Dragon Touch"],o,[s,l]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[o,[a,"Insignia"],[s,l]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[o,[a,"NextBook"],[s,l]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[a,"Voice"],o,[s,u]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[a,"LvTel"],o,[s,u]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[o,[a,"Envizen"],[s,l]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[a,o,[s,l]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[o,[a,"MachSpeed"],[s,l]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[a,o,[s,l]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[o,[a,"Rotor"],[s,l]],[/android.+(KS(.+))\s+build/i],[o,[a,"Amazon"],[s,l]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[a,o,[s,l]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[s,p.lowerize],a,o],[/(android.+)[;\/].+build/i],[o,[a,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[i,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[i,c],[/rv\:([\w\.]+).*(gecko)/i],[c,i]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[i,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[i,[c,h.str,d.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[i,"Windows"],[c,h.str,d.os.windows.version]],[/\((bb)(10);/i],[[i,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[i,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[i,"Symbian"],c],[/\((series40);/i],[i],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[i,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[i,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[i,"Chromium OS"],c],[/(sunos)\s?([\w\.]+\d)*/i],[[i,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[i,c],[/(haiku)\s(\w+)/i],[i,c],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[c,/_/g,"."],[i,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[i,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[i,c]]},g=function(t,n){if("object"==typeof t&&(n=t,t=void 0),!(this instanceof g))return new g(t,n).getResult();var o=r(),i=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),s=n?p.extend(f,n):f;return this.getBrowser=function(){var t={name:void 0,version:void 0};return o.browser?t={name:o.browser,version:o.version}:h.rgx.call(t,i,s.browser),t.major=p.major(t.version),t},this.getCPU=function(){var t={architecture:void 0};return h.rgx.call(t,i,s.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return h.rgx.call(t,i,s.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return h.rgx.call(t,i,s.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};if(h.rgx.call(t,i,s.os),o.OS){var e=o.OS===t.name?t.version:void 0;t={name:o.OS,version:e}}return t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(t){return i=t,this},this};g.VERSION="0.7.17",g.BROWSER={NAME:i,MAJOR:"major",VERSION:c},g.CPU={ARCHITECTURE:"architecture"},g.DEVICE={MODEL:o,VENDOR:a,TYPE:s,CONSOLE:"console",MOBILE:u,SMARTTV:"smarttv",TABLET:l,WEARABLE:"wearable",EMBEDDED:"embedded"},g.ENGINE={NAME:i,VERSION:c},g.OS={NAME:i,VERSION:c},t.exports=g}("object"==typeof window?window:this)},function(t,e,n){var r=n(51),o=n(86),i=n(87),s=n(8),a=n(2),c=n(36),u=function(t,e){function u(){k(),News360.sleep(100)}function l(){k(),News360.sleep(500)}function p(){S()}function h(){b()}function d(){E()}function f(){N()}function g(){News360.PureJS.removeEventListener(a.getScrollContainer(),"scroll",f),a.detectScrollContainer(),News360.PureJS.addEventListener(a.getScrollContainer(),"scroll",f)}function m(){News360.PureJS.addEventListener(window,"focus",h),News360.PureJS.addEventListener(window,"blur",p)}function v(){var t=News360.PureJS.getDocumentVisibilityProperty();if(t){var e=News360.PureJS.getDocumentVisibilityChangeEvent();D=function(){document[t]?S():b()},document.addEventListener(e,D,!1)}}function y(){void 0!==window.onbeforeunload&&News360.PureJS.addEventListener(window,"beforeunload",u),News360.PureJS.addEventListener(window,"unload",u),void 0!==window.onpagehide&&News360.PureJS.addEventListener(window,"pagehide",u)}function w(){News360.PureJS.removeEventListener(document.body,"unload",l),News360.PureJS.addEventListener(document.body,"unload",l),void 0!==document.body.onpagehide&&(News360.PureJS.removeEventListener(document.body,"pagehide",l),News360.PureJS.addEventListener(document.body,"pagehide",l))}function b(){I||(I=!0,x())}function S(){!1!==I&&(I=!1,C(!1))}function k(){!1!==I&&(I=!1,C(!0))}function N(){L&&L.onScroll()}function E(){NativeAI.debugLog("onDocumentReady: "+document.readyState),setTimeout(function(){if(L){var t=o.getArticle();NativeAI.debugLog(t);var e=i.getMultimedia(t);NativeAI.debugLog(e),e&&(t=t?t.concat(e):e),L.setArticleContent(t)}},300),g(),w(),x(t)}function x(t){L&&L.onStart(t)}function C(t){L&&L.onStop(t)}function A(t){B?t(B):n.e(0).then(function(e){n(88),B=new NativeAI.ExplicitContentHandler,B.onShowHeadlineSuccess=T,t(B)}.bind(null,n)).catch(n.oe)}function P(t){(e.live||t)&&e.content&&A(function(n){n.initPromoContent(e,t)})}function T(t,e){L&&L.addPromoContent(t,e)}var I,O,R=function(){var t=!1;return c.isStoryConfigValid(e.story)&&(t=location.pathname===e.story.url),t}();R&&(O=s.getTrackingCode(location.search)||"");var B,L,_=!News360.doNotTrack()&&!e.doNotTrack;_&&""!==O&&(L=new r(O),function(){y(),m(),v()}(),function(){"loading"!==document.readyState&&d(),"complete"!==document.readyState&&News360.PureJS.addEventListener(document,"readystatechange",d)}()),R?function(t,e){"string"==typeof t?A(function(n){n.loadPromoData(t,e)}):console.warn("NativeAI Promo init error: invalid page query parameters")}(O,e.story):_&&P();var D;this.destroy=function(){if(void 0!==window.onbeforeunload&&News360.PureJS.removeEventListener(window,"beforeunload",u),News360.PureJS.removeEventListener(window,"unload",u),News360.PureJS.removeEventListener(document.body,"unload",l),void 0!==window.onpagehide&&(News360.PureJS.removeEventListener(window,"pagehide",u),News360.PureJS.removeEventListener(document.body,"pagehide",l)),News360.PureJS.removeEventListener(window,"load",d),News360.PureJS.removeEventListener(a.getScrollContainer(),"scroll",f),News360.PureJS.removeEventListener(window,"focus",h),News360.PureJS.removeEventListener(window,"blur",p),D){var t=News360.PureJS.getDocumentVisibilityChangeEvent();document.removeEventListener(t,D)}L&&L.impressionTrackingHandler&&L.impressionTrackingHandler.cancelCurrentTrackingHandler();for(var e=document.getElementsByTagName("*"),n=0;n<e.length;n++)delete e[n].nativeai},this.testContent=function(){P(!0)},this.getTrackingHandler=function(){return L}};t.exports=u},function(t,e,n){n(1),n(6),n(34);var r=n(52),o=n(19),i=n(53),s=n(59),a=n(22).instance,c=n(7).instance,u=function(t){this.initReadTrackingHandler(t),"string"!=typeof t&&this.initImpressionTrackingHandler(),this.handleInitialPendingEvents(),this.trySendEvents(!1)};u.prototype.initReadTrackingHandler=function(t){this.readTrackingHandler=new s(t)},u.prototype.setArticleContent=function(t){this.readTrackingHandler.setArticleContent(t)},u.prototype.initImpressionTrackingHandler=function(){var t=this;this.impressionTrackingHandler=new i(function(e){t.impressionEventsCallback(e)})},u.prototype.handleInitialPendingEvents=function(){c.clearPendingContentEvents(),c.clearPendingImpressionEvents()},u.prototype.onStart=function(t){this.readTrackingHandler.reset(t),this.restartImpressionsTracking()},u.prototype.onStop=function(t){var e=this.readTrackingHandler.generateEvent();e.durationSeconds>=1&&c.addContentEvents(e),this.trySendEvents(t)},u.prototype.isPendingEventsPresent=function(){var t=c.getPendingContentEvents().length>0;return t=t||c.getPendingImpressionEvents().length>0},u.prototype.trySendEvents=function(t){this.isPendingEventsPresent()||this.sendEventsIfNeeded(t)},u.prototype.sendEventsIfNeeded=function(t){var e=c.getContentEvents(),n=c.getImpressionEvents();(e.length>0||n.length>0)&&this.sendEvents(e,n,t)},u.prototype.sendEvents=function(t,e,n){var o=this,i=new r(t,e);this.updateEventsStorageBeforeSend(t,e);var s={eventsLoadStart:Date.now()};a.load(i,function(t){s.eventsLoadEnd=Date.now(),o.sendEventsTiming(s),o.onSendEventsCompleted(i,t)},n)},u.prototype.updateEventsStorageBeforeSend=function(t,e){c.clearContentEvents(),c.clearImpressionEvents(),c.setPendingContentEvents(t),c.setPendingImpressionEvents(e)},u.prototype.onSendEventsCompleted=function(t,e){c.clearPendingContentEvents(),c.clearPendingImpressionEvents(),e?(c.addContentEvents(t.getContentEvents()),c.addImpressionEvents(t.getImpressionEvents())):this.sendEventsIfNeeded(!1)},u.prototype.sendEventsTiming=function(t){var e=new o(t);a.load(e)},u.prototype.onScroll=function(){this.readTrackingHandler.onScroll(),this.impressionTrackingHandler&&this.impressionTrackingHandler.onScroll()},u.prototype.onDocumentReady=function(){this.restartImpressionsTracking()},u.prototype.restartImpressionsTracking=function(){this.impressionTrackingHandler&&(this.impressionTrackingHandler.rebuildLinksListIfNeeded(),this.impressionTrackingHandler.trackImpressionsOnIdle())},u.prototype.impressionEventsCallback=function(t){c.addImpressionEvents(t),this.trySendEvents(!1)},u.prototype.addPromoContent=function(t,e){this.bindPromoReadEventIfNeeded(t,e),this.impressionTrackingHandler&&this.impressionTrackingHandler.addPromoContent(t,e)},u.prototype.bindPromoReadEventIfNeeded=function(t,e){e.url.indexOf(e.trackingCode)<0&&this.bindPromoReadEvent(t,e)},u.prototype.bindPromoReadEvent=function(t,e){for(var n=this,r=t.getElementsByTagName("a"),o=0;o<r.length;o++){var i=r[o];News360.PureJS.addEventListener(i,"click",function(){n.onPromoReadEvent(e)})}},u.prototype.onPromoReadEvent=function(t){var e=this.readTrackingHandler.createUrlPromoEvent(t);c.addContentEvents(e),this.trySendEvents(!0)},t.exports=u},function(t,e,n){var r=n(11),o=function(t,e){o.superclass.constructor.call(this),this.contentEvents=t,this.impressionEvents=e};News360.extend(o,r,{getContentEvents:function(){return this.contentEvents},getImpressionEvents:function(){return this.impressionEvents},getUrlPath:function(){return"/events/content/"},getQuery:function(){return{content:this.getContentEvents(),impressions:this.getImpressionEvents()}},getMethod:function(){return"POST"},parse:function(t){return!0},getSocketRequestName:function(){return"events"}}),t.exports=o},function(t,e,n){n(54);var r=n(2),o=n(21),i=n(20),s=n(57),a=n(58),c=function(t){this.eventsCallback=t,this.sentImpressions=[],this.linksList=[],this.postedTimeoutId=null,this.lastPageHash=0,this.lastTrackScroll=0,this.lastTrackTimestamp=0};c.prototype.rebuildLinksListIfNeeded=function(){var t=News360.TextUtils.hashCode(News360.PureJS.text(document.body));if(t!=this.lastPageHash){var e=document.body.getElementsByTagName("*");this.rebuildLinksList(e),this.lastPageHash=t}},c.prototype.rebuildLinksList=function(t){for(var e=this.generateLinksList(t),n=0;n<e.length;n++){var r=e[n];this.shouldCollectLink(r)&&this.linksList.push(r)}},c.prototype.generateLinksList=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=o.detectImpressionLink(r);if(i){var s=new a(i,r);e.push(s)}}return e},c.prototype.shouldCollectLink=function(t){return!this.isImpressionCollected(t)&&!this.isImpressionSent(t)},c.prototype.isImpressionCollected=function(t){return News360.PureJS.contains(this.linksList,function(e){return e.element===t.element})},c.prototype.isImpressionSent=function(t){return News360.PureJS.contains(this.sentImpressions,function(e){return e.element===t.element})},c.prototype.shouldSendImpression=function(t){var e=this.sentImpressions,n=!1;return t.area>0&&(n=!News360.PureJS.contains(e,function(e){return e.href==t.href&&e.area>=t.area})),n},c.prototype.onScroll=function(){this.trackImpressionsOnIdle(),this.shouldTrackImpressionsOnScroll()&&this.trackImpressions(300,!0)},c.prototype.shouldTrackImpressionsOnScroll=function(){var t=this.getCurrentScrollTop();return Math.abs(this.lastTrackScroll-t)>10&&Date.now()-this.lastTrackTimestamp>10},c.prototype.cancelCurrentTrackingHandler=function(){this.postedTimeoutId&&(clearTimeout(this.postedTimeoutId),this.postedTimeoutId=null)},c.prototype.trackImpressionsOnIdle=function(t){t=t||300;var e=this;this.cancelCurrentTrackingHandler(),this.postedTimeoutId=setTimeout(function(){e.postedTimeoutId=null,e.rebuildLinksListIfNeeded(),e.trackImpressions(0),e.trackImpressionsOnIdle(5e3)},t)},c.prototype.trackImpressions=function(t,e){var n=this.generateImpressionEvents(t,e);n.length>0&&this.eventsCallback(n),this.lastTrackScroll=this.getCurrentScrollTop(),this.lastTrackTimestamp=Date.now()},c.prototype.generateImpressionEvents=function(t,e){for(var n=Date.now(),r=News360.PureJS.windowWidth(),o=News360.PureJS.windowHeight(),i=new News360.Rect(0,0,r,o),s=this.linksList,a=[],c=s.length-1;c>=0;c--){var u=s[c];if(!e||u.trackingCode)if(this.isLinkOnScreen(u,i)){if(u.displayTimestamp||(u.displayTimestamp=n),n-u.displayTimestamp>=t){s.splice(c,1),this.updateLinkArea(u);var l=this.shouldSendImpression(u);if(this.sentImpressions.push(u),l){var p=this.createImpressionEvent(u);a.push(p)}}}else u.displayTimestamp=0}return a},c.prototype.updateLinkArea=function(t){var e=r.getElementArea(t.element);t.area=parseInt(e)},c.prototype.isLinkOnScreen=function(t,e){var n=!1,o=r.getElementRect(t.element,!0);return this.getRelativeIntersectArea(o,e)>.5&&(n=!s.isElementCropped(t.element,.5)&&i.isElementVisible(t.element)),n},c.prototype.getRelativeIntersectArea=function(t,e){var n=News360.GeometryUtils.intersect(t,e),r=News360.GeometryUtils.rectArea(t),o=News360.GeometryUtils.rectArea(n);return r?o/r:0},c.prototype.createImpressionEvent=function(t){return{url:t.href,area:t.area,referer:document.referrer,trackingCode:t.trackingCode}},c.prototype.addPromoContent=function(t,e){var n=this.getBiggestPromoContentLink(t);n&&!this.isImpressionCollected(n)&&(n.trackingCode=e.trackingCode,this.linksList.push(n),this.trackImpressionsOnIdle())},c.prototype.getBiggestPromoContentLink=function(t){for(var e,n=t.getElementsByTagName("a"),r=0;r<n.length;r++){var o=n[r],i=new a(o.href,o);this.updateLinkArea(i),(!e||e.area<i.area)&&(e=i)}return e},c.prototype.getCurrentScrollTop=function(){var t=r.getScrollContainer();return News360.PureJS.getScrollTop(t)},t.exports=c},function(t,e){ns360("News360").TextUtils=function(){function t(t,n,r,o){for(var i,s=[],a=[];i=t.pop();)if(s.push(i),News360.PureJS.html(n,s.join(" ")),n.offsetWidth>r){if(s.pop(),s.length)a.push(s.join(" ")),t.push(i);else{var c=e(i,n,r);c&&(a.push(i.substring(0,c)),t.push(i.substring(c)))}if(s=[],o>0&&a.length>=o)break}return s.length&&a.push(s.join(" ")),a}function e(t,e,r){for(var o=0,i=t.length-2,s=i-o,a=n(o,i,!0),c=0;c<s&&a>0;c++){News360.PureJS.html(e,t.substring(0,a));var u;if(e.offsetWidth<=r?(o=a,u=n(o,i,!0)):(i=a,u=n(o,i,!1)),a==u)break;a=u}return a}function n(t,e,n){var r=(e+t)/2;return n?Math.ceil(r):Math.floor(r)}function r(){i||(i=document.createElement("div"),i.style.position="absolute",i.style.whiteSpace="nowrap",i.style.float="left",i.style.visibility="hidden")}function o(t){var e,n,r,o=0;if(!t||0===t.length)return o;for(e=0,r=t.length;e<r;e++)n=t.charCodeAt(e),o=(o<<5)-o+n,o|=0;return o}var i;return{splitToLines:function(e,n,o,s){var a;a="string"==typeof e?e.split(/\s+/):[].concat(e),a.reverse(),r(),i.style.fontSize=n,document.body.appendChild(i);var c=t(a,i,o,s);return document.body.removeChild(i),c},textWidth:function(t,e){r(),i.style.fontSize=e,document.body.appendChild(i),News360.PureJS.html(i,t);var n=i.offsetWidth;return document.body.removeChild(i),n},fitsWidth:function(t,e,n){return this.textWidth(t,e)<=n},hashCode:function(t){return o(t)}}}()},function(t,e){ns360("News360").Rect=function(t,e,n,r){this.left=t,this.top=e,this.width=n,this.height=r,this.right=t+n,this.bottom=e+r},News360.Rect.prototype.getLeft=function(){return this.left},News360.Rect.prototype.getTop=function(){return this.top},News360.Rect.prototype.getRight=function(){return this.right},News360.Rect.prototype.getBottom=function(){return this.bottom},News360.Rect.prototype.getWidth=function(){return this.width},News360.Rect.prototype.getHeight=function(){return this.height}},function(t,e){ns360("News360").GeometryUtils=function(){function t(t,e){var n=Math.max(t.left,e.left),r=Math.min(t.right,e.right),o=Math.max(t.top,e.top),i=Math.min(t.bottom,e.bottom);return new News360.Rect(n,o,Math.max(n,r)-n,Math.max(o,i)-o)}function e(t,e){var n=Math.min(t.left,e.left),r=Math.max(t.right,e.right),o=Math.min(t.top,e.top),i=Math.max(t.bottom,e.bottom);return new News360.Rect(n,o,r-n,i-o)}function n(t){return(t.right-t.left)*(t.bottom-t.top)}return{intersect:function(e,n){return t(e,n)},union:function(t,n){return e(t,n)},rectArea:function(t){return n(t)}}}()},function(t,e,n){var r=n(2);t.exports.isElementCropped=function(t,e){function n(t,r){if(!r||r===document.body||9===r.nodeType)return!1;if("visible"!==News360.PureJS.css(r,"overflow")){var o=r.getBoundingClientRect(),s=News360.GeometryUtils.intersect(t,o);if(News360.GeometryUtils.rectArea(s)/i<e)return!0}return n(t,r.parentNode)}var o=r.getElementRect(t),i=News360.GeometryUtils.rectArea(o);return n(o,t.parentNode)}},function(t,e){t.exports=function(t,e){this.href=t,this.element=e}},function(t,e,n){var r=n(2),o=n(21),i=function(t){this.trackingCode=t,this.articleContent=null,this.lastActiveElement=null,this.reset()};i.prototype.setArticleContent=function(t){this.articleContent=t},i.prototype.reset=function(t){this.timestamp="number"==typeof t?t:1*new Date,this.maxScroll=0},i.prototype.generateEvent=function(){var t=this.createEvent();return this.reset(),t},i.prototype.onScroll=function(){var t=this.getCurrentPageBottom();this.updateMaxScroll(t)},i.prototype.createEvent=function(){var t=this.getArticleBounds(),e=this.getArticleHeight(t),n=this.getReadPercent(t),r=this.getDurationSeconds(),o=this.getNextUrl();return{url:location.href,readPercent:n,durationSeconds:r,referer:document.referrer,trackingCode:this.trackingCode,articleHeight:e,canonicalUrl:this.getCanonicalUrl(),nextUrl:o}},i.prototype.createUrlPromoEvent=function(t){return{url:t.url,trackingCode:t.trackingCode}},i.prototype.getReadPercent=function(t){this.onScroll();var e=this.getArticleHeight(t),n=Math.max(0,this.maxScroll-t.top),r=this.calcReadPercent(n,e);return Math.max(0,Math.min(1,r))},i.prototype.calcReadPercent=function(t,e){var n=t/e;return isNaN(n)&&(n=0),n=parseFloat(n.toFixed(2))},i.prototype.getArticleHeight=function(t){return t.bottom-t.top},i.prototype.getArticleBounds=function(){var t=this.articleContent;return t&&t.length?this.getArticleContentBounds(t):this.getPageBounds()},i.prototype.getArticleContentBounds=function(t){var e=r.getCommonRect(t),n=this.getCurrentScrollTop();return{top:e.top+n,bottom:e.bottom+n}},i.prototype.getPageBounds=function(){return{top:0,bottom:r.getTotalPageHeight()}},i.prototype.getDurationSeconds=function(){var t=1*new Date;return parseFloat(((t-this.timestamp)/1e3).toFixed(1))},i.prototype.getCurrentPageBottom=function(){return this.getCurrentScrollTop()+window.innerHeight},i.prototype.updateMaxScroll=function(t){this.maxScroll=Math.max(t,this.maxScroll)},i.prototype.getCurrentScrollTop=function(){var t=r.getScrollContainer();return News360.PureJS.getScrollTop(t)},i.prototype.getCanonicalUrl=function(){var t=document.querySelectorAll("link[rel='canonical']")[0],e=null;return t&&t.href&&(e=t.href.trim()),e||(e=location.href),e},i.prototype.getNextUrl=function(){var t,e=document.activeElement;return e&&this.lastActiveElement!==e&&(t=o.detectActiveElementLink(e),this.lastActiveElement=e),t},t.exports=i},function(t,e,n){function r(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r=i(t),s=r.source,l=r.id,p=r.path,h=u[l]&&p in u[l].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(c("ignoring socket cache for %s",s),n=a(s,e)):(u[l]||(c("new io instance for %s",s),u[l]=a(s,e)),n=u[l]),r.query&&!e.query?e.query=r.query:e&&"object"==typeof e.query&&(e.query=o(e.query)),n.socket(r.path,e)}function o(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}var i=n(61),s=n(13),a=n(26),c=n(4)("socket.io-client");t.exports=e=r;var u=e.managers={};e.protocol=s.protocol,e.connect=r,e.Manager=n(26),e.Socket=n(31)},function(t,e,n){(function(e){function r(t,n){var r=t;n=n||e.location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==n?n.protocol+"//"+t:"https://"+t),i("parse %s",t),r=o(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var s=-1!==r.host.indexOf(":"),a=s?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}var o=n(23),i=n(4)("socket.io-client:url");t.exports=r}).call(e,n(0))},function(t,e,n){function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function o(t){function n(){if(n.enabled){var t=n,r=+new Date,o=r-(u||r);t.diff=o,t.prev=u,t.curr=r,u=r;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;a++;var o=e.formatters[r];if("function"==typeof o){var s=i[a];n=o.call(t,s),i.splice(a,1),a--}return n}),e.formatArgs.call(t,i),(n.log||e.log||console.log.bind(console)).apply(t,i)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),"function"==typeof e.init&&e.init(n),n}function i(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o.default=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=n(63),e.names=[],e.skips=[],e.formatters={};var u},function(t,e){function n(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){return t>=u?Math.round(t/u)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return i(t,u,"day")||i(t,c,"hour")||i(t,a,"minute")||i(t,s,"second")||t+" ms"}function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,l=365.25*u;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return n(t);if("number"===i&&!1===isNaN(t))return e.long?o(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t){function r(t,e){if(!t)return t;if(s(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(i(t)){for(var o=new Array(t.length),a=0;a<t.length;a++)o[a]=r(t[a],e);return o}if("object"==typeof t&&!(t instanceof Date)){var o={};for(var c in t)o[c]=r(t[c],e);return o}return t}function o(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(i(t))for(var n=0;n<t.length;n++)t[n]=o(t[n],e);else if("object"==typeof t)for(var r in t)t[r]=o(t[r],e);return t}var i=n(66),s=n(25),a=Object.prototype.toString,c="function"==typeof t.Blob||"[object BlobConstructor]"===a.call(t.Blob),u="function"==typeof t.File||"[object FileConstructor]"===a.call(t.File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=r(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=o(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){function n(t,a,l){if(!t)return t;if(c&&t instanceof Blob||u&&t instanceof File){r++;var p=new FileReader;p.onload=function(){l?l[a]=this.result:o=this.result,--r||e(o)},p.readAsArrayBuffer(t)}else if(i(t))for(var h=0;h<t.length;h++)n(t[h],h,t);else if("object"==typeof t&&!s(t))for(var d in t)n(t[d],d,t)}var r=0,o=t;n(o),r||e(o)}}).call(e,n(0))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(68)},function(t,e,n){t.exports=n(69),t.exports.parser=n(3)},function(t,e,n){(function(e){function r(t,n){if(!(this instanceof r))return new r(t,n);n=n||{},t&&"object"==typeof t&&(n=t,t=null),t?(t=l(t),n.hostname=t.host,n.secure="https"===t.protocol||"wss"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=l(n.host).host),this.secure=null!=n.secure?n.secure:e.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:"localhost"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var o="object"==typeof e&&e;o.global===o&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var i=n(27),s=n(17),a=n(10)("engine.io-client:socket"),c=n(30),u=n(3),l=n(23),p=n(83),h=n(18);t.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=u.protocol,r.Socket=r,r.Transport=n(16),r.transports=n(27),r.parser=n(3),r.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=o(this.query);e.EIO=u.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0})},r.prototype.open=function(){var t;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},r.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},r.prototype.probe=function(t){function e(){if(h.onlyBinaryUpgrades){var e=!this.supportsBinary&&h.transport.supportsBinary;p=p||e}p||(a('probe transport "%s" opened',t),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(e){if(!p)if("pong"===e.type&&"probe"===e.data){if(a('probe transport "%s" pong',t),h.upgrading=!0,h.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"===l.name,a('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){p||"closed"!==h.readyState&&(a("changing transport and sending upgrade packet"),u(),h.setTransport(l),l.send([{type:"upgrade"}]),h.emit("upgrade",l),l=null,h.upgrading=!1,h.flush())})}else{a('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=l.name,h.emit("upgradeError",n)}}))}function n(){p||(p=!0,u(),l.close(),l=null)}function o(e){var r=new Error("probe error: "+e);r.transport=l.name,n(),a('probe transport "%s" failed because of error: %s',t,e),h.emit("upgradeError",r)}function i(){o("transport closed")}function s(){o("socket closed")}function c(t){l&&t.name!==l.name&&(a('"%s" works - aborting "%s"',t.name,l.name),n())}function u(){l.removeListener("open",e),l.removeListener("error",o),l.removeListener("close",i),h.removeListener("close",s),h.removeListener("upgrading",c)}a('probing transport "%s"',t);var l=this.createTransport(t,{probe:1}),p=!1,h=this;r.priorWebsocketSuccess=!1,l.once("open",e),l.once("error",o),l.once("close",i),this.once("close",s),this.once("upgrading",c),l.open()},r.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},r.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(p(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},r.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},r.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},r.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function t(){r.onClose("forced close"),a("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},r.prototype.onError=function(t){a("socket error %j",t),r.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},r.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~c(this.transports,t[n])&&e.push(t[n]);return e}}).call(e,n(0))},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){(function(e){function r(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=t.hostname!==e.location.hostname||r!==t.port,this.xs=t.secure!==n}}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=n(15),c=n(28),u=n(17),l=n(9),p=n(10)("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,l(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=r},o.prototype.doPoll=function(){p("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},u(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new a(t),r=this;try{p("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}}catch(t){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState){var t;try{t=n.getResponseHeader("Content-Type")}catch(t){}"application/octet-stream"===t&&(n.responseType="arraybuffer")}4===n.readyState&&(200===n.status||1223===n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},p("xhr data %s",this.data),n.send(this.data)}catch(t){return void setTimeout(function(){r.onError(t)},0)}e.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,t)try{this.xhr.abort()}catch(t){}e.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",s):e.addEventListener&&e.addEventListener("beforeunload",s,!1))}).call(e,n(0))},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)i[a]=o[s];return i.buffer}},function(t,e){function n(t,e,n){function o(t,r){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=n):0!==o.count||i||e(null,r)}var i=!1;return n=n||r,o.count=t,0===t?e():o}function r(){}t.exports=n},function(t,e,n){(function(t,r){var o;!function(r){function i(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function s(t){for(var e,n=t.length,r=-1,o="";++r<n;)e=t[r],e>65535&&(e-=65536,o+=v(e>>>10&1023|55296),e=56320|1023&e),o+=v(e);return o}function a(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(t,e){return v(t>>e&63|128)}function u(t,e){if(0==(4294967168&t))return v(t);var n="";return 0==(4294965248&t)?n=v(t>>6&31|192):0==(4294901760&t)?(a(t,e)||(t=65533),n=v(t>>12&15|224),n+=c(t,6)):0==(4292870144&t)&&(n=v(t>>18&7|240),n+=c(t,12),n+=c(t,6)),n+=v(63&t|128)}function l(t,e){e=e||{};for(var n,r=!1!==e.strict,o=i(t),s=o.length,a=-1,c="";++a<s;)n=o[a],c+=u(n,r);return c}function p(){if(m>=g)throw Error("Invalid byte index");var t=255&f[m];if(m++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(t){var e,n,r,o,i;if(m>g)throw Error("Invalid byte index");if(m==g)return!1;if(e=255&f[m],m++,0==(128&e))return e;if(192==(224&e)){if(n=p(),(i=(31&e)<<6|n)>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(n=p(),r=p(),(i=(15&e)<<12|n<<6|r)>=2048)return a(i,t)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=p(),r=p(),o=p(),(i=(7&e)<<18|n<<12|r<<6|o)>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}function d(t,e){e=e||{};var n=!1!==e.strict;f=i(t),g=f.length,m=0;for(var r,o=[];!1!==(r=h(n));)o.push(r);return s(o)}var f,g,m,v=("object"==typeof t&&t&&t.exports,String.fromCharCode),y={version:"2.1.2",encode:l,decode:d};void 0!==(o=function(){return y}.call(e,n,e,t))&&(t.exports=o)}()}).call(e,n(35)(t),n(0))},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i="";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,r,o,i,s,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),p=new Uint8Array(l);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],o=n[t.charCodeAt(e+1)],i=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],p[u++]=r<<2|o>>4,p[u++]=(15&o)<<4|i>>2,p[u++]=(3&i)<<6|63&s;return l}}()},function(t,e,n){(function(e){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}t[e]=r}}}function r(t,e){e=e||{};var r=new i;n(t);for(var o=0;o<t.length;o++)r.append(t[o]);return e.type?r.getBlob(e.type):r.getBlob()}function o(t,e){return n(t),new Blob(t,e||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return s?a?e.Blob:o:c?r:void 0}()}).call(e,n(0))},function(t,e,n){function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function o(t){function n(){if(n.enabled){var t=n,r=+new Date,o=r-(u||r);t.diff=o,t.prev=u,t.curr=r,u=r;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;a++;var o=e.formatters[r];if("function"==typeof o){var s=i[a];n=o.call(t,s),i.splice(a,1),a--}return n}),e.formatArgs.call(t,i),(n.log||e.log||console.log.bind(console)).apply(t,i)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),"function"==typeof e.init&&e.init(n),n}function i(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o.default=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=n(79),e.names=[],e.skips=[],e.formatters={};var u},function(t,e){function n(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){return t>=u?Math.round(t/u)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return i(t,u,"day")||i(t,c,"hour")||i(t,a,"minute")||i(t,s,"second")||t+" ms"}function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,l=365.25*u;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return n(t);if("number"===i&&!1===isNaN(t))return e.long?o(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){(function(e){function r(){}function o(t){i.call(this,t),this.query=this.query||{},a||(e.___eio||(e.___eio=[]),a=e.___eio),this.index=a.length;var n=this;a.push(function(t){n.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=r)},!1)}var i=n(28),s=n(9);t.exports=o;var a,c=/\n/g,u=/\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(t)}catch(t){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=l,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),t=t.replace(u,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(e,n(0))},function(t,e,n){(function(e){function r(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=p&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=o),i.call(this,t)}var o,i=n(16),s=n(3),a=n(18),c=n(9),u=n(29),l=n(10)("engine.io-client:websocket"),p=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{o=n(82)}catch(t){}var h=p;h||"undefined"!=typeof window||(h=o),t.exports=r,c(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new h(t,e):new h(t):new h(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},r.prototype.write=function(t){function n(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var o=t.length,i=0,a=o;i<a;i++)!function(t){s.encodePacket(t,r.supportsBinary,function(i){if(!r.usingBrowserWebSocket){var s={};t.options&&(s.compress=t.options.compress),r.perMessageDeflate&&("string"==typeof i?e.Buffer.byteLength(i):i.length)<r.perMessageDeflate.threshold&&(s.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(i):r.ws.send(i,s)}catch(t){l("websocket closed before onclose event")}--o||n()})}(t[i])},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},r.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===r.prototype.name)}}).call(e,n(0))},function(t,e){},function(t,e,n){(function(e){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(s,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(r,"@").replace(o,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(e,n(0))},function(t,e){function n(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}t.exports=n},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e,n){var r=n(2),o={unlikelyCandidates:/combx|comment|community|disqus|extra|foot|header|menu(\s|$)|remark|rss|shoutbox|sidebar(\s|$)|sponsor|ad-break|agegate|pagination|pager|popup|tweet|twitter|modal|related|more/i,possibleCandidate:/and|article|body|column|main|shadow|content|ctl\d+_/i,goodClass:/article|body|content|entry|hentry|main|page|pagination|post|text|blog|story/i,badClass:/combx|comment|com-|contact|foot|footer|footnote|masthead|media|meta|outbrain|promo|related|scroll|shoutbox|sidebar|sponsor|shopping|tags|tool|widget|more/i,tailTags:/div|section|style|script/i,trim:/^\s+|\s+$/g,normalize:/\s{2,}/g,getArticle:function(){this.timestamp=Date.now();var t=this.getSuitableElements(),e=this.getCandidates(t),n=this.getArticleContents(e);return this.splitArticleContents(n)},getSuitableElements:function(){for(var t,e=document.body.getElementsByTagName("*"),n=[],r=0;t=e[r];r++){var o=t.className+t.id;-1!==o.search(this.unlikelyCandidates)&&-1===o.search(this.possibleCandidate)?r+=t.getElementsByTagName("*").length:this.isSuitableElement(t)&&n.push(t)}return n},getCandidates:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n].parentNode,o=r?r.parentNode:null,i=t[n],s=this.getElementText(i);if(r&&s.length>=25){this.isInitialized(r)||(this.initializeScore(r),e.push(r)),o&&!this.isInitialized(o)&&(this.initializeScore(o),e.push(o));var a=this.getTextScore(s);i.className||i.id||(a+=10),r.nativeai.articleScore+=a,o&&(o.nativeai.articleScore+=a/3)}}return e},getArticleContents:function(t){for(var e=null,n=null,r=t.length-1;r>=0;r--){var o=t[r];o.nativeai.articleScore=o.nativeai.articleScore*(1-this.getLinkDensity(o));var i=this.getScoreThreshold(o);o.nativeai.articleScore>i?!e||o.nativeai.articleScore>e.nativeai.articleScore?(n=e,e=o):(!n||o.nativeai.articleScore>n.nativeai.articleScore)&&(n=o):t.splice(r,1)}var s;if(e){var a;a=e.nativeai.articleScore>500?this.findCommonParent(e,t):this.findCommonParent(e,[n]),s=a?this.getArticleParts(a,t):[e]}return s},splitArticleContents:function(t){var e=null;if(t&&t.length){e=[];for(var n=0;n<t.length;n++){var r=t[n],o=this.getSignificantContentParts(r);e=e.concat(o)}}return e},getSignificantContentParts:function(t){var e;if(t){e=[];var n=t.children;if(n)for(var o=!0,i=n.length-1;i>=0;i--){var s=n[i];-1===s.tagName.search(this.tailTags)&&(o=!1),o||0==r.getElementArea(s)||e.unshift(s)}e.length||e.push(t)}return e},findCommonParent:function(t,e){for(var n,o=r.parents(t),i=Math.min(5,o.length),s=0,a=0;a<e.length;a++){var c=e[a];if(c!==t&&this.isSiblingCandidates(t,c)){var u=r.parents(c);if(!(u.indexOf(t)>=0))for(var l=s;l<i;l++){var p=o[l],h=u.indexOf(p);if(h>=0){n=p,s=l;break}}}}return n},getArticleParts:function(t,e){for(var n=[],o=0;o<e.length;o++){var i=e[o];r.parents(i,t.tagName).indexOf(t)>=0&&n.push(i)}return n},isSiblingCandidates:function(t,e){var n=!1;return t&&e&&(n=r.createElementKey(t)==r.createElementKey(e)),n},isInitialized:function(t){return t.nativeai&&t.nativeai.timestamp===this.timestamp},initializeScore:function(t){switch(t.nativeai={timestamp:this.timestamp,articleScore:0},t.tagName){case"ARTICLE":t.nativeai.articleScore+=25;break;case"DIV":t.nativeai.articleScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":t.nativeai.articleScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":t.nativeai.articleScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":t.nativeai.articleScore-=5}t.nativeai.articleScore+=this.getClassScore(t)},isSuitableElement:function(t){var e=!1,n=t.tagName;return"P"!==n&&"TABLE"!==n&&"PRE"!==n||(e=!0),e},getElementText:function(t){var e=News360.PureJS.text(t)||"";return e&&(e=e.replace(this.trim,""),e=e.replace(this.normalize," ")),e},getLinkDensity:function(t){var e=this.getTagsTextLength(t,"noscript"),n=this.getElementText(t).length-e;return(this.getTagsTextLength(t,"a")-e)/n},getTagsTextLength:function(t,e){for(var n=0,r=t.getElementsByTagName(e),o=0,i=r.length;o<i;o++)n+=this.getElementText(r[o]).length;return n},getClassScore:function(t){var e=0;return e+=this.calcClassScore(t.className),e+=this.calcClassScore(t.id)},calcClassScore:function(t){var e=0;return"string"==typeof t&&""!==t&&(-1!==t.search(this.badClass)&&(e-=25),-1!==t.search(this.goodClass)&&(e+=25)),e},getTextScore:function(t){var e=1;return e+=t.split(",").length,e+=Math.min(Math.floor(t.length/100),3)},getScoreThreshold:function(t){var e=28,n=r.countSimilarStructuresByElementKey(t.children);return r.isSimilarStructuresFound(n)&&(e=10),e}};t.exports=o},function(t,e,n){var r=n(2),o=n(8),i={unlikelyCandidates:/popular|footer|navigation|avatar|signup/i,videoSrcPatterns:["youtube.com/embed/","player.vimeo.com/video/","flickr.com","dailymotion.com/embed/","ustream.tv/embed/","sproutvideo.com/embed/","play.vidyard.com/","wistia.net/embed/","view.vzaar.com/","viddler.com/player/","viewbix.com/frame/","players.brightcove.net/","reuters.tv/"],getMultimedia:function(t){var e=this.getSuitableElements(t),n=this.getCandidates(e);return n.length?n:null},getCandidates:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];this.isGoodCandidateClass(r)&&e.push(r)}return e},isGoodCandidateClass:function(t){var e=r.parents(t);e.unshift(t);for(var n=0;n<e.length;n++){var o=e[n];if(-1!==(o.className+o.id).search(this.unlikelyCandidates))return!1}return!0},getSuitableElements:function(t){var e=this.getIFrames().concat(this.getPlayers());return e.length&&!t||(e=e.concat(this.getImages(t)).concat(this.getMaps())),e},getIFrames:function(){for(var t=[],e=document.body.getElementsByTagName("iframe"),n=0;n<e.length;n++){var r=e[n],o=News360.PureJS.attr(r,"src");o&&News360.PureJS.contains(this.videoSrcPatterns,function(t){return o.indexOf(t)>=0})&&t.push(r)}return t},getPlayers:function(){for(var t=[],e=document.body.getElementsByTagName("video"),n=0;n<e.length;n++){var r=e[n],i=News360.PureJS.attr(r,"src");i&&i.indexOf(o.topLevelDomain)>=0&&t.push(r)}return t},getImages:function(t){for(var e=[],n=r.getCommonRect(t),o=n?(n.right-n.left)/2:Math.min(600,News360.PureJS.windowWidth()/2),i=document.querySelectorAll("img,div[style*=background]"),s=0;s<i.length;s++){var a=i[s];if(this.isSuitableImageElement(a)){var c=a.clientWidth/a.clientHeight,u=a.clientWidth>=o&&c>.5&&c<3;if(u){var l=a.getBoundingClientRect().top,p=a.getBoundingClientRect().bottom;(u=!n||l<n.top||l>n.bottom&&l-n.bottom<100||l>=n.top&&l<n.bottom&&p>n.bottom)&&e.push(a)}}}return e},getMaps:function(){for(var t=[],e=document.querySelectorAll(".gm-style"),n=0;n<e.length;n++)t.push(e[n]);return t},isSuitableImageElement:function(t){var e=!1;if("IMG"===t.tagName)e=!0;else{var n=News360.PureJS.css(t,"background-image");n&&n.indexOf("url(")>=0&&(e="fixed"!==News360.PureJS.css(t,"position"))}return e}};t.exports=i}]);