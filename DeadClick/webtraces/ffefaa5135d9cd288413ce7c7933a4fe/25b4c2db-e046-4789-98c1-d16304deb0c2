define(["jquery","pubsub"],function(a){a.pubsub("subscribe","SHOPCART_UPDATED",function(d,c){c=c||{};c.rewardEligibility=c.rewardEligibility||{};var b=c.rewardEligibility;b.orderId=b.orderId||"";b.rewardOptionEligible=typeof b.rewardOptionEligible==="boolean"?b.rewardOptionEligible:false;b.rewardsAdded=typeof b.rewardsAdded==="boolean"?b.rewardsAdded:false;if(b.rewardOptionEligible&&!b.rewardsAdded){a.pubsub("publish","vfdp.wcs.free_gift.offer_loading");require(["wcs.free-gift"],function(e){a("#freeGiftModal").freeGiftModal("open",b.orderId)})}else{if(!b.rewardOptionEligible){a(".freeGiftItem").each(function(){a(this).html("");a(this).removeClass("freeGiftItem");a(this).removeClass("checkout-item-table-item-js")})}}})});