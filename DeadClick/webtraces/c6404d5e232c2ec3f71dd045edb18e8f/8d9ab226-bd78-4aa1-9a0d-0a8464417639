/*! amc-analytics-integration 2017-06-26T23:40:18Z */
!function(a){"use strict";function b(){try{a.$revee.debug&&a.console.log.apply(a.console,Array.prototype.slice.call(arguments))}catch(b){}}function c(b,c){try{a.OBR&&a.OBR.error({name:"obm-reveeError",message:b,stack:c})}catch(d){}}function d(a,d,e){try{return a.call(e||{})}catch(f){var g="["+d+"] "+f.toString();b("catchErrors: "+g),c(g,f.stack||"")}}if(!a.$revee){var e={};e.Helper={},e.Extension={},e.Data=function(){function b(b,c){var d=new a.XMLHttpRequest;return void 0!==d.withCredentials?d.open(b,c,!0):(d=new a.XDomainRequest,d.open(b,c)),d}function c(){var b,c,d,e=-1;try{b=a.navigator.userAgent,c=/MSIE ([0-9]{1,}[\.0-9]{0,})/gi,d=/Trident.*rv[ :]*(\d+\.\d+)/gi,("Microsoft Internet Explorer"===a.navigator.appName&&c.test(b)||d.test(b))&&(e=parseFloat(RegExp.$1))}catch(f){}return e}return{send:function(e,f,g){d(function(){var h=b("POST",e);h.onload=function(){d(function(){var a=this.status;if(202!==a&&200!==a)throw new Error("Status: "+a);g(JSON.parse(this.responseText))},"Data.send - onload",this)},h.withCredentials=!0,"function"==typeof h.setRequestHeader&&h.setRequestHeader("Content-type","application/json"),9===c()?(h.ontimeout=h.onprogress=h.onerror=function(){},a.setTimeout(function(){h.send(f)},0)):h.send(f)},"Data.send - init")}}}(),e.Helper.DOM={addClass:function(a,b){this.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return new RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)},removeClass:function(a,b){this.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},addEvent:function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},removeEvent:function(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)},addInlineStyles:function(b){var c=a.document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=b:c.appendChild(a.document.createTextNode(b)),a.document.getElementsByTagName("head")[0].appendChild(c)},createElement:function(b){var c=a.document.createElement("div");return c.innerHTML=b,c.firstChild},getMetaElement:function(b){var c,d=a.document.getElementsByTagName("meta"),e="";for(c=0;c<d.length&&0===e.length;c++)if(null!==d[c].getAttribute("property"))switch(d[c].getAttribute("property")){case"og:image":"image"===b&&(e=d[c].getAttribute("content"));break;case"og:title":"title"===b&&(e=d[c].getAttribute("content"))}return e}},e.Helper.Vars={trim:function(a){return(a||"").replace(/^\s+|\s+$/g,"")},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},arrayIndexOf:function(a,b,c){if(Array.prototype.indexOf)return a.indexOf(b,c);var d=a.length>>>0;for(c=Number(c)||0,c=0>c?Math.ceil(c):Math.floor(c),0>c&&(c+=d),1;d>c;c++)if(a[c]===b)return c;return-1},isEmpty:function(a){var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0},objectPropertyDelete:function(a,b){try{delete a[b]}catch(c){a[b]=void 0}},isObject:function(a){return null!==a&&"object"==typeof a}},e.Helper.AdParser={DOUBLECLICK_SIGNATURE:"doubleclick.net",CUSTOM_PARAMS_NAME:"cust_params",GAM_PARAMETER_SEPARATOR:"&",DART_PARAMETER_SEPARATOR:";",isGAMAd:function(a){return"string"==typeof a?-1!==a.indexOf("doubleclick.net/gampad/"):!1},isDARTUrl:function(a){return"string"==typeof a?-1!==a.indexOf(this.DOUBLECLICK_SIGNATURE):!1},isSkippedParam:function(a){return-1!==e.Helper.Vars.arrayIndexOf(["ord","correlator"],a)},parseQueryString:function(c){var d,e,f,g=[],h=c.split(this.GAM_PARAMETER_SEPARATOR);for(d=0;d<h.length;d++)e=h[d],f=e.split("=",3),2===f.length&&f[0]?g.push({name:a.decodeURIComponent(f[0]),value:a.decodeURIComponent(f[1])}):e&&b("Helper.AdParser.parseQueryString(): can't parse the value \""+e+'"');return g},parsePropertyValue:function(a,b){return a.concat(b.split(","))},extractGAMAdUrl:function(a){var b,c,d,f,g={},h=a.indexOf("?");if(-1!==h){for(b=new e.Sender.AdInfo,c=this.parseQueryString(a.substring(h+1)),f=0;f<c.length;f++)d=c[f],"iu"===d.name?b.setAdUnitPath(d.value):"sz"===d.name?b.addSizes([d.value]):this.isSkippedParam(d.name)||(d.name===this.CUSTOM_PARAMS_NAME?Array.prototype.push.apply(c,this.parseQueryString(d.value)):(g[d.name]=g[d.name]||[],g[d.name].push(d.value)));return b.addCustomCriterias(g),b}},extractDARTName:function(a){var b=(a||"").match(/doubleclick\.net\/.*?ad\w*\/(.+?)(\;|$)/i);return b?b[1]:""},extractDARTAdUrl:function(c){var d,f,g,h,i,j,k=new e.Sender.AdInfo,l={},m=[];for(d=c.split(this.DART_PARAMETER_SEPARATOR),j=1;j<d.length;j++)f=d[j],g=f.split("=",3),2===g.length&&g[0]?(h=a.decodeURIComponent(g[0]),i=a.decodeURIComponent(g[1]),"sz"===h?m=this.parsePropertyValue(m,i):this.isSkippedParam(h)||(l[h]=this.parsePropertyValue(l[h]||[],i))):f&&b("Helper.AdParser.extractDARTAdUrl(): can't parse the value \""+f+'"');return k.setAdUnitPath(this.extractDARTName(c)),k.addSizes(m),k.addCustomCriterias(l),k},extractAdUrl:function(a){return d(function(){if(a&&"string"==typeof a&&/^http[s]?:\/\//.test(a)){if(a=a.toLocaleLowerCase(),this.isGAMAd(a))return this.extractGAMAdUrl(a);if(this.isDARTUrl(a))return this.extractDARTAdUrl(a)}throw new Error("can't parse adTagUrl \""+a+'"')},"AdParser.extractAdUrl",this)},getUrlParamSeparator:function(a){return this.isGAMAd(a)?this.GAM_PARAMETER_SEPARATOR:this.DART_PARAMETER_SEPARATOR},addIma3ExtraMetrics:function(a,b){try{b.setOptionalProperty("lineItemId",a.getWrapperAdIds()[0]||null)}catch(c){}try{b.setOptionalProperty("creativeId",a.getWrapperCreativeIds()[0]||null)}catch(c){}}},e.Session=function(b){function c(a){try{return JSON.parse(JSON.stringify(a))}catch(b){}}function d(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+a()}function f(){var d=c(b);return d.pu=d.pu||a.location.href||"",d.ru=a.document.referrer||"",d.img=e.Helper.DOM.getMetaElement("image")||"",d.tle=e.Helper.DOM.getMetaElement("title")||a.document.title||"",d}var g,h;this.getId=function(){return g},this.getAcm=function(){return c(h)},g=d(),h=f(),b=null},e.Sender=function(){function a(a){var b,c=[];for(b=0;b<a.length;b++)c.push(a[b].toData());return c}function c(c,d,e,f,g){var h=d.getAcm();return h.ads=a(e),h.oads=a(f),g&&g.pageUrl&&(h.pu=g.pageUrl),b("Sender: post",c,h),i(h,c)}function d(a,b,d){return c("//revee.outbrain.com/page/view",a,b,d)}function e(a,b,d,e){return c("//revee.outbrain.com/page/ad",a,b,d,e)}function f(a,b,d){return c("//revee.outbrain.com/page/update",a,b,d)}function g(a,b,c){var d;for(d=0;d<b.length;d++)b[d].setType("v");e(a,b,c)}function h(a){i=a}var i;this.postToIncremental=d,this.postToNonIncremental=e,this.postToAdUpdate=f,this.postVideoAd=g,this.setRequestHandler=h},e.Sender.AdInfo=function(){function a(a){var b;if(e.Helper.Vars.isArray(a))for(b=0;b<a.length;b++)a[b]=a[b]||""}function c(a){var b,c=[];for(b=0;b<a.length;b++)c.push.apply(c,(a[b]+"").split(","));return c}function d(b,d){var f,g,h,i;for(g in d)if(d.hasOwnProperty(g))if(h=c(d[g]),i=b[g],i&&e.Helper.Vars.isArray(i)&&e.Helper.Vars.isArray(h))for(a(h),f=0;f<h.length;f++)-1===e.Helper.Vars.arrayIndexOf(i,h[f])&&i.push(h[f]);else b[g]=h}var f,g={adUnitPath:"",sizes:[],customCriterias:{},type:"d"},h={},i={lineItemId:"li",creativeId:"cri",advertiserId:"ai",campaignId:"cai",serviceName:"sn",isEmpty:"ie",sourceAgnosticLineItemId:"sali",sourceAgnosticCreativeId:"sacri",isBackfill:"ib"};this.setAdUnitPath=function(a){return g.adUnitPath=a,this},this.addSizes=function(a){return g.sizes.push.apply(g.sizes,a),this},this.setType=function(a){return g.type=a,this},this.setOptionalProperty=function(a,c){var d=i[a];return d&&void 0!==c?h[d]=c:b("Sender.AdInfo.setOptionalProperty: incorrect property name: ",a,c),this},this.addCustomCriterias=function(a,b){var e;if(b)for(e in a)a.hasOwnProperty(e)&&!g.customCriterias.hasOwnProperty(e)&&(g.customCriterias[e]=c(a[e]));else d(g.customCriterias,a);return this},this.toData=function(){var a,b={aun:g.adUnitPath,aus:g.sizes.length?"[["+g.sizes.join("],[")+"]]":"unknown",cc:g.customCriterias,tp:g.type};for(a in h)h.hasOwnProperty(a)&&(b[a]=h[a]);return b},this.setId=function(a){return f=a.toString(),this},this.getId=function(){return f}},e.EventAggregator=function(){function a(a,b){g[a]=g[a]||[],g[a].push(b)}function c(a,b){var c,d;if(g[a])for(d=g[a],c=0;c<d.length;c++)d[c].call(this,{type:a,data:b})}function d(a,b){c(e.EventAggregator.Event.StartVideoAd,{session:a,newAds:b})}function f(){g={}}b("EventAggregator: init");var g={};this.addListener=a,this.fireEvent=c,this.fireStartVideoAd=d,this.reset=f},e.EventAggregator.Event={VideoPlayerActivated:"vpa",StartVideoAd:"vadstart",AdUpdate:"adupdate"},e.PlayersAggregrator=function(a){function c(a,b){return t[j(a)][b]}function e(a,b,c){var d=j(a);return t[d]=t[d]||{},t[d][b]=c,c}function f(a){return c(a,"session")}function g(a){return c(a,"adStartHandler")}function h(a,b){return e(a,"adStartHandler",function(){return b.apply({player:a},arguments)})}function i(){return d(function(){return q.getAll()},r+"getAllPlayers")||[]}function j(a){return q.getId(a)}function k(a){var b,c,d=i();for(b=0;b<d.length;b++)if(c=d[b],j(c)===a)return c}function l(a){return d(function(){var b=j(a);return!s[b]&&q.bind(a)?(s[b]=!0,!0):void 0},r+"bindPlayer")}function m(a){d(function(){var b,c,d=i();for(c=0;c<d.length;c++)b=d[c],l(b)&&e(b,"session",a)},r+"collectNew")}function n(a){q=a.isValid()?a:void 0}function o(a){d(function(){var b=k(a);b&&q.unbind(b)},r+"destroyPlayer")}function p(){var a;for(a in s)s.hasOwnProperty(a)&&o(a);s={},t={},q=void 0}var q,r="PlayersAggregrator["+a+"] ",s={},t={};b(r+"Created"),this.getSession=f,this.getAdStartHanler=g,this.setAdStartHanler=h,this.collectNew=m,this.setHandlers=n,this.destory=p},e.PlayersAggregrator.Handlers=function(){this.getAll=null,this.getId=null,this.bind=null,this.unbind=null,this.isValid=function(){var a,b=["getAll","getId","bind","unbind"];for(a=0;a<b.length;a++)if("function"!=typeof this[b[a]])return!1;return!0}},e.InfoTotem=function(c){function d(b){var c=a.document.createElement("div");return c.innerText=c.textContent=b,c.innerHTML}function f(a,b){return b=b+""||"-",b=b.split(",").join(", "),d(a)+': <span class="revee-value">'+d(b)+"</span>"}function g(a){return'<div class="revee-paragraph">'+a+"</div>"}function h(a){var b,c=[];if(e.Helper.Vars.isObject(a))for(b in a)a.hasOwnProperty(b)&&c.push(f(b,a[b]));return c}function i(a){var b,c,d=a.aun,e={li:"Line item ID",cri:"Creative ID",ai:"Advertiser ID",cai:"Campaign ID",sn:"Name of the service",ie:"No ads",sali:"Source agnostic line item ID",sacri:"Source agnostic creative ID"};d+=g(f("Size(s)",a.aus));for(c in e)e.hasOwnProperty(c)&&void 0!==a[c]&&(d+=g(f(e[c],null===a[c]?"-":a[c])));return b=h(a.cc),b.length&&(d+=g("Keywords: <ul><li>"+b.join("</li><li>")+"</li></ul>")),d}function j(){var a,b=[];for(a=0;a<r.length;a++)b.push(i(r[a]));q.adList.innerHTML=b.length?"<ol><li>"+b.join("</li><li>")+"</li></ol>":"N/A"}function k(a){p=a||p,m(),q.headerParameters.innerHTML=[f("Script Version",p.version),f("Build",p.bld),f("Build Date",p.date)].join("<br/>");var b=[f("Site",p.site),f("IP Address",p.ip),f("Page URL",p.pageUrl),f("Referrer",p.referrerUrl),f("Location",p.loc),f("Google Ad Tag",p.googleAdTag),f("Video player",s.length?s.join(", "):"none"),f("Cat",p.cat),f("Sub Cat",p.subcat),f("Title",p.tle),f("PageViews",p.tv),f("Internal PVs",p.iv)],c=h(p.obmisc);p.hasOwnProperty("obsid")&&b.push(f("Outbrain Source Id",p.obsid)),p.hasOwnProperty("obdid")&&b.push(f("Outbrain Doc Id",p.obdid)),c.length&&b.push(g("Outbrain Misc.: <ul><li>"+c.join("</li><li>")+"</li></ul>")),q.mainParameters.innerHTML="<li>"+b.join("</li><li>")+"</li>",j()}function l(){return!!q.container}function m(){l()||(e.Helper.DOM.addInlineStyles("#rev-page-info{position:fixed;top:15px;left:15px;z-index:2147483647;text-align:left;width:65px;transition:all 1s;overflow:hidden;line-height:150%;font-family:open-sans,calibri,sans-serif,Arial;font-size:10px;font-weight:400;-webkit-font-smoothing:antialiased;padding:5px 10px;box-sizing:border-box;direction:ltr}#rev-page-info ul,#rev-page-info ul>li{list-style:disc}#rev-page-info ol,#rev-page-info ul{padding:0 0 0 15px;margin:0;font-size:10px}#rev-page-info ol>li,#rev-page-info ul>li{display:list-item}#rev-page-info .revee-paragraph,#rev-page-info li{padding:0;margin:0;line-height:130%;font-size:10px;color:#666;word-wrap:break-word;font-weight:400}#rev-page-info .revee-paragraph{margin:2px 0}#rev-page-info ol>li{list-style:decimal;font-size:1.2em;font-weight:700;color:#FF8505;padding-bottom:15px}#rev-page-info .revee-value{font-weight:600}#rev-page-info .revee-header{height:75px;cursor:pointer;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOsAAABLCAYAAACRFnA7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTM4MkUzRkE5RDMzMTFFNUE5NzFBQ0FFNjBDRERDMzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTM4MkUzRkI5RDMzMTFFNUE5NzFBQ0FFNjBDRERDMzEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1MzgyRTNGODlEMzMxMUU1QTk3MUFDQUU2MENEREMzMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MzgyRTNGOTlEMzMxMUU1QTk3MUFDQUU2MENEREMzMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pm4Bt4UAABAsSURBVHja7F0HmBXV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) no-repeat;font-size:11px}#rev-page-info.revee-open{width:600px;box-shadow:0 3px 9px rgba(0,0,0,.3);background:#fff}#rev-page-info.revee-open .revee-header{border-radius:0}#rev-page-info .revee-close-button{float:right;font-size:22px;font-weight:700;padding:0 0 15px 15px;color:#FF8505}#rev-page-info .revee-close-button:hover{color:#333}#rev-page-info .revee-header-content{box-sizing:content-box;padding:13px 15px 13px 260px;width:315px}#rev-page-info .revee-data{overflow:auto;width:580px;max-height:425px;transition:opacity 1s;opacity:0}#rev-page-info .revee-data .revee-value{color:#000}#rev-page-info.revee-open .revee-data{opacity:1}#rev-page-info .revee-data-content{padding:15px 5px}#rev-page-info .revee-title{font-size:1.3em;letter-spacing:1px;text-transform:uppercase;font-weight:700;margin:10px 0}"),q.container=e.Helper.DOM.createElement("<div id=rev-page-info><div class=revee-header><div class=revee-header-content><div class=revee-close-button>&times;</div><div class=revee-header-parameters></div></div></div><div class=revee-data><div class=revee-data-content><ul class=revee-main-parameters></ul><div class=revee-title>Ad Units</div><div class=revee-ad-list></div></div></div></div>"),a.document.body.appendChild(q.container),e.Helper.DOM.addEvent(q.container.querySelector(".revee-header"),"click",function(){e.Helper.DOM.hasClass(q.container,"revee-open")?e.Helper.DOM.removeClass(q.container,"revee-open"):e.Helper.DOM.addClass(q.container,"revee-open")}),q.headerParameters=q.container.querySelector(".revee-header-parameters"),q.mainParameters=q.container.querySelector(".revee-main-parameters"),q.adList=q.container.querySelector(".revee-ad-list"))}function n(){q.container&&q.container.parentNode.removeChild(q.container),q={},r=[],s=[],p=void 0}function o(a){var b,c=a.toData(),d=a.getId();if(d)for(b=r.length-1;b>=0;b--)if(r[b].id===d){r[b]=c;break}(!d||0>b)&&(d&&(c.id=d),r.push(c)),l()&&j()}b("InfoTotem: init");var p,q={},r=[],s=[];c.addListener(e.EventAggregator.Event.VideoPlayerActivated,function(a){var b=a.data;-1===e.Helper.Vars.arrayIndexOf(s,b)&&(s.push(b),l()&&k())}),this.update=k,this.reset=n,this.updateAd=o},e.AdsWatcher=function(b,c){function d(){h&&(a.clearInterval(h),h=void 0),k=0,b=c=void 0}function e(a){try{a(b)}catch(c){}}function f(){for(var a=0;a<c.length;a++)e(c[a])}function g(){k=j,h=a.setInterval(function(){k>0&&(k--,f()),0===k&&d()},i)}var h,i=200,j=600,k=0;f(),g(),this.destroy=d},e.Helper.GPT={parseSlotSize:function(a){try{return"string"==typeof a?"unknown":[a.getWidth(),a.getHeight()].join(",")}catch(b){}},getSlotSizes:function(a){var b,c,d=a.getSizes(),e=[];for(b=0;b<d.length;b++)c=this.parseSlotSize(d[b]),c&&e.push(c);return e},getSlotCustomCriterias:function(a){var b,c=a.getTargetingKeys(),d={};for(b=0;b<c.length;b++)d[c[b]]=a.getTargeting(c[b]);return d}},e.Extension.GPT=function(c){function f(a){return"#"+a.getSlotId().getId()}function g(a,b){return!!C[(b?b.getId():"")+f(a)]}function h(a,b){var c,d=f(a);for(C[d]=!0,C[b.getId()+d]=!0,c=0;c<G.length;c++)d===f(G[c])&&(G.splice(c,1),c--)}function i(a,b,c){D[f(a)+"#"+b]=c}function j(a,b){return D[f(a)+"#"+b]}function k(a,b){return d(function(){var c=a.getResponseInformation();return c?c[b]:void 0},"GPT.getResponseInformation")}function l(a,b){d(a,"GPT.slotParsingWithLog - "+b)}function m(a,b,c){l(function(){var d=k(b,c);void 0===d&&(d=j(b,c)),void 0!==d&&a.setOptionalProperty(c,d)},"Optional "+c)}function n(a,b){return d(function(){var c,d,g=new e.Sender.AdInfo;for(l(function(){g.setId(f(a))},"id"),l(function(){g.setAdUnitPath(a.getAdUnitPath())},"unit path"),l(function(){g.addSizes(e.Helper.GPT.getSlotSizes(a))},"sizes"),l(function(){g.addCustomCriterias(e.Helper.GPT.getSlotCustomCriterias(a))},"custom criterias"),l(function(){for(c=0;c<b.length;c++)d={},d[b[c].key]=b[c].val,g.addCustomCriterias(d)},"page level criterias"),c=0;c<E.length;c++)m(g,a,E[c]);return g},"GPT.getAdBySlot")}function o(){var b=[];return d(function(){var c,d,e=a.googletag.pubads(),f=e.getTargetingKeys();for(c=0;c<f.length;c++)d=f[c],b.push({key:d,val:e.getTargeting(d).slice()})},"GPT.getPageLevelKeys"),b}function p(a){var b,c,d=o(),e=[];for(b=0;b<a.length;b++)c=n(a[b],d),c&&e.push(c);return e}function q(b,c){var d,e,f,h=a.googletag.pubads().getSlots(),i=[];for(d=0;d<h.length;d++){switch(e=h[d],f=!1,c){case F.New:f=!g(e);break;case F.BelongSession:f=g(e,b);break;case F.NotBelongSession:f=!g(e,b)}f&&i.push(e)}return i}function r(a){return p(q(a,F.BelongSession))}function s(){for(var a,b,d=q(z,F.BelongSession),g=[],i=[],j={};G.length>0;)b=G[0],g.push(b),j[f(b)]=!0,h(b,z);if(G=[],g.length){for(a=0;a<d.length;a++)b=d[a],j[f(b)]||i.push(b);c.fireEvent(e.EventAggregator.Event.AdUpdate,{session:z,newAds:p(g),oldAds:p(i)})}}function t(c){d(function(){var d,e,f,g=c.slot;for(b("GPT.slotRenderEndedHanlder",c),d=0;d<E.length;d++)e=E[d],f=c[e],void 0!==f&&i(g,e,c[e]);z&&(G.push(g),A&&a.clearTimeout(A),A=a.setTimeout(s,B))},"GPT.slotRenderEndedHanlder")}function u(a){return a.getAcm().pu}function v(a){var b,c,d=a.getId(),f=-1===e.Helper.Vars.arrayIndexOf(H,d),g=f?F.NotBelongSession:F.New;for(f&&(z&&u(z)!==u(a)&&(g=F.New),H.push(d),z=a),c=q(a,g),b=0;b<c.length;b++)h(c[b],a);return p(c)}function w(){d(function(){var c,d,f,g,h=a.googletag.pubads();for(c in h)if(h.hasOwnProperty(c)&&(d=h[c],d&&(f=d.slotRenderEnded,e.Helper.Vars.isArray(f)))){for(g=0;g<f.length;g++)if(f[g]===t){f.splice(g,1),I=!1,b("GPT: event handler removed from googletag.pubads()");break}break}},"GPT.removeSlotRenderEndedHanlder")}function x(){try{a.googletag=a.googletag||{},a.googletag.cmd=a.googletag.cmd||[],a.googletag.cmd.push(function(){try{I||(a.googletag.pubads().addEventListener("slotRenderEnded",t),I=!0)}catch(b){}})}catch(b){}}function y(){I&&w(),z=void 0,C={},D={},A&&(a.clearTimeout(A),A=void 0),G=[],H=[]}var z,A,B=1e3,C={},D={},E=["creativeId","lineItemId","advertiserId","campaignId","serviceName","isEmpty","sourceAgnosticCreativeId","sourceAgnosticLineItemId","isBackfill"],F={New:"new",BelongSession:"session",NotBelongSession:"nosession"},G=[],H=[],I=!1;this.collectNewAds=v,this.collectOldAds=r,this.destroy=y,this.initAdRenderCollector=x},e.Extension.GPT.isIncluded=function(){return a.googletag},e.Extension.Brightcove=function(b){function c(a,c,d){try{var f=["&",";",","],g=new RegExp(f.join("|"),"g"),h={ttid:[String(c.id)],lnid:[String(c.playlistID)],tags:c.tags},i=[],j=e.Helper.AdParser.getUrlParamSeparator(a.adServerURL),k=function(a){return(""+a).replace(g,j)},l=function(b){var d,f=[a.adServerURL];a.playerAdKeys&&f.push(k(a.playerAdKeys)),c.adKeys&&f.push(k(c.adKeys)),b&&f.push(k(b)),d=e.Helper.AdParser.extractAdUrl(f.join(j)),d&&(d.addCustomCriterias(h,!0),i.push(d))};a.playAdOnLoad&&l(a.onLoadAdKeys),a.prerollAds&&l(a.prerollAdKeys),a.midrollAds&&l(a.midrollAdKeys),a.postrollAds&&l(a.postrollAdKeys),b.fireStartVideoAd(d,i)}catch(m){}}function f(a,b,d){try{var e,f=a.getModule(l.VIDEO_PLAYER);try{e=f.getCurrentVideo()}catch(g){}e?c(b,e,d):f.getCurrentVideo(function(a){c(b,a,d)})}catch(g){}}function g(a){d(function(){var b,c=this.player,d=c.instance,e=d.getModule(l.ADVERTISING),g=j.getSession(c);if(a.target===e){try{b=e.getAdPolicy()}catch(h){}b?f(d,b,g):e.getAdPolicy(function(a){f(d,a,g)})}},"Brightcove.adStartHandler",this)}function h(a){try{var b=a.modules||a._modules;return b.hasOwnProperty(l.ADVERTISING)}catch(c){}return!1}function i(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&(c=a[b],h(c)&&d.push({id:b,instance:c}));return d}var j=new e.PlayersAggregrator("Brightcove"),k=new e.PlayersAggregrator.Handlers,l={VIDEO_PLAYER:"videoPlayer",ADVERTISING:"advertising"};k.getAll=function(){var b=[];try{b.push.apply(b,i(a.brightcove.internal._instances))}catch(c){}try{b.push.apply(b,i(a.brightcove.instances))}catch(c){}return b},k.getId=function(a){return a.id},k.bind=function(a){return a.instance.getModule(l.ADVERTISING).addEventListener("adStart",j.setAdStartHanler(a,g)),b.fireEvent(e.EventAggregator.Event.VideoPlayerActivated,"Brightcove"),!0},k.unbind=function(a){a.instance.getModule(l.ADVERTISING).removeEventListener("adStart",j.getAdStartHanler(a))},j.setHandlers(k),this.bindNewPlayers=j.collectNew,this.destroy=j.destory},e.Extension.Brightcove.isIncluded=function(){return!!a.brightcove},e.Extension.VideoJsIma=function(b){function c(){d(function(){var a=this.player,c=[],d=e.Helper.AdParser.extractAdUrl(a.ima3.settings.serverUrl);if(d){try{e.Helper.AdParser.addIma3ExtraMetrics(a.ima3.adsManager.getCurrentAd(),d)}catch(g){}c.push(d)}b.fireStartVideoAd(f.getSession(a),c)},"VideoJsIma.adStartHandler",this)}var f=new e.PlayersAggregrator("VideoJsIma"),g=new e.PlayersAggregrator.Handlers;g.getAll=function(){var b,c=a.videojs.getPlayers(),d=[];for(b in c)c.hasOwnProperty(b)&&c[b]&&d.push(c[b]);return d},g.getId=function(a){return a.id()},g.bind=function(a){return a.on("adstart",f.setAdStartHanler(a,c)),b.fireEvent(e.EventAggregator.Event.VideoPlayerActivated,"VideoJsIma"),!0},g.unbind=function(a){a.off("adstart",f.getAdStartHanler(a))},f.setHandlers(g),this.bindNewPlayers=f.collectNew,this.destroy=f.destory},e.Extension.VideoJsIma.isIncluded=function(){return!(!a.videojs||!a.videojs.ima3)},e.Extension.Ooyala=function(c){function f(a,b){var c,d,e=a.modules;for(c=0;c<e.length;c++)if(d=e[c],d.name===b)return d}function g(a){var b,c=a.adTagUrl,d=a.additionalAdTagParameters;if(!c)return null;if(e.Helper.Vars.isObject(d))for(b in d)d.hasOwnProperty(b)&&(c+="&"+b+"="+d[b]);return e.Helper.AdParser.extractAdUrl(c)}function h(a){return d(function(){return g(a.parameters["google-ima-ads-manager"])},"Ooyala.extractAdFromParameters")}function i(a){try{var b=f(a,"api");if(b)return g(b.instance.metadata[a.embedCode].modules["google-ima-ads-manager"].metadata)}catch(c){}}function j(a){return h(a)||i(a)}function k(){d(function(){b("Ooyala.adStartHandler call");var a=this.player,d=[],e=j(a);e&&d.push(e),c.fireStartVideoAd(l.getSession(a),d)},"Ooyala.adStartHandler",this)}var l=new e.PlayersAggregrator("Ooyala"),m=new e.PlayersAggregrator.Handlers;m.getAll=function(){var b,c,d=[];b=a.OO.__internal.players,b=b||{};for(c in b)b.hasOwnProperty(c)&&b[c]&&d.push(b[c]);return d},m.getId=function(a){return a.elementId},m.bind=function(b){return b.mb.subscribe(a.OO.EVENTS.WILL_PLAY_ADS,"revee",l.setAdStartHanler(b,k)),c.fireEvent(e.EventAggregator.Event.VideoPlayerActivated,"Ooyala"),!0},m.unbind=function(b){b.mb.unsubscribe(a.OO.EVENTS.WILL_PLAY_ADS,"revee",l.getAdStartHanler(b))},l.setHandlers(m),this.bindNewPlayers=l.collectNew,this.destroy=l.destory},e.Extension.Ooyala.isIncluded=function(){return!!a.OO},e.Extension.FoxNews=function(c){function f(a){try{var b=a.amp;if(b&&b.ads)return b}catch(c){}}function g(a){try{return f(a.contentWindow)}catch(b){}}function h(a){return d(function(){return e.Helper.AdParser.extractAdUrl(a.request)},"FoxNews.extractAd")}function i(a){d(function(){b("FoxNews.adStartHandler call");var d=this.player,f=[],g=a.data,i=h(g);if(i){try{i.setOptionalProperty("lineItemId",g.metadata.wrapperAdIds[0]||null)}catch(j){}e.Helper.AdParser.addIma3ExtraMetrics(g.metadata,i),f.push(i)}c.fireStartVideoAd(n.getSession(d),f)},"FoxNews.adStartHandler",this)}function j(){var a,b,c=!1;return navigator&&"Microsoft Internet Explorer"===navigator.appName&&(a=navigator.userAgent,b=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),b.exec(a)&&(c=parseFloat(RegExp.$1)),c&&9>=c&&(c=!0)),c}function k(a){try{var c=a.data;j()&&(c=JSON.parse(c)),"playerReady"===c.data.type&&(b("FoxNews.windowMessageHandler playerReady"),n.collectNew(p))}catch(d){}}function l(b){return p=b,n.collectNew(b),q||(e.Helper.DOM.addEvent(a,"message",k),q=!0),[]}function m(){q&&e.Helper.DOM.removeEvent(a,"message",k),n.destory(),p=void 0,q=!1}var n=new e.PlayersAggregrator("FoxNews"),o=new e.PlayersAggregrator.Handlers,p=null,q=!1;o.getAll=function(){var b,c,d,e=[];if(c=f(a))e.push(c);else for(d=a.document.body.getElementsByTagName("iframe"),b=0;b<d.length;b++)c=g(d[b]),c&&e.push(c);return e},o.getId=function(a){return a.multitonKey},o.bind=function(a){return a.ads.addEventListener("started",n.setAdStartHanler(a,i)),c.fireEvent(e.EventAggregator.Event.VideoPlayerActivated,"FoxNews"),!0},o.unbind=function(a){a.ads.removeEventListener("started",n.getAdStartHanler(a))},n.setHandlers(o),this.collectNewAds=l,this.destroy=m},e.Extension.FoxNews.isIncluded=function(){return!!a.FOX_AkamaiVideo},e.Extension.Ramp=function(c){function f(a){return a.video}function g(a){try{var b=a.MDPOVP._mpf;if(f(b))return b}catch(c){}}function h(b){try{var c=b._config.target;if("#"===c.substr(0,1))return g(a.document.getElementById(c.substr(1)).contentWindow);

}catch(d){}}function i(){d(function(){b("Ramp.adStartHandler call");var a=this.player,d=[],g=a._adtag._indexAdType("all","preroll"),h=g&&0===f(a).currentTime?g:a._adtag._indexAdType("all","postroll")||g;h&&d.push(e.Helper.AdParser.extractAdUrl(h)),c.fireStartVideoAd(k.getSession(a),d)},"Ramp.adStartHandler")}function j(a){return k.collectNew(a),[]}var k=new e.PlayersAggregrator("Ramp"),l=new e.PlayersAggregrator.Handlers,m=0;l.getAll=function(){var b,c,d,e=[];if(c=g(a))e.push(c);else if(d=a.RAMP.apps)for(b=0;b<d.length;b++)c=h(d[b]),c&&e.push(c);return e},l.getId=function(a){var b=f(a),c=b.reveeRampElementId||b.id;return c||(c=b.reveeRampElementId="reveeRamp"+ ++m),c},l.bind=function(a){return f(a).addEventListener("adstart",k.setAdStartHanler(a,i)),c.fireEvent(e.EventAggregator.Event.VideoPlayerActivated,"Ramp"),!0},l.unbind=function(a){f(a).removeEventListener("adstart",k.getAdStartHanler(a))},k.setHandlers(l),this.collectNewAds=j,this.destroy=k.destory},e.Extension.Ramp.isIncluded=function(){return!!a.RAMP},e.Extension.JwPlayer=function(c){function f(a){return a.id||b("JwPlayer: player id not found")}function g(a){var f=this.player;d(function(){b("JwPlayer.adStartHandler call");var d=[],g=e.Helper.AdParser.extractAdUrl(a.tag);g&&(d.push(g),a.ima&&e.Helper.AdParser.addIma3ExtraMetrics(a.ima.ad,g)),c.fireStartVideoAd(h.getSession(f),d)},"JwPlayer.adStartHandler")}var h=new e.PlayersAggregrator("JwPlayer"),i=new e.PlayersAggregrator.Handlers,j=10;i.getAll=function(){var b,c,d=!0,e=[];for(b=0;j>b&&d;b++)c=a.jwplayer(b),d="function"==typeof c.getConfig&&f(c),d&&e.push(c);return e},i.getId=f,i.bind=function(b){var d=h.setAdStartHanler(b,g);return b.on(a.jwplayer.events.JWPLAYER_AD_IMPRESSION,d),c.fireEvent(e.EventAggregator.Event.VideoPlayerActivated,"JwPlayer"),!0},i.unbind=function(b){var c=h.getAdStartHanler(b);"function"==typeof b.off?b.off("adImpression",c):"function"==typeof b.removeEventListener&&b.removeEventListener(a.jwplayer.events.JWPLAYER_AD_IMPRESSION,c)},h.setHandlers(i),this.bindNewPlayers=h.collectNew,this.destroy=h.destory},e.Extension.JwPlayer.isIncluded=function(){return!!a.jwplayer},e.Extension.AOL=function(){function c(a){return-1!==a.indexOf("at.atwola.com/ad")}function f(c){var d,f,g,h,i,j,k=new e.Sender.AdInfo,l={},m=[],n=c.match(/at\.atwola\.com\/(addyn|adlink|adserv|adiframe)\/3\.0\/([\d\.]+)\/(\d+)\/.*\/(.+)/i);if(!n)throw new Error('AOL.parseAdTechTagUrl(): incorrect url - "'+c+'"');for(k.setAdUnitPath("/networkId/"+n[2]),k.addCustomCriterias({adsPl:[n[3]]}),c=n[4],d=c.split(";"),j=0;j<d.length;j++)f=d[j],g=f.split("=",3),2===g.length&&g[0]?(h=a.decodeURIComponent(g[0]),i=a.decodeURIComponent(g[1]),"allowedSizes"===h?m=e.Helper.AdParser.parsePropertyValue(m,i):l[h]=e.Helper.AdParser.parsePropertyValue(l[h]||[],i)):f&&b("AOL.parseAdTechTagUrl(): can't parse the value \""+f+'"');return k.addSizes(m),k.addCustomCriterias(l),k}function g(a){return d(function(){var b,d,e,g=a.src,h=a.nextSibling,i=a.previousElementSibling,j={},k=/var\s+(\w+)\s*=s*"(.+?)"/g;if(g&&c(g)&&(!i||!c(i.src))){if(d=f(g),8===h.nodeType&&(b=h.textContent.toString(),/\bvar aolAdId=/.test(b))){for(;e=k.exec(b);)j[e[1]]=[e[2]];d.addCustomCriterias(j)}return d}},"AOL.extractAdInfoFromScript")}function h(a){var b=[];return d(function(){var c,d,e=a.body.getElementsByTagName("script");for(c=0;c<e.length;c++)d=g(e[c]),d&&b.push(d)},"AOL.extractAdsFromDocument"),b}function i(){var b=[];return d(function(){var c,d;for(b=h(a.document),d=a.document.body.getElementsByTagName("iframe"),c=0;c<d.length;c++)try{b=b.concat(h(d[c].contentDocument))}catch(e){}},"AOL.collectNewAds"),b}function j(){}this.collectNewAds=i,this.destroy=j},e.Extension.AOL.isIncluded=function(){return!1},e.PublicInstance=function(){function a(){return"28.0.0"}function c(a){var b;for(b=0;b<a.length;b++)w.updateAd(a[b])}function f(a){var b={},c=[],d=function(a,b,d){c.push('The required parameter "'+a+'" = "'+d+'" is '+b+'"')},f=function(c){var e=a[c],f=parseInt(e,10);isNaN(f)||String(f)!==String(e)?d(c,"not an integer",f):f>0?b[c]=f:d(c,"not a positive number",f)},g=a.obpu,h=a.obmisc;if(f("obpid"),f("obsid"),f("obdid"),"string"==typeof g?g?b.obpu=g:d("obpu","empty string",g):d("obpu","not a string",g),e.Helper.Vars.isObject(h)?b.obmisc=h:d("obmisc","not an object",h),c.length)throw new Error("Classifier is not defined correctly: "+c.join(", "));return b}function g(a){var c,d=u[a];return d||(c=e.Extension[a],b("Creates extension",a),d=u[a]=new c(v)),d}function h(a,b){var c=a.getId();t[c]||(t[c]=[]),t[c].push(b)}function i(a,b){return d(function(){return a(b)},"collectAdsFromExtension")}function j(a,b){var c,d,f,h=t[a.getId()],j=[];if(h&&h.length)for(c=0;c<h.length;c++)d=(g(h[c])||{})[b],d&&(f=i(d,a),e.Helper.Vars.isArray(f)&&(j=j.concat(f)));return j}function k(a){d(function(){u[a].destroy(),b("resetExtension",a)},"resetExtension")}function l(){try{var a;for(a in u)u.hasOwnProperty(a)&&k(a);u={},t={},w.reset(),y=!1,n()}catch(b){}}function m(a){return j(a,"collectOldAds")}function n(){s&&(s.destroy(),s=void 0)}function o(a){var b,c,d=t[a.getId()],f=[];if(n(),d&&d.length)for(b=0;b<d.length;b++)c=(g(d[b])||{}).bindNewPlayers,c&&f.push(c);f.length&&(s=new e.AdsWatcher(a,f))}function p(i,k){return d(function(){b("call track()",i,k);var d,l,m,n=f(i);"string"==typeof k&&(n.pu=k),n.version=a(),d=new e.Session(n);for(l in e.Extension)e.Extension.hasOwnProperty(l)&&e.Extension[l].isIncluded()&&(h(d,l),"GPT"===l&&g("GPT").initAdRenderCollector());return m=j(d,"collectNewAds"),x.postToIncremental(d,m,[]),o(d),c(m),d},"track")}function q(a,f){return d(function(){if(b("call append()",a.getId(),f),a instanceof e.Session){var d=m(a),g=j(a,"collectNewAds"),h={};"string"==typeof f&&(h.pageUrl=f),x.postToNonIncremental(a,g,d,h),o(a),c(g)}},"append")}function r(){return d(function(){b("call trackAol()");var d=new e.Session({obpid:1,obsid:1,obdid:1,obpu:"aol-test",obmisc:{},version:a()});return c(g("AOL").collectNewAds(d)),w.update(d.getAcm()),d},"trackAol")}var s,t={},u={},v=new e.EventAggregator,w=new e.InfoTotem(v),x=new e.Sender,y=!1;x.setRequestHandler(function(a,c){y=!0,e.Data.send(c,JSON.stringify(a),function(b){var c,d=[];if(y){if(y=!1,!e.Helper.Vars.isObject(b))throw new Error("Incorrect response from server");c=b.adm,e.Helper.Vars.isEmpty(c)?w.reset():(u.GPT&&d.push("GPT"),c.googleAdTag=d.join(", "),c.version=a.version,c.pageUrl=a.pu,c.referrerUrl=a.ru,c.obsid=a.obsid,c.obdid=a.obdid,c.obmisc=a.obmisc,w.update(c))}}),b("hitServer call:",a,c)}),v.addListener(e.EventAggregator.Event.StartVideoAd,function(a){var b=a.data;x.postVideoAd(b.session,b.newAds,m(b.session)),c(b.newAds)}),v.addListener(e.EventAggregator.Event.AdUpdate,function(a){var b=a.data;x.postToAdUpdate(b.session,b.newAds,b.oldAds),c(b.newAds)}),e.Extension.GPT.isIncluded()&&g("GPT").initAdRenderCollector(),this.reset=l,this.track=p,this.trackAol=r,this.append=q,this.getVersion=a,this.setRequestHandler=x.setRequestHandler},a.$revee=new e.PublicInstance,a.$revee.debug=!1,a.$revee.Helper=e.Helper}}(window);