var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_slicedToArray=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){function e(e,t,n){t.cmd.push(function(){T(t,n),e.que.push(function(){e.addAdUnits(n.prebidUnit),O(n,"auction requested",(new Date).getTime()),e.requestBids({bidsBackHandler:function(){e.setTargetingForGPTAsync(),O(n,"requested",(new Date).getTime()),S(t,n.pointer)},adUnitCodes:[n.id]})})})}function t(e,t,n,i){var o=setTimeout(function(){i?S(t,n.pointer):k(t,n)},800);e.cmd.push(function(){clearTimeout(o);var e=r(n);if(e.length){var s=rubicontag.defineSlot(n.address,e[0][1],n.id);t.cmd.push(function(){T(t,n),O(n,"auction requested",(new Date).getTime()),rubicontag.run(function(){rubicontag.setTargetingForGPTSlot(n.pointer),O(n,"requested",(new Date).getTime()),!1===i?A(t,n):S(t,n.pointer)},{slots:[s]})})}})}function n(e,t){var n=t.prebid.siteName.split("-")[1],i={code:t.id,sizes:t.sizes.base,bids:[{bidder:"rubicon",params:{accountId:"11092",siteId:t.prebid.siteId,zoneId:t.prebid.zoneId,keywords:[n],visitor:{city:n,sections:e}}}]};return t.sizes.bidding&&(i.sizeMapping=Object.entries(t.sizes.bidding).map(function(e){return{minWidth:parseInt(e[0],10),sizes:e[1]}}).sort(function(e,t){return parseInt(e.minWidth,10)<parseInt(t.minWidth,10)})),i}function i(e){var t={xs:[320,767],sm:[768,991],md:[992,1199],lg:[1200,0]};return e=parseInt(e,10),isNaN(e)?"xs":Object.entries(t).reduce(function(t,n){var i=_slicedToArray(n,2),o=i[0],r=i[1];return e>r[0]&&(e<r[1]||0===r[1])?o:t},"xs")}function o(){var e={hub:["hub-page"],feature:["seo-page","feature-page","package-page"],search:["search-page"],evf:["event-page","venue-page","film-page","occurence-page"],cityhome:["cityhome-page"]},t=Object.entries(e).filter(function(e){return e[1].some(function(e){return document.body.classList.contains(e)})});return t.length?t[0][0]:"default"}function r(e){return Object.entries(e.sizes.bidding).filter(function(e){return e[0]<=document.body.offsetWidth}).sort(function(e,t){return parseInt(e[0],10)<parseInt(t[0],10)})}function s(e){var t={feature:[".main_content > .feature__article",".main_content > .tabs",".main_content > .zone"],hub:["#content > .zone","#content > .region--mosaic"],cityhome:["#content > .v5-zone"]};return t[e]?document.querySelectorAll(t[e].join(",")):[]}function a(e){var t=i(document.body.offsetWidth);if(t===e.currentBreakpoint)return!1;e.currentBreakpoint=t,p(e.slots,t)}function d(){navigator.userAgent.match(/Trident.*rv[ :]*11\./)}function u(e,t,n){return["function"!=typeof e.shouldAdvertRender||e.shouldAdvertRender(),!Array.isArray(e.breakpoints)||-1!==e.breakpoints.indexOf(i(document.body.offsetWidth)),-1!==["oop","replaceable","skin","inline"].indexOf(e.type)||c(e.elem,t,n)].every(function(e){return e})}function c(e,t,n){var i=!!(e.offsetWidth&&e.offsetHeight&&e.getClientRects().length);if(!i||!n)return i;var o=e.getBoundingClientRect(),r=o.top<=window.innerHeight+parseInt(t,10),s=o.bottom>=0-parseInt(t,10);return r&&s}function l(n){var o=n.lazyLoad;if("object"===_typeof(n.lazyLoad)&&(o=n.lazyLoad[i(document.body.offsetWidth)]),o=Number(o)||0,u(n,o,!0))return n.prebidUnit?e(window.pbjs,window.googletag,n):void 0!==n.sizes.bidding&&window.rubicontag?t(window.rubicontag,window.googletag,n,!1):k(window.googletag,n),!0}function f(e){e.lazyLoadSlots=e.lazyLoadSlots.filter(function(e){return!l(e)})}function g(e,t,n){var i=function(t){return t.filter(function(t){return _(e,t.type)})};return B(z,n||function(e){return e},i,Object.values)(t)}function p(e,t){window.googletag.cmd.push(function(){B(z,function(e){return e.filter(function(e){return _(e.breakpoints,t)})},Object.values)(e)})}function b(e,t){t.isEmpty=e.isEmpty,"function"==typeof t.onAfterRender&&t.onAfterRender(e)}function m(e,t){O(e.getSlot(t.slot.getSlotElementId()),"impressionViewable",(new Date).getTime())}function y(e,t){O(e.getSlot(t.slot.getSlotElementId()),"creativeLoaded",(new Date).getTime())}function h(e,t){var n=e.getSlot(t.slot.getSlotElementId());O(n,"creativeInjected",(new Date).getTime()),b(t,n)}function v(e){for(;e.length;){var t=e.shift();"function"==typeof t&&t()}}function w(e,t){e.filter(function(e){return e.id===t.id}).length||e.push(t)}function S(e,t){d()&&googletag.pubads().clear([t]),googletag.pubads().refresh([t])}function T(e,t){return null===t.pointer&&("oop"===t.type?t.pointer=e.defineOutOfPageSlot(t.address,t.id):t.pointer=e.defineSlot(t.address,t.sizes.base,t.id),t.pointer&&(t.sizes.responsive&&t.pointer.defineSizeMapping(t.sizes.responsive),t.nativeKey&&t.pointer.setTargeting("strnativekey",t.nativeKey),t.pointer.setTargeting("type",t.sharethroughType?t.sharethroughType:t.group),t.pointer.addService(e.pubads())),t)}function A(e,t){t.pointer&&(e.enableServices(),e.display(t.id))}function z(n){return n.map(function(n){return n.pointer?!!c(n.elem,0)&&(n.prebidUnit?e(window.pbjs,window.googletag,n):void 0!==n.sizes.bidding&&window.rubicontag?t(window.rubicontag,window.googletag,n,!0):S(window.googletag,n.pointer),!0):window._TOAds.loadSlot(window.googletag,window.pbjs,n)}).reduce(function(e,t){return e+(t?1:0)},0)}function k(e,t){e.cmd.push(function(){T(e,t),O(t,"requested",(new Date).getTime()),A(e,t)})}function L(e){var t=!1;return function(n){t||(t=!0,requestAnimationFrame(function(){e(n),t=!1}))}}function O(e,t,n){e.metrics[t]=n}function _(e,t){return!Array.isArray(e)||-1!==e.indexOf(t)}var E=!!window._TOAds&&window._TOAds.cmd,I=!!window._TOAds&&window._TOAds.preventSlotTypes,j={mpu:{base:[300,250],bidding:{320:[[300,250]]}},header:{bidding:{1200:[[728,90],[970,250]],320:[[320,50]]},base:[320,50],responsive:[[[994,50],[[728,90],[970,90],[900,250],[940,250],[970,250],[994,250],[970,415]]],[[992,50],[[728,90],[970,90],[900,250],[940,250],[970,250],[970,415]]],[[768,50],[[728,90],[320,50],[300,100]]],[[320,50],[[320,50],[300,100]]]]},footer:{bidding:{992:[[728,90],[970,250]],768:[[728,90]],320:[[320,50]]},base:[320,50],responsive:[[[994,50],[[728,90],[970,90],[900,250],[940,250],[970,250],[994,250],[970,415]]],[[992,50],[[728,90],[970,90],[900,250],[940,250],[970,250],[970,415]]],[[768,50],[[728,90],[320,50],[300,100]]],[[320,50],[[320,50]]]]},side:{base:[300,600],bidding:{992:[[300,600],[300,250]]},responsive:[[[992,250],[[300,600],[300,250],[160,600]]],[[320,50],[]]]},body:{base:[300,250],bidding:{800:[[728,90],[300,250]],320:[[300,250]]},responsive:[[[800,50],[[728,90],[300,250]]],[[320,50],[[300,250]]]]},bodySlim:{base:[300,250],bidding:{320:[300,250]},responsive:[[[320,50],[[300,250]]]]},skin:{base:[1,1]},oop:{base:[0,0]},mobileBackground:{base:[300,50]},mobileCta:{base:[300,25]},replaceable:{base:[5,5]},inline:{base:[1,1]},featureList:{bidding:{1200:[[728,90]],320:[[300,250]]},base:[300,250],responsive:[[[1200,50],[[728,90]]],[[320,50],[[300,250]]]]},promo:{bidding:{992:[[300,250]]},base:[300,250],responsive:[[[992,250],[[300,250]]],[[320,50],[]]]}},B=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})},x={slotRenderEnded:h,impressionViewable:m,slotOnload:y},q=function(e){return function(t,n){Object.entries(e).forEach(function(e){var i=_slicedToArray(e,2),o=i[0],r=i[1];n.pubads().addEventListener(o,function(e){return r(t,e)})})}}(x),P=L(f),W=L(a);window._TOAds={cmd:[],currentBreakpoint:null,footerBound:!1,googleTag:null,lazyLoadSlots:[],preventSlotTypes:[],slots:{},tags:{},init:function(e,t,n){if(!e.preventAds){t&&Array.isArray(t)&&(this.cmd=t),n&&Array.isArray(n)&&(this.preventSlotTypes=n);var i=this,o=this.cmd.push;v(this.cmd),this.cmd.push=function(){var e=o.apply(i.cmd,[].slice.call(arguments,0));return v(i.cmd),e},e.addEventListener("scroll",function(){return P(i)},!1),e.addEventListener("resize",function(){return W(i)},!1)}},bindGPTEvents:function(e){q(this,e)},generatePageTagging:function(e){var t=e.gptParams,n=e.windowWidth,i=e.krux,o=e.referrer,r=document.querySelectorAll('[data-module="slider"]').length>0,s=Object.assign({},t);if(s.inskin_yes=(n>=375&&n<=600||n>=1410).toString(),r&&(s.kicker=s.kicker||[],s.kicker.push("has_slideshow")),o){var a=document.createElement("a");a.setAttribute("href",o),s.ref=a.hostname}return void 0!==i&&(s.ksg=i.segments||void 0,s.kuid=i.user||void 0),s},generateSlotConfig:function(e){var t=e.id;if(this.currentBreakpoint||(this.currentBreakpoint=i(document.body.offsetWidth)),"string"!=typeof t&&!t)throw new Error("Invalid slotId provided");var o=document.getElementById(t);if(!o||!j.hasOwnProperty(e.type))throw new Error("There was an error whilst generating the slot configuration");var r=Object.assign({address:"/"+[this.tags.network_code,this.tags.host,this.tags.zone,e.group,this.tags.page].join("/"),elem:o,id:t,lazyLoad:!1,metrics:{},pointer:null,sizes:j[e.type]},e);return r.sizes.bidding&&e.prebid&&(r.prebidUnit=n(this.tags.zone,r)),this.slots[t]=r,r},getSlot:function(e){return this.slots[e]||{}},isPrevented:function(e){return-1!==this.preventSlotTypes.indexOf(e)},loadMpus:function(){var e=function(e){return e.filter(function(e){var t=e.elem.offsetHeight/2||0;return c(e.elem,0-t,!0)})};g(["side"],this.slots,e)},loadListAds:function(){g(["featureList"],this.slots)},loadStickyFooterAd:function(){var e=document.querySelector(".js-sticky-footer-wrapper");if(e&&(e.classList.remove("xs-hide"),g(["footer"],this.slots),!this.footerBound)){e.querySelector(".ad__close").addEventListener("click",function(){e.classList.add("xs-hide")},!1)}},loadPromo:function(e,t){var n=-1!==e.size.indexOf(250),i=this.getSlot(t);i.elem.classList.toggle("xs-hide",!n),n&&this.loadSlot(window.googletag,window.pbjs,i)},loadSlot:function(n,i,o){if(!o||!o.id)throw new Error("Invalid slot paramters provided");return o.onBeforeLoad&&"function"==typeof o.onBeforeLoad&&o.onBeforeLoad(),!1!==o.lazyLoad?void w(this.lazyLoadSlots,o):u(o,0,!1)?void 0!==o.prebidUnit?void e(i,n,o):void 0!==o.sizes.bidding&&window.rubicontag?void t(window.rubicontag,n,o,!1):(k(n,o),!0):void 0},placeMobileUnderlay:function(e){var t=o(),n=s(t),i=document.querySelector(e),r=1;if(void 0!==n&&n.length){"feature"===t&&1===n.length?r=0:"cityhome"===t&&(r=n.length>3?3:2);var a=n.item(r);if(a){a.classList.add("has-mobile-cta"),a.parentNode.insertBefore(i,a.nextSibling);n.item(r+1)&&n.item(r+1).classList.add("follows-mobile-cta")}}},setMobileBackgroundClasses:function(e){e.isEmpty||document.body.classList.add("has_sticky_ad")},setSharethroughClasses:function(e){var t=this.getSlot(e.slot.getSlotElementId()),n=t.elem,i=n.children,o=i.length;if(e.isEmpty){n.style.removeProperty("display");for(var r=0;r<o;r++)i[r].style.removeProperty("display")}else for(var s=0;s<o;s++)-1===i[s].id.indexOf("google")&&(i[s].classList.add("xs-hide"),n.classList.remove("no_image"))},setSkinAdClasses:function(e){if(!e.isEmpty&&(document.body.classList.add("has_skin"),e.size.every(function(e){return 1===e}))){var t=e.slot.getSlotElementId();document.getElementById(t).classList.add("ad-skin--fullscreen")}},setTagging:function(e){return this.tags=e,function(t){Object.entries(e).forEach(function(e){var n=_slicedToArray(e,2),i=n[0],o=n[1];i&&void 0!==(void 0===o?"undefined":_typeof(o))&&t.pubads().setTargeting(i,o)}),t.pubads().collapseEmptyDivs()}}},window._TOAds.init(window,E,I)}();