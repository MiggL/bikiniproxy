function Stub(){this.DOMReady=function(e){$(document).ready(function(){$.BM.start("scroller",e); eraseAllCookiesOnDomain(); })}}$=$,function(e){({}).__proto__?(e.namespace=function(o){e.fn[o]=function(){return this.__proto__=arguments.callee,this},e.fn[o].__proto__=e.fn},e.fn.$=function(){return this.__proto__=e.fn,this}):(e.namespace=function(o){e.fn[o]=function(){return this.extend(arguments.callee)}},e.fn.$=function(){var o=this.length;return this.extend(e.fn),this.length=o,this})}(jQuery),$.BM={},$.namespace("BM"),function(e){e.BM.components={},e.BM.filename="javascripts/v2/core/core.js",e.BM.debugMode=!1,e.BM.buildDate=releaseDate,e.BM.addComponent=function(o,n,s,t){if(void 0!==this.components[o])throw Error("$.BM.addComponent: Component already exists");this.components[o]={url:n,loaded:!1,cache:s,execute:t},e.BM.debug("$.BM.addComponent: A component has been added: ",o,e.BM.debug.debugVerbosity.medium)},e.BM.useComponents=function(o,n){e.BM.debug("$.BM.useComponents: About to load different components: ",o,e.BM.debug.debugVerbosity.high),componentList=o.split(",");for(var s=0;s<componentList.length;s++){var t=componentList[s].replace(/^\s*/,"").replace(/\s*$/,"");s==componentList.length-1?e.BM.useComponent(t,n):e.BM.useComponent(t,null)}},e.BM.useComponent=function(o,n){e.BM.debug("$.BM.useComponent: About to load component: ",o,e.BM.debug.debugVerbosity.medium);var s=this.components[o];if(void 0===s)throw"An unknown component has been detected, the component name is: "+o;return s&&s.loaded===!0||s.url==e.BM.filename?(e.BM.debug("$.BM.useComponent: Component was already loaded or refers to this file so only execute the callback: "+o,null,e.BM.debug.debugVerbosity.high),s.loaded=!0,void(n&&(n(),e.BM.debug("$.BM.useComponent: Call back finished of component: "+o,null,e.BM.debug.debugVerbosity.high)))):void(s&&s.loaded===!1&&(e.ajax({async:!0,type:"GET",url:s.url+"?rd="+e.BM.buildDate,dataType:"script",cache:s.cache&&!e.BM.debugMode,error:function(){throw Error("$.BM.useComponent: JavaScript was not found for component: "+o)},success:function(){if(s.loaded=!0,e.BM.debug("$.BM.useComponent: Component has been loaded: "+o,null,e.BM.debug.debugVerbosity.medium),n){e.BM.debug("$.BM.useComponent: About to execute callback of component: "+o,null,e.BM.debug.debugVerbosity.high);try{n()}catch(t){e.BM.debug("useComponent failed: "+o,null,e.BM.debug.debugVerbosity.medium),ga("send","event","ErrorLog","useComponent: Fail",o),window.setTimeout(function(){n(),ga("send","event","ErrorLog","useComponent: Success",o)},1e3)}e.BM.debug("$.BM.useComponent: Finish executing callback of component: "+o,null,e.BM.debug.debugVerbosity.high)}}}),e.BM.debug("$.BM.useComponent: Finished adding component: "+o,null,e.BM.debug.debugVerbosity.medium)))},e.BM.start=function(o,n,s){e.BM.debug("$.BM.start: About to start component: "+o,null,e.BM.debug.debugVerbosity.medium);var t=this.components[o];e.BM.useComponents(o,function(){n&&(e.BM.debug("$.BM.start: About to execute callback of component: "+o,null,e.BM.debug.debugVerbosity.high),n(),e.BM.debug("$.BM.start: Finished executing callback of component: "+o,null,e.BM.debug.debugVerbosity.high)),t.execute&&(e.BM.debug("$.BM.start: Start method exists, now going to execute it from component: "+o,null,e.BM.debug.debugVerbosity.high),t.execute(),e.BM.debug("$.BM.start: Finished executing start method of component: "+o,null,e.BM.debug.debugVerbosity.high))}),s&&(e.BM.debug("$.BM.start: Execute callback function exists, going to execute it from component: "+o,null,e.BM.debug.debugVerbosity.high),s(),e.BM.debug("$.BM.start: Finished executing callback function from component: "+o,null,e.BM.debug.debugVerbosity.high)),e.BM.debug("$.BM.start: method finished: "+o,null,e.BM.debug.debugVerbosity.medium)},e.BM.preloader=function(){e.BM.debug("$.BM.preloader: Start preloader.",null,e.BM.debug.debugVerbosity.medium);var o=e.BM.components;for(var n in o){o[n].url;o[n].loaded===!1?(e.BM.debug("$.BM.preloader: About to load: "+o[n],null,e.BM.debug.debugVerbosity.high),e.BM.useComponent(n,function(){o[n].loaded=!0})):e.BM.debug("$.BM.preloader: Component was already loaded: "+o[n],null,e.BM.debug.debugVerbosity.high)}}}(jQuery),function(e){e.BM.debug=function(o,n,s){return"undefined"!=typeof console&&e.BM.debug.debugOn?void((null===s||s<=e.BM.debug.currentDebugVerbosity)&&(null!==n?console.log(o,n):console.log(o))):!1},e.BM.debug.debugVerbosity={low:0,medium:1,high:2},e.BM.debug.currentDebugVerbosity=e.BM.debug.debugVerbosity.low,e.BM.debug.debugOn=!0,e.BM.swearWords="sex->*****,porn->*****,fuck->*****,shit->*****,pussy->*****, cum ->*****, cunt ->*****",e.BM.bitlyLogin="britishmuseum",e.BM.bitlyApiKey="R_683252076026af4112aea8b9d2e778cc"}(jQuery),$.BM.addComponent("googleanalytics","javascripts/v2/core/googleanalytics.js",!0),$.BM.addComponent("niftycorners","javascripts/v2/core/niftycorners.js",!0,function(){$.BM.niftyCorners()}),$.BM.addComponent("sifr","javascripts/v2/core/sifr/sifr.js",!0,function(){$.BM.sIFR()}),$.BM.addComponent("tooltips","javascripts/v2/core/tooltips.js",!0),$.BM.addComponent("searchBox","javascripts/v2/core/searchBox.js",!0),$.BM.addComponent("search","javascripts/v2/core/search.js",!0),$.BM.addComponent("headerTabIndex","javascripts/v2/core/headerTabIndex.js",!0),$.BM.addComponent("scrollTo","javascripts/v2/core/scrollTo.js",!0),$.BM.addComponent("hideshow","javascripts/v2/components/ui/hideshow.js",!0),$.BM.addComponent("randomise","javascripts/v2/components/ui/randomise.js",!0),$.BM.addComponent("scroller","javascripts/v2/components/ui/scroller.js",!0),$.BM.addComponent("slideshow","javascripts/v2/components/ui/slideshow.js",!0,function(){$.BM.Slideshow()}),$.BM.addComponent("slideshowExhib","javascripts/v2/components/ui/SlideshowExhibV1.1.js",!0,function(){$.BM.SlideshowExhib()}),$.BM.addComponent("slideshowMod","javascripts/v2/components/ui/slideshow_mod.js",!0),$.BM.addComponent("switchContent","javascripts/v2/components/ui/switchContent.js",!0),$.BM.addComponent("exploreaccessibility","javascripts/v2/components/ui/exploreaccessibility.js",!0,function(){$.BM.exploreAccessibility()}),$.BM.addComponent("immediacyLanguage","javascripts/v2/components/ui/immediacyLanguage.js",!0),$.BM.addComponent("immediacyLanguageEditor","javascripts/v2/components/ui/immediacyLanguageEditor.js",!0),$.BM.addComponent("seadragon","javascripts/v2/components/ui/seadragon.js",!0),$.BM.addComponent("deepZoom","javascripts/v2/components/ui/deepZoom.js",!0),$.BM.addComponent("mapping","javascripts/v2/components/ui/mapping.js",!0),$.BM.addComponent("accordionMenu","javascripts/v2/components/ui/accordionMenu.js",!0),$.BM.addComponent("collapsedContent","javascripts/v2/components/ui/collapsedContent.js",!0),$.BM.addComponent("accordionContent","javascripts/v2/components/ui/accordionContent.js",!0),$.BM.addComponent("dropdownMenu","javascripts/v2/components/ui/dropdownMenu.js",!0),$.BM.addComponent("magnifier","javascripts/v2/components/ui/imageMagnifier.js",!0),$.BM.addComponent("tabbedMenu","javascripts/v2/components/ui/tabbedMenu.js",!0),$.BM.addComponent("imageGallery","javascripts/v2/components/ui/imageGallery.js",!0),$.BM.addComponent("galleryLightbox","javascripts/v2/components/ui/galleryLightbox.js",!0),$.BM.addComponent("paging","javascripts/v2/components/ui/paging.js",!0),$.BM.addComponent("panorama","javascripts/v2/components/ui/jquery.panorama.js",!0),$.BM.addComponent("locaytaUAT","http://esp-uat.locayta.com/zones/fac10929-f421-4265-91f7-38d44fb4b6b0.js",!0),$.BM.addComponent("locaytaWIP","http://esp-wip.locayta.com/zones/fac10929-f421-4265-91f7-38d44fb4b6b0.js",!0),$.BM.addComponent("locayta","http://esp.locayta.com/zones/fac10929-f421-4265-91f7-38d44fb4b6b0.js",!0),$.BM.addComponent("shopOnlineWidget","javascripts/v2/components/ui/locayta.js",!0),$.BM.addComponent("textext","javascripts/v2/components/ui/jquery.textext.1.2.0.js",!0),$.BM.addComponent("autoSuggest","javascripts/v2/jquery/plugins/jquery.autoSuggest.js",!0),$.BM.addComponent("ddslick","javascripts/v2/jquery/plugins/jquery.ddslick.js",!0),$.BM.addComponent("formidable","javascripts/v2/jquery/plugins/jquery.formidable-0.1.js",!0),$.BM.addComponent("uniform","javascripts/v2/jquery/plugins/jquery.uniform.js",!0),$.BM.addComponent("acActiveContent","javascripts/v2/components/media/AC_RunActiveContent.js",!0),$.BM.addComponent("audioPlayer","javascripts/v2/components/media/audio-player.js",!0),$.BM.addComponent("swfObject","javascripts/v2/components/media/swfobject.js",!0),$.BM.addComponent("swfObject2","javascripts/v2/components/media/swfobject_v2.js",!0),$.BM.addComponent("swfObject-2.2","javascripts/v2/components/media/swfobject_v2.2.js",!0),$.BM.addComponent("swfmacmousewheel-2","javascripts/v2/components/media/swfmacmousewheel-2.js",!0),$.BM.addComponent("flashChecker","javascripts/v2/components/media/FlashChecker.js",!0,function(){$.BM.FlashChecker()}),$.BM.addComponent("nowPlaying","javascripts/v2/projectSpecific/channel/nowPlaying.js",!0),$.BM.addComponent("nebanum","javascripts/v2/projectSpecific/nebanum/nebanum.js",!0),$.BM.addComponent("floorplan","javascripts/v2/components/misc/floorplan.js",!0,function(){$.BM.Floorplan()}),$.BM.addComponent("sitemap","javascripts/v2/components/misc/sitemap.js",!0,function(){$.BM.Sitemap()}),$.BM.addComponent("survey","javascripts/v2/components/misc/survey.js",!0),$.BM.addComponent("shareComponents","http://s7.addthis.com/js/152/addthis_widget.js",!0),$.BM.addComponent("exploreEnhance","javascripts/v2/components/misc/exploreEnhance.js",!0,function(){$().BM.exploreEnhance()}),$.BM.addComponent("surveyV2","javascripts/v2/components/misc/surveyV2.js",!0),$.BM.addComponent("elastic","javascripts/v2/jquery/ui/jquery.elastic.js",!0),$.BM.addComponent("twitter","javascripts/v2/components/socialMedia/jquery.juitterBM.js",!0),$.BM.addComponent("flickrBadge","javascripts/v2/components/socialMedia/flickrBadge.js",!0),$.BM.addComponent("instagram","javascripts/v2/components/socialMedia/instagram.js",!0),$.BM.addComponent("share","javascripts/v2/components/socialMedia/share.js",!0),$.BM.addComponent("shareWidget","javascripts/v2/components/socialMedia/shareWidget.js",!0),$.BM.addComponent("deliciousCount","javascripts/v2/components/socialMedia/deliciousCount.js",!0),$.BM.addComponent("col_dateVal","javascripts/v2/col/col_dateVal_v1.1.js",!0),$.BM.addComponent("col_ajax","javascripts/v2/col/colAjax.js",!0),$.BM.addComponent("col_objectOps","javascripts/v2/col/objectOps.js",!0),$.BM.addComponent("col_advSearch","javascripts/v2/col/advsearch.js",!0),$.BM.addComponent("dimension","javascripts/v2/jquery/plugins/jquery.dimensions.js",!0),$.BM.addComponent("hashchange","javascripts/v2/jquery/plugins/jquery.hashchange.js",!0),$.BM.addComponent("ecatalogueImageLayout","javascripts/v2/col/ecatalogueImageLayout.js",!0),$.BM.addComponent("collectionsConservation","javascripts/v2/col/collectionsConservation.js",!0,function(){$.BM.collectionsConservation()}),$.BM.addComponent("colSearch","javascripts/v2/col/search.js",!0),$.BM.addComponent("colAPI","javascripts/v2/col/BM.CollectionSearch.js",!0),$.BM.addComponent("collectionOnlineSearch","javascripts/v2/col/collectionOnlineSearch.js",!0),$.BM.addComponent("lightbox","javascripts/v2/jquery/plugins/jquery.lightbox-0.5.js",!0),$.BM.addComponent("thickbox","javascripts/v2/jquery/plugins/jquery.thickbox.js",!0),$.BM.addComponent("eachDelay","javascripts/v2/jquery/plugins/jquery.eachDelay.js",!0),$.BM.addComponent("annotate","javascripts/v2/jquery/plugins/jquery.annotate.js",!0),$.BM.addComponent("jcarousel","javascripts/v2/jquery/plugins/jquery.jcarousel.js",!0),$.BM.addComponent("cookies","javascripts/v2/jquery/plugins/jquery.cookie.js",!0),$.BM.addComponent("innerfade","javascripts/v2/jquery/plugins/jquery.innerfade.js",!0),$.BM.addComponent("pngfix","javascripts/v2/core/pngfix.js",!0,function(){$("div#headerMenu").BM().pngFix()}),$.BM.addComponent("jQueryColor","javascripts/v2/jquery/plugins/jquery.color-2.1.2.min.js",!0),$.BM.addComponent("fx","javascripts/v2/jquery/plugins/fx.js",!0),$.BM.addComponent("fx.slide","javascripts/v2/jquery/plugins/fx.slide.js",!0),$.BM.addComponent("randomNumber","javascripts/v2/jquery/plugins/jquery.random-number.js",!0),$.BM.addComponent("lazyload","javascripts/v2/jquery/plugins/jquery.lazyload.js",!0),$.BM.addComponent("jqueryUICore","javascripts/v2/jquery/ui/packed/ui.core.packed.js",!0),$.BM.addComponent("jqueryUICore1.6","javascripts/v2/jquery/ui/jquery.ui.1.6.js",!0),$.BM.addComponent("jqueryUITabs","javascripts/v2/jquery/ui/packed/ui.tabs.packed.js",!0),$.BM.addComponent("datepicker","javascripts/v2/jquery/ui/packed/ui.datepicker.packed.js",!0),$.BM.addComponent("datepicker1.6","javascripts/v2/jquery/ui/ui.datepicker.1.6.js",!0),$.BM.addComponent("mobileNavigation","javascripts/v2/components/ui/mobileNavigation.js",!0),$.BM.addComponent("mobileHeaderMenu","javascripts/v2/components/ui/mobileHeaderMenu.js",!0),$.BM.addComponent("mobileMoveMe","javascripts/v2/components/ui/mobileMoveMe.js",!0),$.BM.addComponent("jTouch","javascripts/v2/jquery/plugins/jquery.touchwipe.1.1.1.js",!0),$.BM.addComponent("swipe","javascripts/v2/jquery/plugins/jquery.swipe.js",!0),$.BM.addComponent("jGestures","javascripts/v2/jquery/plugins/jgestures.js",!0),$.BM.addComponent("mobileFavourites","javascripts/v2/components/ui/mobileFavourites.js",!0),$.BM.addComponent("trailAHOW","javascripts/v2/projectSpecific/trails/ahow.js",!0),$.BM.addComponent("json2","javascripts/v2/components/ui/json2.js",!0),$.BM.addComponent("imageFader","javascripts/v2/jquery/plugins/jquery.cycle.lite.js",!0),$.BM.addComponent("cycle2","javascripts/v2/jquery/plugins/jquery.cycle2.min.js",!0),$(document).ready(function(){$("body").addClass("js"),$("body.width_960").length?$.browser.msie&&($("div.mod p:last-child").addClass("noBtm"),$.BM.start("json2")):$.BM.start("niftycorners"),$.BM.start("googleanalytics"),$.BM.start("surveyV2"),$.BM.start("search"),$.BM.start("headerTabIndex"),$.BM.start("shareWidget"),$("body.channel").length&&($.BM.start("lazyload",function(){$("img").BM().lazyload({threshold:176,placeholder:"images/transparent.gif"})}),$.BM.start("nowPlaying")),0!==$(".share").length&&$.BM.start("share"),$.BM.useComponents("cookies",function(){var e=$.cookie("bm_mobile");"yes"==e&&($.BM.start("mobileHeaderMenu"),$.BM.start("mobileNavigation"),$.BM.start("mobileFavourites"),$(".collapsed h2").toggle(function(){$(this).parent().addClass("open")},function(){$(this).parent().removeClass("open")}),$.BM.start("mobileMoveMe",function(){$(".mobileMoveMe").BM().mobileMoveMe({position:"after"})}))})});var DOMAssistant=new Stub; function eraseCookie(name){ document.cookie = name + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain=" + document.domain + "; path=/"; } function eraseAllCookiesOnDomain() { var cookies = document.cookie.split(";"); for (var i = 0; i < cookies.length; i++) eraseCookie(cookies[i].split("=")[0]); }