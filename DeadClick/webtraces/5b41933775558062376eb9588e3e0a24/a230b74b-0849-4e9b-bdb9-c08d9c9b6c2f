define(["jquery","underscore","backbone","libs/plugins/jquery.mobile.zoom.min"],function(a,b,c){var d=c.View.extend({events:{"click .search-link":"toggle"},toggled:!1,initialize:function(c){b.extend(this,c.options),this.toggled=this.$el.hasClass(this.openClass),this.$input=this.$(this.inputSelector),this.preventFocusZoom&&this.$input.bind("focus",function(){a.mobile.zoom.disable(!0)}).bind("blur",function(){a.mobile.zoom.enable(!0)})},preventOverlap:function(){a("#site-nav").removeClass("is-open")},toggle:function(a){a.preventDefault(),this.toggled=!this.toggled,this.$el.toggleClass(this.openClass,this.toggled),this.toggled===!0?this.$input.focus():this.$input.blur(),this.preventOverlap()}},{defaults:{selector:"#site-search",inputSelector:"#header-search",openClass:"is-open",preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1}}),e={SiteSearch:d,init:function(c){return c=b.extend({},d.defaults,c),a(c.selector).each(function(){a.data(this,"sitesearch",new d({el:this,options:c}))})}};return e})