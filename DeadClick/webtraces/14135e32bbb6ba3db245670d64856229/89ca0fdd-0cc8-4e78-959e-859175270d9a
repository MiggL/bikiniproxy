/*** cookie.js ***/
$.extend({cookie:function(key,value,options){if(arguments.length>1&&String(value)!=="[object Object]"){options=jQuery.extend({},options);if(value===null||value===undefined){options.expires=-1;}if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days);}value=String(value);return(document.cookie=[encodeURIComponent(key),"=",options.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join(""));}options=value||{};var result,decode=options.raw?function(s){return s;}:decodeURIComponent;return(result=new RegExp("(?:^|; )"+encodeURIComponent(key)+"=([^;]*)").exec(document.cookie))?decode(result[1]):null;}});
/*** getAllParams.js ***/
$.extend({getAllParams:function(string){string=string||window.location.href;var params=string.slice(string.indexOf("?")+1).split("&"),paramsObject={};if(params[0]===string){return{};}$.each(params,function(index,value){var pair=value.split("=");paramsObject[pair[0]]=(typeof pair[1]==="undefined")?null:pair[1];});return paramsObject;},getParam:function(name,string){return $.getAllParams(string)[name];}});
/*** getCampaignName.js ***/
(function(window,document,$,undefined){$.extend({getCampaignName:function(){var campaign;if(campaign=$.getParam("__campaign")){if(/^[a-zA-Z0-9_]*$/.test(campaign)){$.cookie("__campaign",campaign);}}return $.cookie("__campaign");}});})(this,this.document,this.jQuery);
/*** accordionTabs.js ***/
$.fn.extend({accordionTabs:function(options){var context=$(this);var defaults={"tabClass":".tab","animationSpeed":500,"direction":"left"};options=$.extend(defaults,options);var tabs=$(options.tabClass,context);context.attr("data-width",context.width());options.direction=context.closest("body").hasClass("dir-ltr")?"left":"right";if(typeof options.inactiveVisiblePart==="undefined"){options.inactiveVisiblePart=0.2*context.width();}tabs.each(function(){var position=$(this).position();var pos_value=Math.round(position.left);$(this).attr("data-default-start-position",pos_value).css("left",pos_value);});var tabChangeAction=function(tab){tabs.removeClass("active");tab.addClass("active");var prevTabs=tab.prevAll(options.tabClass);var nextTabs=tab.nextAll(options.tabClass);var prevPosition=parseInt(tabs.eq(0).css("left"),10);prevTabs.each(function(){var newPrevPosition=(options.direction==="left")?(prevPosition+$(this).index()*options.inactiveVisiblePart):(prevPosition-$(this).index()*options.inactiveVisiblePart);$(this).stop(true,true).animate({"left":newPrevPosition+"px"},options.animationSpeed);});nextTabs.each(function(){$(this).stop(true,true).animate({"left":$(this).attr("data-default-start-position")+"px"},options.animationSpeed);});var newPosition=(options.direction==="left")?(prevPosition+tab.index()*options.inactiveVisiblePart):(prevPosition-tab.index()*options.inactiveVisiblePart);tab.stop(true,true).animate({"left":newPosition+"px"},options.animationSpeed);};return this.each(function(){tabs.hammer({prevent_default:true}).bind("tap",function(e){tabChangeAction($(this));}).bind("swipe",function(e){tabChangeAction($(this));});});}});
/*** autoFocusNext.js ***/
$.fn.extend({autoFocusNext:function(options){options=$.extend({focusFields:"button, input:not([type=hidden]), select, textarea"},options);var pluginElement=$(this);$("body").delegate(pluginElement.selector,"keyup",function(){var delegatedElement=$(this),maxlength=delegatedElement.attr("maxlength");if(delegatedElement.val().length>=maxlength){delegatedElement.next(options.focusFields).select();}});return pluginElement;}});
/*** autocompeteX.js ***/
$.fn.extend({"autocompleteX":function(data,options){var container,defaults;container=this;defaults={"maxRows":10,"source":function(request,response){var result=[];var query=new RegExp(request.term,"i");var maxRowCounter=0;$.each(data,function(label,value){if(value.match(query)){result.push({"label":value,"value":value,"index":label});maxRowCounter+=1;if(maxRowCounter===options.maxRows){return false;}}});response(result);},"create":function(){$(this).after('<input type="hidden" value="" name="'+$(this).attr("name")+'"/>');$(this).change(function(){if($(this).val()===""){$(this).next("input").val("");}});},"select":function(event,ui){$(this).val(ui.item.label);$(this).next("input").val(ui.item.index);}};options=$.extend(defaults,options);$(container).autocomplete(options);}});
/*** continousScroll.js ***/
$.extend({continousScroll:function(config){var context=this;this.action=config.action||function(){};this.limiter=config.limiter;this.template=config.template;this.disabled=false;$(window).scroll(function(event){if(context.disabled){return;}if($(window).height()+$(document).scrollTop()>context.limiter.position().top){context.disabled=true;context.action.call(context);}});}});
/*** frameNav.js ***/
$.fn.extend({frameNav:function(options){options=$.extend({},options);var element=this;element.find("li.tab").click(function(e){var index=$(this).attr("index");if(!element.find(".tabs ul > li.tab-"+index).hasClass("selected")){element.find(".tabs ul > li.tab.selected").removeClass("selected");element.find(".content > .tab-content.selected").removeClass("selected").hide();element.find(".tabs ul > li.tab-"+index).addClass("selected");element.find(".content > div.tab-"+index).fadeIn(350).addClass("selected");}});return element;}});
/*** goalKnockoutScroller.js ***/
$.fn.extend({goalKnockoutScroller:function(options){var defaults={"slideDistance":192,"visibleAreaWidth":754,"phasesArea":$("#visiblePhases"),"phasesScroller":$("#phaseScroller"),"labelsArea":$("#visibleLabel"),"labelsScroller":$("#labelScroller"),"phaseItemContainers":$(".leaguePhase","#groups"),"leftArrow":$("#left_arrow"),"rightArrow":$("#right_arrow")};options=$.extend(defaults,options);var slideDistance=parseInt(options.slideDistance,10);var visibleAreaWidth=parseInt(options.visibleAreaWidth,10);var phaseItemsCount=options.phaseItemContainers.length;var maxLeftPosition=parseInt(visibleAreaWidth,10)-parseInt(phaseItemsCount*slideDistance+2,10);maxLeftPosition=(maxLeftPosition<0)?maxLeftPosition+16:0;options.phasesLeftPosition=parseInt(options.phasesScroller.css("left"));options.phasesVisibleAreaWidth=parseInt(options.phasesArea.innerWidth());options.labelsLeftPosition=parseInt(options.labelsScroller.css("left"));options.labelsVisibleAreaWidth=parseInt(options.labelsArea.innerWidth());function checkArrows(){var left=parseInt(options.phasesScroller.css("left"),10);if($("body").hasClass("dir-rtl")){if(left<=0){options.rightArrow.addClass("inactive");}else{options.rightArrow.removeClass("inactive");}if(left>=-maxLeftPosition){options.leftArrow.addClass("inactive");}else{options.leftArrow.removeClass("inactive");}}else{if(left<=maxLeftPosition){options.rightArrow.addClass("inactive");}else{options.rightArrow.removeClass("inactive");}if(left>=0){options.leftArrow.addClass("inactive");}else{options.leftArrow.removeClass("inactive");}}}function scrollToEnd(){if($("body").hasClass("dir-rtl")){options.labelsScroller.animate({left:-maxLeftPosition+"px"},0,function(){options.labelsScroller.css("left",-maxLeftPosition+"px");});options.phasesScroller.animate({left:-maxLeftPosition+"px"},0,function(){options.phasesScroller.css("left",-maxLeftPosition+"px");});}else{options.labelsScroller.animate({left:maxLeftPosition+"px"},0,function(){options.labelsScroller.css("left",maxLeftPosition+"px");});options.phasesScroller.animate({left:maxLeftPosition+"px"},0,function(){options.phasesScroller.css("left",maxLeftPosition+"px");});}}function divClassVariable(selectedDiv,variableName){var divClasses=selectedDiv.attr("class");var variablePos=divClasses.indexOf(variableName+"-");var substringLength=(variableName.length+1);var returnVal;if(variablePos!=-1){returnVal=divClasses.substring(variablePos+substringLength);}return returnVal;}function scrollRight(){var left=parseInt(options.phasesScroller.css("left"),10);var afterMove=0;if($("body").hasClass("dir-rtl")){if(left>0&&(left-slideDistance)>=0){afterMove=left-slideDistance;options.phasesScroller.stop(true,true).animate({left:afterMove+"px"},500,function(){options.phasesScroller.css("left",afterMove+"px");checkArrows();});options.labelsScroller.stop(true,true).animate({left:afterMove+"px"},500,function(){options.labelsScroller.css("left",afterMove+"px");checkArrows();});}}else{if(left>maxLeftPosition&&(left+slideDistance)>=maxLeftPosition){afterMove=left-slideDistance;options.phasesScroller.stop(true,true).animate({left:afterMove+"px"},500,function(){options.phasesScroller.css("left",afterMove+"px");checkArrows();});options.labelsScroller.stop(true,true).animate({left:afterMove+"px"},500,function(){options.labelsScroller.css("left",afterMove+"px");checkArrows();});}}}function scrollLeft(){var left=parseInt(options.phasesScroller.css("left"),10);var afterMove=0;if($("body").hasClass("dir-rtl")){if(left<-maxLeftPosition&&(left-slideDistance)<=-maxLeftPosition){afterMove=left+slideDistance;options.phasesScroller.stop(true,true).animate({left:afterMove+"px"},500,function(){options.phasesScroller.css("left",afterMove+"px");checkArrows();});options.labelsScroller.stop(true,true).animate({left:afterMove+"px"},500,function(){options.labelsScroller.css("left",afterMove+"px");checkArrows();});}}else{if(left<0&&(left+slideDistance)<=0){afterMove=left+slideDistance;options.phasesScroller.stop(true,true).animate({left:afterMove+"px"},500,function(){options.phasesScroller.css("left",afterMove+"px");checkArrows();});options.labelsScroller.stop(true,true).animate({left:afterMove+"px"},500,function(){options.labelsScroller.css("left",afterMove+"px");checkArrows();});}}checkArrows();}function setWrapperWidth(){options.labelsTotalWidth=0;$("div.matches_label","#labelScroller").each(function(){options.labelsTotalWidth+=$(this).outerWidth(true);});options.labelsScroller.width(options.labelsTotalWidth+2);options.phasesTotalWidth=0;$("div.leaguePhase","#phaseScroller").each(function(){options.phasesTotalWidth+=$(this).outerWidth(true);});options.phasesScroller.width(options.phasesTotalWidth+2);}setWrapperWidth();scrollToEnd();checkArrows();options.leftArrow.bind("click",function(){$(this).blur();scrollLeft();return false;});options.rightArrow.bind("click",function(){$(this).blur();scrollRight();return false;});}});
/*** goalTabs.js ***/
$.fn.extend({goalTabs:function(options){var tabs,tabContainers;tabs=[];tabContainers=[];return this.each(function(){tabs.push(this);tabContainers.push($(this.hash).get(0));$(this).click(function(e){e.preventDefault();$(tabContainers).hide().filter(this.hash).show();$(tabs).removeClass("current");$(this).addClass("current");});});}});
/*** jsonpForm.js ***/
$.extend({jsonpForm:function(formElement,options){var form,defaults;form=$(formElement);if(form.length===0){throw"Unknown selector "+formElement;}defaults={"overlay":null,"error":function(data){},"success":function(){},"preDispatch":function(){},"alertMessageDelay":3000};options=$.extend(defaults,options);function defaultErrorHandler(data,cleanErrors){var errorHolders=$(form).find("span.error");if(cleanErrors==="clean"){$(errorHolders).html("");}$.each(data,function(index,value){if(typeof value==="string"){if(index===0){index="form";}$(errorHolders).filter("."+index).html(value).addClass("show");}else{defaultErrorHandler(value);}});}function cleanErrors(){$.each($(form).find("span.error"),function(index,element){$(element).html("").removeClass("show");});}function showOverlay(){if(options.overlay){$(options.overlay).overlay("create",{className:"ajax_loader"});}}function hideOverlay(){if(options.overlay){$(options.overlay).overlay("destroy");}}function showProgressBar(){var message=$(form).find(".alert_message");message.data("content",message.html());message.fadeIn("slow").addClass("info");}function hideProgressBar(response){var message,messageText,className;if(response.result===true){messageText=response.data;className="success";}else{messageText=response.data.form;className="error";}message=$(form).find(".alert_message");message.html(messageText);message.removeClass("info").addClass(className);if(options.alertMessageDelay!=="disabled"){message.delay(3000).fadeOut("slow",function(){message.html(message.data("content"));message.removeClass(className).css("display","none");});}}form.submit(function(event){$("input[type=submit]",form).attr("disabled","disabled");showProgressBar();event.preventDefault();cleanErrors();options.preDispatch();showOverlay();$.ajax({url:form.attr("action"),data:form.serialize(),dataType:"jsonp",crossDomain:true,jsonp:"callback",success:function(response){$("input[type=submit]",form).removeAttr("disabled");if(response.result===false){if(!options.error(response.data)){defaultErrorHandler(response.data,"clean");}}else{if(response.result===true){options.success(response.data);}}hideProgressBar(response);hideOverlay();},error:function(xhr,textStatus,errorThrown){$.ajaxSettings.error(xhr,textStatus,errorThrown);}});});}});
/*** jsonpLoad.js ***/
$.fn.extend({jsonpLoad:function(options){var container,defaults;container=this;defaults={"url":null,"data":{format:"jsonp"},"dataType":"jsonp","crossDomain":true,"jsonp":"callback","success":function(response){$(container).html(response.data);}};options=$.extend(defaults,options);$(container).overlay("create",{className:"ajax_loader"});$.ajax(options);}});
/*** message.js ***/
$.fn.extend({message:function(message,options){var defaults={};options=$.extend(defaults,options);return this.each(function(){$(this).html(message).fadeIn("slow").delay(3000).fadeOut("slow");});}});
/*** modalWindow.js ***/
(function(){var overlay,modalWindow;overlay=$("<div id='modal_overlay'></div>");modalWindow=$("<div id='modal_window'></div>");function handleEscape(e){if(e.keyCode===27){modalHide();}}function modalHide(){var remove=function(){$(this).remove();};$(document).unbind("keydown",handleEscape);overlay.fadeOut(remove);modalWindow.attr("class","").html("").fadeOut(remove);}$.extend({modalPanel:function(options){function close(){modalHide();}if(options==="close"){close();}}});$.fn.extend({modalPanel:function(options){var defaults;defaults={"url":null,"html":null,"className":null,"data":{},"format":null,"crossDomain":false,"success":function(response){}};options=$.extend(defaults,options);options.url=options.url||this.attr("href")||this.attr("data-href");if(options.className){modalWindow.addClass(options.className);}function loadContent(el){if(options.url){if(options.format==="jsonp"){options.data.format="jsonp";$.ajax({url:options.url,data:options.data,dataType:"jsonp",crossDomain:options.crossDomain,jsonp:"callback",success:function(response){el.html(response.data);}});}else{el.load(options.url,options.data);}}else{if(options.html){el.html(options.html);}}}$("body").append(overlay);$("body").append("<div id='modal_load'></div>");overlay.css("opacity",0.8);overlay.show();$(document).keydown(handleEscape);$("#modal_load").remove();loadContent(modalWindow);$("body").append(modalWindow);modalWindow.fadeIn(50);modalWindow.css("top",$(document.body).scrollTop()+40);return this.each(function(){});}});}());
/*** overlay.js ***/
$.fn.extend({overlay:function(action,options){var container,defaults;container=this;defaults={"className":null};options=$.extend(defaults,options);function create(){var overlay=$('<div class="overlay"></div>');overlay.css({"top":0,"left":0,"opacity":0.7,"z-index":1000,"width":"100%","height":"100%","position":"absolute","background-color":"transparent","background-position":"50% 50%","background-repeat":"no-repeat","display":"block"});if(options.className){overlay.addClass(options.className);}$(container).append(overlay);}function destroy(){$(container).find((".overlay")).remove();}if(action==="create"){create();}else{if(action==="destroy"){destroy();}}}});
/*** paginator.js ***/
$.fn.paginator=function(options){var context;var pageCount;var wrapper;var itemWidth;var defaults={"itemsCountPerPage":5,"currentPage":1,"prevButton":null,"nextButton":null,"pageList":null,"type":"vertical","direction":"ltr","order":"ASC","animationSpeed":500,"groupItems":false,"otherObject":null,"offset":0};options=$.extend(defaults,options);var functions={gotoPage:function(pageNumber){var current;if("vertical"===options.type){context.animate({"top":(-1*(pageNumber-1+options.offset)*wrapper.height())+"px"},options.animationSpeed);}else{var newMargin=-1*(pageNumber-1+options.offset)*wrapper.width();if("ltr"===options.direction){context.animate({"left":newMargin+"px"},options.animationSpeed);}else{context.animate({"right":newMargin+"px"},options.animationSpeed);}}if(options.pageList){$("li",options.pageList).hide().removeClass("active");current=$("li:eq("+(pageNumber-1+options.offset)+")",options.pageList).show().addClass("active");current.prev().show();current.next().show();}context.attr("data-currentPage",pageNumber);options.prevButton.removeClass("inactive");options.nextButton.removeClass("inactive");if(isFirstPage()){options.prevButton.addClass("inactive");}else{if(isLastPage()){options.nextButton.addClass("inactive");}}}};options=$.extend(options,functions);this.options=options;function isLastPage(){return(options.itemsCountPerPage*context.attr("data-currentPage")>=$("li",context).length);}function isFirstPage(){return(parseInt(context.attr("data-currentPage"),10)===1);}function generatePages(){var items=$("li",context);var amountOfElements=items.length;var counter=amountOfElements;var startFrom=1;var endAt;var correction=-1;var step=options.itemsCountPerPage;if(options.order==="DESC"){startFrom=amountOfElements;correction=1;step*=-1;}while(counter>0){if(options.pageList){endAt=startFrom+step+correction;$(options.pageList).append('<li data-page="'+pageCount+'">'+startFrom+"&nbsp;&ndash;&nbsp;"+((endAt<1)?1:(endAt>amountOfElements)?amountOfElements:endAt)+"</li>");}counter-=options.itemsCountPerPage;startFrom+=step;pageCount++;}if(options.groupItems){items.each(function(index,item){var group=parseInt(index/options.itemsCountPerPage,10)+1;$(item).attr("data-group",group);});}if(options.pageList){options.pageList.delegate("li","click",function(e){e.preventDefault();options.gotoPage($(this).attr("data-page"));});}}return this.each(function(){context=$(this);pageCount=1;itemWidth=$("li",context).width();context.wrap($('<div class="wrapper" />').css({"overflow":"hidden","position":"relative"}));wrapper=context.parent(".wrapper");if("horizontal"===options.type){context.css({"width":wrapper.width()*Math.ceil($("li",context).css("width",itemWidth).length/options.itemsCountPerPage)});}options.prevButton.click(function(e){options.gotoPage((parseInt(context.attr("data-currentPage"),10)-1)||1);});options.nextButton.click(function(e){var currentPage=parseInt(context.attr("data-currentPage"),10)||1;if((pageCount-1)>currentPage){options.gotoPage(currentPage+1);}});if(options.groupItems){$("li",context).click(function(e){var groupPage=$(this).attr("data-group");options.gotoPage(groupPage);options.otherObject.options.gotoPage(groupPage);});}generatePages();options.gotoPage(options.currentPage);});};
/*** placeholder.js ***/
$.fn.extend({placeholder:function(options){var input_field=document.createElement("input");if(!("placeholder" in input_field)){$.each(this,function(index,element){var placeholder=$(element).attr("placeholder");if($(element).val()===""){$(element).val(placeholder);}$(element).focus(function(){if($(element).val()===placeholder){$(element).val("");}});$(element).blur(function(){if($(element).val()===""){$(element).val(placeholder);}});});}return $(this);}});
/*** recaptcha.js ***/
$.fn.extend({recaptcha:function(){$.getScript("https://www.google.com/recaptcha/api.js?hl="+Goal.settings.environment.edition);}});
/*** stickyElement.js ***/
$.fn.extend({stickyElement:function(options){return this.each(function(index,element){var sticked=false;var context=$(element);var contextBaseTop=context.offset().top;var contextBaseCss=context.attr("style");var placeholder=context.clone().css({display:"none"});var defaults={top:0,left:context.offset().left,zIndex:9999999,border:"none",boxShadow:"0 0px 30px #fff",position:"fixed"};context.before(placeholder);options=$.extend(defaults,options);$(window).scroll(function(){var windowTopPosition=$(document).scrollTop();if(!sticked&&windowTopPosition>=contextBaseTop){context.css(options);placeholder.show();sticked=true;}else{if(sticked&&windowTopPosition<contextBaseTop){context.attr("style",contextBaseCss||"position: relative;");placeholder.hide();sticked=false;}}});});},sticky:function(options){var context=$(window);options=options||{};return this.each(function(index,element){var self=$(element);var parent=self.parent();var config=$.extend({offset:0,begin:self.offset().top,end:false,onStick:function(){},onRelease:function(){},onBottom:function(){}},options);var base={top:self.css("top"),position:self.css("position"),left:self.css("left"),right:self.css("right"),leftOffset:self.offset().left,rightOffset:$(window).width()-self.offset().left-self.width()};var isAbove=true;var isBelow=false;context.scroll(function(event){var position=context.scrollTop();if(position>config.begin){if(isAbove){config.end=config.end||parent.offset().top+parent.height()-self.height()-config.offset;self.css("position","fixed");self.css("top",config.offset+"px");self.css("left",base.leftOffset+"px");self.css("right",base.rightOffset+"px");config.onStick.call(self);isAbove=false;}if(position<=config.end){if(isBelow){self.css("position","fixed");self.css("top",config.offset+"px");self.css("left",base.leftOffset+"px");self.css("right",base.rightOffset+"px");isBelow=false;}}else{if(!isBelow){self.css("position","absolute");self.css("top",config.end+config.offset-config.begin+"px");self.css("left",base.left);self.css("right",base.right);config.onBottom.call(self);isBelow=true;}}}else{if(!isAbove){self.css(base);config.onRelease.call(self);isAbove=true;}}if(position>config.end){isBelow=true;isAbove=false;}if(position<config.begin){isAbove=true;isBelow=false;}});});}});
/*** storage.js ***/
$.extend({storage:function(){return{fetchUrl:function(cacheKey,url,callback,storage){if(typeof storage==="undefined"&&typeof sessionStorage==="object"){storage=sessionStorage;}if(typeof callback!=="function"){callback=function(data){};}var supportsStorage=(typeof storage==="object"&&typeof storage.getItem==="function"&&typeof storage.setItem==="function"),hasDataInStorage=(supportsStorage&&(cacheKey in storage));if(hasDataInStorage){callback(storage.getItem(cacheKey));}else{$.get(url,function(data){if(supportsStorage){storage.setItem(cacheKey,data);}callback(data);});}}};}()});
/*** tooltip.js ***/
$.fn.extend({oldtooltip:function(options){return this.each(function(){$(this).addClass("tooltip");$(this).append("<span class='bubble'><em></em><span class='arrow_border'></span><span class='arrow'></span></span>");$(this).hover(function(){$(this).find(".bubble").filter(":not(:animated)").animate({opacity:"show",bottom:"25"},"slow");var hover_txt=$(this).attr("title");$(this).data("hover_txt",hover_txt);$(this).attr("title","");$(this).find("em").text(hover_txt);},function(){$(this).find(".bubble").filter(":not(:animated)").animate({opacity:"hide",bottom:"30"},"fast");$(this).attr("title",$(this).data("hover_txt"));});});}});
