(function(e){e.fn.dcMegaMenu=function(t){var n={classParent:"dc-mega",rowItems:3,speed:"fast",effect:"fade"};var t=e.extend(n,t);var r=this;return r.each(function(t){function i(){var t=e(".sub",this);e(this).addClass("mega-hover");if(n.effect=="fade"){e(t).fadeIn(n.speed)}if(n.effect=="slide"){e(t).slideDown(n.speed)}}function s(){var t=e(".sub",this);e(this).removeClass("mega-hover");e(t).hide()}function o(){$arrow='<span class="dc-mega-icon"></span>';var t=n.classParent+"-li";var o=e(r).outerWidth(true);e("> li",r).each(function(){var r=e("> ul",this);var i=e("> a",this);if(e(r).length>0){e(i).addClass(n.classParent).append($arrow);e(r).addClass("sub").wrap('<div class="sub-container" />');var s=e(this).position();parentLeft=s.left;if(e("ul",r).length>0){e(this).addClass(t);e(".sub-container",this).addClass("mega");e("> li",r).addClass("mega-hdr");e(".mega-hdr > a").addClass("mega-hdr-a");var o=e(".mega-hdr",this);rowSize=parseInt(n.rowItems);for(var u=0;u<o.length;u+=rowSize){o.slice(u,u+rowSize).wrapAll('<div class="row" />')}e(r).show();var a=e(this).width();var f=e(r).outerWidth(true);var l=e(r).parent(".sub-container").outerWidth(true);var c=l-f;var h=e(".mega-hdr",r).outerWidth(true);var p=e(".row:eq(0) .mega-hdr",r).length;var d=h*p;var v=d+c;e(".row",this).each(function(){e(".mega-hdr:last",this).addClass("last");var t=undefined;e(".mega-hdr-a",this).each(function(){var n=parseInt(e(this).height());if(t===undefined||t<n){t=n}});e(".mega-hdr-a",this).css("height",t+"px");e(this).css("width",d+"px")});var m=(v-a)/2;var g=parentLeft-m;if(g<0){e(".sub-container",this).css("left","0")}else{e(".sub-container",this).css("left",parentLeft+"px").css("margin-left",-m+"px")}e(".row",r).each(function(){var t=e(this).height();e(".mega-hdr",this).css("height",t+"px");e(this).parent(".row").css("height",t+"px")});e(r).hide()}else{e(".sub-container",this).addClass("non-mega").css("left",parentLeft+"px")}}});var u=e("> li > a",r).outerHeight(true);e(".sub-container",r).css({top:u+"px"}).css("z-index","1000");var a={sensitivity:2,interval:100,over:i,timeout:400,out:s};e("li",r).hoverIntent(a)}o()})}})(jQuery)