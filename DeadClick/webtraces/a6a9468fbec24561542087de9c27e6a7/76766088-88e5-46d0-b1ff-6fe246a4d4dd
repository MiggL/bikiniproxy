webpackJsonp([6],{142:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(){this.mixin(n.prototype),c.default.call(this,"serviceMobileOption")}var s=i(121),r=o(i(598)),c=o(i(374));Object.assign(n.prototype,c.default.prototype,{onMainMount:function(t){this.lightboxData.integrationType="lightbox-service",c.default.prototype.onMainMount.call(this,t)}}),(0,s.tag)("feefowidget-container-lightbox-service",r.default,null,n)},374:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t){r.default.init(this),this._isHiddenOnMobileView="hide"===this.config.preferences[t].toLowerCase(),this._eventPromises=[],this.lightboxData={},this.lightboxIsOpen=!1,this.logger=new s.default(this.root.localName),this.mountConfig=this.opts,this.widgetReference=null,this.isMainContainerVisible=this._mainContainerVisible(),this._onWindowResize=this._onWindowResize.bind(this),this.on("unmount",this._onUnmount.bind(this)),this.on("mount",this._onMount.bind(this))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n,i(331),i(339),i(375),i(340);var s=o(i(59)),r=o(i(333));Object.assign(n.prototype,{_onMount:function(){window.addEventListener("resize",this._onWindowResize)},_onUnmount:function(){this._eventPromises.forEach(function(t){"function"==typeof t&&t()}),window.removeEventListener("resize",this._onWindowResize)},lightboxClose:function(){this.lightboxIsOpen=!1,this.update()},lightboxOpen:function(){this.lightboxIsOpen=!0,this.update()},lightboxToggle:function(){this.lightboxIsOpen?this.lightboxClose():this.lightboxOpen()},onMainMount:function(t){this.lightboxData.widgetReference=t.widgetReference,this.widgetReference=t.widgetReference,this.update()},_mainContainerVisible:function(){var t=this.config.breakpoints;return!!(window.innerWidth>=t.tablet)||!this._isHiddenOnMobileView},_onWindowResize:function(){var t=this;clearTimeout(this._onWindowResizeTimeout),this._onWindowResizeTimeout=setTimeout(function(){t.update({isMainContainerVisible:t._mainContainerVisible()})},200)}}),t.exports=e.default},375:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){this.mixin(s.prototype),this.constants=c.default.resolve(),this.configInstance=l.default.init(this),this.logoClickable=!0,this.logoPositionType="inline",this.logoReady=!1,this.logoSrc="",this.logoStyle={},this.widgetReference=null,this.on("mount",this._onMount),this.on("unmount",this._onUnmount),this.on("update",this._onUpdate)}var r=i(121),c=o(i(60)),f=o(i(7)),l=o(i(333)),a=o(i(335)),u=o(i(129)),g=o(i(130)),h=o(i(376));i(377),Object.assign(s.prototype,{_buildLogoUrl:function(){var t=this._fetchPreferences(),e=this.config.preferences,i=this.config.isModeService?e.serviceTimeFrame:e.productTimeFrame;if(null!==t){var o=this.config.urlApi+"/logo";if(o+="?merchantidentifier="+this.config.merchantSlug,o+="&template="+t.templateFileName,this.config.tags){o+="&tags="+encodeURIComponent(this.config.tags.replace(":","="))}if(this.config.isModeProduct){this.config.parentProductSku&&"*"!==this.config.parentProductSku?o+="&parentvendorref="+this.config.parentProductSku:this.config.productSku&&"*"!==this.config.productSku&&(o+="&vendorref="+this.config.productSku);var n=this.constants.PRODUCT_NO_REVIEWS_OPTIONS;switch(e.productNoReviewsOption){case n.HIDE:o+="&smallonzero=true";break;case n.SHOW_SERVICE:o+="&servicedefault=true"}}this.config.isTypeLightbox&&i&&"all"===i.toLowerCase()&&(o+="&since=all"),this.logoSrc=o}},_buildStyle:function(){var t=this._fetchPreferences();null!==t&&(this.logoPositionType=t.positionType.toLowerCase(),t.positionType===this.constants.POSITION_TYPES.FIXED&&(this.logoStyle=this._style(t.offset,t.position,t.size)))},_fetchPreferences:function(){var t={};if("object"!==n(this.config))return null;if(this.config.isModeService&&!this.config.isViewportMobile)t=this.config.preferences.serviceWidget;else if(this.config.isModeService&&this.config.isViewportMobile)switch(this.config.preferences.serviceMobileOption){case"DIFFERENT":t=this.config.preferences.serviceMobileWidget;break;case"HIDE":t.positionType="hide";break;default:t=this.config.preferences.serviceWidget}else if(this.config.isModeProduct&&!this.config.isViewportMobile)t=this.config.preferences.productWidget;else if(this.config.isModeProduct&&this.config.isViewportMobile)switch(this.config.preferences.productMobileOption){case"DIFFERENT":t=this.config.preferences.productMobileWidget;break;case"HIDE":t.positionType="hide";break;default:t=this.config.preferences.productWidget}return t},_onMount:function(){var t=this;this.configInstance=l.default.setReference(this.opts.widgetReference,this.configInstance),this.configInstance.listen(this),this.eventsInstance=a.default.getInstance(this.opts.widgetReference),this.eventPromises=[this.eventsInstance.on("updated-summary",function(e){return t._onUpdatedSummary(e)},!0)],this.widgetReference=this.opts.widgetReference,f.default.setConfig("lightboxToggle",function(e){return t.onClick(e)}),this.update()},_onUnmount:function(){this.eventPromises.forEach(function(t){"function"==typeof t&&t()})},_onUpdate:function(){this._buildStyle(),this._buildLogoUrl()},_onUpdatedSummary:function(t){if(this.config.isModeProduct&&"object"===n(t)){var e=this.config.preferences,i=this.constants.PRODUCT_NO_REVIEWS_OPTIONS,o=e.productNoReviewsOption===i.SHOW_SERVICE,s=t.rating&&t.rating.product&&t.rating.product.count>0;if(o&&!s)return u.default.unmount(),void g.default.mount(!0);this.logoClickable=Boolean(s),this.update()}},_style:function(t,e,i){t="number"==typeof t?t:10,e="string"==typeof e?e:"BOTTOM_RIGHT";var o=0,n=0;if("string"==typeof i&&i.indexOf("x")>0&&i.indexOf("x")<i.length-1){var s=parseInt(i.split("x")[0].trim(),10),r=parseInt(i.split("x")[1].trim(),10);"number"==typeof s&&(o=-s/2),"number"==typeof r&&(n=-r/2)}var c="z-index: 8000!important; ";return{TOP:c+"top: "+t.toString()+"px; bottom: auto; left: 50%; margin-left: "+o.toString()+"px; right: auto",TOP_LEFT:c+"top: "+t.toString()+"px; bottom: auto; left: "+t.toString()+"px; right: auto",TOP_RIGHT:c+"top: "+t.toString()+"px; bottom: auto; left: auto; right: "+t.toString()+"px",BOTTOM:c+"top: auto; bottom: "+t.toString()+"px; left: 50%; margin-left: "+o.toString()+"px; right: auto",BOTTOM_LEFT:c+"top: auto; bottom: "+t.toString()+"px; left: "+t.toString()+"px; right: auto",BOTTOM_RIGHT:c+"top: auto; bottom: "+t.toString()+"px; left: auto; right: "+t.toString()+"px",RIGHT:c+"top: 50%; margin-top: "+n.toString()+"px; bottom: auto; left: auto; right: "+t.toString()+"px",LEFT:c+"top: 50%; margin-top: "+n.toString()+"px; bottom: auto; left: "+t.toString()+"px; right: auto"}[e]},onClick:function(){this.logoClickable&&"function"==typeof this.opts.onClick&&this.opts.onClick()}}),(0,r.tag)("feefowidget-logo-large",h.default,null,s)},376:function(t,e){t.exports='<div\n  class="feefowidget-logo-container feefowidget-logo-position-type-{logoPositionType} {feefowidget-logo-clickable: logoClickable}"\n  riot-style="{logoStyle}">\n  <img\n    riot-src="{logoSrc}"\n    onclick="{onClick}">\n</div>\n\n'},377:function(t,e){},598:function(t,e){t.exports='<feefowidget-container-main\n  if="{isMainContainerVisible}"\n  on-mount="{onMainMount}"\n  mount-config="{mountConfig}">\n\n  <feefowidget-logo-large\n    on-click="{parent.lightboxToggle}"\n    widget-reference="{widgetReference}"></feefowidget-logo-large>\n\n  <feefowidget-window-modal\n    close-modal="{parent.lightboxClose}"\n    modal-class="feefowidget-modal-logo-lightbox"\n    render-data="{parent.lightboxData}"\n    render-tag="feefowidget-global"\n    show-modal="{parent.lightboxIsOpen}"\n    widget-reference="{parent.widgetReference}"></feefowidget-window-modal>\n\n</feefowidget-container-main>\n'}});