(function(){var g=["top","left","bottom","right","width","height","font-size","border-width"];var d={};var b={};function h(){for(var k in b){if(b.hasOwnProperty(k)){j(k)}}window.Gwen=window.gw$=d}function j(k){var l=b[k];if(Object.prototype.toString.call(l)==="[object Function]"){d[k]=function(n){var o;var m=Array.prototype.slice.call(arguments);if(i(n)){Array.prototype.forEach.call(n,function(p){if(a(p)&&!o){m[0]=p;o=l.apply(this,m)}})}else{if(a(n)){o=l.apply(this,m)}}return o}}}function i(k){return !!(k&&k.length&&Object.prototype.toString.call(k)==="[object NodeList]")}function a(k){return !!(k&&Object.prototype.toString.call(k).indexOf("Element")!==-1)}d.findEl=function(k,n,l){if(n){if(a(n)){n=n}else{if(i(n)){n=n[0]}else{n=document}}}else{n=document}var m=n.querySelectorAll(k);if(!i(m)){m=null}if(m&&(l||l===0)){m=m[l]}return m};d.createEl=function(l,o,k,n){var m=document.createElement(l);if(o){d.setElAttr(m,"id",o)}if(n){d.appendEl(m,n)}if(k){d.setBatchAttrs(m,k)}return m};b.addClassToEl=function(l,k){if(l.classList){l.classList.add(k)}else{l.className+=" "+k}};b.removeClassFromEl=function(l,k){if(l.classList){l.classList.remove(k)}else{l.className=l.className.replace(new RegExp("(^| )"+k.split(" ").join("|")+"( |$)","gi")," ")}};b.prependEl=function(l,k){if(i(k)){k[0].insertBefore(l,k.firstChild)}else{if(a(k)){k.insertBefore(l,k.firstChild)}}};b.appendEl=function(l,k){if(i(k)){k.appendChild(l)}else{if(a(k)){k.appendChild(l)}}};b.cloneEl=function(k){return k.cloneNode(true)};b.emptyEl=function(k){k.innerHTML=""};b.removeEl=function(k){if(k&&k.parentNode){k.parentNode.removeChild(k)}};b.getCSSFromEl=function(k,l){l=c(l);return getComputedStyle(k)[l]};b.setBatchCSS=function(l,k){for(var n in k){var m=k[n];d.setElCSS(l,n,m)}};b.setElCSS=function(k,m,l){if(Object.prototype.toString.call(l)==="[object Number]"&&g.indexOf(m)!==-1){l+="px"}m=c(m);k.style[m]=l};b.matchesSelector=function(l,k){var m=(l.matches||l.matchesSelector||l.msMatchesSelector||l.mozMatchesSelector||l.webkitMatchesSelector||l.oMatchesSelector).call(l,k);return m};b.getAttrFromEl=function(l,k){return l.getAttribute(k)};b.setBatchAttrs=function(m,l){for(var k in l){var n=l[k];d.setElAttr(m,k,n)}};b.setElAttr=function(l,k,m){l.setAttribute(k,m)};b.getElOffset=function(k){return{left:k.offsetLeft,top:k.offsetTop}};b.getParentEl=function(k){return k.parentNode};b.setElHTML=function(l,k){l.innerHTML=k};b.getElText=function(k){return k.textContent};b.setElText=function(k,l){k.textContent=l};b.addEventListenerToEl=function(n,k,m,l){if(n.addEventListener){n.addEventListener(k,m)}else{if(!l){l="on"+k}n.attachEvent(l,m)}};b.removeEventListenerFromEl=function(n,k,m,l){if(n.removeEventListener){n.removeEventListener(k,m)}else{if(!l){l="on"+k}n.detachEvent(l,m)}};function c(l){var k=l.split("-");if(k.length>1){l="";k.forEach(function(m,n){if(n===0){l+=m}else{l+=m.charAt(0).toUpperCase()+m.substr(1)}})}return l}h()})();(function(b){function a(){var d=[];if(b.getElementById("auth")===null){if(b.getElementById("auth_sign_in")!==null&&b.getElementById("auth_register")!==null){d=[b.getElementById("auth_sign_in").getElementsByTagName("a")[0],b.getElementById("auth_register").getElementsByTagName("a")[0]]}}else{d=b.getElementById("auth").getElementsByTagName("a")}if(d.length){for(var g=0;g<d.length;g++){(function(h){if("addEventListener" in h){h.addEventListener("click",function(){c(h)},false)}else{h.attachEvent("onclick",function(){c(h)})}if(h.className==="sign_in"||h.className==="register"){h.onclick=function(){return false}}})(d[g])}}}function c(l){var h="33%",u=b.getElementsByTagName("body")[0],j=b.createElement("div"),r=b.getElementById("social-overlay-register"),p=b.getElementById("social-close-overlay"),s=b.getElementById("page_frame"),q=new Date(),o="",m=1;q.setDate(q.getDate()+m);o=escape(window.location.href)+((m==null)?"":"; expires="+q.toUTCString());b.cookie="socialRefererUrl="+o;if(s){h=Math.max(s.offsetWidth-r.offsetWidth,0)/6;h=h+"px"}if(u.classList){var t=u.classList}else{var t=u.className.split(/\s+/)}for(var k=0;k<t.length;k++){if(t[k]==="slim_nav_dark"){h=Math.max((window.innerWidth||b.doxElement.clientWidth||b.body.clientWidth)-r.offsetWidth,0)/3;h=h+"px"}}j.style.width=b.body.clientWidth+"px";j.style.height=b.body.clientHeight+"px";j.setAttribute("class","blurred");var d=b.getElementById("social-overlay-header-txt"),n=b.getElementById("social-overlay-register-button"),g=b.getElementById("register-upsale");if(l.className==="sign_in"){d.innerHTML="Sign-In with Marvel.com!";n.style.display="none";g.style.display="block"}else{d.innerHTML="Register with Marvel.com!";n.style.display="inline-block";g.style.display="none"}r.parentNode.appendChild(j);r.style.left=h;r.style.display="block";p.onclick=function(){r.parentNode.removeChild(j);r.style.display="none";return false};return false}a()})(document);(function(){if(typeof window.janrain!=="object"){window.janrain={}}if(typeof window.janrain.settings!=="object"){window.janrain.settings={}}janrain.settings.tokenUrl=window.marvelJanrainTokenUrl;janrain.settings.type="embed";janrain.settings.appId=window.marvelJanrainAppId;janrain.settings.appUrl=window.marvelJanrainAppUrl;janrain.settings.providers=["facebook","googleplus","twitter","yahoo"];janrain.settings.providersPerPage="6";janrain.settings.format="two column";janrain.settings.actionText="With Your Social Account";janrain.settings.showAttribution=false;janrain.settings.fontColor="#0d0d0d";janrain.settings.fontFamily="Arial,Helvetica,Lucida Grande,Verdana,sans-serif";janrain.settings.backgroundColor="#e1e1e1";janrain.settings.width="300";janrain.settings.borderRadius="0";janrain.settings.borderColor="#e1e1e1";janrain.settings.buttonBorderColor="#333333";janrain.settings.buttonBorderRadius="0";janrain.settings.buttonBackgroundStyle="white";janrain.settings.language="en";janrain.settings.linkClass="janrainEngage";function b(){janrain.ready=true}if(document.addEventListener){document.addEventListener("DOMContentLoaded",b,false)}else{window.attachEvent("onload",b)}janrain.ready=true;var c=document.createElement("script");c.type="text/javascript";c.id="janrainAuthWidget";if(document.location.protocol==="https:"){c.src=URLs.rpxWidgetUrlSecure}else{c.src=URLs.rpxWidgetUrl}var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(c,a)})();(function(){if(document.getElementById("nav1_0Detect")){return}if(typeof window.janrain!=="object"){window.janrain={}}if(typeof window.janrain.settings!=="object"){window.janrain.settings={}}janrain.settings.tokenUrl=window.marvelJanrainTokenUrl;janrain.settings.type="embed";janrain.settings.appId=window.marvelJanrainAppId;janrain.settings.appUrl=window.marvelJanrainAppUrl;janrain.settings.providers=["facebook","googleplus","twitter","yahoo"];janrain.settings.providersPerPage="6";janrain.settings.format="one row";janrain.settings.actionText="Sign in";janrain.settings.showAttribution=false;janrain.settings.fontColor="#0d0d0d";janrain.settings.fontFamily="TradeGothic,Arial,Helvetica,Lucida Grande,Verdana,sans-serif";janrain.settings.backgroundColor="transparent";janrain.settings.width="236";janrain.settings.borderRadius="0";janrain.settings.borderColor="transparent";janrain.settings.buttonBorderColor="transparent";janrain.settings.buttonBorderRadius="0";janrain.settings.buttonBackgroundStyle="white";janrain.settings.language="en";janrain.settings.linkClass="janrainEngage";function b(){janrain.ready=true}if(document.addEventListener){document.addEventListener("DOMContentLoaded",b,false)}else{window.attachEvent("onload",b)}janrain.ready=true;var c=document.createElement("script");c.type="text/javascript";c.id="janrainAuthWidget";if(document.location.protocol==="https:"){c.src=URLs.rpxWidgetUrlSecure||"https://rpxnow.com/js/lib/marvel-eval/engage.js"}else{c.src=URLs.rpxWidgetUrl||"http://widget-cdn.rpxnow.com/js/lib/marvel-eval/engage.js"}var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(c,a)})();var footerReporting=(footerReporting)?footerReporting:(function(){var h={};var i={};var c={};var b;var g;h.init=function(){if(window.Uatu&&window.Uatu.report){g="uatu";b=window.Uatu.START_EV}else{if(window.MarvelWidgets&&window.MarvelWidgets.tracking&&window.MarvelWidgets.tracking.iframe){g="iframe";b=(window.navigator.msPointerEnabled)?"MSPointerDown":"ontouchstart" in window?"touchstart":"mousedown"}}if((g==="uatu"||g==="iframe")&&window.gw$){d();a();j()}};function d(){i.gw$footer=gw$.findEl("#marvel_footer_wrapper");i.gw$linksLists=gw$.findEl(".html_aside",i.gw$footer)}function j(){for(var m in i){if(i.hasOwnProperty(m)){var l=i[m];var o=m.split("$")[1];var n=c["on_"+o+"Click"];if(l&&n){gw$.addEventListenerToEl(l,b,n)}}}}function k(l){if(g==="uatu"){window.Uatu.report(l)}else{if(g==="iframe"){l.start_location="widget";window.MarvelWidgets.tracking.iframe.report(l)}}}function a(){c.on_linksListsClick=function(p){var l=gw$.matchesSelector(p.target,"a");if(l){var n=gw$.findEl("h4",p.currentTarget);var m=p.target.href;var q=p.target.text;var o=gw$.getElText(n);k({event_type:"navigation",event_value:"click_button",link_name:"Click | "+o+" | "+q+" | "+m,link_url:m,click_location:q+" | header"})}}}h.getEl=function(l){return i[l]};return h})();var topNavReporting=(topNavReporting)?topNavReporting:(function(){var h={};var j={};var k={};var c={};var b;var g;var n=false;h.init=function(){if(window.Uatu&&window.Uatu.report){g="uatu";b=window.Uatu.START_EV}else{if(window.MarvelWidgets&&window.MarvelWidgets.tracking&&window.MarvelWidgets.tracking.iframe){g="iframe";b=(window.navigator.msPointerEnabled)?"MSPointerDown":"ontouchstart" in window?"touchstart":"mousedown"}}if((g==="uatu"||g==="iframe")&&window.gw$){d();a();l();n=true}};h.initUser=function(){if(n){i();l("user")}};function d(){j.gw$topNav=gw$.findEl("#marvel_topnav_wrapper");j.gw$sectionNavigation=gw$.findEl("#marvel_topnav_ul",j.gw$topNav);j.gw$sectionNavigation=gw$.findEl("li a",j.gw$sectionNavigation);j.gw$facebookTop=gw$.findEl("#facebook_top",j.gw$topNav);j.gw$twitterTop=gw$.findEl("#twitter_top",j.gw$topNav);j.gw$youTubeTop=gw$.findEl("#youtube_top",j.gw$topNav);j.gw$facebookTopMobile=gw$.findEl("#facebook_top_mobile",j.gw$topNav);j.gw$twitterTopMobile=gw$.findEl("#twitter_top_mobile",j.gw$topNav);j.gw$youTubeTopMobile=gw$.findEl("#youtube_top_mobile",j.gw$topNav);j.gw$masterCardTopMobile=gw$.findEl("#mastercard_top_mobile",j.gw$topNav)}function i(){k.gw$insiderTop=gw$.findEl("#marvel_topnav_insider_section",j.gw$topNav);k.gw$insiderTopMobile=gw$.findEl("#insider_top_mobile",j.gw$topNav);k.gw$masterCardTop=gw$.findEl("#mastercard_top",j.gw$topNav);k.gw$userButton=gw$.findEl("#user_name",j.gw$topNav);k.gw$facebookLoginButton=gw$.findEl(".btn-facebook",j.gw$topNav);k.gw$signedOut=gw$.findEl(".signedout",j.gw$topNav);k.gw$googleLoginButton=gw$.findEl(".btn-google",j.gw$signedOut);k.gw$emailLoginButton=gw$.findEl(".btn-trans",j.gw$signedOut);k.gw$signUpButton=gw$.findEl("#SignInUser",j.gw$signedOut);k.gw$signedIn=gw$.findEl(".signedin",j.gw$topNav);k.gw$signInUser=gw$.findEl("#SignInUser",j.gw$topNav);k.gw$confirmation=gw$.findEl("#resendConfirmation",j.gw$signedIn);k.gw$logoutButton=gw$.findEl(".lightdark .btn",j.gw$signedIn);k.gw$resendEmailConfirmation=gw$.findEl("#resendConfirmation",j.gw$topNav);k.gw$resendEmailConfirmationMobile=gw$.findEl("#resendConfirmationMobile",j.gw$topNav);console.log("reporting/top-nav.js|_stash _els:");console.log(k)}function l(r){var q=(r==="user")?k:j;for(var p in q){if(q.hasOwnProperty(p)){var o=q[p];var t=p.split("$")[1];var s=c["on_"+t+"Click"];if(o&&s){gw$.addEventListenerToEl(o,b,s)}}}}function m(o){if(g==="uatu"){window.Uatu.report(o)}else{if(g==="iframe"){o.start_location="widget";window.MarvelWidgets.tracking.iframe.report(o)}}}function a(){c.on_sectionNavigationClick=function(p){var o=p.currentTarget.href;var q=p.currentTarget.text;console.log(q);m({event_type:"navigation",event_value:"click_button",link_name:"Click | "+q+" | "+o,link_url:o,click_location:q+" | header"})};c.on_facebookTopClick=c.on_facebookTopMobileClick=function(p){var o=p.currentTarget.href;var q="facebook";m({event_type:"topnav",event_value:"click_button",link_name:"Click | "+q+" | "+o,link_url:o,click_location:q+" | header"})};c.on_twitterTopClick=c.on_twitterTopMobileClick=function(p){var o=p.currentTarget.href;var q="twitter";m({event_type:"topnav",event_value:"click_button",link_name:"Click | "+q+" | "+o,link_url:o,click_location:q+" | header"})};c.on_youTubeTopClick=c.on_youTubeTopMobileClick=function(p){var o=p.currentTarget.href;var q="youtube";m({event_type:"topnav",event_value:"click_button",link_name:"Click | "+q+" | "+o,link_url:o,click_location:q+" | header"})};c.on_masterCardTopClick=c.on_masterCardTopMobileClick=function(p){var o=p.currentTarget.href;var q=p.currentTarget.text;m({event_type:"creditcard",event_value:"click_button",link_name:"Click | "+q+" | "+o,link_url:o,cc_click_location:q+" | header"})};c.on_insiderTopClick=c.on_insiderTopMobileClick=function(p){var o="/insider?start_location=topnav";var q="Join Marvel Insider";m({event_type:"topnav",event_value:"click_insider",link_name:"Click | "+q+" | "+o,link_url:o,click_location:q+" | header"})};c.on_facebookLoginButtonClick=function(o){m({event_type:"registration",event_value:"click_widget_facebook",login_type:"facebook"})};c.on_googleLoginButtonClick=function(o){m({event_type:"registration",event_value:"click_widget_google",login_type:"google"})};c.on_emailLoginButtonClick=function(o){m({event_type:"registration",event_value:"click_widget_signup",login_type:"email"})};c.on_signUpButtonClick=function(o){m({event_type:"registration",event_value:"click_widget_signup",login_type:"email"})};c.on_confirmationClick=function(o){m({event_value:"confirmation_click"})};c.on_signInUserClick=function(o){m({event_type:"registration",event_value:"click_widget_login"})};c.on_unlimitedClick=function(o){m({event_value:"upgrade_click"})};c.on_logoutButtonClick=function(o){m({event_type:"registration",event_value:"logout"})};c.on_resendEmailConfirmationClick=c.on_resendEmailConfirmationMobileClick=function(o){m({event_value:"resend_confirmation_click"})};c.on_userButtonClick=function(o){m({event_type:"topnav",event_value:"click_signin",link_name:"Click | Sign In | Show Widget",link_url:"javascript_event",click_location:"Sign In | header"})}}h.getEl=function(o){return j[o]};return h})();(function(q,B){var h=q.navigator.msPointerEnabled,k=(h)?"MSPointerDown":"ontouchstart" in q?"touchstart":"mousedown",s=(h)?"MSPointerMove":"ontouchstart" in q?"touchmove":"mousemove",p=(h)?"MSPointerUp":"ontouchstart" in q?"touchend":"mouseup";(function(J,w){J[w]||(J[w]=function(d){return this.querySelectorAll("."+d)},Element.prototype[w]=J[w])})(document,"getElementsByClassName");!window.addEventListener&&function(L,w,N,K,d,J,M){L[K]=w[K]=N[K]=function(P,O){var Q=this;M.unshift([Q,P,O,function(R){R.currentTarget=Q;R.preventDefault=function(){R.returnValue=false};R.stopPropagation=function(){R.cancelBubble=true};R.target=R.srcElement||Q;O.call(Q,R)}]);this.attachEvent("on"+P,M[0][3])};L[d]=w[d]=N[d]=function(Q,O){for(var R=0,P;P=M[R];++R){if(P[0]==this&&P[1]==Q&&P[2]==O){return this.detachEvent("on"+Q,M.splice(R,1)[0][3])}}};L[J]=w[J]=N[J]=function(O){return this.fireEvent("on"+O.type,O)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]);if(typeof document!=="undefined"&&!("classList" in document.createElement("a"))){(function(M){var V="classList",Q="prototype",J=(M.HTMLElement||M.Element)[Q],U=Object,L=String[Q].trim||function(){return this.replace(/^\s+|\s+$/g,"")},T=Array[Q].indexOf||function(d){var W=0,X=this.length;for(;W<X;W++){if(W in this&&this[W]===d){return W}}return -1},w=function(W,d){this.name=W;this.code=DOMException[W];this.message=d},P=function(d,W){if(W===""){throw new w("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(W)){throw new w("INVALID_CHARACTER_ERR","String contains an invalid character")}return T.call(d,W)},S=function(d){var W=L.call(d.className),X=W?W.split(/\s+/):[],Y=0,Z=X.length;for(;Y<Z;Y++){this.push(X[Y])}this._updateClassName=function(){d.className=this.toString()}},R=S[Q]=[],N=function(){return new S(this)};w[Q]=Error[Q];R.item=function(d){return this[d]||null};R.contains=function(d){d+="";return P(this,d)!==-1};R.add=function(d){d+="";if(P(this,d)===-1){this.push(d);this._updateClassName()}};R.remove=function(d){d+="";var W=P(this,d);if(W!==-1){this.splice(W,1);this._updateClassName()}};R.toggle=function(d){d+="";if(P(this,d)===-1){this.add(d)}else{this.remove(d)}};R.toString=function(){return this.join(" ")};if(U.defineProperty){var K={get:N,enumerable:true,configurable:true};try{U.defineProperty(J,V,K)}catch(O){if(O.number===-2146823252){K.enumerable=false;U.defineProperty(J,V,K)}}}else{if(U[Q].__defineGetter__){J.__defineGetter__(V,N)}}}(self))}function x(){return A&&F&&b}function H(d){d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var J=new RegExp("[\\?&]"+d+"=([^&#]*)"),w=J.exec(location.search);return w===null?"":decodeURIComponent(w[1].replace(/\+/g," "))}function E(){return c}function u(d){return d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var i=B.getElementById("icon-menu"),A=B.getElementById("icon-search"),c=B.querySelectorAll(".icon-account")[0],F=B.getElementById("txtSearch"),I=B.getElementById("marvel_topnav_ul_wrapper"),b=B.getElementById("marvel_topnav_search"),r=B.getElementById("marvel_topnav_ul"),D=B.getElementById("marvel_subnav"),o=B.getElementById("marvel_subnav_li"),n=B.getElementById("marvel_subnav_ul"),v=B.getElementById("marvel_subnav_div"),a=function(){return q.innerHeight+44+"px"},m=false,g;function G(){l();t();y()}function t(){setTimeout(function(){var J=document.querySelectorAll(".marvelWidget_Container"),d=k!="mousedown"?"device_HASTOUCH":"device_NOT_HASTOUCH";for(var w=0;w<J.length;w++){J[w].classList.add(d)}},1000)}function l(){if(B.addEventListener){j().touchBinds()}j().initBinds()}function z(){setTimeout(window.scrollTo(0,0),100)}function j(){return{touchBinds:function(){if(i){function L(T){T.preventDefault();T.stopPropagation();setTimeout(function(){window.scroll(0,0)},1000);i.classList.toggle("active");if(o!==null){o.classList.remove("active");v.classList.remove("active");r.style.display="block"}if(x()){A.classList.remove("active");b.classList.remove("active")}if(I.className=="active"){I.className="";setTimeout(function(){g.destroy();g=undefined;C()},250)}else{var U=document.querySelectorAll(".dropdown.signin");for(var S=U.length-1;S>=0;S--){U[S].style.opacity="0"}I.style.height=a();I.className="active";if(typeof g==="undefined"){setTimeout(function(){g=new iScroll(I,null,2);g.on("scrollEndTap",function(){var V=g.e;if(V.target.offsetParent.className.indexOf("dropdown-container")===-1){if(g.e.target.href!==undefined){window.location.href=g.e.target.href;return}if(g.e.target.parentElement.href!==undefined){window.location.href=g.e.target.parentElement.href}}else{V.target.offsetParent.classList.toggle("active");g.refresh()}})},500)}if(x()){A.classList.remove("active");b.classList.remove("active")}if(o){n.classList.remove("active");o.classList.remove("active")}}}i.removeEventListener(k,L,false);i.addEventListener(k,L,false)}(function(){var S=setInterval(function(){clearInterval(S);if(window.topNavReporting){window.topNavReporting.init()}if(window.topNavLoginModule){window.topNavLoginModule.init()}var T=(window.navigator.msPointerEnabled)?"MSPointerDown":"ontouchstart" in window?"touchstart":"mousedown"},100)})();if(c&&(k!=="mousedown")){function J(S){c.parentNode.parentNode.classList.toggle("active")}c.removeEventListener(k,J,false);c.addEventListener(k,J,false)}if(c&&(k=="touchstart")){var K=document.querySelectorAll("#marvel_topnav .dropdown.signin")[0];var d=document.getElementById("marvel_topnav_ul_wrapper");var P=document.getElementById("marvel_topnav_mobile")}if(x()){function O(S){S.preventDefault();S.stopPropagation();A.classList.toggle("active");b.classList.toggle("active");if(A.classList.contains("active")){F.focus()}else{F.blur();q.scrollTo(0,1)}i.classList.remove("active");I.classList.remove("active");if(o!==null){o.classList.remove("active");v.classList.remove("active")}if(!m){B.getElementById("marvel_topnav_search").addEventListener(k,function(U){var T=B.createEvent("UIEvent");T.initUIEvent("touchstart",true,true);if(U.target.nodeName==="DIV"){U.preventDefault();U.stopPropagation();A.dispatchEvent(T)}});m=true}}A.removeEventListener(k,O,false);A.addEventListener(k,O,false)}if(D){var M={};function w(T){var S=T.touches?T.touches[0]:T;M={moved:false,startY:S.pageY,dist:0,uloffsetHeight:n.offsetHeight,ulscrollerHeight:n.scrollerHeight,getComputedPosition:R()};T.preventDefault();T.stopPropagation()}function Q(U){var S=U.touches?U.touches[0]:U,V=R(),T;M.dist=S.pageY-M.startY;if(Math.abs(M.dist)>10){M.moved=true}if(V.height+88<window.innerHeight){return}if(M.dist<0&&V.height+V.y<210){return}if(V.y>9){n.style.top="0px";return}if(M.moved){T=M.getComputedPosition.y+M.dist}U.preventDefault();U.stopPropagation()}function N(S){if(M.moved){return false}if(!M.move&&S.target.href!==undefined&&S.target.href.length>0){window.location.href=S.target.href;return}if(!M.move&&S.target.href===""&&S.target.offsetParent.classList.contains("dropdown-container")){S.target.offsetParent.classList.toggle("active");return}o.classList.toggle("active");v.classList.toggle("active");if(A&&b){A.classList.remove("active");b.classList.remove("active")}i.classList.remove("active");I.classList.remove("active");S.preventDefault();S.stopPropagation()}function R(){var T=window.getComputedStyle(n,null),S,U;U=+T.top.replace(/[^-\d]/g,"");height=parseInt(T.height,10);return{y:U,height:height}}D.addEventListener(k,w,false);D.addEventListener(s,Q,false);D.addEventListener(p,N,false)}},initBinds:function(){var d;q.addEventListener("resize",function(){clearTimeout(d);d=setTimeout(function(){if(I){I.style.height=i.className.search("active")>=0?a():0}},500);C()});function w(J){B.getElementById("marvel_topnav_search").classList.toggle("open");B.getElementById("marvel_topnav_search_button").classList.toggle("active");setTimeout(function(){B.getElementById("txtSearch").focus()},500);J.preventDefault();J.stopPropagation();return}if(B.getElementById("marvel_topnav_search_button")){B.getElementById("marvel_topnav_search_button").addEventListener(k,w)}if(B.getElementById("marvel_topnav_search_close")){B.getElementById("marvel_topnav_search_close").addEventListener(k,w)}}}}function C(){if(r){r.parentNode.setAttribute("style","")}}function y(K){var J,d;function w(L){if(window.innerWidth>900&&(k==="touchstart"||k==="MSPointerDown")){if(E()){c.parentNode.parentNode.classList.remove("active")}if(L.target.nodeName.toLowerCase()==="span"&&L.target.offsetParent.classList.contains("btn")){window.location.href=L.target.offsetParent.href;L.preventDefault();L.stopPropagation();return}J=L.target.offsetParent;if(d&&d!==J){d.classList.remove("active")}if(J.className.indexOf("dropdown-container")===-1){if(L.target.href!==undefined&&L.target.parentElement.className.indexOf("top-nav-menu-item")!==-1){window.location.href=L.target.href;L.preventDefault();L.stopPropagation();return}if(L.target.parentElement.className.indexOf("icon-user")){J.classList.toggle("active");d=J;L.preventDefault();L.stopPropagation();return}}else{J.classList.toggle("active");d=J;L.preventDefault();C()}}}if(I){I.addEventListener(k,w,false)}}G()})(window,document);
/*! iScroll v5.0.0-pre ~ (c) 2008-2013 Matteo Spinelli ~ http://cubiq.org/license */
;var iScroll=(function(d,a,c){var h=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||d.msRequestAnimationFrame||function(i){d.setTimeout(i,1000/60)};var b=(function(){var m={};var n=a.createElement("div").style;var k=(function(){var r=["t","webkitT","MozT","msT","OT"],p,q=0,o=r.length;for(;q<o;q++){p=r[q]+"ransform";if(p in n){return r[q].substr(0,r[q].length-1)}}return false})();function l(o){if(k===false){return false}if(k===""){return o}return k+o.charAt(0).toUpperCase()+o.substr(1)}m.getTime=Date.now||function i(){return new Date().getTime()};m.extend=function(q,p){for(var o in p){q[o]=p[o]}};m.addEvent=function(r,q,p,o){r.addEventListener(q,p,!!o)};m.removeEvent=function(r,q,p,o){r.removeEventListener(q,p,!!o)};m.momentum=function(v,q,r,o,w){var p=v-q,s=c.abs(p)/r,x,t,u=0.0006;x=v+(s*s)/(2*u)*(p<0?-1:1);t=s/u;if(x<o){x=w?o-(w/2.5*(s/8)):o;p=c.abs(x-v);t=p/s}else{if(x>0){x=w?w/2.5*(s/8):0;p=c.abs(v)+x;t=p/s}}return{destination:c.round(x),duration:t}};var j=l("transform");m.extend(m,{hasTransform:j!==false,hasPerspective:l("perspective") in n,hasTouch:"ontouchstart" in d,hasPointer:navigator.msPointerEnabled,hasTransition:l("transition") in n});m.extend(m.style={},{transform:j,transitionTimingFunction:l("transitionTimingFunction"),transitionDuration:l("transitionDuration"),transformOrigin:l("transformOrigin")});m.hasClass=function(p,q){var o=new RegExp("(^|\\s)"+q+"(\\s|$)");return o.test(p.className)};m.addClass=function(p,q){if(m.hasClass(p,q)){return}var o=p.className.split(" ");o.push(q);p.className=o.join(" ")};m.removeClass=function(p,q){if(!m.hasClass(p,q)){return}var o=new RegExp("(^|\\s)"+q+"(\\s|$)","g");p.className=p.className.replace(o,"")};m.offset=function(o){var q=-o.offsetLeft,p=-o.offsetTop;while(o=o.offsetParent){q-=o.offsetLeft;p-=o.offsetTop}return{left:q,top:p}};m.extend(m.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});m.extend(m.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(o){return o*(2-o)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(o){return c.sqrt(1-(--o*o))}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(p){var o=4;return(p=p-1)*p*((o+1)*p+o)+1}},bounce:{style:"",fn:function(o){if((o/=1)<(1/2.75)){return 7.5625*o*o}else{if(o<(2/2.75)){return 7.5625*(o-=(1.5/2.75))*o+0.75}else{if(o<(2.5/2.75)){return 7.5625*(o-=(2.25/2.75))*o+0.9375}else{return 7.5625*(o-=(2.625/2.75))*o+0.984375}}}}},elastic:{style:"",fn:function(o){f=0.225;e=1;if(o===0){return 0}if(o==1){return 1}return(e*c.pow(2,-10*o)*c.sin((o-f/4)*(2*c.PI)/f)+1)}}});return m})();function g(m,j,l){this.wrapper=typeof m=="string"?a.querySelector(m):m;this.scroller=this.wrapper.children[l||0];this.scrollerStyle=this.scroller.style;this.options={startX:0,startY:0,scrollX:false,scrollY:true,lockDirection:true,momentum:true,bounce:true,bounceTime:600,bounceEasing:"circular",preventDefault:true,eventPassthrough:false,HWCompositing:true,useTransition:true,useTransform:true,mouseWheel:false,invertWheelDirection:false,keyBindings:false,scrollbars:false,interactiveScrollbars:false,resizeIndicator:false,snap:false,snapThreshold:10,zoomMin:1,zoomMax:4};for(var k in j){this.options[k]=j[k]}this.translateZ=this.options.HWCompositing&&b.hasPerspective?" translateZ(0)":"";this.options.useTransition=b.hasTransition&&this.options.useTransition;this.options.useTransform=b.hasTransform&&this.options.useTransform;this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.lockDirection=this.options.lockDirection||this.options.eventPassthrough;this.directionLockThreshold=this.options.eventPassthrough?0:5;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?b.ease[this.options.bounceEasing]||b.ease.circular:this.options.bounceEasing;this.x=0;this.y=0;this._events={};this.scale=1;this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}g.prototype.destroy=function(){this._initEvents(true);this._execCustomEvent("destroy")};g.prototype._transitionEnd=function(i){if(i.target!=this.scroller){return}this._transitionTime(0);if(!this.resetPosition(this.options.bounceTime)){this._execCustomEvent("scrollEnd")}};g.prototype._start=function(j){if(!this.enabled||(this.initiated&&b.eventType[j.type]!==this.initiated)){return}if(this.options.preventDefault){j.preventDefault()}var i=j.touches?j.touches[0]:j,k;this.initiated=b.eventType[j.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.isAnimating=false;this.startTime=b.getTime();if(this.options.useTransition&&this.isInTransition){k=this.getComputedPosition();this._translate(c.round(k.x),c.round(k.y));this.isInTransition=false}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=i.pageX;this.pointY=i.pageY};g.prototype._end=function(o){if(!this.enabled||b.eventType[o.type]!==this.initiated){return}if(this.options.preventDefault){o.preventDefault()}var q=o.changedTouches?o.changedTouches[0]:o,k,j,n=b.getTime()-this.startTime,i=c.round(this.x),r=c.round(this.y),l=0,p="";this.isInTransition=0;this.initiated=0;this.endTime=b.getTime();if(this.resetPosition(this.options.bounceTime)){return}if(!this.moved){this.e=o;this._execCustomEvent("scrollEndTap");return}if(this.options.momentum&&n<300){k=this.hasHorizontalScroll?b.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:i,duration:0};j=this.hasVerticalScroll?b.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:r,duration:0};i=k.destination;r=j.destination;l=c.max(k.duration,j.duration);this.isInTransition=1}if(this.options.snap){var m=this._nearestSnap(i,r);this.currentPage=m;i=m.x;r=m.y;l=this.options.snapSpeed||c.max(c.max(c.min(c.abs(i-this.x),1000),c.min(c.abs(r-this.y),1000)),300);p=this.options.bounceEasing}if(i!=this.x||r!=this.y){if(i>0||i<this.maxScrollX||r>0||r<this.maxScrollY){p=b.ease.quadratic}this.scrollTo(i,r,l,p);return}this._execCustomEvent("scrollEnd")};g.prototype._resize=function(){var i=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){i.refresh();i.resetPosition()},60)};g.prototype.resetPosition=function(j){if(this.x<=0&&this.x>=this.maxScrollX&&this.y<=0&&this.y>=this.maxScrollY){return false}var i=this.x,k=this.y;j=j||0;if(!this.hasHorizontalScroll||this.x>0){i=0}else{if(this.x<this.maxScrollX){i=this.maxScrollX}}if(!this.hasVerticalScroll||this.y>0){k=0}else{if(this.y<this.maxScrollY){k=this.maxScrollY}}this.scrollTo(i,k,j,this.options.bounceEasing);return true};g.prototype.disable=function(){this.enabled=false};g.prototype.enable=function(){this.enabled=true};g.prototype.refresh=function(){var i=this.wrapper.offsetHeight;var i=this.scroller.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=c.round(this.scroller.offsetWidth*this.scale);this.scrollerHeight=c.round(this.scroller.offsetHeight*this.scale);this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;if(this.maxScrollX>0){this.maxScrollX=0}if(this.maxScrollY>0){this.maxScrollY=0}this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;this.endTime=0;this._execCustomEvent("refresh")};g.prototype.on=function(j,i){if(!this._events[j]){this._events[j]=[]}this._events[j].push(i)};g.prototype._execCustomEvent=function(m){if(!this._events[m]){return}var k=0,j=this._events[m].length;if(!j){return}for(;k<j;k++){this._events[m][k].call(this)}};g.prototype.scrollBy=function(i,l,j,k){i=this.x+i;l=this.y+l;j=j||0;this.scrollTo(i,l,j,k)};g.prototype.scrollTo=function(i,l,j,k){k=k||b.ease.circular;if(!j||(this.options.useTransition&&k.style)){this._transitionTimingFunction(k.style);this._transitionTime(j);this._translate(i,l)}else{this._animate(i,l,j,k.fn)}};g.prototype._init=function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators()}if(this.options.snap){this._initSnap()}if(this.options.mouseWheel){this._initWheel()}if(this.options.keyBindings){this._initKey()}if(this.options.zoom){this._initZoom()}if(this.options.probeType){this._initProbe()}};g.prototype._initEvents=function(i){var j=i?b.removeEvent:b.addEvent,k=this.options.bindToWrapper?this.wrapper:d;j(d,"orientationchange",this);j(d,"resize",this);j(this.wrapper,"mousedown",this);j(k,"mousemove",this);j(k,"mousecancel",this);j(k,"mouseup",this);if(b.hasPointer){j(this.wrapper,"MSPointerDown",this);j(k,"MSPointerMove",this);j(k,"MSPointerCancel",this);j(k,"MSPointerUp",this)}if(b.hasTouch){j(this.wrapper,"touchstart",this);j(k,"touchmove",this);j(k,"touchcancel",this);j(k,"touchend",this)}j(this.scroller,"transitionend",this);j(this.scroller,"webkitTransitionEnd",this);j(this.scroller,"oTransitionEnd",this);j(this.scroller,"MSTransitionEnd",this)};g.prototype.getComputedPosition=function(){var j=d.getComputedStyle(this.scroller,null),i,k;if(this.options.useTransform){j=j[b.style.transform].split(")")[0].split(", ");i=+(j[12]||j[4]);k=+(j[13]||j[5])}else{i=+j.left.replace(/[^-\d]/g,"");k=+j.top.replace(/[^-\d]/g,"")}return{x:i,y:k}};g.prototype._initKey=function(l){var k={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var j;if(typeof this.options.keyBindings=="object"){for(j in this.options.keyBindings){if(typeof this.options.keyBindings[j]=="string"){this.options.keyBindings[j]=this.options.keyBindings[j].toUpperCase().charCodeAt(0)}}}else{this.options.keyBindings={}}for(j in k){this.options.keyBindings[j]=this.options.keyBindings[j]||k[j]}b.addEvent(d,"keydown",this);this.on("destroy",function(){b.removeEvent(d,"keydown",this)})};g.prototype._key=function(n){var i=this.options.snap,o=i?this.currentPage.pageX:this.x,m=i?this.currentPage.pageY:this.y,k=b.getTime(),j=this.keyTime||0,l=0.25,p;if(this.options.useTransition&&this.isInTransition){p=this.getComputedPosition();this._translate(c.round(p.x),c.round(p.y));this.isInTransition=false}this.keyAcceleration=k-j<200?c.min(this.keyAcceleration+l,50):0;switch(n.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){o+=i?1:this.wrapperWidth}else{m+=i?1:this.wrapperHeight}break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){o-=i?1:this.wrapperWidth}else{m-=i?1:this.wrapperHeight}break;case this.options.keyBindings.end:o=i?this.pages.length-1:this.maxScrollX;m=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=0;m=0;break;case this.options.keyBindings.left:o+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:m+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:o-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:m-=i?1:5+this.keyAcceleration>>0;break}if(i){this.goToPage(o,m);return}if(o>0){o=0;this.keyAcceleration=0}else{if(o<this.maxScrollX){o=this.maxScrollX;this.keyAcceleration=0}}if(m>0){m=0;this.keyAcceleration=0}else{if(m<this.maxScrollY){m=this.maxScrollY;this.keyAcceleration=0}}this.scrollTo(o,m,0);this.keyTime=k};g.prototype._initSnap=function(){this.pages=[];this.currentPage={};this.on("refresh",function(){var s=0,q,o=0,k,r,p,u=0,t,w=this.options.snapStepX||this.wrapperWidth,v=this.options.snapStepY||this.wrapperHeight,j;if(this.options.snap===true){r=c.round(w/2);p=c.round(v/2);while(u>=-this.scrollerWidth){this.pages[s]=[];q=0;t=0;while(t>=-this.scrollerHeight){this.pages[s][q]={x:c.max(u,this.maxScrollX),y:c.max(t,this.maxScrollY),cx:u-r,cy:t-p};t-=v;q++}u-=w;s++}}else{j=this.options.snap;q=j.length;k=-1;for(;s<q;s++){if(j[s].offsetLeft===0){o=0;k++}if(!this.pages[o]){this.pages[o]=[]}u=c.max(-j[s].offsetLeft,this.maxScrollX);t=c.max(-j[s].offsetTop,this.maxScrollY);r=u-c.round(j[s].offsetWidth/2);p=t-c.round(j[s].offsetHeight/2);this.pages[o][k]={x:u,y:t,cx:r,cy:p};o++}}this.currentPage={x:this.pages[0][0].x,y:this.pages[0][0].y,pageX:0,pageY:0}})};g.prototype._nearestSnap=function(k,p){var o=0,n=this.pages.length,j=0;if(c.abs(k-this.absStartX)<this.options.snapThreshold&&c.abs(p-this.absStartY)<this.options.snapThreshold){return this.currentPage}for(;o<n;o++){if(k>=this.pages[o][0].cx){k=this.pages[o][0].x;break}}n=this.pages[o].length;for(;j<n;j++){if(p>=this.pages[0][j].cy){p=this.pages[0][j].y;break}}if(o==this.currentPage.pageX){o+=this.directionX;if(o<0){o=0}else{if(o>=this.pages.length){o=this.pages.length-1}}k=this.pages[o][0].x}if(j==this.currentPage.pageY){j+=this.directionY;if(j<0){j=0}else{if(j>=this.pages[0].length){j=this.pages[0].length-1}}p=this.pages[0][j].y}return{x:k,y:p,pageX:o,pageY:j}};g.prototype.goToPage=function(i,n,j,m){if(i>=this.pages.length){i=this.pages.length-1}else{if(i<0){i=0}}if(n>=this.pages[0].length){n=this.pages[0].length-1}else{if(n<0){n=0}}var l=this.pages[i][n].x,k=this.pages[i][n].y;j=j||this.options.snapSpeed||c.max(c.max(c.min(c.abs(l-this.x),1000),c.min(c.abs(k-this.y),1000)),300);this.currentPage={x:l,y:k,pageX:i,pageY:n};this.scrollTo(l,k,j,m)};g.prototype.next=function(j,l){var i=this.currentPage.pageX,k=this.currentPage.pageY;i+=this.hasHorizontalScroll?1:0;k+=this.hasVericalScroll?1:0;this.goToPage(i,k,j,l)};g.prototype.prev=function(j,l){var i=this.currentPage.pageX,k=this.currentPage.pageY;i-=this.hasHorizontalScroll?1:0;k-=this.hasVericalScroll?1:0;this.goToPage(i,k,j,l)};g.prototype._transitionTime=function(i){i=i||0;this.scrollerStyle[b.style.transitionDuration]=i+"ms";if(this.indicator1){this.indicator1.transitionTime(i)}if(this.indicator2){this.indicator2.transitionTime(i)}};g.prototype._transitionTimingFunction=function(i){this.scrollerStyle[b.style.transitionTimingFunction]=i;if(this.indicator1){this.indicator1.transitionTimingFunction(i)}if(this.indicator2){this.indicator2.transitionTimingFunction(i)}};g.prototype._initWheel=function(){b.addEvent(this.wrapper,"mousewheel",this);b.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){b.removeEvent(this.wrapper,"mousewheel",this);b.removeEvent(this.wrapper,"DOMMouseScroll",this)})};g.prototype._wheel=function(m){var k,j,n,l,i=this;clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){i._execCustomEvent("scrollEnd")},400);m.preventDefault();if("wheelDeltaX" in m){k=m.wheelDeltaX/10;j=m.wheelDeltaY/10}else{if("wheelDelta" in m){k=j=m.wheelDelta/10}else{if("detail" in m){k=j=-m.detail*4}else{return}}}if(!this.hasVerticalScroll&&k===0){k=j}n=this.x+(this.hasHorizontalScroll?k*this.options.invertWheelDirection:0);l=this.y+(this.hasVerticalScroll?j*this.options.invertWheelDirection:0);if(n>0){n=0}else{if(n<this.maxScrollX){n=this.maxScrollX}}if(l>0){l=0}else{if(l<this.maxScrollY){l=this.maxScrollY}}this.scrollTo(n,l,0)};g.prototype._animate=function(r,q,l,i){var o=this,n=this.x,m=this.y,j=b.getTime(),p=j+l;function k(){var s=b.getTime(),u,t,v;if(s>=p){o.isAnimating=false;o._translate(r,q);o.resetPosition(o.options.bounceTime);return}s=(s-j)/l;v=i(s);u=(r-n)*v+n;t=(q-m)*v+m;o._translate(u,t);if(o.isAnimating){h(k)}}this.isAnimating=true;k()};g.prototype._move=function(n){if(!this.enabled||b.eventType[n.type]!==this.initiated){return}if(this.options.preventDefault){n.preventDefault()}var p=n.touches?n.touches[0]:n,k=p.pageX-this.pointX,j=p.pageY-this.pointY,o=b.getTime(),i,q,m,l;this.pointX=p.pageX;this.pointY=p.pageY;this.distX+=k;this.distY+=j;m=c.abs(this.distX);l=c.abs(this.distY);if(o-this.endTime>300&&(m<10&&l<10)){return}if(!this.directionLocked&&this.options.lockDirection){if(m>l+this.directionLockThreshold){this.directionLocked="h"}else{if(l>=m+this.directionLockThreshold){this.directionLocked="v"}else{this.directionLocked=0}}}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){n.preventDefault()}else{if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}}j=0}else{if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){n.preventDefault()}else{if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}}k=0}}i=this.x+(this.hasHorizontalScroll?k:0);q=this.y+(this.hasVerticalScroll?j:0);if(i>0||i<this.maxScrollX){i=this.options.bounce?this.x+k/3:i>0?0:this.maxScrollX}if(q>0||q<this.maxScrollY){q=this.options.bounce?this.y+j/3:q>0?0:this.maxScrollY}this.directionX=k>0?-1:k<0?1:0;this.directionY=j>0?-1:j<0?1:0;this.moved=true;this._translate(i,q);if(o-this.startTime>300){this.startTime=o;this.startX=this.x;this.startY=this.y}};g.prototype._translate=function(i,j){if(this.options.useTransform){this.scrollerStyle[b.style.transform]="translate("+i+"px,"+j+"px)"+this.translateZ}else{i=c.round(i);j=c.round(j);this.scrollerStyle.left=i+"px";this.scrollerStyle.top=j+"px"}this.x=i;this.y=j;if(this.indicator1){this.indicator1.updatePosition()}if(this.indicator2){this.indicator2.updatePosition()}};g.prototype.handleEvent=function(i){switch(i.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(i);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(i);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(i);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(i);break;case"DOMMouseScroll":case"mousewheel":this._wheel(i);break;case"keydown":this._key(i);break}};g.ease=b.ease;return g})(window,document,Math);var OpenDropDown=(function(b,c){function a(i,h){var j="ontouchstart" in window,g=navigator.msPointerEnabled,k=g?"MSPointerDown":j?"touchstart":"mousedown",m=g?"MSPointerMove":j?"touchmove":"mousemove",l=g?"MSPointerUp":j?"touchend":"mouseup",d=0;this.el=c.getElementById(i);if(!this.el.addEventListener){return}this.el.addEventListener(k,this,false);this.el.addEventListener(m,this,false);this.el.addEventListener(l,this,false);this.callback=h.callback}a.prototype._start=function(g){var d=g.touches?g.touches[0]:g,h;this.moved=false;this.distX=0;this.distY=0;this.startTime=Date.now();this.pointX=d.pageX;this.pointY=d.pageY};a.prototype._move=function(k){var m=k.touches?k.touches[0]:k,h=m.pageX-this.pointX,g=m.pageY-this.pointY,l=Date.now(),d,n,j,i;this.pointX=m.pageX;this.pointY=m.pageY;this.distX+=h;this.distY+=g;j=Math.abs(this.distX);i=Math.abs(this.distY);if(l-this.endTime>300&&(j<10&&i<10)){return}this.moved=true;if(l-this.startTime>300){this.startTime=l;this.startX=this.x;this.startY=this.y}};a.prototype._end=function(d){this.endTime=Date.now();if(!this.moved){this.callback(d);return}};a.prototype.handleEvent=function(d){switch(d.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(d);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(d);break;case"touchend":case"MSPointerUp":case"mouseup":this._end(d);break}};return a})(window,document);(function(a){if(document.getElementById("marvel_footer")){a()}else{setTimeout(a,2000)}})(function(){if(document.getElementById("marvel_footer")){var c=document.getElementById("footer-links-container");var a=(window.navigator.msPointerEnabled)?"MSPointerDown":"ontouchstart" in window?"touchstart":"mousedown";if(c&&c.getElementsByClassName("footer-menu-item").length>0){c.addEventListener(a,function(d){if(d.target.href!==undefined&&d.target.className.indexOf("footer-menu-item")!==-1){window.location.href=d.target.href;d.preventDefault();d.stopPropagation();return}},false)}var b=new OpenDropDown("marvel_footer",{callback:function(h){if(window.innerWidth<=939){var g=h.target,d=g.nextElementSibling;if(g.className.search("active")>=0){g.className=g.className.replace("active","");d.className=g.className.replace("active","")}else{g.className="active ";d.className="active "}}h.preventDefault();h.stopPropagation()}})}if(window.footerReporting&&window.footerReporting.init){window.footerReporting.init()}});var topNavLoadedInit=(topNavLoadedInit)?topNavLoadedInit:(function(){var s={};var l={};var y={};var b=(window.navigator.msPointerEnabled)?"MSPointerDown":"ontouchstart" in window?"touchstart":"mousedown";var v=false;var t=window.URLs.loyaltyUrl;var B;var r=false;var u;s.init=function(){o();i();x();k()};function o(){l.gw$widgetContainer=gw$.findEl("#marvelWidget_insertTopNav");l.gw$topNav=gw$.findEl("#marvel_topnav_wrapper");l.gw$userButton=gw$.findEl("#marvel_topnav_user_button",l.gw$topNav);l.gw$userButtonMobile=gw$.findEl(".icon-account._topnavicon",l.gw$topNav);l.gw$menuButtonMobile=gw$.findEl(".icon-menu._topnavicon",l.gw$topNav);l.gw$popupMenu=gw$.findEl("#marvel_topnav_ul_wrapper",l.gw$topNav);l.gw$dropDown=gw$.findEl(".dropdown.signin",l.gw$topNav);l.gw$facebookLoginButton=gw$.findEl(".btn-facebook",l.gw$topNav);l.gw$googleLoginButton=gw$.findEl(".btn-google",l.gw$topNav);l.gw$pointsValue=gw$.findEl("#points_value");l.gw$ddPointsValue=gw$.findEl("#dd_points_value");l.gw$ddLevelValue=gw$.findEl("#dd_level_value");l.gw$ddPointsValueMobile=gw$.findEl("#dd_points_value_mobile");l.gw$ddLevelValueMobile=gw$.findEl("#dd_level_value_mobile");l.gw$message=gw$.findEl(".signedin h2.message");l.gw$resendConfirmation=gw$.findEl(".signedin h2.message #resendConfirmation")}function x(){window.onresize=m;for(var D in l){if(l.hasOwnProperty(D)){var C=l[D];var F=D.split("$")[1];var E=y["on_"+F+"Click"];if(C&&E){gw$.addEventListenerToEl(C,b,E)}}}}function k(){B=new XMLHttpRequest();B.withCredentials=true;B.open("GET",t+"/insider/v1/user");B.onload=d;B.onerror=a;B.send()}function p(){if(v){n()}else{q()}}function q(){if(!v){gw$.setBatchCSS(l.gw$dropDown,{top:30,opacity:1});gw$.addClassToEl(l.gw$userButton,"open");gw$.addClassToEl(l.gw$userButtonMobile,"open");gw$.removeClassFromEl(l.gw$popupMenu,"active");document.addEventListener(b,g);v=true}}function h(){if(!r&&l.gw$widgetContainer){gw$.setElCSS(l.gw$widgetContainer,"overflow","visible");r=true}}function n(){if(v){gw$.setBatchCSS(l.gw$dropDown,{top:-530,opacity:0});gw$.removeClassFromEl(l.gw$userButton,"open");gw$.removeClassFromEl(l.gw$userButtonMobile,"open");document.removeEventListener(b,g);v=false}}function c(){gw$.removeClassFromEl(l.gw$userButton,"open")}function z(D){var C=document.createElement("script");C.type="text/javascript";C.src=D;document.getElementsByTagName("head")[0].appendChild(C)}function g(C){if(C.target.className&&C.target.className.indexOf("icon-account")===-1&&C.target.className.indexOf("login_button")===-1&&!j(C.target,"dropdown")){n()}}function j(E,D){var F=false;var C=gw$.getParentEl(E);while(C){if(C.className&&C.className.indexOf(D)!==-1){F=true}C=gw$.getParentEl(C)}return F}function d(){var C=JSON.parse(B.response);if(B.status>=200&&B.status<300&&C.data.results[0].is_insider){var D=C.data.results[0];var E="";if(D.crowdtwist){E=w(D.crowdtwist.total_points)+" points"}gw$.setElText(l.gw$pointsValue,E);gw$.setElText(l.gw$ddPointsValue,E);gw$.setElText(l.gw$ddLevelValue,"level: "+D.crowdtwist.fan_level);gw$.setElText(l.gw$ddPointsValueMobile,E);gw$.setElText(l.gw$ddLevelValueMobile,"Level: "+D.crowdtwist.fan_level)}else{A()}}function w(C){return C.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function a(){A()}function A(){var F=document.getElementsByClassName("value_holder");if(F&&F[0]){for(var D=0;D<F.length;D++){F[D].innerHTML="";var C=document.createElement("h2");C.innerHTML="Check out the latest Activities and Rewards!";C.classList.add("dd_prompt");F[D].appendChild(C)}}if(window.location.pathname.indexOf("/insider/faq")!==-1){var E=gw$.findEl(".mobile-bkg");gw$.setElCSS(E,"height","124px")}}function m(){n()}function i(){y.on_facebookLoginButtonClick=function(C){window.janrain.engage.signin.triggerFlow("facebook")};y.on_googleLoginButtonClick=function(C){window.janrain.engage.signin.triggerFlow("googleplus")};y.on_emailLoginButtonClick=function(F){var E=new Date(),D="";var C=1;E.setDate(E.getDate()+C);D=window.escape(window.location.href)+"; expires="+E.toUTCString();document.cookie="regRefererUrl="+D+";domain=marvel.com;path=/"};y.on_userButtonClick=function(C){h();p()};y.on_menuButtonMobileClick=function(C){h();z(u.resendEmailAjaxURL)};y.on_userButtonMobileClick=function(C){h();p()};y.on_resendConfirmationClick=function(C){C.preventDefault();z(u.resendEmailAjaxURL);gw$.setElHTML(l.gw$message,"Confirmation email was sent to "+u.email)};y.on_widgetContainerClick=function(C){h();gw$.removeEventListenerFromEl(l.gw$widgetContainer,b,y.on_widgetContainerClick)}}s.getEl=function(C){return l[C]};return s})();var topNavLoginModule=(function(){var j={};var n=[];var g;var h;var a=0;var m=0;j.init=function(){d();k()};function d(){g=[];var o=gw$.findEl(".top-nav-module-container");if(o){Array.prototype.forEach.call(o,function(r,q){var s=gw$.getAttrFromEl(r,"data-params");g.push(JSON.parse(s.trim()))});var p=gw$.findEl(".top-nav-dynamic-js-info")}}function k(){if(g&&g[0]){g.forEach(i)}}function i(p,o){if(p){b(p.url,l,o)}}function b(r,s,q){var p="_top_nav_modules_jsonp_"+m++;if(r.match(/\?/)){r+="&callback="+p}else{r+="?callback="+p}var o=document.createElement("script");o.type="text/javascript";o.src=r;window[p]=function(t){s.call(window,t,q);document.getElementsByTagName("head")[0].removeChild(o);o=null;delete window[p]};document.getElementsByTagName("head")[0].appendChild(o);a++}function l(o,p){var r=gw$.findEl("#marvel_topnav_wrapper ."+g[p].selector);var q=o.html;if(r){r[0].outerHTML=q.trim()}c()}function c(){a--;if(a===0){if(window.topNavLoadedInit){window.topNavLoadedInit.init()}if(window.topNavReporting){window.topNavReporting.initUser()}}}return j})();(function(){var g=["top","left","bottom","right","width","height","font-size","border-width"];var d={};var b={};function h(){for(var k in b){if(b.hasOwnProperty(k)){j(k)}}window.Gwen=window.gw$=d}function j(k){var l=b[k];if(Object.prototype.toString.call(l)==="[object Function]"){d[k]=function(n){var o;var m=Array.prototype.slice.call(arguments);if(i(n)){Array.prototype.forEach.call(n,function(p){if(a(p)&&!o){m[0]=p;o=l.apply(this,m)}})}else{if(a(n)){o=l.apply(this,m)}}return o}}}function i(k){return !!(k&&k.length&&Object.prototype.toString.call(k)==="[object NodeList]")}function a(k){return !!(k&&Object.prototype.toString.call(k).indexOf("Element")!==-1)}d.findEl=function(k,n,l){if(n){if(a(n)){n=n}else{if(i(n)){n=n[0]}else{n=document}}}else{n=document}var m=n.querySelectorAll(k);if(!i(m)){m=null}if(m&&(l||l===0)){m=m[l]}return m};d.createEl=function(l,o,k,n){var m=document.createElement(l);if(o){d.setElAttr(m,"id",o)}if(n){d.appendEl(m,n)}if(k){d.setBatchAttrs(m,k)}return m};b.addClassToEl=function(l,k){if(l.classList){l.classList.add(k)}else{l.className+=" "+k}};b.removeClassFromEl=function(l,k){if(l.classList){l.classList.remove(k)}else{l.className=l.className.replace(new RegExp("(^| )"+k.split(" ").join("|")+"( |$)","gi")," ")}};b.prependEl=function(l,k){if(i(k)){k[0].insertBefore(l,k.firstChild)}else{if(a(k)){k.insertBefore(l,k.firstChild)}}};b.appendEl=function(l,k){if(i(k)){k.appendChild(l)}else{if(a(k)){k.appendChild(l)}}};b.cloneEl=function(k){return k.cloneNode(true)};b.emptyEl=function(k){k.innerHTML=""};b.removeEl=function(k){if(k&&k.parentNode){k.parentNode.removeChild(k)}};b.getCSSFromEl=function(k,l){l=c(l);return getComputedStyle(k)[l]};b.setBatchCSS=function(l,k){for(var n in k){var m=k[n];d.setElCSS(l,n,m)}};b.setElCSS=function(k,m,l){if(Object.prototype.toString.call(l)==="[object Number]"&&g.indexOf(m)!==-1){l+="px"}m=c(m);k.style[m]=l};b.matchesSelector=function(l,k){var m=(l.matches||l.matchesSelector||l.msMatchesSelector||l.mozMatchesSelector||l.webkitMatchesSelector||l.oMatchesSelector).call(l,k);return m};b.getAttrFromEl=function(l,k){return l.getAttribute(k)};b.setBatchAttrs=function(m,l){for(var k in l){var n=l[k];d.setElAttr(m,k,n)}};b.setElAttr=function(l,k,m){l.setAttribute(k,m)};b.getElOffset=function(k){return{left:k.offsetLeft,top:k.offsetTop}};b.getParentEl=function(k){return k.parentNode};b.setElHTML=function(l,k){l.innerHTML=k};b.getElText=function(k){return k.textContent};b.setElText=function(k,l){k.textContent=l};b.addEventListenerToEl=function(n,k,m,l){if(n.addEventListener){n.addEventListener(k,m)}else{if(!l){l="on"+k}n.attachEvent(l,m)}};b.removeEventListenerFromEl=function(n,k,m,l){if(n.removeEventListener){n.removeEventListener(k,m)}else{if(!l){l="on"+k}n.detachEvent(l,m)}};function c(l){var k=l.split("-");if(k.length>1){l="";k.forEach(function(m,n){if(n===0){l+=m}else{l+=m.charAt(0).toUpperCase()+m.substr(1)}})}return l}h()})();