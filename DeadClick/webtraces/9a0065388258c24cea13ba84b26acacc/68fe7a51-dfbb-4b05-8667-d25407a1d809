define(["jquery","jquery.spin","foundation.reveal"],function(f){var m=false;function i(){if(m){return m}var o=f._data(document,"events");if(typeof(o)==="undefined"||typeof(o.click)==="undefined"){return false}var p=o.click.filter(function(q){return q.namespace==="fndtn.reveal"});if(p.length<=0){return false}m=true;return true}function c(t,r){f(".vfrs-alert-dialog-js").remove();r=r.toLowerCase();var q=f('<div class="tiny reveal-modal vfrs-alert-dialog-js"></div>'),o=f('<div class="vfrs-dialog-icon-js"><div class="'+r+'-icon-js"></div></div>'),s=f('<div class="vfrs-dialog-text-js"><p>'+t+"</p></div>"),p=f('<a class="close-reveal-modal" aria-label="Close"><span class="icon-close"></span></a>');q.append(o);q.append(s);q.append(p);if(!i()){console.log("Initializing Foundation Reveal to support alert messages.");f(document).foundation("reveal")}q.on("closed",function(u){u.currentTarget.remove()});f("body").append(q);q.foundation("reveal","open")}function k(q,o){var p=f(".page-notification-js");if(p.length>0){a(p,q,o);d();window.scrollTo(0,0)}}function n(q,o){var p=f(".hopup-notification-js");if(p.length>0){a(p,q,o)}}function a(o,r,q){var p='<section class="page-messaging-js"><div><p class="message '+q+'">'+r+"</p></div></section>";o.html(p)}function l(){f(".page-notification-js").html("")}function j(t,o,r){var q,s={lines:12,corners:1,rotate:0,direction:1,speed:1,trail:25,shadow:false,hwaccel:false,className:"spinner",zIndex:2000000000,top:"auto",left:"auto"},u=f('<div class="activity-indicator">'),p=f('<div class="loading-spinner-text">');switch(o){case"small":f.extend(s,{length:6,width:4,radius:9,});break;case"large":default:f.extend(s,{length:12,width:5,radius:18,});break}switch(r){case"s":q=LOADING_INDICATOR_TEXTS.SAVE;break;case"p":q=LOADING_INDICATOR_TEXTS.PROCESS;break;case"u":q=LOADING_INDICATOR_TEXTS.UPDATE;break;default:q=LOADING_INDICATOR_TEXTS.LOAD;break}p.text(q);t.empty();t.append(u);t.append(p);t.show();u.spin(s)}function g(o){var p=f(".activity-indicator",o);o.hide();p.spin(false)}function h(o){var p=f("#loading-spinner");if(p.length<1){p=f('<div id="loading-spinner">');f("body").append(p)}j(p,"large",o)}function e(p,o){var q=f(o);$spinner=f(".loading-spinner",q);if($spinner.length<1){$spinner=f('<div class="loading-spinner">');q.append($spinner)}j($spinner,"small",p)}function d(){var o=f("#loading-spinner");g(o)}function b(o){var q=f(o),p=f(".loading-spinner",q);g(p)}return{showMessageDialog:c,showPageNotification:k,showHopupNotification:n,clearPageNotification:l,showLoadingNotification:h,hideLoadingNotification:d,showLoadingNotificationByPosition:e,hideLoadingNotificationByPosition:b}});