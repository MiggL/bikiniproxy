/*! 294-12-RELEASE 2018-02-11 */
!function(a,b){a.TRC=a.TRC||{};var c=a.TRC,d=0,e=0,f=c.Dfp=function(a){this.googleRenderTimeout=a.googleRenderTimeout,this.slotRenderTimeout=a.slotRenderTimeout,this.collectExtraData=a.collectExtraData,this.trackIframes=a.trackIframes,this.numIframeIterations=a.numIframeIterations||5};f.prototype.find=function(){var a=this;return new c.Promise(function(b){function c(){p("vvGptFind"),g(window)?b():setTimeout(c,a.googleRenderTimeout)}c()})};var g=function(a){try{return!!(a.googletag&&"function"==typeof a.googletag.pubads&&a.googletag.pubads()&&"function"==typeof a.googletag.pubads().getSlots&&a.googletag.pubads().getSlots())}catch(b){return!1}};f.prototype.run=function(a,b){p("vvDfpRun");var c=a(this.slotRenderTimeout),d=window.googletag.pubads().getSlots();this.collectExtraData&&(n(window.googletag,c),h(d,b));var e=i(d);return m(window.googletag,c),this.trackIframes&&o(c,b,this.googleRenderTimeout,this.collectExtraData,this.numIframeIterations),e.length>0?(p("dfpRenderedSync"),j(e,b)):void 0};var h=function(a,b){window.addEventListener("blur",function(){var c=l(document.activeElement.id),d=a.filter(function(a){return a.getAdUnitPath()===c});if(d&&d.length>0){var e=k(d[0],"click");e&&b([e])}})},i=function(a){return a.filter(function(a){return a.getResponseInformation()})},j=function(a,b){var c=a.map(function(a){return k(a,"available")}).filter(Boolean);return b(c)},k=function(a,b){a=a||{};var c=a.getResponseInformation&&a.getResponseInformation();return{ao:c,aup:a.getAdUnitPath&&a.getAdUnitPath(),ras:a.getSizes&&a.getSizes(),an:c&&c.lineItemId?"dfp-direct":"dfp-fallback",et:b}},l=function(a){return a?a.substring("google_ads_iframe_".length,a.length-2):null},m=function(a,b){a.pubads().addEventListener("slotRenderEnded",function(a){if(!a.isEmpty){var c=k(a.slot,"available");p("dfpRenderedAsync"),b(c)}})},n=function(a,b){a.pubads().addEventListener("impressionViewable",function(a){var c=k(a.slot,"visible");b(c)})},o=function(a,b,c,d,e){function f(){for(var e=[],o=0;o<l.length;o++){var p=l[o];-1===k.indexOf(p)&&g(p.contentWindow)&&(k.push(p),e=e.concat(i(p.contentWindow.googletag.pubads().getSlots())),m(p.contentWindow.googletag,a),d&&n(p.contentWindow.googletag,a))}e.length>0&&j(e,b),h-=1,h>0&&setTimeout(f,c)}var h=e,k=[],l=document.body.getElementsByTagName("iframe");setTimeout(f,0)},p=function(a){c.performance&&c.performance.mark("6.8."+d,null,a,e,a,c.PerfEvenType.START),d++,c.performance&&c.performance.mark("6.8."+d,null,a,e,a,c.PerfEvenType.STOP),d++,e++}}(window,document),function(a){function b(a){if(!(this instanceof b))throw new TypeError("Constructor Promise requires `new`");if(!j(a))throw new TypeError("Must pass resolver function");this._state=e,this._value=[],this._isChainEnd=!0,n(this,h(this,c),h(this,d),{then:a})}function c(a,b,c,d){return b?(d||(d=new f(this.constructor)),q(m(d,b,a)),d.promise):this}function d(a,b,c,d){return c?(d||(d=new f(this.constructor)),q(m(d,c,a)),d.promise):this}function e(a,b,c,d){return b||c?(d||(d=new f(this.constructor)),a.push({deferred:d,onFulfilled:b||d.resolve,onRejected:c||d.reject}),d.promise):this}function f(a){var b=this;return this.promise=new a(function(a,c){b.resolve=a,b.reject=c}),b}function g(a,b,c){var e=a._value;a._state=b,a._value=c;for(var f=0;f<e.length;f++){var g=e[f];a._state(c,g.onFulfilled,g.onRejected,g.deferred)}b===d&&a._isChainEnd&&setTimeout(function(){a._isChainEnd&&p(c,a)},0)}function h(a,b){return function(c){g(a,b,c)}}function i(){}function j(a){return"function"==typeof a}function k(a){return a===Object(a)}function l(a,b){for(var c=0;c<a.length;c++)b(a[c],c)}function m(a,b,c){var d=a.promise,e=a.resolve,f=a.reject;return function(){try{var a=b(c);if(e===b||f===b)return;n(d,e,f,a,a)}catch(g){f(g)}}}function n(a,b,c,d,e){var f,h,l=c;try{if(d===a)throw new TypeError("Cannot fulfill promise with itself");var m=k(d);m&&d instanceof a.constructor?g(a,d._state,d._value):m&&(f=d.then)&&j(f)?(h=function(d){h=l=i,n(a,b,c,d,d)},l=function(a){h=l=i,c(a)},f.call(e,function(a){h(a)},function(a){l(a)})):b(d)}catch(o){l(o)}}a.TRC=a.TRC||{};var o=a.TRC;b.prototype.then=function(a,b){return a=j(a)?a:void 0,b=j(b)?b:void 0,(a||b)&&(this._isChainEnd=!1),this._state(this._value,a,b)},b.prototype["catch"]=function(a){return this.then(void 0,a)},b.resolve=function(a){var b,c=this;return b=k(a)&&a instanceof this?a:new c(function(b){b(a)})},b.reject=function(a){var b=this,c=new b(function(b,c){c(a)});return c},b.all=function(a){var b=this,c=new b(function(c,d){var e=a.length,f=new Array(e);return 0===e?c(f):void l(a,function(a,g){b.resolve(a).then(function(a){f[g]=a,0===--e&&c(f)},d)})});return c},b.race=function(a){var b=this,c=new b(function(c,d){for(var e=0,f=a.length;f>e;e++)b.resolve(a[e]).then(c,d)});return c},b._overrideUnhandledExceptionHandler=function(a){p=a};var p=function(a,b){throw a},q=function(){function a(){for(var a=0;e>a;a++){var b=d[a];d[a]=null,b()}e=0}function b(a){0===e&&c(),d[e++]=a}var c;"undefined"!=typeof window&&"function"==typeof window.postMessage?(window.addEventListener?window.addEventListener("message",a):window.attachEvent("message",a),c=function(){window.postMessage("macro-task","*")}):c=function(){setTimeout(a,0)};var d=new Array(16),e=0;return b}();o.Promise=window.Promise||b,"undefined"==typeof Function.prototype.trcBind&&(Function.prototype.trcBind=Function.prototype.bind||function(a){var b=this,c=Array.prototype.slice.call(arguments,1);return function(){var d=c.concat(Array.prototype.slice.call(arguments,0));return b.apply(a,d)}}),Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments.length>=2?arguments[1]:void 0,f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=new Array(g),e=0;g>e;){var h,i;e in f&&(h=f[e],i=a.call(c,h,e,f),d[e]=i),e++}return d}),Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;d>g;g++)a.call(e,c[g])&&h.push(c[g]);return h}}())}(window),function(a,b){var c=0,d=0;TRC.sendEvent=function(a,b,c){TRC.TRCLogger.post("//trc.taboola.com",a,{cv:b,ri:e(),tim:(new Date).getTime(),sd:localStorage.getItem(TRC.publisherId+":session-data"),pi:g(),pt:f(window._taboola),vi:h(),data:JSON.stringify({data:c})})};var e=function(){var b=TRC._getGlobalRequestId||a.TRCImpl&&a.TRCImpl.getGlobalRequestId.trcBind(a.TRCImpl);return b&&b()||0},f=function(b){var c=TRC._getItemType||a.TRCImpl&&a.TRCImpl.getItemType.trcBind(a.TRCImpl);return c&&c(b)||0},g=function(){var b=TRC._getItemId||a.TRCImpl&&a.TRCImpl.getItemId.trcBind(a.TRCImpl);return b&&b()||0},h=function(){return a.taboola_view_id=a.taboola_view_id||(new Date).getTime(),a.taboola_view_id};TRC.markEventSent=function(a){TRC.performance&&TRC.performance.mark("6.7."+c,null,a,d,a,TRC.PerfEvenType.START),c++,TRC.performance&&TRC.performance.mark("6.7."+c,null,a,d,a,TRC.PerfEvenType.STOP),c++,d++}}(window,document),function(a,b){a.TRC=a.TRC||{};var c=a.TRC,d=c.Video=function(a){this.slotRenderTimeout=a.slotRenderTimeout};d.prototype.find=function(){return null},d.prototype.run=function(a,b){var d=a(this.slotRenderTimeout);c.filledImpressions=c.filledImpressions||[],c.filledImpressions.push=function(a){d(e(a))};var f=c.filledImpressions.map(e);f.length>0&&b(f)};var e=function(a){return{vci:a.lineItemId,vp:a.placement,pn:c.publisherId,an:"video"}}}(window,document),function(a){a.TRC=a.TRC||{};var b=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},c=function(){return!0},d=function(a,c,d,e){var f=a+"/"+encodeURIComponent(d||TRC.publisherId)+"/log/3/"+c;return e&&(f+="?"+b(e)),f},e=function(b,d){var e=a.XDomainRequest||a.XMLHttpRequest,f=new e;return f.open(b,d),f.onload=c,f.onerror=c,f.ontimeout=c,f.onprogress=c,f.withCredentials=!0,f};TRC.TRCLogger={post:function(a,c,f,g){var h=d(a,c,g),i=e("POST",h);i.setRequestHeader&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(b(f))},get:function(a,b,c,f){var g=d(a,b,f,c),h=e("GET",g);h.send()}}}(window),function(a,b){a.TRC=a.TRC||{};var c=a.TRC,d={dfp:c.Dfp,video:c.Video},e=c.AdServerManager=function(a,b){this.config=a||{},this.clientVersion=b,this.waitForResponseToStart=a.waitForResponseToStart,c.markEventSent("vvLoaded")};e._accumulatedFprEvents=[],e._trcResponseLoaded=!1,e.prototype.getActiveAdServers=function(a){return Object.keys(this.config).filter(function(b){return this.config[b].active&&a[b]}.trcBind(this)).map(function(b){return{Ctor:a[b],config:this.config[b]}}.trcBind(this))},e.prototype.startVV=function(){return this.waitForResponseToStart?new c.Promise(function(a){function b(){c.trkRequestStatus||c.responseLoaded?a():setTimeout(b,200)}b()}):c.Promise.resolve()},e.prototype.run=function(){return this.getActiveAdServers(d).map(function(a){return new a.Ctor(a.config)}).map(e._activateAdServer.trcBind(null,e._getCallbackToSendFprEvent(this.clientVersion,!this.waitForResponseToStart)))},e._activateAdServer=function(a,b){var c=b.find(),d=e._accumulate.trcBind(null,a);return null===c?b.run(d,a):c.then(function(){return b.run(d,a)})["catch"](function(a){})},e._accumulate=function(a,b){var c,d=[];return function(e){d.push(e),clearTimeout(c),c=setTimeout(function(){a(d),d=[]},b)}},e._getCallbackToSendFprEvent=function(a,b){return b?function(b){e._trcResponseLoaded||c.trkRequestStatus||c.responseLoaded?f(a,b):e._accumulatedFprEvents=e._accumulatedFprEvents.concat(b)}:function(b){f(a,b)}},c.alertVVResponseLoaded=function(a){setTimeout(function(){e._trcResponseLoaded=!0,e._accumulatedFprEvents.length>0&&(f(a,e._accumulatedFprEvents),e._accumulatedFprEvents=[])},0)};var f=function(a,b){c.sendEvent("fullPageRevenue",a,b),c.markEventSent("fullPageRevenue")};c.VVReady&&c.VVReady()}(window,document);