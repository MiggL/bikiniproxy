/*! jQuery v1.7 jquery.com | jquery.org/license */
function set_visibility(e,t){t?($(e).show(),$(e).removeClass("hidden").addClass("visible")):($(e).hide(),$(e).removeClass("visible").addClass("hidden"))}function parseBoolean(e){return"true"==e}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function isEmail(e){return e.match(EMAIL_PATTERN)}function set_logged_in_user(e,t,n,i){logged_in_user=e,logged_in_user_link=t,logged_in_user_id=n,logged_in_platform=i}function is_logged_in(){return null!==logged_in_user}function is_valid_url(e){return null!=/^(https?:\/\/)?([\da-zA-Z\.-]+)\.([a-z\.]{2,6})([\/\w, \.-]*)*\/?$/.exec(e)}function is_valid_email(e){return null!=/^([\w\.%\+\-]+)@([\w\-]+\.)+([\w]{2,})$/.exec(e)}function set_logged_in_user_from_cookie(){var e=null,t=null,n=null,i=null,r=get_cookies(),o=r.user,a=r["user-url-title"],s=r["user-id"],l=r["user-platform"];o&&(e=unescape_rails_cookie(o),a&&(t=unescape_rails_cookie(a)),void 0!==s&&(n=unescape_rails_cookie(s)),void 0!==l&&(i=unescape_rails_cookie(l))),set_logged_in_user(e,t,n,i)}function load_fresh(){set_logged_in_user_from_cookie(),set_csrf_tags_from_cookie(),load_fresh_content()}function set_csrf_tags_from_cookie(){var e=get_cookies(),t=e["csrf-param"],n=e["csrf-token"];t&&n&&($('meta[name="csrf-param"]').attr("content",unescape_rails_cookie(t)),$('meta[name="csrf-token"]').attr("content",unescape_rails_cookie(n)))}function auth_callback(e,t){e?null===t||""===t?window.location.reload(!0):window.location=t:alert("Failed connecting, may be caused because you did not give your permissions or there is a temporary communication problem with Twitter/Google+.")}function handle_ajax_error_with_alert(e,t){401==e?(logged_in_user=null,$(".login_menu").click()):t&&alert("Unexpected error, please reload page and try again")}function handle_ajax_error(e){handle_ajax_error_with_alert(e,!1)}function handle_vote_ajax_error(e){403==e?(is_logged_in()||Opst.options.cookie_based_voting||Opst.options.hybrid_voting)&&alert("A vote from this IP address was already intercepted"):handle_ajax_error(e)}function add_native_listener(e,t){return window.addEventListener?window.addEventListener(e,t,!1):window.attachEvent("on"+e,t)}function safe_json_parse(e){try{return"string"!=typeof e?{}:JSON.parse(e)}catch(t){return debug("Failure parsing json"),{}}}function remove_fields(e){$(e).prev("input[type=hidden]").val("1");var t=$(e).closest(".fields");t.hide(),t.addClass("removed"),t.removeClass("active")}function add_fields(e,t,n){var i=(new Date).getTime(),r=new RegExp("new_"+t,"g");return $(e).append(n.replace(r,i)),i}function add_fields_fields(e,t,n,i,r,o){var a=null!==r?r:(new Date).getTime(),s=new RegExp("new_"+t,"g");return o=o.replace(s,i),s=new RegExp("new_"+n,"g"),$(e).append(o.replace(s,a)),a}function add_fields_fields_fields(e,t,n,i,r,o,a,s){var l=null!==a?a:(new Date).getTime(),u=new RegExp("new_"+t,"g");return s=s.replace(u,r),u=new RegExp("new_"+n,"g"),s=s.replace(u,o),u=new RegExp("new_"+i,"g"),s=s.replace(u,l),$(e).append(s),l}function get_os_frame(){for(var e=0;e<window.frames.length;e++)if("os_frame"===window.frames[e].name)return window.frames[e]}function get_layout(){return $(".debate").prop("dir")}function validate_field(e,t,n){var i=t($(e).val());return $(e).parent().hasClass("field_with_errors")?i&&($(e).parent().removeClass("field_with_errors"),$(e).parents(".f-row").find(".formError").remove()):i||markAjaxError(e,n),i}function markAjaxError(e,t){row=$(e).parents(".f-row"),row.find(".formError").remove(),row.find(".field_with_errors").find(">input,>label").unwrap(),void 0!==t&&""!==t&&($.isArray(t)&&(t=t[0]),row.hasClass("check")?row.find("label:first").after("<div class='formError i18n-dir'>"+t+"</div>"):$(e).after("<div class='formError i18n-dir'>"+t+"</div>"),row.find("label:first").wrap("<div class='field_with_errors'></div>"),$(e).wrap("<div class='field_with_errors'></div>"))}function clear_form_errors(e){$(e).find(".formError").remove(),$(e).find(".field_with_errors").removeClass("field_with_errors").addClass("field_with_no_errors")}function popupCenter(e,t,n,i){var r=screen.width/2-t/2,o=screen.height/2-n/2;return window.open(e,i,"menubar=0,toolbar=0,location=0,resizable=1,scrollbars=1,width="+t+",height="+n+",left="+r+",top="+o)}function getScrollbarWidth(){var e=document.createElement("div");e.className="scrollbar-measure",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function resize_window(e,t){var n=e.outerWidth(),i=e.outerHeight(),r=getScrollbarWidth(),o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=window.innerWidth||(document.documentElement.clientWidth||document.body.clientWidth)+r,s=window.outerHeight||o;(o<i||a<n+t)&&window.resizeTo(Math.max(n,a)+t,i+(s-o))}function is_in_iframe(){return window!=window.top}function validate_link(e){return!e.match(/^\s*$/)&&"http://"!=e}function add_http_prefix(e){return e.match(/^(http|https)/)?e:"http://".concat(e)}function add_protocol_prefix(e){return e=add_http_prefix(e),"https:"==window.document.location.protocol&&e.replace(/^http/,"https"),e}function get_query_string_parameter(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function async_load_scripts(e){$.each(e,function(e,t){async_load_script(t)})}function async_load_script(e,t){!function(){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,void 0!==t&&(n.onload=t);var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}()}function asyncLoadScript(e,t,n,i){var r=document.createElement("script");(r.type="text/javascript",r.src=e,r.onload=t,r.onerror=n||function(){console.error("failed to load script:",e)},i)?i(r):document.getElementsByTagName("head")[0].appendChild(r)}function send_message_to_host(e,t){try{var n=parent.postMessage?parent:parent.document.postMessage?parent.document:undefined;t.widget_page_id=OpinionStage.config.widgetPageId,send_message_internal(n,e,t,!0)}catch(i){debug("Failure sending message to host of type "+e)}}function send_message_to_iframe(e,t){send_message_internal(get_os_frame(),e,t,!1)}function send_message_internal(e,t,n,i){i&&!is_in_iframe()||e&&void 0!==e&&e.postMessage(JSON.stringify({compId:window.name,type:t,data:n}),"*")}function debug(e,t){DEBUG_MODE&&"undefined"!=typeof console&&console&&"undefined"!=typeof console.log&&console.log&&(console.log("Debug: "+e),t&&console.log(t))}function get_hosting_url(){return Opst.options.hosting_url}function get_cookies(){for(var e={},t=document.cookie.split("; "),n=0;n<t.length;n++){var i=t[n].indexOf("="),r=t[n].substr(0,i),o=t[n].substr(i+1);e[r]===undefined&&(e[r]=o)}return e}function unescape_rails_cookie(e){return decodeURIComponent(e.replace(/\+/g," "))}function is_voting_by_cookie(){return Opst.options.cookie_based_voting}function is_sample_poll(){return Opst.options.sample_poll}function is_vote_redirect_on(){return Opst.options.redirect_after_vote}function redirect_same_page(){return"same_page"==Opst.options.redirect_mode}function redirect_after_vote(e){if(redirect_same_page())OpinionStage.config.scriptEmbed&&send_message_to_host(OpinionStage.events.redirectRequired,{src_id:get_debate_id(),page_reload:!0});else{var t=Opst.urls.redirect_urls[""];"undefined"!=typeof Opst.urls.redirect_urls[e]&&(t=Opst.urls.redirect_urls[e]),void 0!==t&&""!=t.url&&(OpinionStage.config.scriptEmbed?notify_redirect(get_debate_id(),t.url,t.same_window):window.open(t.url))}}function is_hybrid_voting(){return Opst.options.hybrid_voting}function number_of_answers_to_choose(){return Opst.options.answers_to_choose}function get_social_votes_cookie(){return get_cookies().votes}function get_anonymous_votes_cookie(){return get_cookies().anonymous_votes}function get_votes_from_cookie(){var e;return OpinionStage.config.isFriendlyIframe()?OpinionStage.poll.getVotesFromCookie():(e=!is_logged_in()||is_voting_by_cookie()||is_sample_poll()?get_anonymous_votes_cookie():get_social_votes_cookie())?unescape_rails_cookie(e).split("."):[]}function get_debate_id(){return $("#os-wrapper").data("debate-id")}function get_votes_filter(){return $(".results-filter a.selected").data("value")}function clear_votes_filter(){$(".results-filter a").removeClass("selected")}function set_votes_filter(e){$(e).hasClass("selected")?$(e).removeClass("selected"):($(".results-filter a").removeClass("selected"),$(e).addClass("selected"))}function is_anonymous_vote_selected(){return $("input[name=anonymous_checkbox]").is(":checked")}function has_user_publicly_voted(){return has_user_voted()&&!is_anonymous_vote_selected()}function has_user_voted(){return void 0!==user_side_vote_id()}function poll_has_voting_button(){return $(".debate .vote-bar").find(".voting-button").length>0}function checked_side_element(){return $(".debate .side-votes").find(".user_checked")}function selected_side_element(){return $(".debate .side-votes").find(".os-side.selected")}function correct_side_element(){return $(".debate .side-votes").find(".correct")}function user_side_vote_id(){return $(selected_side_element()).attr("data-side-id")}function checked_sides(){var e,t=[];return $(checked_side_element()).each(function(){e=$(this).attr("data-side-id"),t.push(e)}),t}function all_sides(){return $(".debate .os-side")}function selected_sides(){var e,t=[];return $(selected_side_element()).each(function(){e=$(this).attr("data-side-id"),t.push(e)}),t}function correct_sides(){var e,t=[];return $(correct_side_element()).each(function(){e=$(this).attr("data-side-id"),t.push(e)}),t}function are_answers_correct(){var e=selected_sides(),t=correct_sides();return 0===$(e).not(t).length&&0===$(t).not(e).length}function select_checked_sides(){checked_side_element().each(function(e,t){$(t).removeClass("user_checked").addClass("selected")})}function is_social_vote_blacklisted(){if(OSBrowserDetect.isChromeOnIOS()&&!is_logged_in())return!0;if(!OSBrowserDetect.isAndroid())return!1;for(var e=0;e<SOCIAL_BLACKLISTED_URLS.length;e++)if(document.referrer.match(SOCIAL_BLACKLISTED_URLS[e]))return!0;return!1}function cookie_based_voting_url(){return"/widgets/api/polls/"+get_debate_id()+"/cookie_vote"}function profile_based_voting_url(){return Opst.urls.base+"/polls/"+get_debate_id()+"/side_vote"}function profile_based_hide_vote_url(){return Opst.urls.base+"/polls/"+get_debate_id()+"/hide_vote"}function voting_url(){return is_voting_by_cookie()||is_sample_poll()?cookie_based_voting_url():profile_based_voting_url()}function unvoting_url(){return is_logged_in()?is_voting_by_cookie()||is_sample_poll()?cookie_based_voting_url():Opst.urls.base+"/polls/"+get_debate_id()+"/side_unvote":cookie_based_voting_url()}function is_poll_closed(){return Opst.options.closed}function sharing_image_url(e){var t=$("meta[property='og:image']").attr("content");if(!Opst.options.custom_fb_image){e=void 0!==e?e:selected_side_element();var n=$(e).attr("data-sharing-image");if(void 0!==n&&""!=n)return n}return t}function is_other_side_checked(){var e=!1,t=checked_side_element();return 0!=t.length&&($(t).each(function(t,n){$(n).hasClass("other")&&(e=!0)}),e)}function get_user_answer(){return Opst.debate.multi_choice()&&is_other_side_checked()?checked_side_element().find(".other-field").val():""}function show_tab(e){$(".os-tab-content .os-tab").filter("[data-tab='"+e+"']").animate({opacity:1},250,function(){})}function set_active_tab(e){$(".os-tab-content .os-tab").removeClass("active").filter("[data-tab='"+e+"']").addClass("active").css("opacity",0),"ad"==e&&($(".counting-label").addClass("visible"),$(".close-ad-link").removeClass("visible")),show_tab(e)}function clear_social_voters_lists(){$("#social-voters-overlay-container .content").empty()}function prepare_social_voters_overlay(e){var t=$("#social-voters-overlay-container .content");return $.ajax({url:"/polls/"+get_debate_id()+"/debate_votes",type:"GET",dataType:"html",data:{side_id:e,votes_filter:get_votes_filter()},success:function(n){e?t.append(n):t.html(n),$(".social-voters-overlay").hide(),adjust_social_voters_overlay(),e&&$(".social-voters-overlay."+e).show()},error:function(e){handle_ajax_error(e.status)},complete:function(){}}),!0}function display_social_voters_overlay(e){$(".social-voters-overlay."+e).length>0?($(".social-voters-overlay").hide(),$(".social-voters-overlay."+e).show()):prepare_social_voters_overlay(e),display_overlay("#social-voters-overlay-container")}function close_social_voters_overlay(){close_overlay("#social-voters-overlay-container")}function notify_height_changed(){send_message_to_host(OpinionStage.events.heightChanged,{height:widget_height(),src_id:get_debate_id(),user_voted:has_user_voted()})}function notify_vote(e,t){send_message_to_host(OpinionStage.events.voted,{src_id:e,auto_switch:t,sides:selected_sides()})}function notify_redirect(e,t,n){send_message_to_host(OpinionStage.events.redirectRequired,{src_id:e,url:t,same_window:n})}function generate_vote_message(e,t){if(e=void 0!==e?e:selected_side_element(),t=void 0!==t?t:is_anonymous_vote_selected(),void 0===e||0==e.length||Opst.debate.multi_selection())return"";var n=$(e).attr("data-side-label"),i=t?$(e).attr("data-anonymous-side-share"):$(e).attr("data-side-share"),r=$(".debate").data("creator-name");return r.match(/s$/)&&(i=i.replace("#{user}'s",r+"'")),i.replace("#{user}",r).replace("#{side}",n)}function twitter_sharing_message(){var e="";if(Opst.options.custom_twitter_sharing)e=Opst.options.twitter_sharing_message;else{var t=has_user_publicly_voted()?generate_vote_message():"";e=get_sharing_title()+"; "+t}return e}function login_popup(e){var t={locale:Opst.options.locale,user_answer:get_user_answer(),debate_id:get_debate_id()};void 0!==e&&$.extend(t,e),popupCenter("/registrations/social_vote?"+$.param(t),380,380,"_blank")}function share_poll_on_facebook(){OSSharer.facebook.share({url:get_hosting_url()})}function poll_sharing_meta(){return{url:get_sharing_url(),title:get_sharing_title(),description:get_sharing_description(),image:sharing_image_url(),twitter_sharing_message:twitter_sharing_message(),twitter_via:Opst.options.twitter_via,twitter_hashtags:Opst.options.twitter_hashtags,twitter_related:Opst.options.twitter_related}}function post_vote_action(){show_facebook_page_if_needed()||show_lead_form_if_needed(),notify_vote(get_debate_id(),!0)}function is_first_time_embed(){return 1==Opst.options.short_urls_count&&null==get_hosting_url().match(/opinionstage\.com/)}function shouldShowLeadForm(){return Opst.options.has_lead_form&&!OpinionStage.leadForm.formAlreadySubmitted()}function shouldShowFacebookPage(){return Opst.options.has_facebook_page&&!OpinionStage.fbPageLikes.alreadyDisplayed()}function show_lead_form_if_needed(){return!!shouldShowLeadForm()&&(OpinionStage.leadForm.setSelectionsString(selected_sides().join(",")),set_active_tab("form"),!0)}function show_facebook_page_if_needed(){return!!shouldShowFacebookPage()&&(set_active_tab("fb-page-likes"),!0)}function track_ga_event(e,t,n,i){(window._gaq||(window._gaq=[])).push(["_trackEvent",e,t,n,i])}function track_ga_social_event(e,t,n){(window._gaq||(window._gaq=[])).push(["_trackSocial",e,t,n])}function track_ga_virtual_page(e){(window._gaq||(window._gaq=[])).push(["_trackPageview",e])}function load_twitter_scripts(){script_path=("https:"==document.location.protocol?"https:":"http:")+"//platform.twitter.com/widgets.js",async_load_script(script_path)}function trackFacebook(e){try{FB&&FB.Event&&FB.Event.subscribe&&(FB.Event.subscribe("edge.create",function(t){track_ga_social_event("facebook","like",t,e)}),FB.Event.subscribe("edge.remove",function(t){track_ga_social_event("facebook","unlike",t,e)}),FB.Event.subscribe("message.send",function(t){track_ga_social_event("facebook","send",t,e)}))}catch(t){}}function extend_options(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function detect_mobile(){return OSBrowserDetect.isMobile()}function initial_rendering(){set_logged_in_user_from_cookie(),set_csrf_tags_from_cookie(),apply_votes_from_cookie(),has_user_voted()&&($(".side-fill").removeClass("animate"),$(".post-vote-message").removeClass("animate"),$(".open-os-modal-button").removeClass("animate")),update_dynamic_elements()}function apply_votes_from_cookie(){var e=get_votes_from_cookie(),t=!1;e.length>0&&(update_in_progress=!0,$("#os-wrapper.debate .os-side").each(function(n,i){var r=$(i).data("side-id"),o=-1!=$.inArray(r.toString(),e);(o||$.each(e,function(e,t){var n=r.toString()+",";if(-1!=t.indexOf(n)){var i=$(".poll-body").data("restriction-expires");if(void 0===i)return o=!0,!0;var a=t.substr(n.length),s=new Date;if(Date.parse(a)>s.setMinutes(s.getMinutes()-i))return o=!0,!0}}),o)&&(t=!0,$(i).addClass("selected"),Opst.debate.multi_choice()&&$(i).find("input").prop("checked",!0))}),Opst.debate.multi_choice()&&t&&disable_mc_checking(),update_in_progress=!1)}function get_sharing_url(){if(OpinionStage.config.isFriendlyIframe()||is_first_time_embed())return get_hosting_url();if(null!=get_hosting_url().match(/opinionstage\.com/)){var e=get_query_string_parameter(document.referrer,"src");if(""!=e)return e}return get_hosting_url()}function get_sharing_title(){return OpinionStage.pollData.title}function get_sharing_description(){return OpinionStage.pollData.plain_description}function update_dynamic_elements(){}function update_dynamic_elements_common(){set_logged_in_ui_components(),update_vote_dependant_elements(),update_results_visibility(!1),adjust_sides(),adjust_post_vote_message()}function set_logged_in_ui_components(){$(".user-menu").hide(),is_logged_in()&&$(".user-menu").hasClass("logged-out")&&($(".user-menu, .user-menu-button").toggleClass("logged-in",is_logged_in()),$(".user-menu, .user-menu-button").toggleClass("logged-out",!is_logged_in()))}function update_vote_dependant_elements(){}function update_vote_dependant_elements_common(){has_user_voted()?($(".side-votes").removeClass("status-pre-vote"),$(".side-votes").addClass("status-post-vote"),is_logged_in()&&$(".user-menu").addClass("status-post-vote"),$(".show-before-vote").hide(),$(".show-after-vote").show(),$(".visible-before-vote").css("visibility","hidden"),$(".visible-after-vote").css("visibility","visible")):($(".side-votes").removeClass("status-post-vote"),$(".side-votes").addClass("status-pre-vote"),is_logged_in()&&$(".user-menu").removeClass("status-post-vote"),$(".show-before-vote").show(),$(".show-after-vote").hide(),$(".visible-before-vote").css("visibility","visible"),$(".visible-after-vote").css("visibility","hidden"))}function update_results_visibility(){}function update_results_visibility_common(e){var t=is_poll_closed()&&!Opst.options.hide_results||has_user_voted()||e;if($("#os-wrapper.debate .side-votes").removeClass(t?"hide-results":"show-results"),$("#os-wrapper.debate .side-votes").addClass(t?"show-results":"hide-results"),$("#os-wrapper.debate .view-results-link").toggle(!t),$("#os-wrapper.debate .back-to-vote-link").toggle(t),e){var n=$(".back-to-vote-link")[0];if(void 0!==n){var i=n.cloneNode(!0);n.parentNode.replaceChild(i,n)}}Opst.options.live_results_duration>0&&t&&setTimeout(fetch_updated_results,Math.max(Opst.options.live_results_duration,1e3))}function progress_indication_offset(){var e=$(".side-votes").height();if($(".vote-bar").length>0&&(e-=$(".vote-bar").outerHeight()),all_sides().length>20){var t=$(".progress-indication").outerHeight();return checked_side_element().length>0?Math.min(checked_side_element().offset().top,e-t):selected_side_element().length>0?Math.min(selected_side_element().offset().top,e-t):$(".side-votes").offset().top+10}return $(".side-votes").offset().top+e/2-$(".progress-indication").outerHeight()/2}function display_progress_indication(){Modernizr.cssanimations?$(".progress-indication-wrapper").css("margin-top",progress_indication_offset()+"px"):Modernizr.opacity&&$(".progress-indication-wrapper").hide(),display_overlay("#os-progress-overlay")}function modal_tracking_id(){return $(".os-modal").data("tracking-id")}function track_modal_opened(){void 0!==ga.getByName("clientTracker")&&ga("clientTracker.send","event","discovery","modalOpened",modal_tracking_id())}function track_discovery_link_click(){void 0!==ga.getByName("clientTracker")&&ga("clientTracker.send","event","discovery","click",modal_tracking_id())}function handle_discovery_click(e,t){return"_blank"==$(e).attr("target")||(t.preventDefault(),notify_redirect(get_debate_id(),$(e).attr("href"),!1),!1)}function minimize_modal_ad(){minimize_overlay("#os-modal-overlay-container",function(){})}function is_overlay_showing(){return $.grep($(".os-overlay-container"),function(e){return void 0!==$(e).css("display")&&"none"!==$(e).css("display")}).length>0}function is_trivia_poll(){return $("#os-wrapper.debate").hasClass("trivia")}function display_overlay(e){is_overlay_showing()||(Modernizr.cssanimations?($(e).css("opacity",0),$(e).addClass("visible"),$(e).animate({opacity:1},250,function(){})):Modernizr.opacity&&$(e).addClass("visible"))}function close_progress_indication(){close_overlay("#os-progress-overlay")}function minimize_overlay(e,t){var n=$(".vote-bar").offset();t=t||function(){};Modernizr.cssanimations?($(e).find(".content").css("opacity",.7),$(e).animate({width:0,height:0,marginTop:n.top,marginLeft:"50%",borderRadius:"50%",opacity:.5},300,function(){$(e).removeClass("visible"),$(e).removeAttr("style"),$(e).find(".content").css("opacity",""),t()})):Modernizr.opacity&&($(e).removeClass("visible"),t())}function maximize_overlay(e,t){if(!is_overlay_showing()){var n=$(".vote-bar").offset(),i=$("#os-wrapper.debate").height(),r=$("#os-wrapper.debate").width();Modernizr.cssanimations?($(e).addClass("visible"),$(e).find(".content").css("opacity",.7),$(e).css({width:0,height:0,marginTop:n.top,marginLeft:"50%",borderRadius:"50%",opacity:.5}),$(e).animate({width:r+"px",height:i+"px",marginTop:0,marginLeft:0,borderRadius:0,opacity:1},300,function(){$(e).removeAttr("style"),$(e).find(".content").css("opacity",""),void 0!==t&&t()})):Modernizr.opacity&&($(e).addClass("visible"),void 0!==t&&t())}}function close_overlay(e,t){t=t||function(){};Modernizr.cssanimations?$(e).animate({opacity:0},250,function(){$(e).css("opacity",0),$(e).removeClass("visible"),t()}):Modernizr.opacity&&($(e).removeClass("visible"),t())}function has_voted_anonymously(){return selected_side_element().hasClass("anonymous")}function adjust_social_voters_overlay(){var e=$("#social-voters-overlay-container").height(),t=parseInt($(".social-voters-overlay .title").css("font-size"))+2*parseInt($(".social-voters-overlay .title").css("padding-top")),n=2*parseInt($(".social-voters-overlay").css("margin-top"));$(".voters-list-warpper").css("max-height",e-n-t)}function go_vote(e){var t=get_debate_id(),n=is_anonymous_vote_selected();is_poll_closed()||update_in_progress||selected_sides().length>0||(is_social_vote_blacklisted()?ajax_vote(e,cookie_based_voting_url(),!0,!0):OpinionStage.utils.checkCookiesSetability().then(function(){if(!is_logged_in()&&is_hybrid_voting()&&!is_sample_poll())return Opst.options.restricted_ip_voting||ajax_vote(e,cookie_based_voting_url(),!1,!1),void login_popup({debate_id:t,side_id:e.join(","),anonymous:n?"1":"0",hosting_url:encodeURIComponent(get_hosting_url()),preserve_mode:Opst.options.restricted_ip_voting?"0":"1"});is_logged_in()||is_voting_by_cookie()||is_sample_poll()?ajax_vote(e,voting_url(),!0,!0):login_popup({debate_id:t,side_id:e.join(","),anonymous:n?"1":"0",hosting_url:encodeURIComponent(get_hosting_url())})}))}function ajax_vote(e,t,n,i){var r=is_vote_redirect_on()&&!(i&&shouldShowLeadForm());update_in_progress=!0,n&&display_progress_indication();var o={side_id:e.join(","),votes_filter:get_votes_filter(),anonymous:is_anonymous_vote_selected()?"1":"0",referrer:get_hosting_url(),os_utm_source:get_query_string_parameter(document.URL,"os_utm_source"),render:n?"1":"0"};Opst.debate.multi_choice()&&(o.user_answer=get_user_answer()),$.ajax({url:t,type:"POST",data:o,dataType:"html",success:function(t){OpinionStage.config.isFriendlyIframe()&&OpinionStage.poll.addVotesToCookie(e),n&&(Opst.options.hide_results?Opst.debate.multi_choice()?select_checked_sides():$(".results .os-side#"+e[0]).addClass("selected"):$(".sides-wrapper").html(t),update_dynamic_elements(),modal_ad_should_auto_display()?modal_ad_timer=setTimeout(function(){clearTimeout(modal_ad_timer),display_modal_ad()},3500):i&&(show_facebook_page_if_needed()||show_lead_form_if_needed())),animateDebateMessage();var o=!modal_ad_should_auto_display();if(notify_vote(get_debate_id(),o),r&&redirect_same_page()){var a=0;navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(a=3e3),setTimeout(function(){redirect_after_vote(e[0])},a)}},error:function(e){handle_vote_ajax_error(e.status)},complete:function(){update_in_progress=!1,n&&close_progress_indication()}}),clear_social_voters_lists(),r&&!redirect_same_page()&&redirect_after_vote(e[0])}function ajax_unvote(){if(is_poll_closed()||update_in_progress)return!1;update_in_progress=!0,clear_votes_filter();var e=selected_sides();display_progress_indication(),$.ajax({url:unvoting_url(),data:{side_id:e.join(","),anonymous:is_anonymous_vote_selected()?"1":"0"},type:"DELETE",dataType:"html",success:function(t){OpinionStage.config.isFriendlyIframe()&&OpinionStage.poll.removeVotesFromCookie(e),t&&($(".sides-wrapper").html(t),update_dynamic_elements()),hideDebateMessage()},error:function(e){handle_ajax_error(e.status)},complete:function(){update_in_progress=!1,close_progress_indication()}}),clear_social_voters_lists()}function animateDebateMessage(){var e=$(".debate-message-area");if($(e).length>0){$(e).removeClass("hidden");var t=$(e).height();$(e).height(0),$(e).animate({height:t},{duration:200,step:function(){notify_height_changed()},complete:function(){$(e).height(""),updateDebateMessageScrollingButtons($(e).find(".debate-message"))}})}}function hideDebateMessage(){var e=$(".debate-message-area:not(.hidden)");$(e).length>0&&$(e).animate({height:0},{duration:200,step:function(){notify_height_changed()},complete:function(){$(e).addClass("hidden"),resetDebateMessageScroll(e),$(e).height("")}})}function updateDebateMessageScrollingButtons(e){if($(e)){var t=$(e).find(".message-label-wrapper .message-label").outerHeight()>$(e).find(".message-label-wrapper").height();$(e).find(".scroll-button").toggleClass("hidden",!t),updateScrollButtons(e)}}function scrollDebateMessage(e,t){var n=$(e).find(".message-label"),i=$(n).position().top,r=t?-20:20;$(e).find(".scroll-button").addClass("disable"),$(n).animate({top:i+r},100,"linear",function(){updateScrollButtons(e)})}function resetDebateMessageScroll(e){$(e)&&($(e).find(".message-label").css({top:""}),updateScrollButtons(e))}function updateScrollButtons(e){var t=$(e).find(".message-label"),n=$(t).position().top,i=n+$(t).outerHeight(),r=$(t).parent().innerHeight();$(e).find(".scroll-button.scroll-up").toggleClass("disabled",n>=0),$(e).find(".scroll-button.scroll-down").toggleClass("disabled",i<=r)}function load_fresh_content(){if(update_in_progress)return!1;display_progress_indication(),update_in_progress=!0,$.ajax({url:"/polls/"+get_debate_id()+"/debate_stats",type:"GET",dataType:"html",success:function(e){e&&($(".sides-wrapper").html(e),apply_votes_from_cookie(),update_dynamic_elements(),show_facebook_page_if_needed()||show_lead_form_if_needed())},error:function(e){update_in_progress=!1,handle_ajax_error_with_alert(e.status,!1)},complete:function(){update_in_progress=!1,close_progress_indication()}})}function apply_configuration(e){e.hosting_url,Opst.options.hosting_url;extend_options(Opst.options,e),Opst.options.should_display_discovery_button||$("#os-wrapper.debate .open-os-modal-button").hide()}function handle_message(e){if(-1!=e.origin.indexOf("opinionstage.com")){var t=safe_json_parse(e.data);t.type==OpinionStage.events.applyConfig&&t.data?apply_configuration(t.data):t.type==OpinionStage.events.startResizing?startResizeInterval():t.type==OpinionStage.events.stopResizing&&stopResizeInterval()}}function handleLeadFormSubmitted(){setTimeout(function(){set_active_tab("poll")},1200)}function handleFbPageLikesShouldClose(){show_lead_form_if_needed()||setTimeout(function(){set_active_tab("poll")},200)}function fetch_updated_results(){$.ajax({url:"/polls/"+get_debate_id()+"/debate_stats",type:"GET",data:{votes_filter:get_votes_filter(),animate:!1},dataType:"html",success:function(e){$(".sides-wrapper").html(e),apply_votes_from_cookie(),update_dynamic_elements()},error:function(e){handle_ajax_error(e.status)}})}function pollDocumentReadyImplementation(){}function commonDocumentReadyImplementation(){$.extend(OpinionStage.config,OpinionStage.options),OpinionStage.observer.init(Object.keys(OpinionStage.events)),Opst.options.has_lead_form&&(OpinionStage.leadForm.init(),OpinionStage.observer.subscribe(OpinionStage.events.leadFormSubmitted,handleLeadFormSubmitted)),Opst.options.has_facebook_page&&(OpinionStage.fbPageLikes.init(),OpinionStage.observer.subscribe(OpinionStage.events.fbPageLikesShouldClose,handleFbPageLikesShouldClose)),"undefined"!=typeof OpinionStage.interactions&&OpinionStage.interactions.init(),OpinionStage.clResponsive.loadResponsiveImages(),startAdjusting(),add_native_listener("message",handle_message),is_mobile=detect_mobile(),send_message_to_host(OpinionStage.events.widgetLoaded,{poll_id:get_debate_id()}),OpinionStage.observer.publish(OpinionStage.events.widgetLoaded),$("#os-wrapper.debate").on("click",".change-vote",function(){return ajax_unvote(),!1}),$(".results-filter").on("click","a",function(){if(!is_logged_in())return login_popup(),!1;if(update_in_progress||$(this).parent("li").hasClass("selected"))return!1;set_votes_filter($(this));var e=get_debate_id();update_in_progress=!0,display_progress_indication(),$.ajax({url:"/polls/"+e+"/debate_stats",type:"GET",data:{votes_filter:get_votes_filter()},dataType:"html",success:function(e){$(".sides-wrapper").html(e),update_dynamic_elements()},error:function(e){handle_ajax_error(e.status)},complete:function(){close_progress_indication(),update_in_progress=!1}}),clear_social_voters_lists()}),$(".os-social-bar").on("click",".share-twitter",function(){return OSSharer.twitter.share(poll_sharing_meta()),!1}),$(".os-social-bar").on("click",".share-facebook",function(){return share_poll_on_facebook(selected_side_element(),is_anonymous_vote_selected()),!1}),$(".os-social-bar").on("click",".share-google",function(){return OSSharer.gplus.share(poll_sharing_meta()),!1}),$(".os-social-bar").on("click",".share-tumblr",function(){return OSSharer.tumblr.share(poll_sharing_meta()),!1}),$(".os-social-bar").on("click",".share-reddit",function(){var e=poll_sharing_meta();return e.url=get_hosting_url(),OSSharer.reddit.share(e),!1}),$(".os-social-bar").on("click",".share-pinterest",function(){return OSSharer.pinterest.share(poll_sharing_meta()),!1}),$("#os-wrapper").on("click",".user-menu-button",function(){return $(".user-menu").toggle(),"none"!=$(".user-menu").css("display")&&$(document).one("click",function(){return $(".user-menu").hide(),!0}),!1}),$("#os-wrapper").on("click",".user-login-link",function(){return is_logged_in()||login_popup(),!1}),$("#os-wrapper.debate").on("click",".avatars-wrapper a",function(){var e=$(this).attr("href");return null!=e&&window.open(e),!1}),$("#os-wrapper.debate").on("click",".view-all-voters-link",function(){return display_social_voters_overlay(parseInt($(this).parents(".os-side").data("side-id"))),!1}),$("#os-wrapper.debate").on("click",".social-voters-overlay .close-link",function(){close_social_voters_overlay()}),$("#os-wrapper.debate").on("click",".social-voters-overlay .view_more",function(){if(!is_logged_in())return login_popup(),!1;var e=$(this);return e.hide(),e.parent().find(".progress-placeholder").addClass("progress-indication-small"),$.ajax({url:$(this).attr("href"),dataType:"html",success:function(t){$(e).parents(".more_placeholder").replaceWith(t)},error:function(e){handle_ajax_error(e.status)},complete:function(){e.parent().find(".progress-placeholder").removeClass("progress-indication-small")}}),!1}),$(".debate").on("click",".user-hide-vote-link",function(){return hide_vote(),!1}),$("#os-wrapper.debate").on("click",".view-results-link",function(){$("#os-wrapper.debate .side-votes").addClass("just-looking"),update_results_visibility(!0)}),$("#os-wrapper.debate").on("click",".back-to-vote-link",function(){$("#os-wrapper.debate .side-votes").removeClass("just-looking"),update_results_visibility(!1)}),$("#os-wrapper.debate #os-modal-overlay-container").on("click",".os-modal .icon-os-common-close",function(){minimize_modal_ad()}),$("#os-wrapper.debate .vote-bar").on("click",".open-os-modal-button a",function(){display_modal_ad()}),
$("#os-wrapper.debate #os-modal-overlay-container").on("click",".os-modal .discovery-link",function(e){return track_discovery_link_click(),handle_discovery_click($(this),e)}),$(".os-inline").on("click",".discovery-link",function(e){return handle_discovery_click($(this),e)}),$("#os-wrapper.debate .os-social-bar").on("click",".more-buttons",function(){var e=$(this).parents(".os-social-bar");return $(e).hasClass("extended")?$(e).removeClass("extended"):$(e).addClass("extended"),adjust_share_bar(),!1}),initializeScrollButtons(),$("input, textarea").placeholder(),pollDocumentReadyImplementation()}function initializeScrollButtons(){var e=$(".debate-message");e.on("click","a.scroll-button.scroll-down:not(.disabled)",function(){return scrollDebateMessage(e,!0),!1}),e.on("click","a.scroll-button.scroll-up:not(.disabled)",function(){return scrollDebateMessage(e,!1),!1})}function modal_ad_exists(){return Opst.ads.has_modal_ad}function modal_discovery_data(){return Opst.ads.modal_discovery_data}function modal_discovery_ad_exists(){return modal_ad_exists()&&$(".os-modal").hasClass("discovery")}function modal_ad_should_auto_display(){return modal_ad_exists()&&Opst.options.should_auto_display_modal_ad&&Opst.ads.modal_auto_display}function discovery_box(e,t){var n="undefined"==typeof e.source?"":" ("+e.source+")";return'<div class="ad" data-index="'+t+'"><div class="image-cell"><a href="'+e.url+'" class="discovery-link" target="_blank"><img src="'+e.image+'"></a></div><div class="title-cell"><a href="'+e.url+'" class="discovery-link" target="_blank"><label class="ad-title">'+e.title+'<span style="color: #9A9A9A;">'+n+"</span></label></a></div></div>"}function render_discovery_boxes(e){for(var t="",n=0;n<e.length;n++)t+=discovery_box(e[n],n);$("#os-modal-overlay-container .ads").html(t),$("#os-modal-overlay-container .ads").data("rendered","1")}function display_modal_ad(){track_modal_opened(),$("#os-modal-overlay-container .os-modal").hasClass("code")?maximize_overlay("#os-modal-overlay-container"):("0"==$("#os-modal-overlay-container .ads").data("rendered")&&("1"==$("#os-modal-overlay-container .ads").data("pool-based")?render_discovery_boxes(modal_discovery_data()):$("#os-modal-overlay-container").trigger("discovery:fetch")),maximize_overlay("#os-modal-overlay-container",function(){adjust_modal_discovery_ad(widget_width())}))}function load_content_ad_recommendations(e,t){if("1"!=$("#os-modal-overlay-container .ads").data("rendered")){var n=encodeURIComponent(window.location.href),i=widget_height()-25,r=adjust_discovery_ad($(".os-modal"),widget_width()-2,i,!1),o=t[r];if(o===undefined){for(var a=-1,s=Object.keys(t),l=0;l<s.length;l++)s[l]>a&&s[l]<r&&(a=s[l]);o=t[a]}o!==undefined?$.ajax({url:"http://api.content.ad/api.svc/GetWidget/"+o+"/"+e+"?url="+n,type:"GET",dataType:"jsonp",success:function(e){render_discovery_boxes(e.articles),adjust_modal_discovery_ad(widget_width())},error:function(e){console.log("Failed fetching ads from content.ad "+e.status)}}):console.log("Did not find any content.ad widget to show")}}function load_outbrain_recommendations(e,t,n,i,r){var o={permalink:e,testMode:t,installationKey:n,widgetId:i},a=function(e){for(var t=0;t<e.doc.length;t++)e.doc[t].image=e.doc[t].thumbnail.url,e.doc[t].title=e.doc[t].content,e.doc[t].source=e.doc[t].source_name;if(render_discovery_boxes(e.doc),adjust_modal_discovery_ad(widget_width()),"function"==typeof r)try{r()}catch(n){}};OBR.extern.callRecs(o,a)}function widget_width(){return $(".debate").width()}function widget_height(){return $(".debate").outerHeight()}function ensureResize(){lastWidth==$(window).width()&&lastHeight==widget_height()||$(window).resize()}function invokeResize(){void 0!==ensureInterval&&$(window).resize()}function adjustWidget(){lastWidth==$(window).width()&&lastHeight==widget_height()||setTimeout(invokeResize,1e3);var e=widget_width();if($("#os-wrapper").removeClass("tiny_style medium_style small_style large_style"),e<TINY_WIDTH)return!1;TINY_WIDTH<=e&&e<SMALL_WIDTH?$("#os-wrapper").addClass("tiny_style"):SMALL_WIDTH<=e&&e<MEDIUM_WIDTH?$("#os-wrapper").addClass("small_style"):MEDIUM_WIDTH<=e&&e<LARGE_WIDTH?$("#os-wrapper").addClass("medium_style"):LARGE_WIDTH<=e&&$("#os-wrapper").addClass("large_style"),adjust_sides(),adjust_post_vote_message(),adjust_share_bar(),shouldAdjustModalAd&&adjust_modal_discovery_ad(e-2),shouldAdjustInlineAd&&adjust_discovery_ad($(".os-inline .discovery"),e-2,0,!0),lastWidth=$(window).width();var t=widget_height();lastHeight!=t&&notify_height_changed(),lastHeight=t}function adjust_sides(){}function adjust_modal_discovery_ad(e){if(is_overlay_showing()){var t=widget_height()-$(".os-modal.discovery .content-wrapper h3").outerHeight()-5,n="1"==$("#os-modal-overlay-container .ads").data("rendered");adjust_discovery_ad($(".os-modal.discovery"),e-22,t,n)}}function adjust_discovery_ad(e,t,n,i){n>0&&(n-=10),i&&($(e).find(".os-ads-wrapper .ads .ad").removeClass("row-break"),$(e).find(".os-ads-wrapper .ads .ad").addClass("visible"),$(e).find(".content-wrapper").width(""),$(e).find(".os-ads-wrapper .ad.visible .image-cell img, .os-ads-wrapper .ad.visible .title-cell label").width(""),$(e).find(".os-ads-wrapper .ad.visible .image-cell img").height(""),$(e).find(".os-ads-wrapper .ad.visible").css("margin-left",""),$(e).find(".os-ads-wrapper .ad.visible").css("margin-right",""),$(e).find(".os-ads-wrapper .ad.visible .title-cell label").css("max-height",""));var r=t>LARGE_WIDTH?parseInt($(e).find(".os-ads-wrapper .ads").data("max-cols-wide")):parseInt($(e).find(".os-ads-wrapper .ads").data("max-cols")),o=parseInt($(e).find(".os-ads-wrapper .ads").data("max-rows")),a=Math.floor(t/r),s=230,l=130;a>s&&(a=s,r=Math.floor(t/a),a=Math.max(Math.min(Math.floor(t/r),s),l)),a<l&&(a=l,r=Math.floor(t/a),a=Math.max(Math.min(Math.floor(t/r),s),l));var u=a-12,c=3*u/4,d=3*ad_font_size_and_line_height_for_width(t)[1],p=c+15+d;n>0&&p>n&&(a=(u=4*(c=(p=n)-d-17)/3)+12,r=Math.floor(t/a));var f=Math.floor((t-r*a)/r/2);return n>0&&(o=Math.min(o,Math.floor(n/p))),i&&($(e).find(".os-ads-wrapper .ad.visible .image-cell img, .os-ads-wrapper .ad.visible .title-cell label").width(u),$(e).find(".os-ads-wrapper .ad.visible .image-cell img").height(c),$(e).find(".os-ads-wrapper .ad.visible").css("margin-left",f),$(e).find(".os-ads-wrapper .ad.visible").css("margin-right",f),$(e).find(".os-ads-wrapper .ad.visible").each(function(e,t){$(t).toggleClass("visible",e<r*o),$(t).hasClass("visible")&&e%r==0&&$(t).addClass("row-break")})),r*o}function areLabelsTooHigh(e){var t=!1;$(e).each(function(e,n){$(n).offset().top>$(n).parents(".box").find(".os-icon").offset().top&&(t=!0)});var n=$(e).map(function(){return $(this).height()}).get(),i=Math.max.apply(null,n),r=Opst.constants.max_line_height_ratio*parseInt($(e).css("font-size"));return t|=i>r}function adjust_share_bar(){var e;shouldAdjustSharingBar&&(e=$(".os-social-bar ").hasClass("extended")?$(".os-social-bar .icons-area .small-boxes .box .label"):$(".os-social-bar .icons-area .big-boxes .box .label"),$(e).each(function(e,t){$(t).text($(t).parents(".box").data("long_label"))}),areLabelsTooHigh(e)&&$(e).each(function(e,t){$(t).text($(t).parents(".box").data("short_label"))}),areLabelsTooHigh(e)&&$(e).each(function(e,t){$(t).text("")}))}function adjust_post_vote_message(){$(".post-vote-message").css("display",""),$(".post-vote-message").height()>parseInt($(".post-vote-message").css("line-height"))&&$(".post-vote-message").css("display","none")}function ad_font_size_and_line_height_for_width(e){return e<TINY_WIDTH?[8,11]:TINY_WIDTH<=e&&e<SMALL_WIDTH?[10,13]:SMALL_WIDTH<=e&&e<MEDIUM_WIDTH?[12,15]:MEDIUM_WIDTH<=e&&e<LARGE_WIDTH?[14,18]:LARGE_WIDTH<=e?[16,20]:void 0}function startResizeInterval(){void 0===ensureInterval&&(adjustWidget(),ensureInterval=setInterval(ensureResize,2e3))}function stopResizeInterval(){void 0!==ensureInterval&&(clearInterval(ensureInterval),ensureInterval=undefined)}function isIE7(){return $.browser.msie&&"7.0"==$.browser.version}function startAdjusting(){startedAdjusting||(startedAdjusting=!0,(0==$("#os-wrapper .os-social-bar").length||$("#os-wrapper .os-social-bar").hasClass("minimal"))&&(shouldAdjustSharingBar=!1),shouldAdjustInlineAd=$(".os-inline .discovery").length>0,shouldAdjustModalAd=modal_discovery_ad_exists(),isIE7()?(adjustWidget(),setTimeout(adjustWidget,2e3)):($(window).resize(function(){adjustWidget()}),startResizeInterval()))}function try_vote(){var e=checked_sides();if(0==e.length)return!1;go_vote(e)}function handle_multi_selection_side_click(e){$(e).hasClass("user_checked")?($(e).removeClass("user_checked"),$(e).addClass("user_unchecked"),$(".os-side").removeClass("disabled")):($(e).removeClass("user_unchecked"),$(e).addClass("user_checked"),checked_sides().length==number_of_answers_to_choose()&&$(".os-side").not(".user_checked").addClass("disabled")),update_voting_button_state()}function handle_single_selection_side_click(e){return $(".os-side").removeClass("user_checked"),$(e).addClass("user_checked"),poll_has_voting_button()?(update_voting_button_state(),!1):(try_vote(),!0)}function disable_mc_checking(){$("#os-wrapper.debate .os-side").each(function(e){$(e).addClass("disabled"),$(e).find("input").prop("disabled",!0)})}function handle_vote_button_clicked(){try_vote()}function update_voting_button_state(){poll_has_voting_button()&&(!has_user_voted()&&checked_sides().length>0?$(".voting-button").removeClass("disabled"):$(".voting-button").addClass("disabled"))}function handle_side_clicked(e){Opst.debate.multi_selection()?handle_multi_selection_side_click(e):handle_single_selection_side_click(e)}function add_point_to_side(e){var t=$(e).attr("data-side-id"),n=parseInt($(e).attr("data-points"))+1;$(e).attr("data-points",n);var i=$(".debate").find(".os-side[data-side-id='"+t+"']");$(i).find(".percentage").html(n.toString()),$(i).find(".points").html(n.toString())}function sides_with_points(){return $(".debate").find(".os-side[data-points!='0']")}function displayed_total_points(){var e=0;return $(all_sides()).each(function(t,n){e+=parseInt($(n).data("points"))}),e}function fix_points_sum(){var e=Opst.options.scaling_number-displayed_total_points(),t=sides_with_points().sort(function(e,t){return parseFloat($(t).data("points"))-parseFloat($(e).data("points"))});if(0!=t.length)for(;e>0;)$.each(t,function(t,n){if(0==e)return!1;add_point_to_side(n),e-=1})}function hide_vote(){if(update_in_progress)return!1;var e=selected_sides();if(0==e.length)return!1;ajax_vote(e,profile_based_hide_vote_url(),!0,!1)}function mark_trivia_results(){are_answers_correct()?$(".side-votes").removeClass("wrong-answer").addClass("correct-answer"):$(".side-votes").removeClass("correct-answer").addClass("wrong-answer")}var JSON;!function(e,t){function n(e){return N.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}function i(e){if(!_t[e]){var t=j.body,n=N("<"+e+">").appendTo(t),i=n.css("display");n.remove(),"none"!==i&&""!==i||(ht||((ht=j.createElement("iframe")).frameBorder=ht.width=ht.height=0),t.appendChild(ht),gt&&ht.createElement||((gt=(ht.contentWindow||ht.contentDocument).document).write(("CSS1Compat"===j.compatMode?"<!doctype html>":"")+"<html><body>"),gt.close()),n=gt.createElement(e),gt.body.appendChild(n),i=N.css(n,"display"),t.removeChild(ht)),_t[e]=i}return _t[e]}function r(e,t){var n={};return N.each(wt.concat.apply([],wt.slice(0,t)),function(){n[this]=e}),n}function o(){vt=t}function a(){return setTimeout(o,0),vt=N.now()}function s(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function l(){try{return new e.XMLHttpRequest}catch(t){}}function u(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var i,r,o,a,s,l,u,c,d=e.dataTypes,p={},f=d.length,h=d[0];for(i=1;i<f;i++){if(1===i)for(r in e.converters)"string"==typeof r&&(p[r.toLowerCase()]=e.converters[r]);if(a=h,"*"===(h=d[i]))h=a;else if("*"!==a&&a!==h){if(!(l=p[s=a+" "+h]||p["* "+h]))for(u in c=t,p)if(((o=u.split(" "))[0]===a||"*"===o[0])&&(c=p[o[1]+" "+h])){!0===(u=p[u])?l=c:!0===c&&(l=u);break}!l&&!c&&N.error("No conversion from "+s.replace(" "," to ")),!0!==l&&(n=l?l(n):c(u(n)))}}return n}function c(e,n,i){var r,o,a,s,l=e.contents,u=e.dataTypes,c=e.responseFields;for(o in c)o in i&&(n[c[o]]=i[o]);for(;"*"===u[0];)u.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){u.unshift(o);break}if(u[0]in i)a=u[0];else{for(o in i){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}s||(s=o)}a=a||s}if(a)return a!==u[0]&&u.unshift(a),i[a]}function d(e,t,n,i){if(N.isArray(t))N.each(t,function(t,r){n||Ue.test(e)?i(e,r):d(e+"["+("object"==typeof r||N.isArray(r)?t:"")+"]",r,n,i)});else if(n||null==t||"object"!=typeof t)i(e,t);else for(var r in t)d(e+"["+r+"]",t[r],n,i)}function p(e,n){var i,r,o=N.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);r&&N.extend(!0,e,r)}function f(e,n,i,r,o,a){o=o||n.dataTypes[0],(a=a||{})[o]=!0;for(var s,l=e[o],u=0,c=l?l.length:0,d=e===ot;u<c&&(d||!s);u++)"string"==typeof(s=l[u](n,i,r))&&(!d||a[s]?s=t:(n.dataTypes.unshift(s),s=f(e,n,i,r,s,a)));return(d||!s)&&!a["*"]&&(s=f(e,n,i,r,"*",a)),s}function h(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),N.isFunction(n))for(var i,r,o=t.toLowerCase().split(tt),a=0,s=o.length;a<s;a++)i=o[a],(r=/^\+/.test(i))&&(i=i.substr(1)||"*"),(e[i]=e[i]||[])[r?"unshift":"push"](n)}}function g(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r="width"===t?Pe:He;return i>0?("border"!==n&&N.each(r,function(){n||(i-=parseFloat(N.css(e,"padding"+this))||0),"margin"===n?i+=parseFloat(N.css(e,n+this))||0:i-=parseFloat(N.css(e,"border"+this+"Width"))||0}),i+"px"):(((i=De(e,t,t))<0||null==i)&&(i=e.style[t]||0),i=parseFloat(i)||0,n&&N.each(r,function(){i+=parseFloat(N.css(e,"padding"+this))||0,"padding"!==n&&(i+=parseFloat(N.css(e,"border"+this+"Width"))||0),"margin"===n&&(i+=parseFloat(N.css(e,n+this))||0)}),i+"px")}function m(e,t){t.src?N.ajax({url:t.src,async:!1,dataType:"script"}):N.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ae,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)}function v(e){var t=(e.nodeName||"").toLowerCase();"input"===t?_(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&N.grep(e.getElementsByTagName("input"),_)}function _(e){"checkbox"!==e.type&&"radio"!==e.type||(e.defaultChecked=e.checked)}function y(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function b(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(n=t.nodeName.toLowerCase())?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(N.expando))}function w(e,t){if(1===t.nodeType&&N.hasData(e)){var n,i,r,o=N._data(e),a=N._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,r=s[n].length;i<r;i++)N.event.add(t,n+(s[n][i].namespace?".":"")+s[n][i].namespace,s[n][i],s[n][i].data);a.data&&(a.data=N.extend({},a.data))}}function x(e){return N.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){var t=he.split(" "),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function S(e,t,n){if(t=t||0,N.isFunction(t))return N.grep(e,function(e,i){return!!t.call(e,i,e)===n});if(t.nodeType)return N.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=N.grep(e,function(e){return 1===e.nodeType});if(ce.test(t))return N.filter(t,i,!n);t=N.filter(t,i)}return N.grep(e,function(e){return N.inArray(e,t)>=0===n})}function k(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function A(){return!0}function E(){return!1}function $(e,t,n){var i=t+"defer",r=t+"queue",o=t+"mark",a=N._data(e,i);a&&("queue"===n||!N._data(e,r))&&("mark"===n||!N._data(e,o))&&setTimeout(function(){!N._data(e,r)&&!N._data(e,o)&&(N.removeData(e,i,!0),a.fire())},0)}function D(e){for(var t in e)if(("data"!==t||!N.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function O(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(P,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(r))){try{i="true"===i||"false"!==i&&("null"===i?null:N.isNumeric(i)?parseFloat(i):I.test(i)?N.parseJSON(i):i)}catch(L){}N.data(e,n,i)}else i=t}return i}function T(e){var t,n,i=L[e]={};for(t=0,n=(e=e.split(/\s+/)).length;t<n;t++)i[e[t]]=!0;return i}var j=e.document,F=e.navigator,B=e.location,N=function(){function n(){if(!s.isReady){try{j.documentElement.doScroll("left")}catch(e){return void setTimeout(n,1)}s.ready()}}var i,r,o,a,s=function(e,t){return new s.fn.init(e,t,i)},l=e.jQuery,u=e.$,c=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/\S/,p=/^\s+/,f=/\s+$/,h=/\d/,g=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,v=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,_=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,x=/(msie) ([\w.]+)/,C=/(mozilla)(?:.*? rv:([\w.]+))?/,S=/-([a-z]|[0-9])/gi,k=/^-ms-/,A=function(e,t){return(t+"").toUpperCase()},E=F.userAgent,$=Object.prototype.toString,D=Object.prototype.hasOwnProperty,O=Array.prototype.push,T=Array.prototype.slice,B=String.prototype.trim,N=Array.prototype.indexOf,L={};return s.fn=s.prototype={constructor:s,init:function(e,n,i){var r,o,a,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&j.body)return this.context=j,this[0]=j.body,this.selector=e,this.length=1,this;if("string"==typeof e){if((r="<"!==e.charAt(0)||">"!==e.charAt(e.length-1)||e.length<3?c.exec(e):[null,e,null])&&(r[1]||!n)){if(r[1])return l=(n=n instanceof s?n[0]:n)?n.ownerDocument||n:j,(a=g.exec(e))?s.isPlainObject(n)?(e=[j.createElement(a[1])],s.fn.attr.call(e,n,!0)):e=[l.createElement(a[1])]:e=((a=s.buildFragment([r[1]],[l])).cacheable?s.clone(a.fragment):a.fragment).childNodes,s.merge(this,e);if((o=j.getElementById(r[2]))&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=j,this.selector=e,this}return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e)}return s.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),s.makeArray(e,this))},selector:"",jquery:"1.7",length:0,size:function(){return this.length},toArray:function(){return T.call(this,0)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=this.constructor();return s.isArray(e)?O.apply(i,e):s.merge(i,e),i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return s.each(this,e,t)},ready:function(e){return s.bindReady(),o.add(e),this},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(T.apply(this,arguments),"slice",T.call(arguments).join(","))},map:function(e){return this.pushStack(s.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:O,sort:[].sort,splice:[].splice},s.fn.init.prototype=s.fn,s.extend=s.fn.extend=function(){var e,n,i,r,o,a,l=arguments[0]||{},u=1,c=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},u=2),"object"!=typeof l&&!s.isFunction(l)&&(l={}),c===u&&(l=this,--u);u<c;u++)if(null!=(e=arguments[u]))for(n in e)i=l[n],l!==(r=e[n])&&(d&&r&&(s.isPlainObject(r)||(o=s.isArray(r)))?(o?(o=!1,a=i&&s.isArray(i)?i:[]):a=i&&s.isPlainObject(i)?i:{},l[n]=s.extend(d,a,r)):r!==t&&(l[n]=r));return l},s.extend({noConflict:function(t){return e.$===s&&(e.$=u),t&&e.jQuery===s&&(e.jQuery=l),s},isReady:!1,readyWait:1,holdReady:function(e){e?s.readyWait++:s.ready(!0)},ready:function(e){if(!0===e&&!--s.readyWait||!0!==e&&!s.isReady){if(!j.body)return setTimeout(s.ready,1);if(s.isReady=!0,!0!==e&&--s.readyWait>0)return;o.fireWith(j,[s]),s.fn.trigger&&s(j).trigger("ready").unbind("ready")}},bindReady:function(){if(!o){if(o=s.Callbacks("once memory"),"complete"===j.readyState)return setTimeout(s.ready,1);if(j.addEventListener)j.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",s.ready,!1);else if(j.attachEvent){j.attachEvent("onreadystatechange",a),e.attachEvent("onload",s.ready);var t=!1;try{t=null==e.frameElement}catch(F){}j.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return"function"===s.type(e)},isArray:Array.isArray||function(e){return"array"===s.type(e)},isWindow:function(e){return e&&"object"==typeof e&&"setInterval"in e},isNumeric:function(e){return null!=e&&h.test(e)&&!isNaN(e)},type:function(e){return null==e?String(e):L[$.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==s.type(e)||e.nodeType||s.isWindow(e))return!1;try{if(e.constructor&&!D.call(e,"constructor")&&!D.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(j){return!1}var n;for(n in e);return n===t||D.call(e,n)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw e},parseJSON:function(t){return"string"==typeof t&&t?(t=s.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(v,"@").replace(_,"]").replace(y,""))?new Function("return "+t)():void s.error("Invalid JSON: "+t)):null},parseXML:function(n){var i,r;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):((i=new ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(n))}catch(u){i=t}return(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)&&s.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&d.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(k,"ms-").replace(S,A)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,i){var r,o=0,a=e.length,l=a===t||s.isFunction(e);if(i)if(l){for(r in e)if(!1===n.apply(e[r],i))break}else for(;o<a&&!1!==n.apply(e[o++],i););else if(l){for(r in e)if(!1===n.call(e[r],r,e[r]))break}else for(;o<a&&!1!==n.call(e[o],o,e[o++]););return e},trim:B?function(e){return null==e?"":B.call(e)}:function(e){return null==e?"":(e+"").replace(p,"").replace(f,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var i=s.type(e);null==e.length||"string"===i||"function"===i||"regexp"===i||s.isWindow(e)?O.call(n,e):s.merge(n,e)}return n},inArray:function(e,t,n){var i;if(t){if(N)return N.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=e.length,r=0;if("number"==typeof n.length)for(var o=n.length;r<o;r++)e[i++]=n[r];else for(;n[r]!==t;)e[i++]=n[r++];return e.length=i,e},grep:function(e,t,n){var i=[];n=!!n;for(var r=0,o=e.length;r<o;r++)n!==!!t(e[r],r)&&i.push(e[r]);return i},map:function(e,n,i){var r,o,a=[],l=0,u=e.length;if(e instanceof s||u!==t&&"number"==typeof u&&(u>0&&e[0]&&e[u-1]||0===u||s.isArray(e)))for(;l<u;l++)null!=(r=n(e[l],l,i))&&(a[a.length]=r);else for(o in e)null!=(r=n(e[o],o,i))&&(a[a.length]=r);return a.concat.apply([],a)},guid:1,proxy:function(e,n){if("string"==typeof n){var i=e[n];n=e,e=i}if(!s.isFunction(e))return t;var r=T.call(arguments,2),o=function(){return e.apply(n,r.concat(T.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||s.guid++,o},access:function(e,n,i,r,o,a){var l=e.length;if("object"==typeof n){for(var u in n)s.access(e,u,n[u],r,o,i);return e}if(i!==t){r=!a&&r&&s.isFunction(i);for(var c=0;c<l;c++)o(e[c],n,r?i.call(e[c],c,o(e[c],n)):i,a);return e}return l?o(e[0],n):t},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||w.exec(e)||x.exec(e)||e.indexOf("compatible")<0&&C.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}s.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof s&&!(i instanceof e)&&(i=e(i)),s.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(j);return e},browser:{}}),s.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){L["[object "+t+"]"]=t.toLowerCase()}),(r=s.uaMatch(E)).browser&&(s.browser[r.browser]=!0,s.browser.version=r.version),s.browser.webkit&&(s.browser.safari=!0),d.test(" ")&&(p=/^[\s\xA0]+/,f=/[\s\xA0]+$/),i=s(j),j.addEventListener?a=function(){j.removeEventListener("DOMContentLoaded",a,!1),s.ready()}:j.attachEvent&&(a=function(){"complete"===j.readyState&&(j.detachEvent("onreadystatechange",a),s.ready())}),"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return s}),s}(),L={};N.Callbacks=function(e){e=e?L[e]||T(e):{};var n,i,r,o,a,s=[],l=[],u=function(t){var n,i,r,o;for(n=0,i=t.length;n<i;n++)r=t[n],"array"===(o=N.type(r))?u(r):"function"===o&&(!e.unique||!d.has(r))&&s.push(r)},c=function(t,u){for(u=u||[],n=!e.memory||[t,u],i=!0,a=r||0,r=0,o=s.length;s&&a<o;a++)if(!1===s[a].apply(t,u)&&e.stopOnFalse){n=!0;break}i=!1,s&&(e.once?!0===n?d.disable():s=[]:l&&l.length&&(n=l.shift(),d.fireWith(n[0],n[1])))},d={add:function(){if(s){var e=s.length;u(arguments),i?o=s.length:n&&!0!==n&&(r=e,c(n[0],n[1]))}return this},remove:function(){if(s)for(var t=arguments,n=0,r=t.length;n<r;n++)for(var l=0;l<s.length&&(t[n]!==s[l]||(i&&l<=o&&(o--,l<=a&&a--),s.splice(l--,1),!e.unique));l++);return this},has:function(e){if(s)for(var t=0,n=s.length;t<n;t++)if(e===s[t])return!0;return!1},empty:function(){return s=[],this},disable:function(){return s=l=n=t,this},disabled:function(){return!s},lock:function(){return l=t,(!n||!0===n)&&d.disable(),this},locked:function(){return!l},fireWith:function(t,r){return l&&(i?e.once||l.push([t,r]):(!e.once||!n)&&c(t,r)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d};var M=[].slice;N.extend({Deferred:function(e){var t,n=N.Callbacks("once memory"),i=N.Callbacks("once memory"),r=N.Callbacks("memory"),o="pending",a={resolve:n,reject:i,notify:r},s={done:n.add,fail:i.add,progress:r.add,state:function(){return o},isResolved:n.fired,isRejected:i.fired,then:function(e,t,n){return l.done(e).fail(t).progress(n),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments)},pipe:function(e,t,n){return N.Deferred(function(i){N.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n,r=t[0],o=t[1];N.isFunction(r)?l[e](function(){(n=r.apply(this,arguments))&&N.isFunction(n.promise)?n.promise().then(i.resolve,i.reject,i.notify):i[o+"With"](this===l?i:this,[n])}):l[e](i[o])})}).promise()},promise:function(e){if(null==e)e=s;else for(var t in s)e[t]=s[t];return e}},l=s.promise({});for(t in a)l[t]=a[t].fire,l[t+"With"]=a[t].fireWith;return l.done(function(){o="resolved"},i.disable,r.lock).fail(function(){o="rejected"},n.disable,r.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){a[e]=arguments.length>1?M.call(arguments,0):t,l.notifyWith(u,a)}}function n(e){return function(t){i[e]=arguments.length>1?M.call(arguments,0):t,--s||l.resolveWith(l,i)}}var i=M.call(arguments,0),r=0,o=i.length,a=Array(o),s=o,l=o<=1&&e&&N.isFunction(e.promise)?e:N.Deferred(),u=l.promise();if(o>1){for(;r<o;r++)i[r]&&i[r].promise&&N.isFunction(i[r].promise)?i[r].promise().then(n(r),l.reject,t(r)):--s;s||l.resolveWith(l,i)}else l!==e&&l.resolveWith(l,o?[e]:[]);return u}}),N.support=function(){var e,t,n,i,r,o,a,s,l,u,c,d,p,f,h,g,m=j.createElement("div"),v=j.documentElement;if(m.setAttribute("className","t"),m.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/><nav></nav>",e=m.getElementsByTagName("*"),t=m.getElementsByTagName("a")[0],!e||!e.length||!t)return{};i=(n=j.createElement("select")).appendChild(j.createElement("option")),r=m.getElementsByTagName("input")[0],a={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(t.getAttribute("style")),hrefNormalized:"/a"===t.getAttribute("href"),opacity:/^0.55/.test(t.style.opacity),cssFloat:!!t.style.cssFloat,unknownElems:!!m.getElementsByTagName("nav").length,checkOn:"on"===r.value,optSelected:i.selected,getSetAttribute:"t"!==m.className,enctype:!!j.createElement("form").enctype,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},r.checked=!0,a.noCloneChecked=r.cloneNode(!0).checked,n.disabled=!0,a.optDisabled=!i.disabled;try{delete m.test}catch(Q){a.deleteExpando=!1}for(h in!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",function(){a.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick")),(r=j.createElement("input")).value="t",r.setAttribute("type","radio"),a.radioValue="t"===r.value,r.setAttribute("checked","checked"),m.appendChild(r),(s=j.createDocumentFragment()).appendChild(m.lastChild),a.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,m.innerHTML="",m.style.width=m.style.paddingLeft="1px",l=j.getElementsByTagName("body")[0],c=j.createElement(l?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},l&&N.extend(d,{position:"absolute",left:"-999px",top:"-999px"}),d)c.style[h]=d[h];if(c.appendChild(m),(u=l||v).insertBefore(c,u.firstChild),a.appendChecked=r.checked,a.boxModel=2===m.offsetWidth,"zoom"in m.style&&(m.style.display="inline",m.style.zoom=1,a.inlineBlockNeedsLayout=2===m.offsetWidth,m.style.display="",m.innerHTML="<div style='width:4px;'></div>",a.shrinkWrapBlocks=2!==m.offsetWidth),m.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",g=0===(p=m.getElementsByTagName("td"))[0].offsetHeight,p[0].style.display="",p[1].style.display="none",a.reliableHiddenOffsets=g&&0===p[0].offsetHeight,m.innerHTML="",j.defaultView&&j.defaultView.getComputedStyle&&((o=j.createElement("div")).style.width="0",o.style.marginRight="0",m.appendChild(o),a.reliableMarginRight=0===(parseInt((j.defaultView.getComputedStyle(o,null)||{marginRight:0}).marginRight,10)||0)),m.attachEvent)for(h in{submit:1,change:1,focusin:1})(g=(f="on"+h)in m)||(m.setAttribute(f,"return;"),g="function"==typeof m[f]),a[h+"Bubbles"]=g;return N(function(){var e,t,n,i,r,o=1,s="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",u="visibility:hidden;border:0;",d="style='"+s+"border:5px solid #000;padding:0;'",p="<div "+d+"><div></div></div><table "+d+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";!(l=j.getElementsByTagName("body")[0])||((e=j.createElement("div")).style.cssText=u+"width:0;height:0;position:static;top:0;margin-top:"+o+"px",l.insertBefore(e,l.firstChild),(c=j.createElement("div")).style.cssText=s+u,c.innerHTML=p,e.appendChild(c),n=(t=c.firstChild).firstChild,i=t.nextSibling.firstChild.firstChild,r={doesNotAddBorder:5!==n.offsetTop,doesAddBorderForTableAndCells:5===i.offsetTop},n.style.position="fixed",n.style.top="20px",r.fixedPosition=20===n.offsetTop||15===n.offsetTop,n.style.position=n.style.top="",t.style.overflow="hidden",t.style.position="relative",r.subtractsBorderForOverflowNotVisible=-5===n.offsetTop,r.doesNotIncludeMarginInBodyOffset=l.offsetTop!==o,l.removeChild(e),c=e=null,N.extend(a,r))}),c.innerHTML="",u.removeChild(c),c=s=n=i=l=o=m=r=null,a}(),N.boxModel=N.support.boxModel;var I=/^(?:\{.*\}|\[.*\])$/,P=/([A-Z])/g;N.extend({cache:{},uuid:0,expando:"jQuery"+(N.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?N.cache[e[N.expando]]:e[N.expando])&&!D(e)},data:function(e,n,i,r){if(N.acceptData(e)){N.expando;var o,a,s,l="string"==typeof n,u=e.nodeType,c=u?N.cache:e,d=u?e[N.expando]:e[N.expando]&&N.expando,p="events"===n;if((!d||!c[d]||!p&&!r&&!c[d].data)&&l&&i===t)return;return d||(u?e[N.expando]=d=++N.uuid:d=N.expando),c[d]||(c[d]={},u||(c[d].toJSON=N.noop)),"object"!=typeof n&&"function"!=typeof n||(r?c[d]=N.extend(c[d],n):c[d].data=N.extend(c[d].data,n)),o=a=c[d],r||(a.data||(a.data={}),a=a.data),i!==t&&(a[N.camelCase(n)]=i),p&&!a[n]?o.events:(l?null==(s=a[n])&&(s=a[N.camelCase(n)]):s=a,s)}},removeData:function(e,t,n){if(N.acceptData(e)){N.expando;var i,r,o,a=e.nodeType,s=a?N.cache:e,l=a?e[N.expando]:N.expando;if(!s[l])return;if(t&&(i=n?s[l]:s[l].data)){
N.isArray(t)?t=t:t in i?t=[t]:t=(t=N.camelCase(t))in i?[t]:t.split(" ");for(r=0,o=t.length;r<o;r++)delete i[t[r]];if(!(n?D:N.isEmptyObject)(i))return}if(!n&&(delete s[l].data,!D(s[l])))return;N.support.deleteExpando||!s.setInterval?delete s[l]:s[l]=null,a&&(N.support.deleteExpando?delete e[N.expando]:e.removeAttribute?e.removeAttribute(N.expando):e[N.expando]=null)}},_data:function(e,t,n){return N.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=N.noData[e.nodeName.toLowerCase()];if(t)return!0!==t&&e.getAttribute("classid")===t}return!0}}),N.fn.extend({data:function(e,n){var i,r,o,a=null;if(void 0===e){if(this.length&&(a=N.data(this[0]),1===this[0].nodeType&&!N._data(this[0],"parsedAttrs"))){for(var s=0,l=(r=this[0].attributes).length;s<l;s++)0===(o=r[s].name).indexOf("data-")&&(o=N.camelCase(o.substring(5)),O(this[0],o,a[o]));N._data(this[0],"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){N.data(this,e)}):((i=e.split("."))[1]=i[1]?"."+i[1]:"",n===t?((a=this.triggerHandler("getData"+i[1]+"!",[i[0]]))===t&&this.length&&(a=N.data(this[0],e),a=O(this[0],e,a)),a===t&&i[1]?this.data(i[0]):a):this.each(function(){var t=N(this),r=[i[0],n];t.triggerHandler("setData"+i[1]+"!",r),N.data(this,e,n),t.triggerHandler("changeData"+i[1]+"!",r)}))},removeData:function(e){return this.each(function(){N.removeData(this,e)})}}),N.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",N._data(e,t,(N._data(e,t)||0)+1))},_unmark:function(e,t,n){if(!0!==e&&(n=t,t=e,e=!1),t){var i=(n=n||"fx")+"mark",r=e?0:(N._data(t,i)||1)-1;r?N._data(t,i,r):(N.removeData(t,i,!0),$(t,n,"mark"))}},queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=N._data(e,t),n&&(!i||N.isArray(n)?i=N._data(e,t,N.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=N.queue(e,t),i=n.shift(),r={};"inprogress"===i&&(i=n.shift()),i&&("fx"===t&&n.unshift("inprogress"),N._data(e,t+".run",r),i.call(e,function(){N.dequeue(e,t)},r)),n.length||(N.removeData(e,t+"queue "+t+".run",!0),$(e,t,"queue"))}}),N.fn.extend({queue:function(e,n){return"string"!=typeof e&&(n=e,e="fx"),n===t?N.queue(this[0],e):this.each(function(){var t=N.queue(this,e,n);"fx"===e&&"inprogress"!==t[0]&&N.dequeue(this,e)})},dequeue:function(e){return this.each(function(){N.dequeue(this,e)})},delay:function(e,t){return e=N.fx&&N.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e){function n(){--s||r.resolveWith(o,[o])}"string"!=typeof e&&(e,e=t),e=e||"fx";for(var i,r=N.Deferred(),o=this,a=o.length,s=1,l=e+"defer",u=e+"queue",c=e+"mark";a--;)(i=N.data(o[a],l,t,!0)||(N.data(o[a],u,t,!0)||N.data(o[a],c,t,!0))&&N.data(o[a],l,N.Callbacks("once memory"),!0))&&(s++,i.add(n));return n(),r.promise()}});var H,R,z,q=/[\n\t\r]/g,U=/\s+/,W=/\r/g,V=/^(?:button|input)$/i,J=/^(?:button|input|object|select|textarea)$/i,X=/^a(?:rea)?$/i,G=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Q=N.support.getSetAttribute;N.fn.extend({attr:function(e,t){return N.access(this,e,t,!0,N.attr)},removeAttr:function(e){return this.each(function(){N.removeAttr(this,e)})},prop:function(e,t){return N.access(this,e,t,!0,N.prop)},removeProp:function(e){return e=N.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(j){}})},addClass:function(e){var t,n,i,r,o,a,s;if(N.isFunction(e))return this.each(function(t){N(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(U),n=0,i=this.length;n<i;n++)if(1===(r=this[n]).nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",a=0,s=t.length;a<s;a++)~o.indexOf(" "+t[a]+" ")||(o+=t[a]+" ");r.className=N.trim(o)}else r.className=e;return this},removeClass:function(e){var n,i,r,o,a,s,l;if(N.isFunction(e))return this.each(function(t){N(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(U),i=0,r=this.length;i<r;i++)if(1===(o=this[i]).nodeType&&o.className)if(e){for(a=(" "+o.className+" ").replace(q," "),s=0,l=n.length;s<l;s++)a=a.replace(" "+n[s]+" "," ");o.className=N.trim(a)}else o.className="";return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return N.isFunction(e)?this.each(function(n){N(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,a=N(this),s=t,l=e.split(U);r=l[o++];)a[(s=i?s:!a.hasClass(r))?"addClass":"removeClass"](r);else"undefined"!==n&&"boolean"!==n||(this.className&&N._data(this,"__className__",this.className),this.className=this.className||!1===e?"":N._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,i,r,o=this[0];return arguments.length?(r=N.isFunction(e),this.each(function(i){var o,a=N(this);1===this.nodeType&&(null==(o=r?e.call(this,i,a.val()):e)?o="":"number"==typeof o?o+="":N.isArray(o)&&(o=N.map(o,function(e){return null==e?"":e+""})),(n=N.valHooks[this.nodeName.toLowerCase()]||N.valHooks[this.type])&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))})):o?(n=N.valHooks[o.nodeName.toLowerCase()]||N.valHooks[o.type])&&"get"in n&&(i=n.get(o,"value"))!==t?i:"string"==typeof(i=o.value)?i.replace(W,""):null==i?"":i:t}}),N.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,i,r,o=e.selectedIndex,a=[],s=e.options,l="select-one"===e.type;if(o<0)return null;for(n=l?o:0,i=l?o+1:s.length;n<i;n++)if((r=s[n]).selected&&(N.support.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!N.nodeName(r.parentNode,"optgroup"))){if(t=N(r).val(),l)return t;a.push(t)}return l&&!a.length&&s.length?N(s[o]).val():a},set:function(e,t){var n=N.makeArray(t);return N(e).find("option").each(function(){this.selected=N.inArray(N(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,i,r){var o,a,s,l=e.nodeType;return e&&3!==l&&8!==l&&2!==l?r&&n in N.attrFn?N(e)[n](i):"getAttribute"in e?((s=1!==l||!N.isXMLDoc(e))&&(n=n.toLowerCase(),a=N.attrHooks[n]||(G.test(n)?R:H)),i!==t?null===i?(N.removeAttr(e,n),t):a&&"set"in a&&s&&(o=a.set(e,i,n))!==t?o:(e.setAttribute(n,""+i),i):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:null===(o=e.getAttribute(n))?t:o):N.prop(e,n,i):t},removeAttr:function(e,t){var n,i,r,o,a=0;if(1===e.nodeType)for(o=(i=(t||"").split(U)).length;a<o;a++)r=i[a].toLowerCase(),n=N.propFix[r]||r,N.attr(e,r,""),e.removeAttribute(Q?r:n),G.test(r)&&n in e&&(e[n]=!1)},attrHooks:{type:{set:function(e,t){if(V.test(e.nodeName)&&e.parentNode)N.error("type property can't be changed");else if(!N.support.radioValue&&"radio"===t&&N.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return H&&N.nodeName(e,"button")?H.get(e,t):t in e?e.value:null},set:function(e,t,n){if(H&&N.nodeName(e,"button"))return H.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?((1!==a||!N.isXMLDoc(e))&&(n=N.propFix[n]||n,o=N.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]):t},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):J.test(e.nodeName)||X.test(e.nodeName)&&e.href?0:t}}}}),N.attrHooks.tabindex=N.propHooks.tabIndex,R={get:function(e,n){var i,r=N.prop(e,n);return!0===r||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&!1!==i.nodeValue?n.toLowerCase():t},set:function(e,t,n){var i;return!1===t?N.removeAttr(e,n):((i=N.propFix[n]||n)in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},Q||(z={name:!0,id:!0},H=N.valHooks.button={get:function(e,n){var i;return(i=e.getAttributeNode(n))&&(z[n]?""!==i.nodeValue:i.specified)?i.nodeValue:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=j.createAttribute(n),e.setAttributeNode(i)),i.nodeValue=t+""}},N.attrHooks.tabindex.set=H.set,N.each(["width","height"],function(e,t){N.attrHooks[t]=N.extend(N.attrHooks[t],{set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}})}),N.attrHooks.contenteditable={get:H.get,set:function(e,t,n){""===t&&(t="false"),H.set(e,t,n)}}),N.support.hrefNormalized||N.each(["href","src","width","height"],function(e,n){N.attrHooks[n]=N.extend(N.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),N.support.style||(N.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),N.support.optSelected||(N.propHooks.selected=N.extend(N.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),N.support.enctype||(N.propFix.enctype="encoding"),N.support.checkOn||N.each(["radio","checkbox"],function(){N.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),N.each(["radio","checkbox"],function(){N.valHooks[this]=N.extend(N.valHooks[this],{set:function(e,t){if(N.isArray(t))return e.checked=N.inArray(N(e).val(),t)>=0}})});var Y=/\.(.*)$/,K=/^(?:textarea|input|select)$/i,Z=/^([^\.]*)?(?:\.(.+))?$/,ee=/\bhover(\.\S+)?/,te=/^key/,ne=/^(?:mouse|contextmenu)|click/,ie=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,re=function(e){var t=ie.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},oe=function(e,t){return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||e.id===t[2])&&(!t[3]||t[3].test(e.className))},ae=function(e){return N.event.special.hover?e:e.replace(ee,"mouseenter$1 mouseleave$1")};N.event={add:function(e,n,i,r,o){var a,s,l,u,c,d,p,f,h,g,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(a=N._data(e))){for(i.handler&&(i=(h=i).handler),i.guid||(i.guid=N.guid++),(l=a.events)||(a.events=l={}),(s=a.handle)||(a.handle=s=function(e){return void 0===N||e&&N.event.triggered===e.type?t:N.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=ae(n).split(" "),u=0;u<n.length;u++)d=(c=Z.exec(n[u])||[])[1],p=(c[2]||"").split(".").sort(),m=N.event.special[d]||{},d=(o?m.delegateType:m.bindType)||d,m=N.event.special[d]||{},f=N.extend({type:d,origType:c[1],data:r,handler:i,guid:i.guid,selector:o,namespace:p.join(".")},h),o&&(f.quick=re(o),!f.quick&&N.expr.match.POS.test(o)&&(f.isPositional=!0)),(g=l[d])||((g=l[d]=[]).delegateCount=0,m.setup&&!1!==m.setup.call(e,r,p,s)||(e.addEventListener?e.addEventListener(d,s,!1):e.attachEvent&&e.attachEvent("on"+d,s))),m.add&&(m.add.call(e,f),f.handler.guid||(f.handler.guid=i.guid)),o?g.splice(g.delegateCount++,0,f):g.push(f),N.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,i){var r,o,a,s,l,u,c,d,p,f,h,g=N.hasData(e)&&N._data(e);if(g&&(c=g.events)){for(t=ae(t||"").split(" "),r=0;r<t.length;r++){if(a=(o=Z.exec(t[r])||[])[1],s=o[2],!a){for(u in s=s?"."+s:"",c)N.event.remove(e,u+s,n,i);return}if(d=N.event.special[a]||{},l=(f=c[a=(i?d.delegateType:d.bindType)||a]||[]).length,s=s?new RegExp("(^|\\.)"+s.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,n||s||i||d.remove)for(u=0;u<f.length;u++)h=f[u],n&&n.guid!==h.guid||s&&!s.test(h.namespace)||(!i||i===h.selector||"**"===i&&h.selector)&&(f.splice(u--,1),h.selector&&f.delegateCount--,d.remove&&d.remove.call(e,h));else f.length=0;0===f.length&&l!==f.length&&((!d.teardown||!1===d.teardown.call(e,s))&&N.removeEvent(e,a,g.handle),delete c[a])}N.isEmptyObject(c)&&((p=g.handle)&&(p.elem=null),N.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var a,s,l,u,c,d,p,f,h,g,m=n.type||n,v=[];if(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(m=(v=m.split(".")).shift(),v.sort()),(!r||N.event.customEvent[m])&&!N.event.global[m])return;if((n="object"==typeof n?n[N.expando]?n:new N.Event(m,n):new N.Event(m)).type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=m.indexOf(":")<0?"on"+m:"",(o||!r)&&n.preventDefault(),!r){for(l in a=N.cache)a[l].events&&a[l].events[m]&&N.event.trigger(n,i,a[l].handle.elem,!0);return}if(n.result=t,n.target||(n.target=r),(i=null!=i?N.makeArray(i):[]).unshift(n),(p=N.event.special[m]||{}).trigger&&!1===p.trigger.apply(r,i))return;if(h=[[r,p.bindType||m]],!o&&!p.noBubble&&!N.isWindow(r)){for(g=p.delegateType||m,c=null,u=r.parentNode;u;u=u.parentNode)h.push([u,g]),c=u;c&&c===r.ownerDocument&&h.push([c.defaultView||c.parentWindow||e,g])}for(l=0;l<h.length&&(u=h[l][0],n.type=h[l][1],(f=(N._data(u,"events")||{})[n.type]&&N._data(u,"handle"))&&f.apply(u,i),(f=d&&u[d])&&N.acceptData(u)&&f.apply(u,i),!n.isPropagationStopped());l++);return n.type=m,n.isDefaultPrevented()||(!p._default||!1===p._default.apply(r.ownerDocument,i))&&("click"!==m||!N.nodeName(r,"a"))&&N.acceptData(r)&&d&&r[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!N.isWindow(r)&&((c=r[d])&&(r[d]=null),N.event.triggered=m,r[m](),N.event.triggered=t,c&&(r[d]=c)),n.result}},dispatch:function(n){n=N.event.fix(n||e.event);var i,r,o,a,s,l,u,c,d,p,f=(N._data(this,"events")||{})[n.type]||[],h=f.delegateCount,g=[].slice.call(arguments,0),m=!n.exclusive&&!n.namespace,v=(N.event.special[n.type]||{}).handle,_=[];if(g[0]=n,n.delegateTarget=this,h&&!n.target.disabled&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this){for(s={},u=[],i=0;i<h;i++)p=s[d=(c=f[i]).selector],c.isPositional?p=(p||(s[d]=N(d))).index(o)>=0:p===t&&(p=s[d]=c.quick?oe(o,c.quick):N(o).is(d)),p&&u.push(c);u.length&&_.push({elem:o,matches:u})}for(f.length>h&&_.push({elem:this,matches:f.slice(h)}),i=0;i<_.length&&!n.isPropagationStopped();i++)for(l=_[i],n.currentTarget=l.elem,r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++)c=l.matches[r],(m||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,(a=(v||c.handler).apply(l.elem,g))!==t&&(n.result=a,!1===a&&(n.preventDefault(),n.stopPropagation())));return n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement wheelDelta".split(" "),filter:function(e,n){var i,r,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=(i=e.target.ownerDocument||j).documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),!e.which&&a!==t&&(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[N.expando])return e;var n,i,r=e,o=N.event.fixHooks[e.type]||{},a=o.props?this.props.concat(o.props):this.props;for(e=N.Event(r),n=a.length;n;)e[i=a[--n]]=r[i];return e.target||(e.target=r.srcElement||j),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),o.filter?o.filter(e,r):e},special:{ready:{setup:N.bindReady},focus:{delegateType:"focusin",noBubble:!0},blur:{delegateType:"focusout",noBubble:!0},beforeunload:{setup:function(e,t,n){N.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=N.extend(new N.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?N.event.trigger(r,null,t):N.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},N.event.handle=N.event.dispatch,N.removeEvent=j.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},N.Event=function(e,t){if(!(this instanceof N.Event))return new N.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?A:E):this.type=e,t&&N.extend(this,t),this.timeStamp=e&&e.timeStamp||N.now(),this[N.expando]=!0},N.Event.prototype={preventDefault:function(){this.isDefaultPrevented=A;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=A;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=A,this.stopPropagation()},isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E},N.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){N.event.special[e]=N.event.special[t]={delegateType:t,bindType:t,handle:function(e){var t,n,i=this,r=e.relatedTarget,o=e.handleObj;o.selector;return r&&o.origType!==e.type&&(r===i||N.contains(i,r))||(t=e.type,e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),N.support.submitBubbles||(N.event.special.submit={setup:function(){if(N.nodeName(this,"form"))return!1;N.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=N.nodeName(n,"input")||N.nodeName(n,"button")?n.form:t;i&&!i._submit_attached&&(N.event.add(i,"submit._submit",function(e){this.parentNode&&N.event.simulate("submit",this.parentNode,e,!0)}),i._submit_attached=!0)})},teardown:function(){if(N.nodeName(this,"form"))return!1;N.event.remove(this,"._submit")}}),N.support.changeBubbles||(N.event.special.change={setup:function(){if(K.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(N.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),N.event.add(this,"click._change",function(e){this._just_changed&&(this._just_changed=!1,N.event.simulate("change",this,e,!0))})),!1;N.event.add(this,"beforeactivate._change",function(e){var t=e.target;K.test(t.nodeName)&&!t._change_attached&&(N.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&N.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return N.event.remove(this,"._change"),K.test(this.nodeName)}}),N.support.focusinBubbles||N.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){N.event.simulate(t,e.target,N.event.fix(e),!0)};N.event.special[t]={setup:function(){0==n++&&j.addEventListener(e,i,!0)},teardown:function(){0==--n&&j.removeEventListener(e,i,!0)}}}),N.fn.extend({on:function(e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=n,n=t),e)this.on(s,n,i,e[s],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),!1===r)r=E;else if(!r)return this;return 1===o&&(a=r,(r=function(e){return N().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=N.guid++)),this.each(function(){N.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on.call(this,e,t,n,i,1)},off:function(e,n,i){if(e&&e.preventDefault&&e.handleObj){var r=e.handleObj;return N(e.delegateTarget).off(r.namespace?r.type+"."+r.namespace:r.type,r.selector,r.handler),this}if("object"==typeof e){for(var o in e)this.off(o,n,e[o]);return this}return!1!==n&&"function"!=typeof n||(i=n,n=t),!1===i&&(i=E),this.each(function(){N.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return N(this.context).on(e,this.selector,t,n),this},die:function(e,t){return N(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){N.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return N.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||N.guid++,i=0,r=function(n){var r=(N._data(this,"lastToggle"+e.guid)||0)%i;return N._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),N.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){N.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.bind(t,e,n):this.trigger(t)},N.attrFn&&(N.attrFn[t]=!0),te.test(t)&&(N.event.fixHooks[t]=N.event.keyHooks),ne.test(t)&&(N.event.fixHooks[t]=N.event.mouseHooks)}),function(){function e(e,t,n,i,o,a){for(var s=0,l=i.length;s<l;s++){var u=i[s];if(u){var c=!1;for(u=u[e];u;){if(u[r]===n){c=i[u.sizset];break}if(1===u.nodeType)if(a||(u[r]=n,u.sizset=s),"string"!=typeof t){if(u===t){c=!0;break}}else if(p.filter(t,[u]).length>0){c=u;break}u=u[e]}i[s]=c}}}function n(e,t,n,i,o,a){for(var s=0,l=i.length;s<l;s++){var u=i[s];if(u){var c=!1;for(u=u[e];u;){if(u[r]===n){c=i[u.sizset];break}if(1===u.nodeType&&!a&&(u[r]=n,u.sizset=s),u.nodeName.toLowerCase()===t){c=u;break}u=u[e]}i[s]=c}}}var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r="sizcache"+(Math.random()+"").replace(".",""),o=0,a=Object.prototype.toString,s=!1,l=!0,u=/\\/g,c=/\r\n/g,d=/\W/;[0,0].sort(function(){return l=!1,0});var p=function(e,t,n,r){n=n||[];var o=t=t||j;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var s,l,u,c,d,f,m,v,_=!0,y=p.isXML(t),b=[],w=e;do{if(i.exec(""),(s=i.exec(w))&&(w=s[3],b.push(s[1]),s[2])){c=s[3];break}}while(s);if(b.length>1&&g.exec(e))if(2===b.length&&h.relative[b[0]])l=k(b[0]+b[1],t,r);else for(l=h.relative[b[0]]?[t]:p(b.shift(),t);b.length;)e=b.shift(),h.relative[e]&&(e+=b.shift()),l=k(e,l,r);else if(!r&&b.length>1&&9===t.nodeType&&!y&&h.match.ID.test(b[0])&&!h.match.ID.test(b[b.length-1])&&(t=(d=p.find(b.shift(),t,y)).expr?p.filter(d.expr,d.set)[0]:d.set[0]),t)for(l=(d=r?{expr:b.pop(),set:S(r)}:p.find(b.pop(),1!==b.length||"~"!==b[0]&&"+"!==b[0]||!t.parentNode?t:t.parentNode,y)).expr?p.filter(d.expr,d.set):d.set,b.length>0?u=S(l):_=!1;b.length;)m=f=b.pop(),h.relative[f]?m=b.pop():f="",null==m&&(m=t),h.relative[f](u,m,y);else u=b=[];if(u||(u=l),u||p.error(f||e),"[object Array]"===a.call(u))if(_)if(t&&1===t.nodeType)for(v=0;null!=u[v];v++)u[v]&&(!0===u[v]||1===u[v].nodeType&&p.contains(t,u[v]))&&n.push(l[v]);else for(v=0;null!=u[v];v++)u[v]&&1===u[v].nodeType&&n.push(l[v]);else n.push.apply(n,u);else S(u,n);return c&&(p(c,o,n,r),p.uniqueSort(n)),n};p.uniqueSort=function(e){if(_&&(s=l,e.sort(_),s))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},p.matches=function(e,t){return p(e,null,null,t)},p.matchesSelector=function(e,t){return p(t,null,null,[e]).length>0},p.find=function(e,t,n){var i,r,o,a,s,l;if(!e)return[];for(r=0,o=h.order.length;r<o;r++)if(s=h.order[r],(a=h.leftMatch[s].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(u,""),null!=(i=h.find[s](a,t,n))))){e=e.replace(h.match[s],"");break}return i||(i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:i,expr:e}},p.filter=function(e,n,i,r){for(var o,a,s,l,u,c,d,f,g,m=e,v=[],_=n,y=n&&n[0]&&p.isXML(n[0]);e&&n.length;){for(s in h.filter)if(null!=(o=h.leftMatch[s].exec(e))&&o[2]){if(c=h.filter[s],d=o[1],a=!1,o.splice(1,1),"\\"===d.substr(d.length-1))continue;if(_===v&&(v=[]),h.preFilter[s])if(o=h.preFilter[s](o,_,i,v,r,y)){if(!0===o)continue}else a=l=!0;if(o)for(f=0;null!=(u=_[f]);f++)u&&(g=r^(l=c(u,o,f,_)),i&&null!=l?g?a=!0:_[f]=!1:g&&(v.push(u),a=!0));if(l!==t){if(i||(_=v),e=e.replace(h.match[s],""),!a)return[];break}}if(e===m){if(null!=a)break;p.error(e)}m=e}return _},p.error=function(e){throw"Syntax error, unrecognized expression: "+e};var f=p.getText=function(e){var t,n,i=e.nodeType,r="";if(i){if(1===i){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(c,"");for(e=e.firstChild;e;e=e.nextSibling)r+=f(e)}else if(3===i||4===i)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(r+=f(n));return r},h=p.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,i=n&&!d.test(t),r=n&&!i;i&&(t=t.toLowerCase());for(var o,a=0,s=e.length;a<s;a++)if(o=e[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[a]=r||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}r&&p.filter(t,e,!0)},">":function(e,t){var n,i="string"==typeof t,r=0,o=e.length;if(i&&!d.test(t)){for(t=t.toLowerCase();r<o;r++)if(n=e[r]){var a=n.parentNode;e[r]=a.nodeName.toLowerCase()===t&&a}}else{for(;r<o;r++)(n=e[r])&&(e[r]=i?n.parentNode:n.parentNode===t);i&&p.filter(t,e,!0)}},"":function(t,i,r){var a,s=o++,l=e;"string"==typeof i&&!d.test(i)&&(a=i=i.toLowerCase(),l=n),l("parentNode",i,s,t,a,r)},"~":function(t,i,r){var a,s=o++,l=e;"string"==typeof i&&!d.test(i)&&(a=i=i.toLowerCase(),l=n),l("previousSibling",i,s,t,a,r)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i&&i.parentNode?[i]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],i=t.getElementsByName(e[1]),r=0,o=i.length;r<o;r++)i[r].getAttribute("name")===e[1]&&n.push(i[r]);return 0===n.length?null:n}},TAG:function(e,t){if("undefined"!=typeof t.getElementsByTagName)return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,i,r,o){if(e=" "+e[1].replace(u,"")+" ",o)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(r^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||i.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(u,"")},TAG:function(e){return e[1].replace(u,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||p.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(("even"===e[2]?"2n":"odd"===e[2]&&"2n+1")||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&p.error(e[0]);return e[0]=o++,e},ATTR:function(e,t,n,i,r,o){var a=e[1]=e[1].replace(u,"");return!o&&h.attrMap[a]&&(e[1]=h.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(u,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,r,o){if("not"===e[1]){if(!((i.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var a=p.filter(e[3],t,n,!0^o);return n||r.push.apply(r,a),!1}e[3]=p(e[3],null,null,t)}else if(h.match.POS.test(e[0])||h.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return!1===e.disabled&&"hidden"!==e.type},disabled:function(e){return!0===e.disabled},checked:function(e){return!0===e.checked},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!p(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return t%2==0},odd:function(e,t){return t%2==1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,i){var r=t[1],o=h.filters[r];if(o)return o(e,n,t,i);if("contains"===r)return(e.textContent||e.innerText||f([e])||"").indexOf(t[3])>=0;if("not"===r){for(var a=t[3],s=0,l=a.length;s<l;s++)if(a[s]===e)return!1;return!0}p.error(r)},CHILD:function(e,t){var n,i,o,a,s,l,u=t[1],c=e;switch(u){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===u)return!0;c=e;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case"nth":if(n=t[2],i=t[3],1===n&&0===i)return!0;if(o=t[0],(a=e.parentNode)&&(a[r]!==o||!e.nodeIndex)){for(s=0,c=a.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=++s);a[r]=o}return l=e.nodeIndex-i,0===n?0===l:l%n==0&&l/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=p.attr?p.attr(e,n):h.attrHandle[n]?h.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),r=i+"",o=t[2],a=t[4];return null==i?"!="===o:!o&&p.attr?null!=i:"="===o?r===a:"*="===o?r.indexOf(a)>=0:"~="===o?(" "+r+" ").indexOf(a)>=0:a?"!="===o?r!==a:"^="===o?0===r.indexOf(a):"$="===o?r.substr(r.length-a.length)===a:"|="===o&&(r===a||r.substr(0,a.length+1)===a+"-"):r&&!1!==i},POS:function(e,t,n,i){var r=t[2],o=h.setFilters[r];if(o)return o(e,n,t,i)}}},g=h.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var v in h.match)h.match[v]=new RegExp(h.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),h.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+h.match[v].source.replace(/\\(\d+)/g,m));var _,y,b,w,x,C,S=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(j.documentElement.childNodes,0)[0].nodeType}catch(X){S=function(e,t){var n=0,i=t||[];if("[object Array]"===a.call(e))Array.prototype.push.apply(i,e);else if("number"==typeof e.length)for(var r=e.length;n<r;n++)i.push(e[n]);else for(;e[n];n++)i.push(e[n]);return i}}j.documentElement.compareDocumentPosition?_=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(_=function(e,t){if(e===t)return s=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],a=e.parentNode,l=t.parentNode,u=a;if(a===l)return y(e,t);if(!a)return-1;if(!l)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=r.length,i=o.length;for(var c=0;c<n&&c<i;c++)if(r[c]!==o[c])return y(r[c],o[c]);return c===n?y(e,o[c],-1):y(r[c],t,1)},y=function(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}),
w=j.createElement("div"),x="script"+(new Date).getTime(),C=j.documentElement,w.innerHTML="<a name='"+x+"'/>",C.insertBefore(w,C.firstChild),j.getElementById(x)&&(h.find.ID=function(e,n,i){if("undefined"!=typeof n.getElementById&&!i){var r=n.getElementById(e[1]);return r?r.id===e[1]||"undefined"!=typeof r.getAttributeNode&&r.getAttributeNode("id").nodeValue===e[1]?[r]:t:[]}},h.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),C.removeChild(w),C=w=null,(b=j.createElement("div")).appendChild(j.createComment("")),b.getElementsByTagName("*").length>0&&(h.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],r=0;n[r];r++)1===n[r].nodeType&&i.push(n[r]);n=i}return n}),b.innerHTML="<a href='#'></a>",b.firstChild&&"undefined"!=typeof b.firstChild.getAttribute&&"#"!==b.firstChild.getAttribute("href")&&(h.attrHandle.href=function(e){return e.getAttribute("href",2)}),b=null,j.querySelectorAll&&function(){var e=p,t=j.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){for(var i in p=function(t,i,r,o){if(i=i||j,!o&&!p.isXML(i)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(1===i.nodeType||9===i.nodeType)){if(a[1])return S(i.getElementsByTagName(t),r);if(a[2]&&h.find.CLASS&&i.getElementsByClassName)return S(i.getElementsByClassName(a[2]),r)}if(9===i.nodeType){if("body"===t&&i.body)return S([i.body],r);if(a&&a[3]){var s=i.getElementById(a[3]);if(!s||!s.parentNode)return S([],r);if(s.id===a[3])return S([s],r)}try{return S(i.querySelectorAll(t),r)}catch(u){}}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var l=i,c=i.getAttribute("id"),d=c||n,f=i.parentNode,g=/^\s*[+~]/.test(t);c?d=d.replace(/'/g,"\\$&"):i.setAttribute("id",d),g&&f&&(i=i.parentNode);try{if(!g||f)return S(i.querySelectorAll("[id='"+d+"'] "+t),r)}catch(v){}finally{c||l.removeAttribute("id")}}}return e(t,i,r,o)},e)p[i]=e[i];t=null}}(),function(){var e=j.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(j.createElement("div"),"div"),i=!1;try{t.call(j.documentElement,"[test!='']:sizzle")}catch(N){i=!0}p.matchesSelector=function(e,r){if(r=r.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!p.isXML(e))try{if(i||!h.match.PSEUDO.test(r)&&!/!=/.test(r)){var o=t.call(e,r);if(o||!n||e.document&&11!==e.document.nodeType)return o}}catch(a){}return p(r,null,null,[e]).length>0}}}(),function(){var e=j.createElement("div");if(e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length){if(e.lastChild.className="e",1===e.getElementsByClassName("e").length)return;h.order.splice(1,0,"CLASS"),h.find.CLASS=function(e,t,n){if("undefined"!=typeof t.getElementsByClassName&&!n)return t.getElementsByClassName(e[1])},e=null}}(),j.documentElement.contains?p.contains=function(e,t){return e!==t&&(!e.contains||e.contains(t))}:j.documentElement.compareDocumentPosition?p.contains=function(e,t){return!!(16&e.compareDocumentPosition(t))}:p.contains=function(){return!1},p.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return!!t&&"HTML"!==t.nodeName};var k=function(e,t,n){for(var i,r=[],o="",a=t.nodeType?[t]:t;i=h.match.PSEUDO.exec(e);)o+=i[0],e=e.replace(h.match.PSEUDO,"");e=h.relative[e]?e+"*":e;for(var s=0,l=a.length;s<l;s++)p(e,a[s],r,n);return p.filter(o,r)};p.attr=N.attr,p.selectors.attrMap={},N.find=p,N.expr=p.selectors,N.expr[":"]=N.expr.filters,N.unique=p.uniqueSort,N.text=p.getText,N.isXMLDoc=p.isXML,N.contains=p.contains}();var se=/Until$/,le=/^(?:parents|prevUntil|prevAll)/,ue=/,/,ce=/^.[^:#\[\.,]*$/,de=Array.prototype.slice,pe=N.expr.match.POS,fe={children:!0,contents:!0,next:!0,prev:!0};N.fn.extend({find:function(e){var t,n,i=this;if("string"!=typeof e)return N(e).filter(function(){for(t=0,n=i.length;t<n;t++)if(N.contains(i[t],this))return!0});var r,o,a,s=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++)if(r=s.length,N.find(e,this[t],s),t>0)for(o=r;o<s.length;o++)for(a=0;a<r;a++)if(s[a]===s[o]){s.splice(o--,1);break}return s},has:function(e){var t=N(e);return this.filter(function(){for(var e=0,n=t.length;e<n;e++)if(N.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(S(this,e,!1),"not",e)},filter:function(e){return this.pushStack(S(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?pe.test(e)?N(e,this.context).index(this[0])>=0:N.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,i,r=[],o=this[0];if(N.isArray(e)){for(var a=1;o&&o.ownerDocument&&o!==t;){for(n=0;n<e.length;n++)N(o).is(e[n])&&r.push({selector:e[n],elem:o,level:a});o=o.parentNode,a++}return r}var s=pe.test(e)||"string"!=typeof e?N(e,t||this.context):0;for(n=0,i=this.length;n<i;n++)for(o=this[n];o;){if(s?s.index(o)>-1:N.find.matchesSelector(o,e)){r.push(o);break}if(!(o=o.parentNode)||!o.ownerDocument||o===t||11===o.nodeType)break}return r=r.length>1?N.unique(r):r,this.pushStack(r,"closest",e)},index:function(e){return e?"string"==typeof e?N.inArray(this[0],N(e)):N.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?N(e,t):N.makeArray(e&&e.nodeType?[e]:e),i=N.merge(this.get(),n);return this.pushStack(k(n[0])||k(i[0])?i:N.unique(i))},andSelf:function(){return this.add(this.prevObject)}}),N.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return N.dir(e,"parentNode")},parentsUntil:function(e,t,n){return N.dir(e,"parentNode",n)},next:function(e){return N.nth(e,2,"nextSibling")},prev:function(e){return N.nth(e,2,"previousSibling")},nextAll:function(e){return N.dir(e,"nextSibling")},prevAll:function(e){return N.dir(e,"previousSibling")},nextUntil:function(e,t,n){return N.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return N.dir(e,"previousSibling",n)},siblings:function(e){return N.sibling(e.parentNode.firstChild,e)},children:function(e){return N.sibling(e.firstChild)},contents:function(e){return N.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:N.makeArray(e.childNodes)}},function(e,t){N.fn[e]=function(n,i){var r=N.map(this,t,n),o=de.call(arguments);return se.test(e)||(i=n),i&&"string"==typeof i&&(r=N.filter(i,r)),r=this.length>1&&!fe[e]?N.unique(r):r,(this.length>1||ue.test(i))&&le.test(e)&&(r=r.reverse()),this.pushStack(r,e,o.join(","))}}),N.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?N.find.matchesSelector(t[0],e)?[t[0]]:[]:N.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!N(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},nth:function(e,t,n){t=t||1;for(var i=0;e&&(1!==e.nodeType||++i!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var he="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",ge=/ jQuery\d+="(?:\d+|null)"/g,me=/^\s+/,ve=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,_e=/<([\w:]+)/,ye=/<tbody/i,be=/<|&#?\w+;/,we=/<(?:script|style)/i,xe=/<(?:script|object|embed|option|style)/i,Ce=new RegExp("<(?:"+he.replace(" ","|")+")","i"),Se=/checked\s*(?:[^=]|=\s*.checked.)/i,ke=/\/(java|ecma)script/i,Ae=/^\s*<!(?:\[CDATA\[|\-\-)/,Ee={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},$e=C(j);Ee.optgroup=Ee.option,Ee.tbody=Ee.tfoot=Ee.colgroup=Ee.caption=Ee.thead,Ee.th=Ee.td,N.support.htmlSerialize||(Ee._default=[1,"div<div>","</div>"]),N.fn.extend({text:function(e){return N.isFunction(e)?this.each(function(t){var n=N(this);n.text(e.call(this,t,n.text()))}):"object"!=typeof e&&e!==t?this.empty().append((this[0]&&this[0].ownerDocument||j).createTextNode(e)):N.text(this)},wrapAll:function(e){if(N.isFunction(e))return this.each(function(t){N(this).wrapAll(e.call(this,t))});if(this[0]){var t=N(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return N.isFunction(e)?this.each(function(t){N(this).wrapInner(e.call(this,t))}):this.each(function(){var t=N(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){return this.each(function(){N(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){N.nodeName(this,"body")||N(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=N(arguments[0]);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,N(arguments[0]).toArray()),e}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)e&&!N.filter(e,[n]).length||(!t&&1===n.nodeType&&(N.cleanData(n.getElementsByTagName("*")),N.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&N.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return N.clone(this,e,t)})},html:function(e){if(e===t)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(ge,""):null;if("string"!=typeof e||we.test(e)||!N.support.leadingWhitespace&&me.test(e)||Ee[(_e.exec(e)||["",""])[1].toLowerCase()])N.isFunction(e)?this.each(function(t){var n=N(this);n.html(e.call(this,t,n.html()))}):this.empty().append(e);else{e=e.replace(ve,"<$1></$2>");try{for(var n=0,i=this.length;n<i;n++)1===this[n].nodeType&&(N.cleanData(this[n].getElementsByTagName("*")),this[n].innerHTML=e)}catch(B){this.empty().append(e)}}return this},replaceWith:function(e){return this[0]&&this[0].parentNode?N.isFunction(e)?this.each(function(t){var n=N(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=N(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;N(this).remove(),t?N(t).before(e):N(n).append(e)})):this.length?this.pushStack(N(N.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){var r,o,a,s,l=e[0],u=[];if(!N.support.checkClone&&3===arguments.length&&"string"==typeof l&&Se.test(l))return this.each(function(){N(this).domManip(e,n,i,!0)});if(N.isFunction(l))return this.each(function(r){var o=N(this);e[0]=l.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(s=l&&l.parentNode,o=1===(a=(r=N.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:N.buildFragment(e,this,u)).fragment).childNodes.length?a=a.firstChild:a.firstChild){n=n&&N.nodeName(o,"tr");for(var c=0,d=this.length,p=d-1;c<d;c++)i.call(n?x(this[c],o):this[c],r.cacheable||d>1&&c<p?N.clone(a,!0,!0):a)}u.length&&N.each(u,m)}return this}}),N.buildFragment=function(e,t,n){var i,r,o,a,s=e[0];return t&&t[0]&&(a=t[0].ownerDocument||t[0]),a.createDocumentFragment||(a=j),1===e.length&&"string"==typeof s&&s.length<512&&a===j&&"<"===s.charAt(0)&&!xe.test(s)&&(N.support.checkClone||!Se.test(s))&&!N.support.unknownElems&&Ce.test(s)&&(r=!0,(o=N.fragments[s])&&1!==o&&(i=o)),i||(i=a.createDocumentFragment(),N.clean(e,a,i,n)),r&&(N.fragments[s]=o?i:1),{fragment:i,cacheable:r}},N.fragments={},N.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){N.fn[e]=function(n){var i=[],r=N(n),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===r.length)return r[t](this[0]),this;for(var a=0,s=r.length;a<s;a++){var l=(a>0?this.clone(!0):this).get();N(r[a])[t](l),i=i.concat(l)}return this.pushStack(i,e,r.selector)}}),N.extend({clone:function(e,t,n){var i,r,o,a=e.cloneNode(!0);if(!(N.support.noCloneEvent&&N.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||N.isXMLDoc(e)))for(b(e,a),i=y(e),r=y(a),o=0;i[o];++o)r[o]&&b(i[o],r[o]);if(t&&(w(e,a),n))for(i=y(e),r=y(a),o=0;i[o];++o)w(i[o],r[o]);return i=r=null,a},clean:function(e,t,n,i){var r;"undefined"==typeof(t=t||j).createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||j);for(var o,a,s=[],l=0;null!=(a=e[l]);l++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(be.test(a)){a=a.replace(ve,"<$1></$2>");var u=(_e.exec(a)||["",""])[1].toLowerCase(),c=Ee[u]||Ee._default,d=c[0],p=t.createElement("div");for(t===j?$e.appendChild(p):C(t).appendChild(p),p.innerHTML=c[1]+a+c[2];d--;)p=p.lastChild;if(!N.support.tbody){var f=ye.test(a),h="table"!==u||f?"<table>"!==c[1]||f?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes;for(o=h.length-1;o>=0;--o)N.nodeName(h[o],"tbody")&&!h[o].childNodes.length&&h[o].parentNode.removeChild(h[o])}!N.support.leadingWhitespace&&me.test(a)&&p.insertBefore(t.createTextNode(me.exec(a)[0]),p.firstChild),a=p.childNodes}else a=t.createTextNode(a);var g;if(!N.support.appendChecked)if(a[0]&&"number"==typeof(g=a.length))for(o=0;o<g;o++)v(a[o]);else v(a);a.nodeType?s.push(a):s=N.merge(s,a)}if(n)for(r=function(e){return!e.type||ke.test(e.type)},l=0;s[l];l++)if(!i||!N.nodeName(s[l],"script")||s[l].type&&"text/javascript"!==s[l].type.toLowerCase()){if(1===s[l].nodeType){var m=N.grep(s[l].getElementsByTagName("script"),r);s.splice.apply(s,[l+1,0].concat(m))}n.appendChild(s[l])}else i.push(s[l].parentNode?s[l].parentNode.removeChild(s[l]):s[l]);return s},cleanData:function(e){for(var t,n,i,r=N.cache,o=N.event.special,a=N.support.deleteExpando,s=0;null!=(i=e[s]);s++)if((!i.nodeName||!N.noData[i.nodeName.toLowerCase()])&&(n=i[N.expando])){if((t=r[n])&&t.events){for(var l in t.events)o[l]?N.event.remove(i,l):N.removeEvent(i,l,t.handle);t.handle&&(t.handle.elem=null)}a?delete i[N.expando]:i.removeAttribute&&i.removeAttribute(N.expando),delete r[n]}}});var De,Oe,Te,je=/alpha\([^)]*\)/i,Fe=/opacity=([^)]*)/,Be=/([A-Z]|^ms)/g,Ne=/^-?\d+(?:px)?$/i,Le=/^-?\d/,Me=/^([\-+])=([\-+.\de]+)/,Ie={position:"absolute",visibility:"hidden",display:"block"},Pe=["Left","Right"],He=["Top","Bottom"];N.fn.css=function(e,n){return 2===arguments.length&&n===t?this:N.access(this,e,n,!0,function(e,n,i){return i!==t?N.style(e,n,i):N.css(e,n)})},N.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=De(e,"opacity","opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":N.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s=N.camelCase(n),l=e.style,u=N.cssHooks[s];if(n=N.cssProps[s]||s,i===t)return u&&"get"in u&&(o=u.get(e,!1,r))!==t?o:l[n];if("string"===(a=typeof i)&&(o=Me.exec(i))&&(i=+(o[1]+1)*+o[2]+parseFloat(N.css(e,n)),a="number"),null==i||"number"===a&&isNaN(i))return;if("number"===a&&!N.cssNumber[s]&&(i+="px"),!(u&&"set"in u&&(i=u.set(e,i))===t))try{l[n]=i}catch(O){}}},css:function(e,n,i){var r,o;return n=N.camelCase(n),o=N.cssHooks[n],"cssFloat"===(n=N.cssProps[n]||n)&&(n="float"),o&&"get"in o&&(r=o.get(e,!0,i))!==t?r:De?De(e,n):void 0},swap:function(e,t,n){var i={};for(var r in t)i[r]=e.style[r],e.style[r]=t[r];for(r in n.call(e),t)e.style[r]=i[r]}}),N.curCSS=N.css,N.each(["height","width"],function(e,t){N.cssHooks[t]={get:function(e,n,i){var r;if(n)return 0!==e.offsetWidth?g(e,t,i):(N.swap(e,Ie,function(){r=g(e,t,i)}),r)},set:function(e,t){return Ne.test(t)?(t=parseFloat(t))>=0?t+"px":void 0:t}}}),N.support.opacity||(N.cssHooks.opacity={get:function(e,t){return Fe.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=N.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===N.trim(o.replace(je,""))&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=je.test(o)?o.replace(je,r):o+" "+r)}}),N(function(){N.support.reliableMarginRight||(N.cssHooks.marginRight={get:function(e,t){var n;return N.swap(e,{display:"inline-block"},function(){n=t?De(e,"margin-right","marginRight"):e.style.marginRight}),n}})}),j.defaultView&&j.defaultView.getComputedStyle&&(Oe=function(e,n){var i,r,o;return n=n.replace(Be,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)?((o=r.getComputedStyle(e,null))&&(""===(i=o.getPropertyValue(n))&&!N.contains(e.ownerDocument.documentElement,e)&&(i=N.style(e,n))),i):t}),j.documentElement.currentStyle&&(Te=function(e,t){var n,i,r,o=e.currentStyle&&e.currentStyle[t],a=e.style;return null===o&&a&&(r=a[t])&&(o=r),!Ne.test(o)&&Le.test(o)&&(n=a.left,(i=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o||0,o=a.pixelLeft+"px",a.left=n,i&&(e.runtimeStyle.left=i)),""===o?"auto":o}),De=Oe||Te,N.expr&&N.expr.filters&&(N.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!N.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||N.css(e,"display"))},N.expr.filters.visible=function(e){return!N.expr.filters.hidden(e)});var Re,ze,qe=/%20/g,Ue=/\[\]$/,We=/\r?\n/g,Ve=/#.*$/,Je=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Xe=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ge=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Qe=/^(?:GET|HEAD)$/,Ye=/^\/\//,Ke=/\?/,Ze=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,et=/^(?:select|textarea)/i,tt=/\s+/,nt=/([?&])_=[^&]*/,it=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,rt=N.fn.load,ot={},at={},st=["*/"]+["*"];try{Re=B.href}catch(St){(Re=j.createElement("a")).href="",Re=Re.href}ze=it.exec(Re.toLowerCase())||[],N.fn.extend({load:function(e,n,i){if("string"!=typeof e&&rt)return rt.apply(this,arguments);if(!this.length)return this;var r=e.indexOf(" ");if(r>=0){var o=e.slice(r,e.length);e=e.slice(0,r)}var a="GET";n&&(N.isFunction(n)?(i=n,n=t):"object"==typeof n&&(n=N.param(n,N.ajaxSettings.traditional),a="POST"));var s=this;return N.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),s.html(o?N("<div>").append(n.replace(Ze,"")).find(o):n)),i&&s.each(i,[n,t,e])}}),this},serialize:function(){return N.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?N.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||et.test(this.nodeName)||Xe.test(this.type))}).map(function(e,t){var n=N(this).val();return null==n?null:N.isArray(n)?N.map(n,function(e){return{name:t.name,value:e.replace(We,"\r\n")}}):{name:t.name,value:n.replace(We,"\r\n")}}).get()}}),N.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){N.fn[t]=function(e){return this.bind(t,e)}}),N.each(["get","post"],function(e,n){N[n]=function(e,i,r,o){return N.isFunction(i)&&(o=o||r,r=i,i=t),N.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),N.extend({getScript:function(e,n){return N.get(e,t,n,"script")},getJSON:function(e,t,n){return N.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?p(e,N.ajaxSettings):(t=e,e=N.ajaxSettings),p(e,t),e},ajaxSettings:{url:Re,isLocal:Ge.test(ze[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":st},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":N.parseJSON,"text xml":N.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:h(ot),ajaxTransport:h(at),ajax:function(e,n){function i(e,n,i,a){if(2!==C){C=2,l&&clearTimeout(l),s=t,o=a||"",S.readyState=e>0?4:0;var d,f,h,w,x,k=n,A=i?c(g,S,i):t;if(e>=200&&e<300||304===e)if(g.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(N.lastModified[r]=w),(x=S.getResponseHeader("Etag"))&&(N.etag[r]=x)),304===e)k="notmodified",d=!0;else try{f=u(g,A),k="success",d=!0}catch(K){k="parsererror",h=K}else h=k,k&&!e||(k="error",e<0&&(e=0));S.status=e,S.statusText=""+(n||k),d?_.resolveWith(m,[f,k,S]):_.rejectWith(m,[S,k,h]),S.statusCode(b),b=t,p&&v.trigger("ajax"+(d?"Success":"Error"),[S,g,d?f:h]),y.fireWith(m,[S,k]),p&&(v.trigger("ajaxComplete",[S,g]),--N.active||N.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,a,s,l,d,p,h,g=N.ajaxSetup({},n),m=g.context||g,v=m!==g&&(m.nodeType||m instanceof N)?N(m):N.event,_=N.Deferred(),y=N.Callbacks("once memory"),b=g.statusCode||{},w={},x={},C=0,S={readyState:0,setRequestHeader:function(e,t){if(!C){var n=e.toLowerCase();e=x[n]=x[n]||e,w[e]=t}return this},getAllResponseHeaders:function(){return 2===C?o:null},getResponseHeader:function(e){var n;if(2===C){if(!a)for(a={};n=Je.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return C||(g.mimeType=e),this},abort:function(e){return e=e||"abort",s&&s.abort(e),i(0,e),this}};if(_.promise(S),S.success=S.done,S.error=S.fail,S.complete=y.add,S.statusCode=function(e){var t;if(e)if(C<2)for(t in e)b[t]=[b[t],e[t]];else t=e[S.status],S.then(t,t);return this},g.url=((e||g.url)+"").replace(Ve,"").replace(Ye,ze[1]+"//"),g.dataTypes=N.trim(g.dataType||"*").toLowerCase().split(tt),null==g.crossDomain&&(d=it.exec(g.url.toLowerCase()),g.crossDomain=!(!d||d[1]==ze[1]&&d[2]==ze[2]&&(d[3]||("http:"===d[1]?80:443))==(ze[3]||("http:"===ze[1]?80:443)))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=N.param(g.data,g.traditional)),f(ot,g,n,S),2===C)return!1;if(p=g.global,g.type=g.type.toUpperCase(),g.hasContent=!Qe.test(g.type),p&&0==N.active++&&N.event.trigger("ajaxStart"),!g.hasContent&&(g.data&&(g.url+=(Ke.test(g.url)?"&":"?")+g.data,delete g.data),r=g.url,!1===g.cache)){var k=N.now(),A=g.url.replace(nt,"$1_="+k);g.url=A+(A===g.url?(Ke.test(g.url)?"&":"?")+"_="+k:"")}for(h in(g.data&&g.hasContent&&!1!==g.contentType||n.contentType)&&S.setRequestHeader("Content-Type",g.contentType),g.ifModified&&(r=r||g.url,N.lastModified[r]&&S.setRequestHeader("If-Modified-Since",N.lastModified[r]),N.etag[r]&&S.setRequestHeader("If-None-Match",N.etag[r])),S.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+st+"; q=0.01":""):g.accepts["*"]),g.headers)S.setRequestHeader(h,g.headers[h]);if(g.beforeSend&&(!1===g.beforeSend.call(m,S,g)||2===C))return S.abort(),!1;for(h in{success:1,error:1,complete:1})S[h](g[h]);if(s=f(at,g,n,S)){S.readyState=1,p&&v.trigger("ajaxSend",[S,g]),g.async&&g.timeout>0&&(l=setTimeout(function(){S.abort("timeout")},g.timeout));try{C=1,s.send(w,i)}catch(Y){C<2?i(-1,Y):N.error(Y)}}else i(-1,"No Transport");return S},param:function(e,n){var i=[],r=function(e,t){t=N.isFunction(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=N.ajaxSettings.traditional),N.isArray(e)||e.jquery&&!N.isPlainObject(e))N.each(e,function(){r(this.name,this.value)});else for(var o in e)d(o,e[o],n,r);return i.join("&").replace(qe,"+")}}),N.extend({active:0,lastModified:{},etag:{}});var lt=N.now(),ut=/(\=)\?(&|$)|\?\?/i;N.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return N.expando+"_"+lt++}}),N.ajaxPrefilter("json jsonp",function(t,n,i){var r="application/x-www-form-urlencoded"===t.contentType&&"string"==typeof t.data;if("jsonp"===t.dataTypes[0]||!1!==t.jsonp&&(ut.test(t.url)||r&&ut.test(t.data))){var o,a=t.jsonpCallback=N.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s=e[a],l=t.url,u=t.data,c="$1"+a+"$2";return!1!==t.jsonp&&(l=l.replace(ut,c),t.url===l&&(r&&(u=u.replace(ut,c)),t.data===u&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+a))),t.url=l,t.data=u,e[a]=function(e){o=[e]},i.always(function(){e[a]=s,o&&N.isFunction(s)&&e[a](o[0])}),t.converters["script json"]=function(){return o||N.error(a+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),N.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return N.globalEval(e),e}}}),N.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),N.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=j.head||j.getElementsByTagName("head")[0]||j.documentElement;return{send:function(r,o){(n=j.createElement("script")).async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var ct,dt,pt=!!e.ActiveXObject&&function(){for(var e in ct)ct[e](0,1)},ft=0;N.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&l()||s()}:l,dt=N.ajaxSettings.xhr(),N.extend(N.support,{ajax:!!dt,cors:!!dt&&"withCredentials"in dt}),N.support.ajax&&N.ajaxTransport(function(n){var i;if(!n.crossDomain||N.support.cors)return{send:function(r,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),!n.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(P){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,u,c,d,p;try{if(i&&(r||4===l.readyState))if(i=t,a&&(l.onreadystatechange=N.noop,pt&&delete ct[a]),r)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),d={},(p=l.responseXML)&&p.documentElement&&(d.xml=p),d.text=l.responseText;try{u=l.statusText}catch(q){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(U){r||o(-1,U)}d&&o(s,u,d,c)},n.async&&4!==l.readyState?(a=++ft,pt&&(ct||(ct={},N(e).unload(pt)),ct[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}});var ht,gt,mt,vt,_t={},yt=/^(?:toggle|show|hide)$/,bt=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wt=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];N.fn.extend({show:function(e,t,n){var o,a;if(e||0===e)return this.animate(r("show",3),e,t,n);for(var s=0,l=this.length;s<l;s++)(o=this[s]).style&&(a=o.style.display,!N._data(o,"olddisplay")&&"none"===a&&(a=o.style.display=""),""===a&&"none"===N.css(o,"display")&&N._data(o,"olddisplay",i(o.nodeName)));for(s=0;s<l;s++)(o=this[s]).style&&(""!==(a=o.style.display)&&"none"!==a||(o.style.display=N._data(o,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(r("hide",3),e,t,n);for(var i,o,a=0,s=this.length;a<s;a++)(i=this[a]).style&&("none"!==(o=N.css(i,"display"))&&!N._data(i,"olddisplay")&&N._data(i,"olddisplay",o));for(a=0;a<s;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:N.fn.toggle,toggle:function(e,t,n){var i="boolean"==typeof e;return N.isFunction(e)&&N.isFunction(t)?this._toggle.apply(this,arguments):null==e||i?this.each(function(){var t=i?e:N(this).is(":hidden");N(this)[t?"show":"hide"]()}):this.animate(r("toggle",3),e,t,n),this},fadeTo:function(e,t,n,i){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,r){function o(){!1===a.queue&&N._mark(this);var t,n,r,o,s,l,u,c,d,p=N.extend({},a),f=1===this.nodeType,h=f&&N(this).is(":hidden");for(r in p.animatedProperties={},e){if(r!==(t=N.camelCase(r))&&(e[t]=e[r],delete e[r]),n=e[t],N.isArray(n)?(p.animatedProperties[t]=n[1],n=e[t]=n[0]):p.animatedProperties[t]=p.specialEasing&&p.specialEasing[t]||p.easing||"swing","hide"===n&&h||"show"===n&&!h)return p.complete.call(this);f&&("height"===t||"width"===t)&&(p.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===N.css(this,"display")&&"none"===N.css(this,"float")&&(N.support.inlineBlockNeedsLayout&&"inline"!==i(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}for(r in null!=p.overflow&&(this.style.overflow="hidden"),e)o=new N.fx(this,p,r),n=e[r],yt.test(n)?(d=N._data(this,"toggle"+r)||("toggle"===n?h?"show":"hide":0))?(N._data(this,"toggle"+r,"show"===d?"hide":"show"),o[d]()):o[n]():(s=bt.exec(n),l=o.cur(),s?(u=parseFloat(s[2]),"px"!==(c=s[3]||(N.cssNumber[r]?"":"px"))&&(N.style(this,r,(u||1)+c),l=(u||1)/o.cur()*l,N.style(this,r,l+c)),s[1]&&(u=("-="===s[1]?-1:1)*u+l),o.custom(l,u,c)):o.custom(l,n,""));return!0}var a=N.speed(t,n,r);return N.isEmptyObject(e)?this.each(a.complete,[!1]):(e=N.extend({},e),!1===a.queue?this.each(o):this.queue(a.queue,o))},stop:function(e,n,i){return"string"!=typeof e&&(i=n,n=e,e=t),n&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var r=t[n];N.removeData(e,n,!0),r.stop(i)}var n,r=!1,o=N.timers,a=N._data(this);if(i||N._unmark(!0,this),null==e)for(n in a)a[n].stop&&n.indexOf(".run")===n.length-4&&t(this,a,n);else a[n=e+".run"]&&a[n].stop&&t(this,a,n);for(n=o.length;n--;)o[n].elem===this&&(null==e||o[n].queue===e)&&(i?o[n](!0):o[n].saveState(),r=!0,o.splice(n,1));(!i||!r)&&N.dequeue(this,e)})}}),N.each({slideDown:r("show",1),slideUp:r("hide",1),slideToggle:r("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){N.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),N.extend({speed:function(e,t,n){var i=e&&"object"==typeof e?N.extend({},e):{complete:n||!n&&t||N.isFunction(e)&&e,duration:e,easing:n&&t||t&&!N.isFunction(t)&&t};return i.duration=N.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in N.fx.speeds?N.fx.speeds[i.duration]:N.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(e){N.isFunction(i.old)&&i.old.call(this),i.queue?N.dequeue(this,i.queue):!1!==e&&N._unmark(this)},i},easing:{linear:function(e,t,n,i){return n+i*e},swing:function(e,t,n,i){return(-Math.cos(e*Math.PI)/2+.5)*i+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),N.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(N.fx.step[this.prop]||N.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=N.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,n,i){function r(e){return o.step(e)}var o=this,s=N.fx;this.startTime=vt||a(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=i||this.unit||(N.cssNumber[this.prop]?"":"px"),r.queue=this.options.queue,r.elem=this.elem,r.saveState=function(){o.options.hide&&N._data(o.elem,"fxshow"+o.prop)===t&&N._data(o.elem,"fxshow"+o.prop,o.start)},r()&&N.timers.push(r)&&!mt&&(mt=setInterval(s.tick,s.interval))},show:function(){var e=N._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||N.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),N(this.elem).show()},hide:function(){this.options.orig[this.prop]=N._data(this.elem,"fxshow"+this.prop)||N.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,i,r=vt||a(),o=!0,s=this.elem,l=this.options;if(e||r>=l.duration+this.startTime){for(t in this.now=this.end,this.pos=this.state=1,this.update(),l.animatedProperties[this.prop]=!0,l.animatedProperties)!0!==l.animatedProperties[t]&&(o=!1);if(o){
if(null!=l.overflow&&!N.support.shrinkWrapBlocks&&N.each(["","X","Y"],function(e,t){s.style["overflow"+t]=l.overflow[e]}),l.hide&&N(s).hide(),l.hide||l.show)for(t in l.animatedProperties)N.style(s,t,l.orig[t]),N.removeData(s,"fxshow"+t,!0),N.removeData(s,"toggle"+t,!0);(i=l.complete)&&(l.complete=!1,i.call(s))}return!1}return l.duration==Infinity?this.now=r:(n=r-this.startTime,this.state=n/l.duration,this.pos=N.easing[l.animatedProperties[this.prop]](this.state,n,0,1,l.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},N.extend(N.fx,{tick:function(){for(var e,t=N.timers,n=0;n<t.length;n++)!(e=t[n])()&&t[n]===e&&t.splice(n--,1);t.length||N.fx.stop()},interval:13,stop:function(){clearInterval(mt),mt=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){N.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),N.each(["width","height"],function(e,t){N.fx.step[t]=function(e){N.style(e.elem,t,Math.max(0,e.now))}}),N.expr&&N.expr.filters&&(N.expr.filters.animated=function(e){return N.grep(N.timers,function(t){return e===t.elem}).length});var xt=/^t(?:able|d|h)$/i,Ct=/^(?:body|html)$/i;"getBoundingClientRect"in j.documentElement?N.fn.offset=function(e){var t,i=this[0];if(e)return this.each(function(t){N.offset.setOffset(this,e,t)});if(!i||!i.ownerDocument)return null;if(i===i.ownerDocument.body)return N.offset.bodyOffset(i);try{t=i.getBoundingClientRect()}catch(F){}var r=i.ownerDocument,o=r.documentElement;if(!t||!N.contains(o,i))return t?{top:t.top,left:t.left}:{top:0,left:0};var a=r.body,s=n(r),l=o.clientTop||a.clientTop||0,u=o.clientLeft||a.clientLeft||0,c=s.pageYOffset||N.support.boxModel&&o.scrollTop||a.scrollTop,d=s.pageXOffset||N.support.boxModel&&o.scrollLeft||a.scrollLeft;return{top:t.top+c-l,left:t.left+d-u}}:N.fn.offset=function(e){var t=this[0];if(e)return this.each(function(t){N.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return N.offset.bodyOffset(t);for(var n,i=t.offsetParent,r=t.ownerDocument,o=r.documentElement,a=r.body,s=r.defaultView,l=s?s.getComputedStyle(t,null):t.currentStyle,u=t.offsetTop,c=t.offsetLeft;(t=t.parentNode)&&t!==a&&t!==o&&(!N.support.fixedPosition||"fixed"!==l.position);)n=s?s.getComputedStyle(t,null):t.currentStyle,u-=t.scrollTop,c-=t.scrollLeft,t===i&&(u+=t.offsetTop,c+=t.offsetLeft,N.support.doesNotAddBorder&&(!N.support.doesAddBorderForTableAndCells||!xt.test(t.nodeName))&&(u+=parseFloat(n.borderTopWidth)||0,c+=parseFloat(n.borderLeftWidth)||0),i,i=t.offsetParent),N.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(u+=parseFloat(n.borderTopWidth)||0,c+=parseFloat(n.borderLeftWidth)||0),l=n;return"relative"!==l.position&&"static"!==l.position||(u+=a.offsetTop,c+=a.offsetLeft),N.support.fixedPosition&&"fixed"===l.position&&(u+=Math.max(o.scrollTop,a.scrollTop),c+=Math.max(o.scrollLeft,a.scrollLeft)),{top:u,left:c}},N.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return N.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(N.css(e,"marginTop"))||0,n+=parseFloat(N.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=N.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,a=N(e),s=a.offset(),l=N.css(e,"top"),u=N.css(e,"left"),c={},d={};("absolute"===i||"fixed"===i)&&N.inArray("auto",[l,u])>-1?(r=(d=a.position()).top,o=d.left):(r=parseFloat(l)||0,o=parseFloat(u)||0),N.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(c.top=t.top-s.top+r),null!=t.left&&(c.left=t.left-s.left+o),"using"in t?t.using.call(e,c):a.css(c)}},N.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),i=Ct.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(N.css(e,"marginTop"))||0,n.left-=parseFloat(N.css(e,"marginLeft"))||0,i.top+=parseFloat(N.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(N.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||j.body;e&&!Ct.test(e.nodeName)&&"static"===N.css(e,"position");)e=e.offsetParent;return e})}}),N.each(["Left","Top"],function(e,i){var r="scroll"+i;N.fn[r]=function(i){var o,a;return i===t?(o=this[0])?(a=n(o))?"pageXOffset"in a?a[e?"pageYOffset":"pageXOffset"]:N.support.boxModel&&a.document.documentElement[r]||a.document.body[r]:o[r]:null:this.each(function(){(a=n(this))?a.scrollTo(e?N(a).scrollLeft():i,e?i:N(a).scrollTop()):this[r]=i})}}),N.each(["Height","Width"],function(e,n){var i=n.toLowerCase();N.fn["inner"+n]=function(){var e=this[0];return e?e.style?parseFloat(N.css(e,i,"padding")):this[i]():null},N.fn["outer"+n]=function(e){var t=this[0];return t?t.style?parseFloat(N.css(t,i,e?"margin":"border")):this[i]():null},N.fn[i]=function(e){var r=this[0];if(!r)return null==e?null:this;if(N.isFunction(e))return this.each(function(t){var n=N(this);n[i](e.call(this,t,n[i]()))});if(N.isWindow(r)){var o=r.document.documentElement["client"+n],a=r.document.body;return"CSS1Compat"===r.document.compatMode&&o||a&&a["client"+n]||o}if(9===r.nodeType)return Math.max(r.documentElement["client"+n],r.body["scroll"+n],r.documentElement["scroll"+n],r.body["offset"+n],r.documentElement["offset"+n]);if(e===t){var s=N.css(r,i),l=parseFloat(s);return N.isNumeric(l)?l:s}return this.css(i,"string"==typeof e?e:e+"px")}}),e.jQuery=e.$=N}(window),
/*
    Spinner provides a simple approach for adding and removing a preloader
    for your web applications. Usage is as simple as calling $('elem').spinner() and
    subsequently $('elem').spinner.remove(). You may create your own preloader
    at http://www.ajaxload.info. Please note that if you use a custom preloader,
    you must pass in the new height and width as options.
    
    Copyright (C) 2010 Corey Ballou
    Website: http://www.jqueryin.com
    Documentation: http://www.jqueryin.com/projects/spinner-jquery-preloader-plugin/

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License along
    with this program; if not, write to the Free Software Foundation, Inc.,
    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 */
function(e){e.fn.spinner=function(t){var n=e.extend({},e.fn.spinner.defaults,t);return this.each(function(){var i=0,r=0,o=0,a=0,s=0,l=e(this);if("remove"==t||"close"==t){var u=l.data("spinner"),c=l.data("opts");if(void 0!==u)return u.remove(),l.removeData("spinner").removeData("opts"),c.hide&&l.css("visibility","visible"),void c.onFinish.call(this)}var d=l.offset();o=l.outerWidth(),(a=l.outerHeight())>n.height?s=Math.round((a-n.height)/2):a<n.height&&(s=0-Math.round((n.height-a)/2)),r=d.top+s+"px",i="right"==n.position?d.left+o+10+"px":"left"==n.position?d.left-n.width-10+"px":d.left+Math.round(.5*o)-Math.round(.5*n.width)+"px",n.onStart.call(this),n.hide&&l.css("visibility","hidden"),u=e('<img src="'+n.img+'" style="position: absolute; left: '+i+"; top: "+r+"; width: "+n.width+"px; height: "+n.height+"px; z-index: "+n.zIndex+';" />').appendTo("body"),l.data("spinner",u).data("opts",n)})},e.fn.spinner.defaults={position:"right",img:"/assets/spinner.gif",height:16,width:16,zIndex:1001,hide:!1,onStart:function(){},onFinish:function(){}}}(jQuery),function(e,t){var n;e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not(button[type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),!1!==r.result},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},handleRemote:function(i){var r,o,a,s,l=i.data("cross-domain")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(n.fire(i,"ajax:before")){if(i.is("form")){r=i.attr("method"),o=i.attr("action"),a=i.serializeArray();var c=i.data("ujs:submit-button");c&&(a.push(c),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=i.attr("href"),a=i.data("params")||null);s={type:r||"GET",data:a,dataType:u,crossDomain:l,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])}},o&&(s.url=o),n.ajax(s)}},handleMethod:function(n){var i=n.attr("href"),r=n.data("method"),o=n.attr("target"),a=e("meta[name=csrf-token]").attr("content"),s=e("meta[name=csrf-param]").attr("content"),l=e('<form method="post" action="'+i+'"></form>'),u='<input name="_method" value="'+r+'" type="hidden" />';s!==t&&a!==t&&(u+='<input name="'+s+'" value="'+a+'" type="hidden" />'),o&&l.attr("target",o),l.hide().append(u).appendTo("body"),l.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return!i||(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t)},blankInputs:function(t,n,i){var r,o=e(),a=n||"input,textarea";return t.find(a).each(function(){r=e(this),(i?r.val():!r.val())&&(o=o.add(r))}),!!o.length&&o},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var r=n.data("events"),o=!0;return r!==t&&r.submit!==t&&e.each(r.submit,function(e,t){if("function"==typeof t.handler)return o=t.handler(i)}),o},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(n.linkDisableSelector).live("ajax:complete",function(){n.enableElement(e(this))}),e(n.linkClickSelector).live("click.rails",function(i){var r=e(this),o=r.data("method"),a=r.data("params");return n.allowAction(r)?(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t?!(!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||a)||(n.handleRemote(r),!1):r.data("method")?(n.handleMethod(r),!1):void 0):n.stopEverything(i)}),e(n.inputChangeSelector).live("change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),e(n.formSubmitSelector).live("submit.rails",function(i){var r=e(this),o=r.data("remote")!==t,a=n.blankInputs(r,n.requiredInputSelector),s=n.nonBlankInputs(r,n.fileInputSelector);return n.allowAction(r)?a&&r.attr("novalidate")==t&&n.fire(r,"ajax:aborted:required",[a])?n.stopEverything(i):o?s?n.fire(r,"ajax:aborted:file",[s]):!e.support.submitBubbles&&e().jquery<"1.7"&&!1===n.callFormSubmitBindings(r,i)?n.stopEverything(i):(n.handleRemote(r),!1):void setTimeout(function(){n.disableFormElements(r)},13):n.stopEverything(i)}),e(n.formInputClickSelector).live("click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),e(n.formSubmitSelector).live("ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),e(n.formSubmitSelector).live("ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))})}(jQuery),function(e,t,n){function i(e){var t={},i=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!i.test(n.name)&&(t[n.name]=n.value)}),t}function r(e,t){var i=this,r=n(i);if(i.value==r.attr("placeholder")&&r.hasClass("placeholder"))if(r.data("placeholder-password")){if(r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id")),!0===e)return r[0].value=t;r.focus()}else i.value="",r.removeClass("placeholder"),i==a()&&i.select()}function o(){var e,t=this,o=n(t),a=this.id;if(""==t.value){if("password"==t.type){if(!o.data("placeholder-textinput")){try{e=o.clone().attr({type:"text"})}catch(s){e=n("<input>").attr(n.extend(i(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":o,"placeholder-id":a}).bind("focus.placeholder",r),o.data({"placeholder-textinput":e,"placeholder-id":a}).before(e)}o=o.removeAttr("id").hide().prev().attr("id",a).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function a(){try{return t.activeElement}catch(e){}}var s,l,u="placeholder"in t.createElement("input"),c="placeholder"in t.createElement("textarea"),d=n.fn,p=n.valHooks,f=n.propHooks;u&&c?(l=d.placeholder=function(){return this}).input=l.textarea=!0:((l=d.placeholder=function(){var e=this;return e.filter((u?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":r,"blur.placeholder":o}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e}).input=u,l.textarea=c,s={get:function(e){var t=n(e),i=t.data("placeholder-password");return i?i[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var i=n(e),s=i.data("placeholder-password");return s?s[0].value=t:i.data("placeholder-enabled")?(""==t?(e.value=t,e!=a()&&o.call(e)):i.hasClass("placeholder")&&r.call(e,!0,t)||(e.value=t),i):e.value=t}},u||(p.input=s,f.value=s),c||(p.textarea=s,f.value=s),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(r);setTimeout(function(){e.each(o)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),JSON||(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;n<o;n+=1)a[n]=str(n,l)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(r=str(i=rep[n],l))&&a.push(quote(i)+(gap?": ":":")+r);else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l))&&a.push(quote(i)+(gap?": ":":")+r);return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&((i=walk(r,n))!==undefined?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){e.core=e.core||{},t.extend(e.core,{getElementsByClassName:function(e,t){if("undefined"!=typeof e.getElementsByClassName)return e.getElementsByClassName(t);for(var n=[],i=new RegExp("(^| )"+t+"( |$)"),r=e.getElementsByTagName("*"),o=0,a=r.length;o<a;o++)i.test(r[o].className)&&n.push(r[o]);return n},trim:function(e){return e.trim?null==e?"":e.trim():null==e?"":e.toString().replace(/^\s+/,"").replace(/\s+$/,"")},isMobile:function(){var e=window.navigator.userAgent;return/Mobile|webOS|BlackBerry|SymbianOS/i.test(e)&&!/iPad/i.test(e)},popupCenter:function(e,t,n,i){var r=screen.width/2-t/2,o=screen.height/2-n/2;return window.open(e,i,"menubar=0,toolbar=0,status=0,location=0,resizable=1,scrollbars=1,width="+t+",height="+n+",left="+r+",top="+o)},encode:function(e){return encodeURIComponent(e).replace("!","%21").replace("'","%27").replace("~","%7E").replace("(","%28").replace(")","%29").replace("-","%2D")}})}(window.OpinionStage=window.OpinionStage||{},OpinionStage.$||window.jQuery),function(e,t){e.core=e.core||{},t.extend(e.core,{getURLParam:function(e){if(0==document.location.search.length)return null;var t=e.toLowerCase(),n=document.location.search.substring(1).split("&");for(i=0;i<n.length;i++){var r=n[i].split("=");if(r.length>1&&r[0].toLowerCase()==t)return r[1]}return null},getUrlParams:function(){if(0==document.location.search.length)return[];var e=[],t=document.location.search.substring(1).split("&");for(i=0;i<t.length;i++){var n=t[i].split("=");n.length>1&&e.push({parameter:n[0],value:n[1]})}return e},addHashParam:function(e,t){var n=e,i=e.indexOf("#");return i>0&&(n=e.substring(0,i)),n+"#"+t},addURLParam:function(e,t,n){var i="",r=e,o="",a="",s=e.indexOf("#");s>0&&(i=e.substring(s,e.length),r=e.substring(0,s));var l=r.split("?");if(l.length>1)for(var u=l[1].split("&"),c=0;c<u.length;c++)(a=u[c].split("="))[0]!=t&&(""==o?o="?":o+="&",o+=a[0]+"="+(a[1]?a[1]:""));return""==o&&(o="?"),""!==o&&"?"!=o&&(o+="&"),o+=t+"="+(n||""),l[0]+o+i}})}(window.OpinionStage=window.OpinionStage||{},OpinionStage.$||window.jQuery),function(e){var t={fatal:0,error:1,warn:2,info:3,debug:4},n="OpinionStage:",i=t.warn;"1"===e.core.getURLParam("_os_dbg")&&(i=t.debug);var r={};"undefined"!=typeof console&&(r={fatal:console.error,error:console.error,warn:console.warn,info:console.log,debug:console.debug}),e.logger={debug:i>=t.debug&&"function"==typeof r.debug?Function.prototype.bind.call(r.debug,console,n):function(){},info:i>=t.info&&"function"==typeof r.info?Function.prototype.bind.call(r.info,console,n):function(){},warn:i>=t.warn&&"function"==typeof r.warn?Function.prototype.bind.call(r.warn,console,n):function(){},error:i>=t.error&&"function"==typeof r.error?Function.prototype.bind.call(r.error,console,n):function(){},fatal:i>=t.fatal&&"function"==typeof r.fatal?Function.prototype.bind.call(r.fatal,console,n):function(){}}}(window.OpinionStage=window.OpinionStage||{}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0===r)return-1;var o=+t||0;if(Math.abs(o)===Infinity&&(o=0),o>=r)return-1;for(n=Math.max(o>=0?o:r-Math.abs(o),0);n<r;){if(n in i&&i[n]===e)return n;n++}return-1}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),(window.OpinionStage=window.OpinionStage||{}).events={widgetLoaded:"widgetLoaded",heightChanged:"heightChanged",leadFormSubmitted:"leadFormSubmitted",fbLikeClicked:"fbLikeClicked",fbPageLikesShouldClose:"fbPageLikesShouldClose",startEngagementClicked:"startEngagementClicked",engagementEnded:"engagementEnded",selectionsFinished:"selectionsFinished",resultCalculated:"resultCalculated",cardOptionClicked:"cardOptionClicked",cardContinueClicked:"cardContinueClicked",cardEngagementEnded:"cardEngagementEnded",cardChanged:"cardChanged",retakeClicked:"retakeClicked",scrollRequired:"scrollRequired",cardAnimationCompleted:"cardAnimationCompleted",cardNextExplanationClicked:"cardNextExplanationClicked",textInputChanged:"textInputChanged",variableUpdated:"variableUpdated",closingCardPresented:"closingCardPresented",pollSetHeightChanged:"pollSetHeightChanged",voted:"pollVote",redirectRequired:"redirect",applyConfig:"applyConfiguration",startResizing:"startResizing",stopResizing:"stopResizing"},function(e,t){var n={protocol:"https://",host:"www.opinionstage.com",log:!1,moduleName:"Widget",hostWithProtocol:function(){return n.protocol+n.host}};e.config=e.config||{},t.extend(e.config,n)}(window.OpinionStage=window.OpinionStage||{},OpinionStage.$||window.jQuery),"undefined"!=typeof window.FacebookApi?console&&console.error&&console.error("window.FacebookApi is already defined, probably this file was included more than once"):window.FacebookApi=function(e){function t(){var t=e.Deferred();return e(function(){e.getScript("//connect.facebook.net/en_US/sdk.js").done(function(){t.resolve(FB)}).fail(function(e,n,i){t.reject(i)})}),t.promise()}var n=null,i=e.Deferred(),r=null,o=function(){n=t()};return o.prototype.setup=function(e){if(i.isResolved())throw new Error("facebook API was already initialized");if(e===undefined||null===e||e.appId===undefined)throw"provide appId in order to configure facebook SDK";return n.then(function(t){r=e.scope,t.init({appId:e.appId,version:"v2.9",cookie:!0,status:!0,oauth:!0,xfbml:!0}),i.resolve(t,r)}),i.promise()},o.prototype.ready=function(){return i.promise()},new o}(jQuery),$(function(){$.getJSON("/internal_api/facebook/credentials.json",function(e){FacebookApi.setup({appId:e.app_id,scope:e.scope})}).then(function(){})}),(window.OSSharer=window.OSSharer||{}).facebook={share:function(e){FacebookApi.ready().then(function(t){t.ui({method:"share",href:e.url,display:"popup",quote:e.description})})}},function(e){e.gplus=e.gplus||{},$.extend(e.gplus,{share:function(e){var t="https://plus.google.com/share?url="+encodeURIComponent(e.url);OpinionStage.core.popupCenter(t,640,300,"")}})}(window.OSSharer=window.OSSharer||{}),function(e){e.pinterest=e.pinterest||{},$.extend(e.pinterest,{share:function(e){var t="https://www.pinterest.com/pin/create/button?url="+encodeURIComponent(e.url)+"&description="+OpinionStage.core.encode(e.title);"undefined"!=typeof e.image&&null!=e.image&&""!=e.image&&(t=t+"&media="+e.image),OpinionStage.core.popupCenter(t,640,300,"")}})}(window.OSSharer=window.OSSharer||{}),function(e){e.reddit=e.reddit||{},$.extend(e.reddit,{share:function(e){var t="https://www.reddit.com/submit?url="+encodeURIComponent(e.url)+"&title="+OpinionStage.core.encode(e.title);OpinionStage.core.popupCenter(t,640,600,"")}})}(window.OSSharer=window.OSSharer||{}),function(e){e.tumblr=e.tumblr||{},$.extend(e.tumblr,{share:function(e){var t="https://www.tumblr.com/widgets/share/tool?posttype=link&title="+OpinionStage.core.encode(e.title)+"&url="+encodeURIComponent(e.url)+"&content="+encodeURIComponent(e.url);"undefined"!=typeof e.description&&null!=e.description&&""!=e.description&&(t=t+"&caption="+OpinionStage.core.encode(e.description)),OpinionStage.core.popupCenter(t,640,600,"")}})}(window.OSSharer=window.OSSharer||{}),function(){function e(e){var t="https://twitter.com/intent/tweet?text="+OpinionStage.core.encode(e.twitter_sharing_message)+"&url="+encodeURIComponent(e.url);return e.twitter_via&&(t=t+"&via="+e.twitter_via),e.twitter_hashtags&&(t=t+"&hashtags="+e.twitter_hashtags),e.twitter_related&&(t=t+"&related="+e.twitter_related),t}(window.OSSharer=window.OSSharer||{}).twitter={share:function(t){var n=e(t);OpinionStage.core.popupCenter(n,640,300,"")}}}();var CryptoJS=CryptoJS||function(e,t){var n={},i=n.lib={},r=function(){},o=i.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;r<e;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<e;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(d){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,r=e.min(4*t,r),t){for(var l=0;l<t;l+=o)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=r}return new a.init(l,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=n.algo={};return n}(Math);!function(e){function t(e,t,n,i,r,o,a){return((e=e+(t&n|~t&i)+r+a)<<o|e>>>32-o)+t}function n(e,t,n,i,r,o,a){return((e=e+(t&i|n&~i)+r+a)<<o|e>>>32-o)+t}function i(e,t,n,i,r,o,a){return((e=e+(t^n^i)+r+a)<<o|e>>>32-o)+t}function r(e,t,n,i,r,o,a){return((e=e+(n^(t|~i))+r+a)<<o|e>>>32-o)+t}for(var o=CryptoJS,a=(l=o.lib).WordArray,s=l.Hasher,l=o.algo,u=[],c=0;64>c;c++)u[c]=4294967296*e.abs(e.sin(c+1))|0;l=l.MD5=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var a=0;16>a;a++){var s=e[d=o+a];e[d]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}a=this._hash.words;var l,c,d=e[o+0],p=(s=e[o+1],e[o+2]),f=e[o+3],h=e[o+4],g=e[o+5],m=e[o+6],v=e[o+7],_=e[o+8],y=e[o+9],b=e[o+10],w=e[o+11],x=e[o+12],C=e[o+13],S=e[o+14],k=e[o+15],A=a[0],E=r(E=r(E=r(E=r(E=i(E=i(E=i(E=i(E=n(E=n(E=n(E=n(E=t(E=t(E=t(E=t(E=a[1],c=t(c=a[2],l=t(l=a[3],A=t(A,E,c,l,d,7,u[0]),E,c,s,12,u[1]),A,E,p,17,u[2]),l,A,f,22,u[3]),c=t(c,l=t(l,A=t(A,E,c,l,h,7,u[4]),E,c,g,12,u[5]),A,E,m,17,u[6]),l,A,v,22,u[7]),c=t(c,l=t(l,A=t(A,E,c,l,_,7,u[8]),E,c,y,12,u[9]),A,E,b,17,u[10]),l,A,w,22,u[11]),c=t(c,l=t(l,A=t(A,E,c,l,x,7,u[12]),E,c,C,12,u[13]),A,E,S,17,u[14]),l,A,k,22,u[15]),c=n(c,l=n(l,A=n(A,E,c,l,s,5,u[16]),E,c,m,9,u[17]),A,E,w,14,u[18]),l,A,d,20,u[19]),c=n(c,l=n(l,A=n(A,E,c,l,g,5,u[20]),E,c,b,9,u[21]),A,E,k,14,u[22]),l,A,h,20,u[23]),c=n(c,l=n(l,A=n(A,E,c,l,y,5,u[24]),E,c,S,9,u[25]),A,E,f,14,u[26]),l,A,_,20,u[27]),c=n(c,l=n(l,A=n(A,E,c,l,C,5,u[28]),E,c,p,9,u[29]),A,E,v,14,u[30]),l,A,x,20,u[31]),c=i(c,l=i(l,A=i(A,E,c,l,g,4,u[32]),E,c,_,11,u[33]),A,E,w,16,u[34]),l,A,S,23,u[35]),c=i(c,l=i(l,A=i(A,E,c,l,s,4,u[36]),E,c,h,11,u[37]),A,E,v,16,u[38]),l,A,b,23,u[39]),c=i(c,l=i(l,A=i(A,E,c,l,C,4,u[40]),E,c,d,11,u[41]),A,E,f,16,u[42]),l,A,m,23,u[43]),c=i(c,l=i(l,A=i(A,E,c,l,y,4,u[44]),E,c,x,11,u[45]),A,E,k,16,u[46]),l,A,p,23,u[47]),c=r(c,l=r(l,A=r(A,E,c,l,d,6,u[48]),E,c,v,10,u[49]),A,E,S,15,u[50]),l,A,g,21,u[51]),c=r(c,l=r(l,A=r(A,E,c,l,x,6,u[52]),E,c,f,10,u[53]),A,E,b,15,u[54]),l,A,s,21,u[55]),c=r(c,l=r(l,A=r(A,E,c,l,_,6,u[56]),E,c,k,10,u[57]),A,E,m,15,u[58]),l,A,C,21,u[59]),c=r(c,l=r(l,A=r(A,E,c,l,h,6,u[60]),E,c,w,10,u[61]),A,E,p,15,u[62]),l,A,y,21,u[63]);a[0]=a[0]+A|0,a[1]=a[1]+E|0,a[2]=a[2]+c|0,a[3]=a[3]+l|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var o=e.floor(i/4294967296);for(n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,i=0;4>i;i++)r=n[i],n[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=s._createHelper(l),o.HmacMD5=s._createHmacHelper(l)}(Math);var CryptoJS=CryptoJS||function(e,t){var n={},i=n.lib={},r=function(){},o=i.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;r<e;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<e;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,r=e.min(4*t,r),t){for(var l=0;l<t;l+=o)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=r}return new a.init(l,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=n.algo={};return n}(Math);!function(){var e=CryptoJS,t=(r=e.lib).WordArray,n=r.Hasher,i=[],r=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=0;80>u;u++){if(16>u)i[u]=0|e[t+u];else{var c=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=c<<1|c>>>31}c=(r<<5|r>>>27)+l+i[u],c=20>u?c+(1518500249+(o&a|~o&s)):40>u?c+(1859775393+(o^a^s)):60>u?c+((o&a|o&s|a&s)-1894007588):c+((o^a^s)-899497514),l=s,s=a,a=o<<30|o>>>2,o=r,r=c}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(r),e.HmacSHA1=n._createHmacHelper(r)}();var CryptoJS=CryptoJS||function(e,t){var n={},i=n.lib={},r=function(){},o=i.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;r<e;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<e;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,r=e.min(4*t,r),t){for(var l=0;l<t;l+=o)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=r}return new a.init(l,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=n.algo={};return n}(Math);!function(e){for(var t=CryptoJS,n=(r=t.lib).WordArray,i=r.Hasher,r=t.algo,o=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},l=2,u=0;64>u;){var c;e:{c=l;for(var d=e.sqrt(c),p=2;p<=d;p++)if(!(c%p)){c=!1;break e}c=!0}c&&(8>u&&(o[u]=s(e.pow(l,.5))),a[u]=s(e.pow(l,1/3)),u++),l++}var f=[];r=r.SHA256=i.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){
for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],l=n[4],u=n[5],c=n[6],d=n[7],p=0;64>p;p++){if(16>p)f[p]=0|e[t+p];else{var h=f[p-15],g=f[p-2];f[p]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+f[p-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+f[p-16]}h=d+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&c)+a[p]+f[p],g=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&r^i&o^r&o),d=c,c=u,u=l,l=s+h|0,s=o,o=r,r=i,i=h+g|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(r),t.HmacSHA256=i._createHmacHelper(r)}(Math),function(e,t){e.renderer=e.renderer||{},t.extend(e.renderer,{addStylesheet:function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)},addCss:function(e){var n=t("<link>");n.attr("rel","stylesheet"),n.attr("type","text/css"),n.attr("href",e),t("head").append(n)},addJS:function(e){var n=t("<script>");$css.attr("src",e),$css.attr("async","true"),t("head").append(n)}})}(window.OpinionStage=window.OpinionStage||{},OpinionStage.$||window.jQuery),function(e){function t(e){return parts=e.split("@"),res="H1:"+CryptoJS.SHA1(e.toLowerCase()),res=res+",H2:"+CryptoJS.SHA1(e.toUpperCase()),res=res+",H3:"+CryptoJS.SHA1(parts[1].toLowerCase()),res=res+",H4:"+CryptoJS.MD5(e.toLowerCase()),res=res+",H5:"+CryptoJS.MD5(e.toUpperCase()),res=res+",H6:"+CryptoJS.SHA256(e.toLowerCase()),res=res+",H7:"+CryptoJS.SHA256(e.toUpperCase()),res}function n(){var e="https:"==window.document.location.protocol?"https://data-secure.circulate.com":"http://data.circulate.com";OpinionStage.renderer.addJS(e+"/dapi/collect")}function i(i,s){e.config.circulateEnabled()&&(e.cookies.getCookie(r)||(e.cookies.setCookie(r,"1",a),SMInformation={sid:o,hema:t(s.email)},n()))}var r="sm_dapi_session",o="urjuei",a=12096e5;e.circulate=e.circulate||{},$.extend(e.circulate,{init:function(){e.observer.subscribe(e.events.leadFormSubmitted,i)}})}(window.OpinionStage=window.OpinionStage||{}),Array.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var EMAIL_PATTERN=/^([\w\.%\+\-]+)@([\w\-]+\.)+([\w]{2,})$/i,logged_in_user=null,logged_in_user_link=null,logged_in_user_id=null,logged_in_platform=null,DEBUG_MODE=!1,SOCIAL_BLACKLISTED_URLS=[/^https?:\/\/www\.ynet\.co\.il\/Iphone\/.*(android,\d\d\.html)$/];window.OSBrowserDetect||(window.OSBrowserDetect={init:function(){try{this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown",this.decorateBrowserClasses()}catch(e){"undefined"!=typeof console&&console&&"undefined"!=typeof console.log&&console.log&&console.log("OSBrowserDetect Error: "+e)}},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string;if(this.versionSearchString=e[t].subString,-1!==n.indexOf(e[t].subString))return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!==t){var n=e.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==n?parseFloat(e.substring(n+3)):parseFloat(e.substring(t+this.versionSearchString.length+1))}},decorateBrowserClasses:function(){this.isSafari()||this.isMobileIOS()?$("html").addClass("safari"):this.isExplorer()&&(this.version<=9&&$("html").addClass("lt-ie10"),this.version<=8&&$("html").addClass("lt-ie9"),this.version<=7&&$("html").addClass("lt-ie8"))},isExplorer:function(){return"Explorer"===this.browser},isSafari:function(){return"Safari"===this.browser},isMobile:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},isAndroid:function(){return navigator.userAgent.indexOf("Android")>-1},isMobileIOS:function(){return navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1},isChromeOnIOS:function(){return this.isMobileIOS()&&navigator.userAgent.indexOf("CriOS")>-1},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]},OSBrowserDetect.init()),FacebookApi.ready().then(function(e,t){var n=function(e){window.opener&&window.opener.post_vote_action?(window.opener.post_vote_action(),window.close()):window.location.href=e.redirect_to},i=function(){console.log("facebook login failed")},r=function(){var e="/auth/facebook/callback"+window.location.search;$.getJSON(e).then(n).fail(i).always(function(){track_ga_virtual_page("/authorize/fb_post_authorize")})};$("[data-facebook-login]").click(function(){return track_ga_virtual_page("/authorize/fb_authorize"),e.getLoginStatus(function(n){"connected"===n.status?r():e.login(function(e){"connected"===e.status&&r()},{scope:t})}),!1})}),window.Modernizr=function(e,t,n){function i(e){_.cssText=e}function r(e,t){return i(y.join(e+";")+(t||""))}function o(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var r=e[i];if(!a(r,"-")&&_[r]!==n)return"pfx"!=t||r}return!1}function l(e,t,i){for(var r in e){var a=t[e[r]];if(a!==n)return!1===i?e[r]:o(a,"function")?a.bind(i||t):a}return!1}function u(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+w.join(i+" ")+i).split(" ");return o(t,"string")||o(t,"undefined")?s(r,t):l(r=(e+" "+x.join(i+" ")+i).split(" "),t,n)}var c,d,p="2.8.3",f={},h=!0,g=t.documentElement,m="modernizr",v=t.createElement(m),_=v.style,y=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),b="Webkit Moz O ms",w=b.split(" "),x=b.toLowerCase().split(" "),C={},S=[],k=S.slice,A={}.hasOwnProperty;for(var E in d=o(A,"undefined")||o(A.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return A.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=k.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var o=new r,a=t.apply(o,n.concat(k.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(k.call(arguments)))};return i}),C.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),a(_.backgroundColor,"rgba")},C.borderradius=function(){return u("borderRadius")},C.boxshadow=function(){return u("boxShadow")},C.opacity=function(){return r("opacity:.55"),/^0.55$/.test(_.opacity)},C.cssanimations=function(){return u("animationName")},C)d(C,E)&&(c=E.toLowerCase(),f[c]=C[E](),S.push((f[c]?"":"no-")+c));return f.addTest=function(e,t){if("object"==typeof e)for(var i in e)d(e,i)&&f.addTest(i,e[i]);else{if(e=e.toLowerCase(),f[e]!==n)return f;t="function"==typeof t?t():t,void 0!==h&&h&&(g.className+=" "+(t?"":"no-")+e),f[e]=t}return f},i(""),v=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=_.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=v[e[g]];return t||(t={},m++,e[g]=m,v[m]=t),t}function o(e,n,i){return n||(n=t),c?n.createElement(e):(i||(i=r(n)),!(o=i.cache[e]?i.cache[e].cloneNode():h.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e)).canHaveChildren||f.test(e)||o.tagUrn?o:i.frag.appendChild(o));var o}function a(e,n){if(e||(e=t),c)return e.createDocumentFragment();for(var o=(n=n||r(e)).frag.cloneNode(),a=0,s=i(),l=s.length;a<l;a++)o.createElement(s[a]);return o}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return _.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(_,t.frag)}function l(e){e||(e=t);var i=r(e);return _.shivCSS&&!u&&!i.hasCSS&&(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||s(e,i),e}var u,c,d="3.7.0",p=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,c=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(d){u=!0,c=!0}}();var _={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:!1!==p.shivCSS,supportsUnknownElements:c,shivMethods:!1!==p.shivMethods,type:"default",shivDocument:l,createElement:o,createDocumentFragment:a};e.html5=_,l(t)}(this,t),f._version=p,f._prefixes=y,f._domPrefixes=x,f._cssomPrefixes=w,f.testProp=function(e){return s([e])},f.testAllProps=u,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+S.join(" "):""),f}(0,this.document),function(e,t,n){function i(e){return"[object Function]"==m.call(e)}function r(e){return"string"==typeof e}function o(){}function a(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=v.shift();_=1,e?e.t?h(function(){("c"==e.t?p.injectCss:p.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):_=0}function l(e,n,i,r,o,l,u){function c(t){if(!f&&a(d.readyState)&&(y.r=f=1,!_&&s(),d.onload=d.onreadystatechange=null,t))for(var i in"img"!=e&&h(function(){w.removeChild(d)},50),A[n])A[n].hasOwnProperty(i)&&A[n][i].onload()}u=u||p.errorTimeout;var d=t.createElement(e),f=0,m=0,y={t:i,s:n,e:o,a:l,x:u};1===A[n]&&(m=1,A[n]=[]),"object"==e?d.data=n:(d.src=n,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){c.call(this,m)},v.splice(r,0,y),"img"!=e&&(m||2===A[n]?(w.insertBefore(d,b?null:g),h(c,u)):A[n].push(d))}function u(e,t,n,i,o){return _=0,t=t||"j",r(e)?l("c"==t?C:x,e,t,this.i++,n,i,o):(v.splice(this.i++,0,e),1==v.length&&s()),this}function c(){var e=p;return e.loader={load:u,i:0},e}var d,p,f=t.documentElement,h=e.setTimeout,g=t.getElementsByTagName("script")[0],m={}.toString,v=[],_=0,y="MozAppearance"in f.style,b=y&&!!t.createRange().compareNode,w=b?f:g.parentNode,x=(f=e.opera&&"[object Opera]"==m.call(e.opera),f=!!t.attachEvent&&!f,y?"object":f?"script":"img"),C=f?"script":x,S=Array.isArray||function(e){return"[object Array]"==m.call(e)},k=[],A={},E={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};(p=function(e){function t(e){e=e.split("!");var t,n,i,r=k.length,o=e.pop(),a=e.length;o={url:o,origUrl:o,prefixes:e};for(n=0;n<a;n++)i=e[n].split("="),(t=E[i.shift()])&&(o=t(o,i));for(n=0;n<r;n++)o=k[n](o);return o}function a(e,r,o,a,s){var l=t(e),u=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(r&&(r=i(r)?r:r[e]||r[a]||r[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,r,o,a,s):(A[l.url]?l.noexec=!0:A[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(r)||i(u))&&o.load(function(){c(),r&&r(l.origUrl,s,a),u&&u(l.origUrl,s,a),A[l.url]=2})))}function s(e,t){function n(e,n){if(e){if(r(e))n||(d=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}),a(e,d,t,0,u);else if(Object(e)===e)for(l in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--s&&(i(d)?d=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}:d[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(p[l])),a(e[l],d,t,l,u))}else!n&&f()}var s,l,u=!!e.test,c=e.load||e.both,d=e.callback||o,p=d,f=e.complete||o;n(u?e.yep:e.nope,!!c),c&&n(c)}var l,u,d=this.yepnope.loader;if(r(e))a(e,0,d,0);else if(S(e))for(l=0;l<e.length;l++)r(u=e[l])?a(u,0,d,0):S(u)?p(u):Object(u)===u&&s(u,d);else Object(e)===e&&s(e,d)}).addPrefix=function(e,t){E[e]=t},p.addFilter=function(e){k.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=c(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,i,r,l,u){var c,d,f=t.createElement("script");r=r||p.errorTimeout;for(d in f.src=e,i)f.setAttribute(d,i[d]);n=u?s:n||o,f.onreadystatechange=f.onload=function(){!c&&a(f.readyState)&&(c=1,n(),f.onload=f.onreadystatechange=null)},h(function(){c||(c=1,n(1))},r),l?f.onload():g.parentNode.insertBefore(f,g)},e.yepnope.injectCss=function(e,n,i,r,a,l){var u;r=t.createElement("link"),n=l?s:n||o;for(u in r.href=e,r.rel="stylesheet",r.type="text/css",i)r.setAttribute(u,i[u]);a||(g.parentNode.insertBefore(r,g),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(e,t){e.cookies=e.cookies||{},t.extend(e.cookies,{setCookie:function(e,t,n){var i=new Date;i.setTime(i.getTime()+n);var r="expires="+i.toUTCString();document.cookie=e+"="+t+"; "+r+"; path=/"},getCookie:function(e){e+="=";var t,n=document.cookie.split(";");for(t=0;t<n.length;t++){for(var i=n[t];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return""}})}(window.OpinionStage=window.OpinionStage||{},OpinionStage.$||window.jQuery),function(e){e.observer=e.observer||{};var t={},n=-1;$.extend(e.observer,{init:function(e){for(var n=0;n<e.length;n++)t[e[n]]=[]},publish:function(n,i){if(!t[n])return!1;e.logger.debug("Publishing topic "+n);for(var r=t[n],o=r?r.length:0;o--;)try{r[o].func(n,i)}catch(a){e.logger.error("Failed publishing topic "+n+":",a)}return this},subscribe:function(i,r){if(!t[i])return e.logger.warn("Failed subscribing to unknown topic '"+i+"'"),!1;var o=(++n).toString();return t[i].push({token:o,func:r}),o},unsubscribe:function(e){for(var n in t)if(t[n])for(var i=0,r=t[n].length;i<r;i++)if(t[n][i].token===e)return t[n].splice(i,1),e;return this}})}(window.OpinionStage=window.OpinionStage||{}),function(e){(OpinionStage.$||window.jQuery).extend(e.config,{isFriendlyIframe:function(){return window.inDapIF},isCookiesEnabled:function(){return!Opst.options.repeated_voting_enabled},circulateEnabled:function(){return Opst.options.circulate_enabled},widgetPageId:e.core.getURLParam("wid"),scriptEmbed:e.core.getURLParam("sembed")})}(window.OpinionStage=window.OpinionStage||{}),function(e,t){e.poll=e.poll||{};var n="os_votes",i=2592e6;t.extend(e.poll,{addVotesToCookie:function(t){if(e.config.isCookiesEnabled()){for(var r=e.poll.getVotesFromCookie(),o=0;o<t.length;o++)-1==r.indexOf(t[o])&&r.push(t[o]);e.cookies.setCookie(n,r.join("."),i)}},removeVotesFromCookie:function(t){for(var r=e.poll.getVotesFromCookie(),o=-1,a=0;a<t.length;a++)-1!=(o=r.indexOf(t[a]))&&r.splice(o,1);e.cookies.setCookie(n,r.join("."),i)},getVotesFromCookie:function(){if(!e.config.isCookiesEnabled())return[];var t=e.cookies.getCookie(n);return""!=t?t.split("."):[]}})}(window.OpinionStage=window.OpinionStage||{},OpinionStage.$||window.jQuery);
/**
 * Cloudinary's JavaScript library - Version 2.0.8
 * Copyright Cloudinary
 * see https://github.com/cloudinary/cloudinary_js
 *
 */
var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):(e.cloudinary||(e.cloudinary={}),e.cloudinary=t(jQuery))}(this,function(e){var t,n,i,r,o,a,s,l,u,c,d,p,f,h,g,m,v,_,y,b,w,x,C,S,k,A,E,D,O,T,j,F,B,N,L,M,I,P,H,R,z,q,U,W,V,J,X,G,Q,Y;return F=function(t,n){return e(t).data(n)},U=function(t,n,i){return e(t).data(n,i)},j=function(t,n){return e(t).attr(n)},z=function(t,n,i){return e(t).attr(n,i)},R=function(t,n){return e(t).removeAttr(n)},q=function(t,n){return e(t).attr(n)},B=function(t,n){return e(t).hasClass(n)},b=function(t,n){return e(t).addClass(n)},X=function(t){return e(t).width()},L=function(t){return null==t||(e.isArray(t)||_.isString(t))&&0===t.length||e.isPlainObject(t)&&e.isEmptyObject(t)},w=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)if(t=e[n],!_.isString(t))return!1;return!0},M=function(e){return"string"==typeof e||"[object String]"===(null!=e?e.toString():void 0)},I=function(){var t,n;return(t=function(){var e,t,i;for(i=[],e=0,t=arguments.length;e<t;e++)n=arguments[e],i.push(n);return i}.apply(this,arguments)).unshift(!0),e.extend.apply(this,t)},Y="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Q="[a-z\\xdf-\\xf6\\xf8-\\xff]+",H=RegExp(Y+"+(?="+Y+Q+")|"+Y+"?"+Q+"|"+Y+"+|[0-9]+","g"),x=function(e){var t,n,i;return i=e.match(H),(i=function(){var e,r,o;for(o=[],t=e=0,r=i.length;e<r;t=++e)n=(n=i[t]).toLocaleLowerCase(),t?o.push(n.charAt(0).toLocaleUpperCase()+n.slice(1)):o.push(n);return o}()).join("")},W=function(e){var t,n,i;return i=e.match(H),(i=function(){var e,r,o;for(o=[],t=e=0,r=i.length;e<r;t=++e)n=i[t],o.push(n.toLocaleLowerCase());return o}()).join("_")},k=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;n<i;n++)(t=e[n])&&r.push(t);return r},C=function(){var t;return(t=e.makeArray(arguments)).unshift({}),t.unshift(!0),e.extend.apply(this,t)},A=function(e,t){var n,i;for(n=0,i=e.length;n<i;n++)if(e[n]===t)return!0;return!1},D=function(){var t,n,i,r,o;if(n=[],1===arguments.length)return arguments[0];for(r=0,o=arguments.length;r<o;r++)t=arguments[r],n.unshift(t);return i=n.pop(),n.unshift(i),e.extend.apply(this,n)},O=function(e,t){var n,i,r,o;for(o=[],i=0,r=e.length;i<r;i++)n=e[i],A(t,n)||o.push(n);return o},T=function(t){var n,i;for(n in i=[],t)e.isFunction(t[n])&&i.push(n);return i},N=function(e){return e},G=function(e,t){var n,i,r;for(r=[],n=-1,i=e.length;++n<i;)e[n]!==t&&r.push(e[n]);return r},_={hasClass:B,addClass:b,getAttribute:j,setAttribute:z,removeAttribute:R,setAttributes:q,getData:F,setData:U,width:X,allStrings:w,isString:M,isArray:e.isArray,isEmpty:L,assign:e.extend,merge:I,camelCase:x,snakeCase:W,cloneDeep:C,compact:k,contains:A,defaults:D,difference:O,isFunction:e.isFunction,functions:T,identity:N,isPlainObject:e.isPlainObject,trim:e.trim,without:G},V=function(e){var t,n,i,r,o,a,s,l;if(null===e||void 0===e)return"";for(l="",o=void 0,i=void 0,s=0,o=i=0,s=(a=e+"").length,r=0;r<s;)n=null,(t=a.charCodeAt(r))<128?i++:n=t>127&&t<2048?String.fromCharCode(t>>6|192,63&t|128):String.fromCharCode(t>>12|224,t>>6&63|128,63&t|128),null!==n&&(i>o&&(l+=a.slice(o,i)),l+=n,o=i=r+1),r++;return i>o&&(l+=a.slice(o,s)),l},E=function(e){var t,n,i,r,o;for(r="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",t=0,0,o=0,t^=-1,n=0,i=(e=V(e)).length;n<i;)o=255&(t^e.charCodeAt(n)),t=t>>>8^"0x"+r.substr(9*o,8),n++;return(t^=-1)<0&&(t+=4294967296),t},c=function(){function e(e,t,n){null==n&&(n=S.Util.identity),this.name=e,this["short"]=t,this.process=n}return e.prototype.set=function(e){return this.origValue=e,this},e.prototype.serialize=function(){var e,t;return e=this.value(),t=S.Util.isArray(e)||S.Util.isPlainObject(e)||S.Util.isString(e)?!S.Util.isEmpty(e):null!=e,null!=this["short"]&&t?this["short"]+"_"+e:""},e.prototype.value=function(){return this.process(this.origValue)},e.norm_color=function(e){return null!=e?e.replace(/^#/,"rgb:"):void 0},e.prototype.build_array=function(e){return null==e&&(e=[]),S.Util.isArray(e)?e:[e]},e.process_video_params=function(e){var t;switch(e.constructor){case Object:return t="","codec"in e&&(t=e.codec,"profile"in e&&(t+=":"+e.profile,"level"in e&&(t+=":"+e.level))),t;case String:return e;default:return null}},e}(),t=function(){function e(t,n,i,r){null==i&&(i="."),this.sep=i,e.__super__.constructor.call(this,t,n,r)}return extend(e,c),e.prototype.serialize=function(){var e,t,n;return null!=this["short"]?(e=this.value(),S.Util.isEmpty(e)?"":(t=function(){var e,t,i,r;for(r=[],e=0,t=(i=this.value()).length;e<t;e++)n=i[e],S.Util.isFunction(n.serialize)?r.push(n.serialize()):r.push(n);return r}.call(this),this["short"]+"_"+t.join(this.sep))):""},e.prototype.set=function(t){return null==t||S.Util.isArray(t)?e.__super__.set.call(this,t):e.__super__.set.call(this,[t])},e}(),v=function(){function e(t,n,i,r){null==n&&(n="t"),null==i&&(i="."),this.sep=i,e.__super__.constructor.call(this,t,n,r)}return extend(e,c),e.prototype.serialize=function(){var e,t,n;return S.Util.isEmpty(this.value())?"":S.Util.allStrings(this.value())?(e=this.value().join(this.sep),S.Util.isEmpty(e)?"":this["short"]+"_"+e):(t=function(){var e,t,i,r;for(r=[],e=0,t=(i=this.value()).length;e<t;e++)null!=(n=i[e])&&(S.Util.isString(n)&&!S.Util.isEmpty(n)?r.push(this["short"]+"_"+n):S.Util.isFunction(n.serialize)?r.push(n.serialize()):S.Util.isPlainObject(n)&&!S.Util.isEmpty(n)?r.push(new g(n).serialize()):r.push(void 0));return r}.call(this),S.Util.compact(t))},e.prototype.set=function(t){return this.origValue=t,S.Util.isArray(this.origValue)?e.__super__.set.call(this,this.origValue):e.__super__.set.call(this,[this.origValue])},e}(),d=function(){function e(t,n,i){null==i&&(i=this.norm_range_value),e.__super__.constructor.call(this,t,n,i)}return extend(e,c),e.norm_range_value=function(e){var t,n;return(n=String(e).match(new RegExp("^"+offset_any_pattern+"$")))&&(t=null!=n[5]?"p":"",e=(n[1]||n[4])+t),e},e}(),p=function(){function e(t,n,i){null==i&&(i=S.Util.identity),e.__super__.constructor.call(this,t,n,i)}return extend(e,c),e.prototype.serialize=function(){return this.value()},e}(),u=function(){function e(){return e.__super__.constructor.apply(this,arguments)}var t;return extend(e,c),e.prototype.value=function(){var e,t,n,i,r,o,a,s;if(n=this.origValue,S.Util.isPlainObject(n)){if(i=n.public_id,t=n.format,r=n.resource_type||"image",s=n.type||"upload",o=n.text,a=null,e=[],null!=i&&(i=i.replace(/\//g,":"),null!=t&&(i=i+"."+t)),null==o&&"text"!==r){if(S.Util.isEmpty(i))throw"Must supply public_id for resource_type layer_parameter";"subtitles"===r&&(a=this.textStyle(n))}else if(r="text",s=null,a=this.textStyle(n),null!=o){if(!(null!=i^null!=a))throw"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay";o=S.Util.smart_escape(S.Util.smart_escape(o,/([,\/])/))}"image"!==r&&e.push(r),"upload"!==s&&e.push(s),e.push(a),e.push(i),e.push(o),n=S.Util.compact(e).join(":")}return n},t=[["font_weight","normal"],["font_style","normal"],["text_decoration","none"],["text_align",null],["stroke","none"]],e.prototype.textStyle=function(e){var n,i,r,o,a,s,l;if(r=e.font_family,o=e.font_size,a=function(){var r,o,a,s;for(s=[],r=0,o=t.length;r<o;r++)a=t[r],n=a[0],i=a[1],e[n]!==i&&s.push(e[n]);return s}(),s=e.letter_spacing,S.Util.isEmpty(s)||a.push("letter_spacing_"+s),l=e.line_spacing,S.Util.isEmpty(l)||a.push("line_spacing_"+l),!S.Util.isEmpty(o)||!S.Util.isEmpty(r)||!S.Util.isEmpty(a)){if(S.Util.isEmpty(r))throw"Must supply font_family for text in overlay/underlay";if(S.Util.isEmpty(o))throw"Must supply font_size for text in overlay/underlay";return a.unshift(o),a.unshift(r),S.Util.compact(a).join("_")}},e}(),(P={}).Param=c,P.ArrayParam=t,P.RangeParam=d,P.RawParam=p,P.TransformationParam=v,P.LayerParam=u,r=function(){function e(e){this.predicate_list=[],null!=e&&this.predicate_list.push(this.normalize(e))}return e.OPERATORS={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or"},e.PARAMETERS={width:"w",height:"h",aspect_ratio:"ar",aspectRatio:"ar",page_count:"pc",pageCount:"pc",face_count:"fc",faceCount:"fc"},e.BOUNDRY="[ _]+",e["new"]=function(e){return new this(e)},e.prototype.normalize=function(t){var n;return n=new RegExp("("+Object.keys(e.PARAMETERS).join("|")+"|[=<>&|!]+)","g"),(t=t.replace(n,function(t){return e.OPERATORS[t]||e.PARAMETERS[t]})).replace(/[ _]+/g,"_")},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){return this.parent=e,this},e.prototype.toString=function(){return this.predicate_list.join("_")},e.prototype.predicate=function(t,n,i){return null!=e.OPERATORS[n]&&(n=e.OPERATORS[n]),this.predicate_list.push(t+"_"+n+"_"+i),this},e.prototype.and=function(){return this.predicate_list.push("and"),this},e.prototype.or=function(){return this.predicate_list.push("or"),this},e.prototype.then=function(){return this.getParent()["if"](this.toString())},e.prototype.height=function(e,t){return this.predicate("h",e,t)},e.prototype.width=function(e,t){return this.predicate("w",e,t)},e.prototype.aspectRatio=function(e,t){return this.predicate("ar",e,t)},e.prototype.pageCount=function(e,t){return this.predicate("pc",e,t)},e.prototype.faceCount=function(e,t){return this.predicate("fc",e,t)},e}(),m=function(){function e(i){var r,a,s;null==i&&(i={}),a=void 0,s={},this.toOptions||(this.toOptions=function(e){var t,n,i,r,o,a;for(t in null==e&&(e=!0),i={},s)a=s[t],i[t]=a.origValue;for(t in r=this.otherOptions)void 0!==(a=r[t])&&(i[t]=a);return e&&!_.isEmpty(this.chained)&&((n=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.chained).length;e<t;e++)o=n[e],i.push(o.toOptions());return i}.call(this)).push(i),i={transformation:n}),i}),this.setParent||(this.setParent=function(e){return a=e,null!=e&&this.fromOptions("function"==typeof e.toOptions?e.toOptions():void 0),this}),this.getParent||(this.getParent=function(){return a}),this.param||(this.param=function(e,t,n,i,r){return null==r&&(r=_.isFunction(i)?i:_.identity),s[t]=new c(t,n,r).set(e),this}),this.rawParam||(this.rawParam=function(e,t,i,r,o){return null==o&&(o=_.identity),o=n(arguments),s[t]=new p(t,i,o).set(e),this}),this.rangeParam||(this.rangeParam=function(e,t,i,r,o){return null==o&&(o=_.identity),o=n(arguments),s[t]=new d(t,i,o).set(e),this}),this.arrayParam||(this.arrayParam=function(e,i,r,o,a,l){return null==o&&(o=":"),null==a&&(a=[]),null==l&&(l=_.identity),l=n(arguments),s[i]=new t(i,r,o,l).set(e),this}),this.transformationParam||(this.transformationParam=function(e,t,i,r,o,a){return null==r&&(r="."),null==a&&(a=_.identity),a=n(arguments),s[t]=new v(t,i,r,a).set(e),this}),this.layerParam||(this.layerParam=function(e,t,n){return s[t]=new u(t,n).set(e),this}),this.getValue||(this.getValue=function(e){var t,n;return null!=(t=null!=(n=s[e])?n.value():void 0)?t:this.otherOptions[e]}),this.get||(this.get=function(e){return s[e]}),this.remove||(this.remove=function(e){var t;switch(!1){case null==s[e]:return t=s[e],delete s[e],t.origValue;case null==this.otherOptions[e]:return t=this.otherOptions[e],delete this.otherOptions[e],t;default:return null}}),this.keys||(this.keys=function(){var e;return function(){var t;for(e in t=[],s)t.push(_.snakeCase(e));return t}().sort()}),this.toPlainObject||(this.toPlainObject=function(){var e,t,n,i;for(t in e={},s)e[t]=s[t].value(),_.isPlainObject(e[t])&&(e[t]=_.cloneDeep(e[t]));return _.isEmpty(this.chained)||((n=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.chained).length;e<t;e++)i=n[e],r.push(i.toPlainObject());return r}.call(this)).push(e),e={transformation:n}),e}),this.chain||(this.chain=function(){var e;return 0!==Object.getOwnPropertyNames(s).length&&(e=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(e)),this}),this.resetTransformations||(this.resetTransformations=function(){return s={},this}),this.otherOptions||(this.otherOptions={}),this.methods||(this.methods=_.difference(_.functions(g.prototype),_.functions(e.prototype))),this.PARAM_NAMES||(this.PARAM_NAMES=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.methods).length;e<t;e++)r=n[e],i.push(_.snakeCase(r));return i}.call(this).concat(o.CONFIG_PARAMS)),this.chained=[],_.isEmpty(i)||this.fromOptions(i)}var n;return e.prototype.trans_separator="/",e.prototype.param_separator=",",n=function(e){var t;return t=null!=e?e[e.length-1]:void 0,_.isFunction(t)?t:void 0},e.prototype.fromOptions=function(t){var n,i;if(t instanceof e)this.fromTransformation(t);else for(n in t||(t={}),(_.isString(t)||_.isArray(t))&&(t={transformation:t}),t=_.cloneDeep(t,function(t){if(t instanceof e)return new t.constructor(t.toOptions())}))i=t[n],this.set(n,i);return this},e.prototype.fromTransformation=function(t){var n,i,r,o;if(t instanceof e)for(n=0,r=(o=t.keys()).length;n<r;n++)i=o[n],this.set(i,t.get(i).origValue);return this},e.prototype.set=function(e,t){var n;return n=_.camelCase(e),_.contains(this.methods,n)?this[n](t):this.otherOptions[e]=t,this},e.prototype.hasLayer=function(){return this.getValue("overlay")||this.getValue("underlay")},e.prototype.serialize=function(){var e,t,n,i,r,o,a,s,l,u,c;switch(r=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.chained).length;e<t;e++)a=n[e],i.push(a.serialize());return i}.call(this),t=this.keys(),u=null!=(n=this.get("transformation"))?n.serialize():void 0,e=null!=(i=this.get("if"))?i.serialize():void 0,t=_.difference(t,["transformation","if"]),s=function(){var e,n,i,r;for(r=[],e=0,n=t.length;e<n;e++)o=t[e],r.push(null!=(i=this.get(o))?i.serialize():void 0);return r}.call(this),!1){case!_.isString(u):s.push(u);break;case!_.isArray(u):r=r.concat(u)}return s=function(){var e,t,n;for(n=[],e=0,t=s.length;e<t;e++)c=s[e],(_.isArray(c)&&!_.isEmpty(c)||!_.isArray(c)&&c)&&n.push(c);return n}().sort(),"if_end"===e?s.push(e):_.isEmpty(e)||s.unshift(e),l=s.join(this.param_separator),_.isEmpty(l)||r.push(l),_.compact(r).join(this.trans_separator)},e.prototype.listNames=function(){return this.methods},e.prototype.toHtmlAttributes=function(){var e,t,n,i,r,o,a,s,l,u;for(n in r={},o=this.otherOptions)u=o[n],_.contains(this.PARAM_NAMES,n)||(r[/^html_/.test(n)?n.slice(5):n]=u);for(t=0,i=(a=this.keys()).length;t<i;t++)n=a[t],/^html_/.test(n)&&(r[n.slice(5)]=this.getValue(n));return this.hasLayer()||this.getValue("angle")||_.contains(["fit","limit","lfill"],this.getValue("crop"))||(X=null!=(s=this.get("width"))?s.origValue:void 0,e=null!=(l=this.get("height"))?l.origValue:void 0,parseFloat(X)>=1&&null==r.width&&(r.width=X),parseFloat(e)>=1&&null==r.height&&(r.height=e)),r},e.prototype.isValidParamName=function(e){return this.methods.indexOf(_.camelCase(e))>=0},e.prototype.toHtml=function(){var e;return null!=(e=this.getParent())&&"function"==typeof e.toHtml?e.toHtml():void 0},e.prototype.toString=function(){return this.serialize()},e}(),g=function(){function e(t){null==t&&(t={}),e.__super__.constructor.call(this,t)}return extend(e,m),e["new"]=function(t){return new e(t)},e.prototype.angle=function(e){return this.arrayParam(e,"angle","a",".")},e.prototype.audioCodec=function(e){return this.param(e,"audio_codec","ac")},e.prototype.audioFrequency=function(e){return this.param(e,"audio_frequency","af")},e.prototype.aspectRatio=function(e){return this.param(e,"aspect_ratio","ar")},e.prototype.background=function(e){return this.param(e,"background","b",c.norm_color)},e.prototype.bitRate=function(e){return this.param(e,"bit_rate","br")},e.prototype.border=function(e){return this.param(e,"border","bo",function(e){return _.isPlainObject(e)?(e=_.assign({},{color:"black",width:2},e)).width+"px_solid_"+c.norm_color(e.color):e})},e.prototype.color=function(e){return this.param(e,"color","co",c.norm_color)},e.prototype.colorSpace=function(e){return this.param(e,"color_space","cs")},e.prototype.crop=function(e){return this.param(e,"crop","c")},e.prototype.defaultImage=function(e){return this.param(e,"default_image","d")},e.prototype.delay=function(e){return this.param(e,"delay","l")},e.prototype.density=function(e){return this.param(e,"density","dn")},e.prototype.duration=function(e){return this.rangeParam(e,"duration","du")},e.prototype.dpr=function(e){return this.param(e,"dpr","dpr",function(e){return"auto"===(e=e.toString())?"1.0":(null!=e?e.match(/^\d+$/):void 0)?e+".0":e})},e.prototype.effect=function(e){return this.arrayParam(e,"effect","e",":")},e.prototype["else"]=function(){return this["if"]("else")},e.prototype.endIf=function(){return this["if"]("end")},e.prototype.endOffset=function(e){return this.rangeParam(e,"end_offset","eo")},e.prototype.fallbackContent=function(e){return this.param(e,"fallback_content")},e.prototype.fetchFormat=function(e){return this.param(e,"fetch_format","f")},e.prototype.format=function(e){return this.param(e,"format")},e.prototype.flags=function(e){return this.arrayParam(e,"flags","fl",".")},e.prototype.gravity=function(e){return this.param(e,"gravity","g")},e.prototype.height=function(e){return this.param(e,"height","h",(t=this,function(){return t.getValue("crop")||t.getValue("overlay")||t.getValue("underlay")?e:null}));var t},e.prototype.htmlHeight=function(e){return this.param(e,"html_height")},e.prototype.htmlWidth=function(e){return this.param(e,"html_width")},e.prototype["if"]=function(t){var n,i,o,a,s;switch(null==t&&(t=""),t){case"else":return this.chain(),this.param(t,"if","if");case"end":for(this.chain(),n=o=this.chained.length-1;o>=0&&"end"!==(i=this.chained[n].getValue("if"))&&(null==i||(a=e["new"]()["if"](i),this.chained[n].remove("if"),s=this.chained[n],this.chained[n]=e["new"]().transformation([a,s]),"else"===i));n=o+=-1);return this.param(t,"if","if");case"":return r["new"]().setParent(this);default:return this.param(t,"if","if",function(e){return r["new"](e).toString()})}},e.prototype.offset=function(e){var t,n,i;if(i=(n=_.isFunction(null!=e?e.split:void 0)?e.split(".."):_.isArray(e)?e:[null,null])[0],t=n[1],null!=i&&this.startOffset(i),null!=t)return this.endOffset(t)},e.prototype.opacity=function(e){return this.param(e,"opacity","o")},e.prototype.overlay=function(e){return this.layerParam(e,"overlay","l")},e.prototype.page=function(e){return this.param(e,"page","pg")},e.prototype.poster=function(e){return this.param(e,"poster")},e.prototype.prefix=function(e){return this.param(e,"prefix","p")},e.prototype.quality=function(e){return this.param(e,"quality","q")},e.prototype.radius=function(e){return this.param(e,"radius","r")},e.prototype.rawTransformation=function(e){return this.rawParam(e,"raw_transformation")},e.prototype.size=function(e){var t,n;if(_.isFunction(null!=e?e.split:void 0))return n=e.split("x"),X=n[0],t=n[1],this.width(X),this.height(t)},e.prototype.sourceTypes=function(e){return this.param(e,"source_types")},e.prototype.sourceTransformation=function(e){return this.param(e,"source_transformation")},e.prototype.startOffset=function(e){return this.rangeParam(e,"start_offset","so")},e.prototype.transformation=function(e){return this.transformationParam(e,"transformation","t")},e.prototype.underlay=function(e){return this.layerParam(e,"underlay","u")},e.prototype.videoCodec=function(e){return this.param(e,"video_codec","vc",c.process_video_params)},e.prototype.videoSampling=function(e){return this.param(e,"video_sampling","vs")},e.prototype.width=function(e){return this.param(e,"width","w",(t=this,function(){return t.getValue("crop")||t.getValue("overlay")||t.getValue("underlay")?e:null}));var t},e.prototype.x=function(e){return this.param(e,"x","x")},e.prototype.y=function(e){return this.param(e,"y","y")},e.prototype.zoom=function(e){return this.param(e,"zoom","z")},e}(),o=function(){function e(e){null==e&&(e={}),this.configuration=_.cloneDeep(e),_.defaults(this.configuration,t)}var t,n;return t={responsive_class:"cld-responsive",responsive_use_breakpoints:!0,round_dpr:!0,secure:"https:"===("undefined"!=typeof window&&null!==window&&null!=(n=window.location)?n.protocol:void 0)},e.CONFIG_PARAMS=["api_key","api_secret","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","url_suffix","use_root_path","version"],e.prototype.init=function(){return this.fromEnvironment(),this.fromDocument(),this},e.prototype.set=function(e,t){return this.configuration[e]=t,this},e.prototype.get=function(e){return this.configuration[e]},e.prototype.merge=function(e){return null==e&&(e={}),_.assign(this.configuration,_.cloneDeep(e)),this},e.prototype.fromDocument=function(){var e,t,n,i;if(i="undefined"!=typeof document&&null!==document?document.querySelectorAll('meta[name^="cloudinary_"]'):void 0)for(t=0,n=i.length;t<n;t++)e=i[t],this.configuration[e.getAttribute("name").replace("cloudinary_","")]=e.getAttribute("content");return this},e.prototype.fromEnvironment=function(){var e,t,n,i,r,o;if(null!=(e="undefined"!=typeof process&&null!==process&&null!=(n=process.env)?n.CLOUDINARY_URL:void 0)&&(r=require("url").parse(e,!0),this.configuration={cloud_name:r.host,api_key:r.auth&&r.auth.split(":")[0],api_secret:r.auth&&r.auth.split(":")[1],private_cdn:null!=r.pathname,secure_distribution:r.pathname&&r.pathname.substring(1)},null!=r.query))for(t in i=r.query)o=i[t],this.configuration[t]=o;return this},e.prototype.config=function(e,t){switch(!1){case void 0===t:return this.set(e,t),this.configuration;case!_.isString(e):return this.get(e);case!_.isPlainObject(e):return this.merge(e),this.configuration;default:return this.configuration}},e.prototype.toOptions=function(){return _.cloneDeep(this.configuration)},e}(),a=function(){function e(e,t,n){var i;this.name=e,this.publicId=t,null==n&&(_.isPlainObject(t)?(n=t,this.publicId=void 0):n={}),(i=new g(n)).setParent(this),this.transformation=function(){return i}}var t;return e["new"]=function(e,t,n){return new this(e,t,n)},t=function(e,t){return t?!0===t?e:e+'="'+t+'"':void 0},e.prototype.htmlAttrs=function(e){var n,i;return function(){var r;for(n in r=[],e)(i=e[n])&&r.push(t(n,i));return r}().sort().join(" ")},e.prototype.getOptions=function(){return this.transformation().toOptions()},e.prototype.getOption=function(e){return this.transformation().getValue(e)},e.prototype.attributes=function(){return this.transformation().toHtmlAttributes()},e.prototype.setAttr=function(e,t){return this.transformation().set("html_"+e,t),this},e.prototype.getAttr=function(e){return this.attributes()["html_"+e]||this.attributes()[e]},e.prototype.removeAttr=function(e){var t;return null!=(t=this.transformation().remove("html_"+e))?t:this.transformation().remove(e)},e.prototype.content=function(){return""},e.prototype.openTag=function(){return"<"+this.name+" "+this.htmlAttrs(this.attributes())+">"},e.prototype.closeTag=function(){return"</"+this.name+">"},e.prototype.toHtml=function(){return this.openTag()+this.content()+this.closeTag()},e.prototype.toDOM=function(){var e,t,n,i;if(!_.isFunction("undefined"!=typeof document&&null!==document?document.createElement:void 0))throw"Can't create DOM if document is not present!";for(t in e=document.createElement(this.name),n=this.attributes())i=n[t],e[t]=i;return e},e}(),s=function(){function e(t,n){null==n&&(n={}),e.__super__.constructor.call(this,"img",t,n)}return extend(e,a),e.prototype.closeTag=function(){return""},e.prototype.attributes=function(){var t;return null==(t=e.__super__.attributes.call(this)||[]).src&&(t.src=new n(this.getOptions()).url(this.publicId)),t},e}(),y=function(){function e(t,i){null==i&&(i={}),i=_.defaults({},i,n.DEFAULT_VIDEO_PARAMS),e.__super__.constructor.call(this,"video",t.replace(/\.(mp4|ogv|webm)$/,""),i)}var t,i;return extend(e,a),i=["source_types","source_transformation","fallback_content","poster"],["webm","mp4","ogv"],t={format:"jpg",resource_type:"video"},e.prototype.setSourceTransformation=function(e){return this.transformation().sourceTransformation(e),this},e.prototype.setSourceTypes=function(e){return this.transformation().sourceTypes(e),this},e.prototype.setPoster=function(e){return this.transformation().poster(e),this},e.prototype.setFallbackContent=function(e){return this.transformation().fallbackContent(e),this},e.prototype.content=function(){var e,t,i,r,o,a,s,l,u;return a=this.transformation().getValue("source_types"),o=this.transformation().getValue("source_transformation"),t=this.transformation().getValue("fallback_content"),_.isArray(a)?(e=new n(this.getOptions()),i=function(){var t,n,i;for(i=[],t=0,n=a.length;t<n;t++)l=a[t],u=o[l]||{},s=e.url(""+this.publicId,_.defaults({},u,{resource_type:"video",format:l})),r="video/"+("ogv"===l?"ogg":l),i.push("<source "+this.htmlAttrs({src:s,type:r})+">");return i}.call(this)):i=[],i.join("")+t},e.prototype.attributes=function(){var r,o,a,s,l,u,c,d;for(d=this.getOption("source_types"),l=null!=(u=this.getOption("poster"))?u:{},_.isPlainObject(l)&&(D=null!=l.public_id?n.DEFAULT_IMAGE_PARAMS:t,l=new n(this.getOptions()).url(null!=(c=l.public_id)?c:this.publicId,_.defaults({},l,D))),a=0,s=(o=e.__super__.attributes.call(this)||[]).length;a<s;a++)r=o[a],_.contains(i)||(o=r);return _.isArray(d)||(o.src=new n(this.getOptions()).url(this.publicId,{resource_type:"video",format:d})),null!=l&&(o.poster=l),o},e}(),l=function(){function e(e){this.options={},null!=e&&(this.options.resourceType=e.resource_type,this.options.type=e.type,this.options.publicId=e.public_id,this.options.format=e.format)}return e.prototype.resourceType=function(e){return this.options.resourceType=e,this},e.prototype.type=function(e){return this.options.type=e,this},e.prototype.publicId=function(e){return this.options.publicId=e,this},e.prototype.getPublicId=function(){var e;return null!=(e=this.options.publicId)?e.replace(/\//g,":"):void 0},e.prototype.getFullPublicId=function(){return null!=this.options.format?this.getPublicId()+"."+this.options.format:this.getPublicId()},e.prototype.format=function(e){return this.options.format=e,this},e.prototype.toString=function(){var e;if(e=[],null==this.options.publicId)throw"Must supply publicId";return"image"!==this.options.resourceType&&e.push(this.options.resourceType),"upload"!==this.options.type&&e.push(this.options.type),e.push(this.getFullPublicId()),_.compact(e).join(":")},e}(),h=function(){function e(t){e.__super__.constructor.call(this,t),this.options.resourceType="text"}var t;return extend(e,l),e.prototype.resourceType=function(){throw"Cannot modify resourceType for text layers"},e.prototype.type=function(){throw"Cannot modify type for text layers"},e.prototype.format=function(){throw"Cannot modify format for text layers"},e.prototype.fontFamily=function(e){return this.options.fontFamily=e,this},e.prototype.fontSize=function(e){return this.options.fontSize=e,this},e.prototype.fontWeight=function(e){return this.options.fontWeight=e,this},e.prototype.fontStyle=function(e){return this.options.fontStyle=e,this},e.prototype.textDecoration=function(e){return this.options.textDecoration=e,this},e.prototype.textAlign=function(e){return this.options.textAlign=e,this},e.prototype.stroke=function(e){return this.options.stroke=e,this},e.prototype.letterSpacing=function(e){return this.options.letterSpacing=e,this},e.prototype.lineSpacing=function(e){return this.options.lineSpacing=e,this},e.prototype.text=function(e){return this.options.text=e,this},e.prototype.toString=function(){var e,n,i;if(null!=this.options.publicId)n=this.getFullPublicId();else{if(null==this.options.text)throw"Must supply either text or public_id.";i=encodeURIComponent(this.options.text).replace(/%2C/g,"%E2%80%9A").replace(/\//g,"%E2%81%84")}return e=[this.options.resourceType,t.call(this),n,i],_.compact(e).join(":")},t=function(){var e,t;if(e=[],"normal"!==this.options.fontWeight&&e.push(this.options.fontWeight),"normal"!==this.options.fontStyle&&e.push(this.options.fontStyle),"none"!==this.options.textDecoration&&e.push(this.options.textDecoration),e.push(this.options.textAlign),"none"!==this.options.stroke&&e.push(this.options.stroke),_.isEmpty(this.options.letterSpacing)||e.push("letter_spacing_"+this.options.letterSpacing),null!=this.options.lineSpacing&&e.push("line_spacing_"+this.options.lineSpacing),null!=this.options.fontSize&&(t=""+this.options.fontSize),e.unshift(this.options.fontFamily,t),e=_.compact(e).join("_"),!_.isEmpty(e)){if(_.isEmpty(this.options.fontFamily))throw"Must supply fontFamily.";if(_.isEmpty(t))throw"Must supply fontSize."}return e},e}(),f=function(){function e(t){e.__super__.constructor.call(this,t),this.options.resourceType="subtitles"}return extend(e,h),e}(),n=function(){function e(e){var t;this.devicePixelRatioCache={},this.responsiveConfig={},this.responsiveResizeInitialized=!1,t=new o(e),this.config=function(e,n){return t.config(e,n)},this.fromDocument=function(){return t.fromDocument(),this},this.fromEnvironment=function(){return t.fromEnvironment(),this},this.init=function(){return t.init(),this}}var t,n,i,r,a,l,u,c,d,p,f,h;return"2.0.8","d3jpl91pxevbkh.cloudfront.net",i="cloudinary-a.akamaihd.net",r="res.cloudinary.com",t={format:"jpg",resource_type:"video"},n=["webm","mp4","ogv"],e.DEFAULT_IMAGE_PARAMS={resource_type:"image",transformation:[],type:"upload"},e.DEFAULT_VIDEO_PARAMS={fallback_content:"",resource_type:"video",source_transformation:{},source_types:n,transformation:[],type:"upload"},e["new"]=function(e){return new this(e)},f=function(e,t,n,i,r){var o;if(_.isPlainObject(e)&&(e=(o=e).resource_type,t=o.type,n=o.url_suffix,i=o.use_root_path,r=o.shorten),null==t&&(t="upload"),null!=n)if("image"===e&&"upload"===t)e="images",t=null;else{if("raw"!==e||"upload"!==t)throw new Error("URL Suffix only supported for image/upload and raw/upload");e="files",t=null}if(i){if(("image"!==e||"upload"!==t)&&"images"!==e)throw new Error("Root path only supported for image/upload");e=null,t=null}return r&&"image"===e&&"upload"===t&&(e="iu",t=null),[e,t].join("/")},a=function(e){var t;return e.match(/^https?:\//)||(t=document.location.protocol+"//"+document.location.host,"?"===e[0]?t+=document.location.pathname:"/"!==e[0]&&(t+=document.location.pathname.replace(/\/[^\/]*$/,"/")),e=t+e),e},e.prototype.url=function(t,n){var i,r,o,s,l,u;if(null==n&&(n={}),!t)return t;if(n instanceof g&&(n=n.toOptions()),"fetch"===(n=_.defaults({},n,this.config(),e.DEFAULT_IMAGE_PARAMS)).type&&(n.fetch_format=n.fetch_format||n.format,t=a(t)),s=new g(n).serialize(),
!n.cloud_name)throw"Unknown cloud_name";if(n.url_suffix&&!n.private_cdn)throw"URL Suffix only supported in private CDN";if(t.search("/")>=0&&!t.match(/^v[0-9]+/)&&!t.match(/^https?:\//)&&!(null!=(r=n.version)?r.toString():void 0)&&(n.version=1),t.match(/^https?:/))"upload"===n.type||"asset"===n.type?l=t:t=encodeURIComponent(t).replace(/%3A/g,":").replace(/%2F/g,"/");else{if(t=encodeURIComponent(decodeURIComponent(t)).replace(/%3A/g,":").replace(/%2F/g,"/"),n.url_suffix){if(n.url_suffix.match(/[\.\/]/))throw"url_suffix should not include . or /";t=t+"/"+n.url_suffix}n.format&&(n.trust_public_id||(t=t.replace(/\.(jpg|png|gif|webp)$/,"")),t=t+"."+n.format)}return i=d(t,n),o=f(n.resource_type,n.type,n.url_suffix,n.use_root_path,n.shorten),u=n.version?"v"+n.version:"",l||_.compact([i,o,s,u,t]).join("/").replace(/([^:])\/+/g,"$1/")},e.prototype.video_url=function(e,t){return t=_.assign({resource_type:"video"},t),this.url(e,t)},e.prototype.video_thumbnail_url=function(e,n){return n=_.assign({},t,n),this.url(e,n)},e.prototype.transformation_string=function(e){return new g(e).serialize()},e.prototype.image=function(e,t){var n;return null==t&&(t={}),n=this.imageTag(e,t),null==t.src&&n.setAttr("src",""),n=n.toDOM(),_.setData(n,"src-cache",this.url(e,t)),this.cloudinary_update(n,t),n},e.prototype.imageTag=function(e,t){var n;return(n=new s(e,this.config())).transformation().fromOptions(t),n},e.prototype.video_thumbnail=function(e,n){return this.image(e,_.merge({},t,n))},e.prototype.facebook_profile_image=function(e,t){return this.image(e,_.assign({type:"facebook"},t))},e.prototype.twitter_profile_image=function(e,t){return this.image(e,_.assign({type:"twitter"},t))},e.prototype.twitter_name_profile_image=function(e,t){return this.image(e,_.assign({type:"twitter_name"},t))},e.prototype.gravatar_image=function(e,t){return this.image(e,_.assign({type:"gravatar"},t))},e.prototype.fetch_image=function(e,t){return this.image(e,_.assign({type:"fetch"},t))},e.prototype.video=function(e,t){return null==t&&(t={}),this.videoTag(e,t).toHtml()},e.prototype.videoTag=function(e,t){return t=_.defaults({},t,this.config()),new y(e,t)},e.prototype.sprite_css=function(e,t){return t=_.assign({type:"sprite"},t),e.match(/.css$/)||(t.format="css"),this.url(e,t)},e.prototype.responsive=function(e,t){var n,i,r,o,a,s;if(null==t&&(t=!0),this.responsiveConfig=_.merge(this.responsiveConfig||{},e),o=null!=(n=this.responsiveConfig.responsive_class)?n:this.config("responsive_class"),t&&this.cloudinary_update("img."+o+", img.cld-hidpi",this.responsiveConfig),(null==(i=null!=(r=this.responsiveConfig.responsive_resize)?r:this.config("responsive_resize"))||i)&&!this.responsiveResizeInitialized)return this.responsiveConfig.resizing=this.responsiveResizeInitialized=!0,a=null,window.addEventListener("resize",(s=this,function(){var e,t,n,i,r,l;return e=null!=(t=null!=(n=s.responsiveConfig.responsive_debounce)?n:s.config("responsive_debounce"))?t:100,i=function(){if(a)return clearTimeout(a),a=null},r=function(){return s.cloudinary_update("img."+o,s.responsiveConfig)},l=function(){return i(),r()},e?(i(),a=setTimeout(l,e)):r()}))},e.prototype.calc_breakpoint=function(e,t){var n,i;return n=_.getData(e,"breakpoints")||_.getData(e,"stoppoints")||this.config("breakpoints")||this.config("stoppoints")||p,_.isFunction(n)?n(t):(_.isString(n)&&(n=function(){var e,t,r,o;for(o=[],e=0,t=(r=n.split(",")).length;e<t;e++)i=r[e],o.push(parseInt(i));return o}().sort(function(e,t){return e-t})),c(n,t))},e.prototype.calc_stoppoint=e.prototype.calc_breakpoint,e.prototype.device_pixel_ratio=function(e){var t,n;return null==e&&(e=!0),t=("undefined"!=typeof window&&null!==window?window.devicePixelRatio:void 0)||1,e&&(t=Math.ceil(t)),(t<=0||t===NaN)&&(t=1),(n=t.toString()).match(/^\d+$/)&&(n+=".0"),n},p=function(e){return 100*Math.ceil(e/100)},c=function(e,t){var n;for(n=e.length-2;n>=0&&e[n]>=t;)n--;return e[n+1]},u=function(e){return E(e)%5+1},d=function(e,t){var n,o,a,s,l,c;return 0===(null!=(l=t.cloud_name)?l.indexOf("/"):void 0)?"/res"+t.cloud_name:(s="http://",n="",c="res",o=".cloudinary.com",a="/"+t.cloud_name,t.protocol&&(s=t.protocol+"//"),t.private_cdn&&(n=t.cloud_name+"-",a=""),t.cdn_subdomain&&(c="res-"+u(e)),t.secure?(s="https://",!1===t.secure_cdn_subdomain&&(c="res"),null!=t.secure_distribution&&t.secure_distribution!==i&&t.secure_distribution!==r&&(n="",c="",o=t.secure_distribution)):t.cname&&(s="http://",n="",c=t.cdn_subdomain?"a"+(E(e)%5+1)+".":"",o=t.cname),[s,n,c,o,a].join(""))},e.prototype.processImageTags=function(e,t){var n,i,r,o,a;return null==t&&(t={}),t=_.defaults({},t,this.config()),n=function(){var n,s,l,u;for(u=[],n=0,s=e.length;n<s;n++)"IMG"===(null!=(l=(r=e[n]).tagName)?l.toUpperCase():void 0)&&(i=_.assign({width:r.getAttribute("width"),height:r.getAttribute("height"),src:r.getAttribute("src")},t),o=i.source||i.src,delete i.source,delete i.src,a=this.url(o,i),i=new g(i).toHtmlAttributes(),_.setData(r,"src-cache",a),r.setAttribute("width",i.width),u.push(r.setAttribute("height",i.height)));return u}.call(this),this.cloudinary_update(n,t),this},l=function(e,t,n){var i,r,o,a;return!(a=null!=(i=null!=(r=null!=(o=n.responsive_use_breakpoints)?o:n.responsive_use_stoppoints)?r:this.config("responsive_use_breakpoints"))?i:this.config("responsive_use_stoppoints"))||"resize"===a&&!n.resizing?t:this.calc_breakpoint(e,t)},h=function(e){var t,n;for(t=0;(e=null!=e?e.parentNode:void 0)instanceof Element&&!t;)n=window.getComputedStyle(e),/^inline/.test(n.display)||(t=_.width(e));return t},e.prototype.cloudinary_update=function(e,t){var n,i,r,o,a,s,u,c,d,p,f,g,m,v;for(null==t&&(t={}),e=function(){switch(!1){case!_.isArray(e):case"NodeList"!==e.constructor.name:return e;case!_.isString(e):return document.querySelectorAll(e);default:return[e]}}(),p=null!=(a=null!=(s=this.responsiveConfig.responsive_class)?s:t.responsive_class)?a:this.config("responsive_class"),f=null!=(u=t.round_dpr)?u:this.config("round_dpr"),r=0,o=e.length;r<o;r++)(null!=(c=(v=e[r]).tagName)?c.match(/img/i):void 0)&&(g=!0,t.responsive&&_.addClass(v,p),m=_.getData(v,"src-cache")||_.getData(v,"src"),_.isEmpty(m)||(m=m.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+this.device_pixel_ratio(f)),_.hasClass(v,p)&&/\bw_auto\b/.exec(m)&&(0!==(n=h(v))?((d=l.call(this,v,n,t))>(i=_.getData(v,"width")||0)&&(i=d,_.setData(v,"width",d)),m=m.replace(/\bw_auto\b/g,"w_"+i),_.removeAttribute(v,"width"),t.responsive_preserve_height||_.removeAttribute(v,"height")):g=!1),g&&_.setAttribute(v,"src",m)));return this},e.prototype.transformation=function(e){return g["new"](this.config()).fromOptions(e).setParent(this)},e}(),i=function(){function t(e){t.__super__.constructor.call(this,e)}return extend(t,n),t.prototype.image=function(t,n){var i,r,o;return null==n&&(n={}),r=_.merge({src:""},n),i=this.imageTag(t,r).toHtml(),o=this.url(t,n),e(i).data("src-cache",o).cloudinary_update(n)},t.prototype.responsive=function(t){var n,i,r,o,a,s,l,u;if(a=e.extend(a||{},t),o=null!=(n=this.responsiveConfig.responsive_class)?n:this.config("responsive_class"),e("img."+o+", img.cld-hidpi").cloudinary_update(a),(null==(i=null!=(r=a.responsive_resize)?r:this.config("responsive_resize"))||i)&&!s)return a.resizing=s=!0,l=null,e(window).on("resize",(u=this,function(){var t,n,i,r,s;return t=null!=(n=null!=(i=a.responsive_debounce)?i:u.config("responsive_debounce"))?n:100,r=function(){if(l)return clearTimeout(l),l=null},s=function(){return e("img."+o).cloudinary_update(a)},t?(r(),setTimeout(function(){return r(),s()},t)):s()}))},t}(),e.fn.cloudinary=function(t){return this.filter("img").each(function(){var n,i,r;return i=(n=e.extend({width:e(this).attr("width"),height:e(this).attr("height"),src:e(this).attr("src")},e(this).data(),t)).source||n.src,delete n.source,delete n.src,r=e.cloudinary.url(i,n),n=new g(n).toHtmlAttributes(),e(this).data("src-cache",r).attr({width:n.width,height:n.height})}).cloudinary_update(t),this},e.fn.cloudinary_update=function(t){return null==t&&(t={}),e.cloudinary.cloudinary_update(this.filter("img").toArray(),t),this},J=null,e.fn.webpify=function(t,n){var i,r;return null==t&&(t={}),i=this,n=null!=n?n:t,J||(J=e.Deferred(),(r=new Image).onerror=J.reject,r.onload=J.resolve,r.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"),e(function(){return J.done(function(){return e(i).cloudinary(e.extend({},n,{format:"webp"}))}).fail(function(){return e(i).cloudinary(t)})}),this},e.fn.fetchify=function(t){return this.cloudinary(e.extend(t,{type:"fetch"}))},e.cloudinary=new i,e.cloudinary.fromDocument(),i.prototype.delete_by_token=function(t,n){var i,r;return(r=(n=n||{}).url)||(r="https://api.cloudinary.com/v1_1/"+(n.cloud_name||e.cloudinary.config().cloud_name)+"/delete_by_token"),i=e.support.xhrFileUpload?"json":"iframe json",e.ajax({url:r,method:"POST",data:{token:t},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:i})},i.prototype.unsigned_upload_tag=function(t,n,i){return e("<input/>").attr({type:"file",name:"file"}).unsigned_cloudinary_upload(t,n,i)},e.fn.cloudinary_fileupload=function(t){var n,i;return _.isFunction(e.fn.fileupload)?((n=!this.data("blueimpFileupload"))&&(t=e.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},t)),this.fileupload(t),n&&(this.bind("fileuploaddone",function(t,n){var i,r,o;if(!n.result.error)return n.result.path=["v",n.result.version,"/",n.result.public_id,n.result.format?"."+n.result.format:""].join(""),n.cloudinaryField&&n.form.length>0&&(o=[n.result.resource_type,n.result.type,n.result.path].join("/")+"#"+n.result.signature,i=function(){return e("<input/>").attr({type:"hidden",name:n.cloudinaryField}).val(o).appendTo(n.form)},e(t.target).prop("multiple")?i():(r=e(n.form).find('input[name="'+n.cloudinaryField+'"]')).length>0?r.val(o):i()),e(t.target).trigger("cloudinarydone",n)}),this.bind("fileuploadsend",function(e,t){return t.headers=$.extend({},t.headers,{"X-Unique-Upload-Id":(1e10*Math.random()).toString(16)}),!0}),this.bind("fileuploadstart",function(t){return e(t.target).trigger("cloudinarystart")}),this.bind("fileuploadstop",function(t){return e(t.target).trigger("cloudinarystop")}),this.bind("fileuploadprogress",function(t,n){return e(t.target).trigger("cloudinaryprogress",n)}),this.bind("fileuploadprogressall",function(t,n){return e(t.target).trigger("cloudinaryprogressall",n)}),this.bind("fileuploadfail",function(t,n){return e(t.target).trigger("cloudinaryfail",n)}),this.bind("fileuploadalways",function(t,n){return e(t.target).trigger("cloudinaryalways",n)}),this.fileupload("option").url||(i="https://api.cloudinary.com/v1_1/"+(t.cloud_name||e.cloudinary.config().cloud_name)+"/"+(t.resource_type||"auto")+"/"+(t.type||"upload"),this.fileupload("option","url",i))),this):this},e.fn.cloudinary_upload_url=function(t){return _.isFunction(e.fn.fileupload)?(this.fileupload("option","formData").file=t,this.fileupload("add",{files:[t]}),delete this.fileupload("option","formData").file,this):this},e.fn.unsigned_cloudinary_upload=function(t,n,i){var r,o,a,s,l,u;for(null==n&&(n={}),null==i&&(i={}),n=_.cloneDeep(n),i=_.cloneDeep(i),o=["cloud_name","resource_type","type"],s=0;s<o.length;)n[r=o[s]]&&(i[r]=n[r],delete n[r]),s++;for(l in n)u=n[l],_.isPlainObject(u)?n[l]=e.map(u,function(e,t){return t+"="+e}).join("|"):_.isArray(u)&&(u.length>0&&e.isArray(u[0])?n[l]=e.map(u,function(e){return e.join(",")}).join("|"):n[l]=u.join(","));return n.callback||(n.callback="/cloudinary_cors.html"),n.upload_preset=t,i.formData=n,i.cloudinary_field&&(i.cloudinaryField=i.cloudinary_field,delete i.cloudinary_field),(a=i.html||{})["class"]=_.trim("cloudinary_fileupload "+(a["class"]||"")),i.multiple&&(a.multiple=!0),this.attr(a).cloudinary_fileupload(i),this},e.cloudinary=new i,S={utf8_encode:V,crc32:E,Util:_,Condition:r,Transformation:g,Configuration:o,HtmlTag:a,ImageTag:s,VideoTag:y,Layer:l,TextLayer:h,SubtitlesLayer:f,Cloudinary:n,VERSION:"2.0.8",CloudinaryJQuery:i}}),function(e){e.clResponsive=e.clResponsive||{};var t=new cloudinary.Cloudinary;$.extend(e.clResponsive,{loadResponsiveImages:function(){try{t.responsive()}catch(n){e.logger&&e.logger.warn("Failed initializing responsive images client")}}})}(window.OpinionStage=window.OpinionStage||{}),function(e){function t(e){return e.match(l)}function n(e){return e.match(u)}function i(){$("#lead-form").find(".formError").remove()}function r(e,t){var n=$(e).parents(".f-row");n.find(".formError").remove(),void 0!==t&&""!==t&&($.isArray(t)&&(t=t[0]),n.append("<div class='formError'>"+t+"</div>"))}function o(){var e=!0;return $("#lead-form").find(".form-field input").each(function(i,o){var a=$(o);"email"===a.attr("type")&&a.data("required")?t(a.val())||(r(a,a.data("error")),e=!1):"tel"===a.attr("type")&&a.data("required")&&(n(a.val())||(r(a,a.data("error")),e=!1)),a.data("required")&&("checkbox"!==a.attr("type")||a.is(":checked")?0==a.val().length&&(r(a,a.data("error")),e=!1):(r(a,a.data("error")),e=!1))}),$("#lead-form").find(".form-field textarea").each(function(t,n){var i=$(n);i.data("required")&&0==i.val().length&&(r(i,i.data("error")),e=!1)}),e||$("#lead-form .general-error-message").append("<div class='formError'>"+$("#lead-form").data("error-message")+"</div>"),e}function a(){var e={formatted:{}};return $("#lead-form .form-field").find("input,textarea,select").not(".predefined").each(function(t,n){var i=$(n),r=i.attr("id"),o=i.val();"checkbox"===i.attr("type")&&(o=i.is(":checked")?"1":"0"),e[r]=o,e.formatted[r]={label:i.parents(".form-field").find("label").html(),value:o}}),e}function s(t){$("#lead-form .success-message").append("<div class='formSuccess'>"+$("#lead-form").data("success-message")+"</div>"),$("#lead-form").data("submitted",!0),e.observer.publish(e.events.leadFormSubmitted,{email:t})}e.leadForm=e.leadForm||{};var l=/^([\w\.%\+\-]+)@([\w\-]+\.)+([\w]{2,})$/i,u=/^\+?(\d| |-|\(|\))+/i;$.extend(e.leadForm,{formAlreadySubmitted:function(){return $("#lead-form").data("submitted")},setSelectionsString:function(e){$("#lead-form").find("#selections").val(e)},setResult:function(e){$("#lead-form").find("#result_id").val(e)},setStartedFinished:function(e,t){$("#lead-form").find("#started").val(e),$("#lead-form").find("#finished").val(t)},init:function(){var t=$("#lead-form form#js-lead-form"),n=!1;t.on("click",".submit-button",function(e){e.preventDefault(),t.submit()}),t.on("submit",function(r){if(r.preventDefault(),n||e.leadForm.formAlreadySubmitted())return!1;if((n=!0,i(),t.data("include-selections"))&&0==t.find("#selections").val().length)return n=!1,e.logger.warn("Lead form submitted without selections"),!1;if(!o())return n=!1,!1;var l=t.find(".email input.predefined").val();return""==l?(s(l),n=!1,!1):($.ajax({url:t.attr("action"),type:t.attr("method"),data:{client_id:t.find("#client_id").val(),lead_form_id:t.find("#lead_form_id").val(),widget_id:t.find("#widget_id").val(),debate_id:t.find("#debate_id").val(),selections:t.find("#selections").val(),result_id:t.find("#result_id").val(),started:t.find("#started").val(),finished:t.find("#finished").val(),email:l,approved:t.find(".approval input.predefined").is(":checked"),phone_number:t.find(".phone_number input.predefined").val(),more_details:a(),os_utm_source:get_query_string_parameter(document.URL,"os_utm_source")},dataType:"html",success:function(){s(l)},error:function(){alert("Failed submitting form, please reload page and try again")},complete:function(){n=!1}}),!1)}),$("#lead-form").on("change","input",function(){""==$(this).val()?$(this).parent(".f-row").removeClass("with-content"):$(this).parent(".f-row").addClass("with-content")})}})}(window.OpinionStage=window.OpinionStage||{}),function(e){function t(){$("#fb-page-likes").data("displayed",!0),e.observer.publish(e.events.fbPageLikesShouldClose)}function n(){t()}e.fbPageLikes=e.fbPageLikes||{},$.extend(e.fbPageLikes,{alreadyDisplayed:function(){return $("#fb-page-likes").data("displayed")},init:function(){OpinionStage.observer.subscribe(OpinionStage.events.fbLikeClicked,n),$("#fb-page-likes").on("click",".continue-to-results",function(){return t(),!1})}})}(window.OpinionStage=window.OpinionStage||{}),function(e){function t(e){i.msg_type=e,n(),i={}}function n(){Object.keys(i).length>0&&$.ajax({url:"/api/v1/debate_interactions",type:"POST",data:{debate_id:e.pollData.id,engagement_id:r,interactions:i},dataType:"json",success:function(e){r=e.engagement_id},error:function(){e.logger.error("Failed submitting interactions")}})}e.interactions=e.interactions||{};var i={},r=null,o=null,a=null;$.extend(e.interactions,{init:function(){e.observer.subscribe(e.events.widgetLoaded,t)},started:function(){return o},finished:function(){return a},engagement_id:function(){return r}})}(window.OpinionStage=window.OpinionStage||{}),
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0+f046478d
 */
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}function n(e){W=e}function i(e){V=e}function r(){return function(){return process.nextTick(u)}}function o(){return void 0!==U?function(){U(u)}:l()}function a(){var e=0,t=new G(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function s(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}function l(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<q;e+=2){(0,K[e])(K[e+1]),K[e]=undefined,K[e+1]=undefined}q=0}function c(){try{var e=require("vertx");return U=e.runOnLoop||e.runOnContext,o()}catch(t){return l()}}function d(e,t){var n=arguments,i=this,r=new this.constructor(f);r[ee]===undefined&&j(r);var o,a=i._state;return a?(o=n[a-1],V(function(){return D(a,r,o,i._result)})):k(i,r,e,t),r}function p(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return w(n,e),n}function f(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function g(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(t){return re.error=t,re}}function v(e,t,n,i){try{e.call(t,n,i)}catch(r){return r}}function _(e,t,n){V(function(e){var i=!1,r=v(n,t,function(n){i||(i=!0,t!==n?w(e,n):C(e,n))},function(t){i||(i=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,S(e,r))},e)}function y(e,t){t._state===ne?C(e,t._result):t._state===ie?S(e,t._result):k(t,undefined,function(t){return w(e,t)},function(t){return S(e,t)})}function b(e,n,i){n.constructor===e.constructor&&i===d&&n.constructor.resolve===p?y(e,n):i===re?(S(e,re.error),re.error=null):i===undefined?C(e,n):t(i)?_(e,n,i):C(e,n)}function w(t,n){t===n?S(t,h()):e(n)?b(t,n,m(n)):C(t,n)}function x(e){e._onerror&&e._onerror(e._result),A(e)}function C(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&V(A,e))}function S(e,t){e._state===te&&(e._state=ie,e._result=t,V(x,e))}function k(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+ne]=n,r[o+ie]=i,0===o&&e._state&&V(A,e)}function A(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=undefined,r=undefined,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?D(n,i,r,o):r(o);e._subscribers.length=0}}function E(){this.error=null}function $(e,t){try{return e(t)}catch(n){return oe.error=n,oe}}function D(e,n,i,r){var o=t(i),a=undefined,s=undefined,l=undefined,u=undefined;if(o){if((a=$(i,r))===oe?(u=!0,s=a.error,a.error=null):l=!0,n===a)return void S(n,g())}else a=r,l=!0;n._state!==te||(o&&l?w(n,a):u?S(n,s):e===ne?C(n,a):e===ie&&S(n,a))}function O(e,t){try{t(function(t){w(e,t)},function(t){S(e,t)})}catch(n){S(e,n)}}function T(){return ae++}function j(e){e[ee]=ae++,e._state=undefined,e._result=undefined,e._subscribers=[]}function F(e,t){this._instanceConstructor=e,this.promise=new e(f),this.promise[ee]||j(this.promise),z(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&C(this.promise,this._result))):S(this.promise,B())}function B(){return new Error("Array Methods must be provided an Array")}function N(e){return new F(this,e).promise}function L(e){var t=this;return z(e)?new t(function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})}function M(e){var t=new this(f);return S(t,e),t}function I(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(e){this[ee]=T(),this._result=this._state=undefined,this._subscribers=[],f!==e&&("function"!=typeof e&&I(),this instanceof H?O(this,e):P())}function R(){var e=undefined;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(i){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(i){}if("[object Promise]"===n&&!t.cast)return}e.Promise=H}undefined;var z=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},q=0,U=undefined,W=undefined,V=function(e,t){K[q]=e,K[q+1]=t,2===(q+=2)&&(W?W(u):Z())},J="undefined"!=typeof window?window:undefined,X=J||{},G=X.MutationObserver||X.WebKitMutationObserver,Q="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,K=new Array(1e3),Z=undefined;Z=Q?r():G?a():Y?s():J===undefined&&"function"==typeof require?c():l();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,ie=2,re=new E,oe=new E,ae=0;return F.prototype._enumerate=function(e){for(var t=0;this._state===te&&t<e.length;t++)this._eachEntry(e[t],t)},F.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===p){var r=m(e);if(r===d&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===H){var o=new n(f);b(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},F.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===te&&(this._remaining--,e===ie?S(i,n):this._result[t]=n),0===this._remaining&&C(i,this._result)},F.prototype._willSettleAt=function(e,t){var n=this;k(e,undefined,function(e){return n._settledAt(ne,t,e)},function(e){return n._settledAt(ie,t,e)})},H.all=N,H.race=L,H.resolve=p,H.reject=M,H._setScheduler=n,H._setAsap=i,H._asap=V,H.prototype={constructor:H,then:d,"catch":function(e){return this.then(null,e)}},H.polyfill=R,H.Promise=H,H.polyfill(),H}),function(e){e.utils=e.utils||{},e.utils.openPopup=function(e,t){return new Promise(function(n){var i=window.open(e,t),r=!1,o=function(e){r||(clearInterval(e),r=!0,n())},a=setInterval(function(){i.closed&&o(a)},100);setTimeout(function(){o(a)},3e3)})}}(window.OpinionStage=window.OpinionStage||{}),function(e){function t(){var t="_os_iframe_cookie_test",n="ok";return e.cookies.setCookie(t,n,5e3),e.cookies.getCookie(t)===n}e.utils=e.utils||{},e.utils.checkCookiesSetability=function(){return new Promise(function(n,i){t()?(e.logger.debug("cookies are write-able"),n()):(e.logger.warn("cookies writing blocked"),e.utils.openPopup("/widgets/api/fix_cookies","OpinionStage cookie fix popup").then(n)["catch"](i))})}}(window.OpinionStage=window.OpinionStage||{});var update_in_progress=!1,modal_ad_timer=null,is_mobile=!1;$(function(){commonDocumentReadyImplementation()});var WIDTH_BUFFER=2,lastWidth=null,lastHeight=null,TINY_WIDTH=150,SMALL_WIDTH=270,MEDIUM_WIDTH=400,LARGE_WIDTH=650,startedAdjusting=!1,shouldAdjustSharingBar=!0,shouldAdjustInlineAd=!1,shouldAdjustModalAd=!1,ensureInterval;$(document).ajaxSend(function(e,t){t.setRequestHeader("X-Layout","multi"),t.setRequestHeader("Access-Control-Allow-Origin","*"),t.setRequestHeader("withCredentials","true")}),update_results_visibility=function(e){update_results_visibility_common(e),e&&$(".side-fill").each(function(e,t){var n=$(t)[0],i=n.cloneNode(!0);n.parentNode.replaceChild(i,n)})},update_dynamic_elements=function(){update_dynamic_elements_common(),Opst.options.points_scaling&&fix_points_sum(),update_voting_button_state(),OpinionStage.widget.loadVotes().then(function(e){OpinionStage.UI.updateVotesCountLabel(e.count)})},update_vote_dependant_elements=function(){update_vote_dependant_elements_common(),has_user_voted()&&(disable_mc_checking(),is_trivia_poll()&&mark_trivia_results())},adjust_sides=function(){if($("#os-wrapper.debate").width()<350?$("#os-wrapper .results-filter-wrapper, .os-side .avatars-wrapper").hide():$("#os-wrapper .results-filter-wrapper, .os-side .avatars-wrapper").show(),$(".os-side").hasClass("layout-image-poll")){$(".os-side .label-wrapper .normal-label").css("line-height","");var e=parseInt($(".os-side .label-wrapper").css("line-height"));$(".os-side .label-wrapper").each(function(t,n){var i=$(n).find(".normal-label label").height();i>e&&e>0&&$(n).find(".normal-label").css("line-height",e/Math.ceil(i/e)+"px")})}else $(".os-side").height(""),$("#os-wrapper .sides-wrapper").height(""),$(".os-side label").each(function(e,t){var n=$(t).height()-$(t).parents(".os-side").height();if(n>0){var i=$(t).parents(".os-side").height();$(t).parents(".os-side").height(i+n+4)}})},pollDocumentReadyImplementation=function(){initial_rendering(),OpinionStage.circulate.init(),$("#os-wrapper.debate").on("click",".side-wrapper",function(){if(has_user_voted())return!1;if($(this).parents(".side-votes").hasClass("just-looking"))return!1;var e=$(this).parents(".os-side");return!$(e).hasClass("disabled")&&(handle_side_clicked(e),!1)}),$("#os-wrapper.debate").on("click touchend",".voting-button",function(){return $(".voting-button").hasClass("disabled")||handle_vote_button_clicked(),!1}),$("#os-wrapper.debate").on("mouseenter",".side-votes.show-results .side-wrapper",function(){if($(".side-stats-wrapper .hover-label").length>0){var e=$(this).find(".side-stats-wrapper .percentage");e.hide(),e.removeClass("animate"),$(this).bind("mouseleave",function(){e.show()})}return!1}),$("#os-wrapper.debate").on("click",".os-side.other input",function(){var e=$(this).parents(".os-side");return!$(e).hasClass("disabled")&&(handle_side_clicked(e),!1)})},function(e,t){var n=function(){};t.extend(n.prototype,{loadVotes:function(){return new Promise(function(e){t.getJSON("/widgets/api/polls/"+get_debate_id()+"/votes",e)})}}),e.widget=new n}(window.OpinionStage=window.OpinionStage||{},OpinionStage.$||window.jQuery),function(e,t){var n=function(){};t.extend(n.prototype,{updateVotesCountLabel:function(e){if($voteCount=t("[data-vote-count]"),!($voteCount.length>0))throw new Error("vote count label does not exist");$voteCount.text(e.toLocaleString())}}),e.UI=new n}(window.OpinionStage=window.OpinionStage||{},OpinionStage.$||window.jQuery);
//# sourceMappingURL=/assets/maps/poll_multi_choice-c23e4007d48455d071ad660788275e21.map
